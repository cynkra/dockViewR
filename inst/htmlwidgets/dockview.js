/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!./node_modules/dockview-core/dist/styles/dockview.css":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!./node_modules/dockview-core/dist/styles/dockview.css ***!
  \*******************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.dv-scrollable {
  position: relative;
  overflow: hidden;
}
.dv-scrollable .dv-scrollbar-horizontal {
  position: absolute;
  bottom: 0px;
  left: 0px;
  height: 4px;
  border-radius: 2px;
  background-color: transparent;
  /* GPU optimizations */
  will-change: background-color, transform;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  transition-property: background-color;
  transition-timing-function: ease-in-out;
  transition-duration: 1s;
  transition-delay: 0s;
}
.dv-scrollable:hover .dv-scrollbar-horizontal, .dv-scrollable.dv-scrollable-resizing .dv-scrollbar-horizontal, .dv-scrollable.dv-scrollable-scrolling .dv-scrollbar-horizontal {
  background-color: var(--dv-scrollbar-background-color, rgba(255, 255, 255, 0.25));
}
.dv-svg {
  display: inline-block;
  fill: currentcolor;
  line-height: 1;
  stroke: currentcolor;
  stroke-width: 0;
}
.dockview-theme-dark {
  --dv-paneview-active-outline-color: dodgerblue;
  --dv-tabs-and-actions-container-font-size: 13px;
  --dv-tabs-and-actions-container-height: 35px;
  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);
  --dv-drag-over-border-color: transparent;
  --dv-tabs-container-scrollbar-color: #888;
  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);
  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);
  --dv-overlay-z-index: 999;
  --dv-tab-font-size: inherit;
  --dv-border-radius: 0px;
  --dv-tab-margin: 0;
  --dv-sash-color: transparent;
  --dv-active-sash-color: transparent;
  --dv-active-sash-transition-duration: 0.1s;
  --dv-active-sash-transition-delay: 0.5s;
  --dv-group-view-background-color: #1e1e1e;
  --dv-tabs-and-actions-container-background-color: #252526;
  --dv-activegroup-visiblepanel-tab-background-color: #1e1e1e;
  --dv-activegroup-hiddenpanel-tab-background-color: #2d2d2d;
  --dv-inactivegroup-visiblepanel-tab-background-color: #1e1e1e;
  --dv-inactivegroup-hiddenpanel-tab-background-color: #2d2d2d;
  --dv-tab-divider-color: #1e1e1e;
  --dv-activegroup-visiblepanel-tab-color: white;
  --dv-activegroup-hiddenpanel-tab-color: #969696;
  --dv-inactivegroup-visiblepanel-tab-color: #8f8f8f;
  --dv-inactivegroup-hiddenpanel-tab-color: #626262;
  --dv-separator-border: rgb(68, 68, 68);
  --dv-paneview-header-border-color: rgba(204, 204, 204, 0.2);
}
.dockview-theme-dark .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {
  opacity: 0;
  transition: none;
}

.dockview-theme-light {
  --dv-paneview-active-outline-color: dodgerblue;
  --dv-tabs-and-actions-container-font-size: 13px;
  --dv-tabs-and-actions-container-height: 35px;
  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);
  --dv-drag-over-border-color: transparent;
  --dv-tabs-container-scrollbar-color: #888;
  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);
  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);
  --dv-overlay-z-index: 999;
  --dv-tab-font-size: inherit;
  --dv-border-radius: 0px;
  --dv-tab-margin: 0;
  --dv-sash-color: transparent;
  --dv-active-sash-color: transparent;
  --dv-active-sash-transition-duration: 0.1s;
  --dv-active-sash-transition-delay: 0.5s;
  --dv-group-view-background-color: white;
  --dv-tabs-and-actions-container-background-color: #f3f3f3;
  --dv-activegroup-visiblepanel-tab-background-color: white;
  --dv-activegroup-hiddenpanel-tab-background-color: #ececec;
  --dv-inactivegroup-visiblepanel-tab-background-color: white;
  --dv-inactivegroup-hiddenpanel-tab-background-color: #ececec;
  --dv-tab-divider-color: white;
  --dv-activegroup-visiblepanel-tab-color: rgb(51, 51, 51);
  --dv-activegroup-hiddenpanel-tab-color: rgba(51, 51, 51, 0.7);
  --dv-inactivegroup-visiblepanel-tab-color: rgba(51, 51, 51, 0.7);
  --dv-inactivegroup-hiddenpanel-tab-color: rgba(51, 51, 51, 0.35);
  --dv-separator-border: rgba(128, 128, 128, 0.35);
  --dv-paneview-header-border-color: rgb(51, 51, 51);
  --dv-scrollbar-background-color: rgba(0, 0, 0, 0.25);
}
.dockview-theme-light .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {
  opacity: 0;
  transition: none;
}

.dockview-theme-vs {
  --dv-paneview-active-outline-color: dodgerblue;
  --dv-tabs-and-actions-container-font-size: 13px;
  --dv-tabs-and-actions-container-height: 35px;
  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);
  --dv-drag-over-border-color: transparent;
  --dv-tabs-container-scrollbar-color: #888;
  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);
  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);
  --dv-overlay-z-index: 999;
  --dv-tab-font-size: inherit;
  --dv-border-radius: 0px;
  --dv-tab-margin: 0;
  --dv-sash-color: transparent;
  --dv-active-sash-color: transparent;
  --dv-active-sash-transition-duration: 0.1s;
  --dv-active-sash-transition-delay: 0.5s;
  --dv-group-view-background-color: #1e1e1e;
  --dv-tabs-and-actions-container-background-color: #252526;
  --dv-activegroup-visiblepanel-tab-background-color: #1e1e1e;
  --dv-activegroup-hiddenpanel-tab-background-color: #2d2d2d;
  --dv-inactivegroup-visiblepanel-tab-background-color: #1e1e1e;
  --dv-inactivegroup-hiddenpanel-tab-background-color: #2d2d2d;
  --dv-tab-divider-color: #1e1e1e;
  --dv-activegroup-visiblepanel-tab-color: white;
  --dv-activegroup-hiddenpanel-tab-color: #969696;
  --dv-inactivegroup-visiblepanel-tab-color: #8f8f8f;
  --dv-inactivegroup-hiddenpanel-tab-color: #626262;
  --dv-separator-border: rgb(68, 68, 68);
  --dv-paneview-header-border-color: rgba(204, 204, 204, 0.2);
  --dv-tabs-and-actions-container-background-color: #2d2d30;
  --dv-tabs-and-actions-container-height: 20px;
  --dv-tabs-and-actions-container-font-size: 11px;
  --dv-activegroup-visiblepanel-tab-background-color: #007acc;
  --dv-inactivegroup-visiblepanel-tab-background-color: #3f3f46;
  --dv-activegroup-visiblepanel-tab-color: white;
  --dv-activegroup-hiddenpanel-tab-color: white;
  --dv-inactivegroup-visiblepanel-tab-color: white;
  --dv-inactivegroup-hiddenpanel-tab-color: white;
}
.dockview-theme-vs .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {
  opacity: 0;
  transition: none;
}
.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container {
  box-sizing: content-box;
  border-bottom: 2px solid var(--dv-activegroup-visiblepanel-tab-background-color);
}
.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tab.dv-active-tab {
  border-top: 2px solid var(--dv-activegroup-visiblepanel-tab-background-color);
}
.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tab.dv-inactive-tab {
  border-top: 2px solid var(--dv-activegroup-hiddenpanel-tab-background-color);
}
.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container {
  box-sizing: content-box;
  border-bottom: 2px solid var(--dv-inactivegroup-visiblepanel-tab-background-color);
}
.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tab.dv-active-tab {
  border-top: 2px solid var(--dv-inactivegroup-visiblepanel-tab-background-color);
}
.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tab.dv-inactive-tab {
  border-top: 2px solid var(--dv-inactivegroup-hiddenpanel-tab-background-color);
}

.dockview-theme-abyss {
  --dv-paneview-active-outline-color: dodgerblue;
  --dv-tabs-and-actions-container-font-size: 13px;
  --dv-tabs-and-actions-container-height: 35px;
  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);
  --dv-drag-over-border-color: transparent;
  --dv-tabs-container-scrollbar-color: #888;
  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);
  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);
  --dv-overlay-z-index: 999;
  --dv-tab-font-size: inherit;
  --dv-border-radius: 0px;
  --dv-tab-margin: 0;
  --dv-sash-color: transparent;
  --dv-active-sash-color: transparent;
  --dv-active-sash-transition-duration: 0.1s;
  --dv-active-sash-transition-delay: 0.5s;
  --dv-color-abyss-dark: #000c18;
  --dv-color-abyss: #10192c;
  --dv-color-abyss-light: #1c1c2a;
  --dv-color-abyss-lighter: #2b2b4a;
  --dv-color-abyss-accent: rgb(91, 30, 207);
  --dv-color-abyss-primary-text: white;
  --dv-color-abyss-secondary-text: rgb(148, 151, 169);
  --dv-group-view-background-color: var(--dv-color-abyss-dark);
  --dv-tabs-and-actions-container-background-color: var(
      --dv-color-abyss-light
  );
  --dv-activegroup-visiblepanel-tab-background-color: var(
      --dv-color-abyss-dark
  );
  --dv-activegroup-hiddenpanel-tab-background-color: var(--dv-color-abyss);
  --dv-inactivegroup-visiblepanel-tab-background-color: var(
      --dv-color-abyss-dark
  );
  --dv-inactivegroup-hiddenpanel-tab-background-color: var(--dv-color-abyss);
  --dv-tab-divider-color: var(--dv-color-abyss-lighter);
  --dv-activegroup-visiblepanel-tab-color: white;
  --dv-activegroup-hiddenpanel-tab-color: rgba(255, 255, 255, 0.5);
  --dv-inactivegroup-visiblepanel-tab-color: rgba(255, 255, 255, 0.5);
  --dv-inactivegroup-hiddenpanel-tab-color: rgba(255, 255, 255, 0.25);
  --dv-separator-border: var(--dv-color-abyss-lighter);
  --dv-paneview-header-border-color: var(--dv-color-abyss-lighter);
  --dv-paneview-active-outline-color: #596f99;
}
.dockview-theme-abyss .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {
  opacity: 0;
  transition: none;
}

.dockview-theme-dracula {
  --dv-paneview-active-outline-color: dodgerblue;
  --dv-tabs-and-actions-container-font-size: 13px;
  --dv-tabs-and-actions-container-height: 35px;
  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);
  --dv-drag-over-border-color: transparent;
  --dv-tabs-container-scrollbar-color: #888;
  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);
  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);
  --dv-overlay-z-index: 999;
  --dv-tab-font-size: inherit;
  --dv-border-radius: 0px;
  --dv-tab-margin: 0;
  --dv-sash-color: transparent;
  --dv-active-sash-color: transparent;
  --dv-active-sash-transition-duration: 0.1s;
  --dv-active-sash-transition-delay: 0.5s;
  --dv-group-view-background-color: #282a36;
  --dv-tabs-and-actions-container-background-color: #191a21;
  --dv-activegroup-visiblepanel-tab-background-color: #282a36;
  --dv-activegroup-hiddenpanel-tab-background-color: #21222c;
  --dv-inactivegroup-visiblepanel-tab-background-color: #282a36;
  --dv-inactivegroup-hiddenpanel-tab-background-color: #21222c;
  --dv-tab-divider-color: #191a21;
  --dv-activegroup-visiblepanel-tab-color: rgb(248, 248, 242);
  --dv-activegroup-hiddenpanel-tab-color: rgb(98, 114, 164);
  --dv-inactivegroup-visiblepanel-tab-color: rgba(248, 248, 242, 0.5);
  --dv-inactivegroup-hiddenpanel-tab-color: rgba(98, 114, 164, 0.5);
  --dv-separator-border: #bd93f9;
  --dv-paneview-header-border-color: #bd93f9;
  --dv-paneview-active-outline-color: #6272a4;
}
.dockview-theme-dracula .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {
  opacity: 0;
  transition: none;
}
.dockview-theme-dracula .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {
  position: relative;
}
.dockview-theme-dracula .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab::after {
  position: absolute;
  left: 0px;
  top: 0px;
  content: "";
  width: 100%;
  height: 1px;
  background-color: #94527e;
  z-index: 999;
}
.dockview-theme-dracula .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {
  position: relative;
}
.dockview-theme-dracula .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab::after {
  position: absolute;
  left: 0px;
  bottom: 0px;
  content: "";
  width: 100%;
  height: 1px;
  background-color: #5e3d5a;
  z-index: 999;
}

.dockview-theme-replit {
  --dv-paneview-active-outline-color: dodgerblue;
  --dv-tabs-and-actions-container-font-size: 13px;
  --dv-tabs-and-actions-container-height: 35px;
  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);
  --dv-drag-over-border-color: transparent;
  --dv-tabs-container-scrollbar-color: #888;
  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);
  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);
  --dv-overlay-z-index: 999;
  --dv-tab-font-size: inherit;
  --dv-border-radius: 0px;
  --dv-tab-margin: 0;
  --dv-sash-color: transparent;
  --dv-active-sash-color: transparent;
  --dv-active-sash-transition-duration: 0.1s;
  --dv-active-sash-transition-delay: 0.5s;
  box-sizing: border-box;
  padding: 10px;
  background-color: #ebeced;
  --dv-group-view-background-color: #ebeced;
  --dv-tabs-and-actions-container-background-color: #fcfcfc;
  --dv-activegroup-visiblepanel-tab-background-color: #f0f1f2;
  --dv-activegroup-hiddenpanel-tab-background-color: #fcfcfc;
  --dv-inactivegroup-visiblepanel-tab-background-color: #f0f1f2;
  --dv-inactivegroup-hiddenpanel-tab-background-color: #fcfcfc;
  --dv-tab-divider-color: transparent;
  --dv-activegroup-visiblepanel-tab-color: rgb(51, 51, 51);
  --dv-activegroup-hiddenpanel-tab-color: rgb(51, 51, 51);
  --dv-inactivegroup-visiblepanel-tab-color: rgb(51, 51, 51);
  --dv-inactivegroup-hiddenpanel-tab-color: rgb(51, 51, 51);
  --dv-separator-border: transparent;
  --dv-paneview-header-border-color: rgb(51, 51, 51);
  --dv-sash-color: #cfd1d3;
  --dv-active-sash-color: #babbbb;
}
.dockview-theme-replit .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {
  opacity: 0;
  transition: none;
}
.dockview-theme-replit .dv-resize-container:has(> .dv-groupview) {
  border-radius: 8px;
}
.dockview-theme-replit .dv-resize-container {
  border-radius: 10px !important;
  border: none;
}
.dockview-theme-replit .dv-groupview {
  overflow: hidden;
  border-radius: 10px;
}
.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container {
  border-bottom: 1px solid rgba(128, 128, 128, 0.35);
}
.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab {
  margin: 4px;
  border-radius: 8px;
}
.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab .dv-svg {
  height: 8px;
  width: 8px;
}
.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab:hover {
  background-color: #e4e5e6 !important;
}
.dockview-theme-replit .dv-groupview .dv-content-container {
  background-color: #fcfcfc;
}
.dockview-theme-replit .dv-groupview.dv-active-group {
  border: 1px solid rgba(128, 128, 128, 0.35);
}
.dockview-theme-replit .dv-groupview.dv-inactive-group {
  border: 1px solid transparent;
}
.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash {
  background-color: transparent;
}
.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled)::after {
  content: "";
  height: 4px;
  width: 40px;
  border-radius: 2px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: var(--dv-sash-color);
  position: absolute;
}
.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):hover, .dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):active {
  background-color: transparent;
}
.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):hover::after, .dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):active::after {
  background-color: var(--dv-active-sash-color);
}
.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash {
  background-color: transparent;
}
.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled)::after {
  content: "";
  height: 40px;
  width: 4px;
  border-radius: 2px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: var(--dv-sash-color);
  position: absolute;
}
.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):hover, .dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):active {
  background-color: transparent;
}
.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):hover::after, .dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):active::after {
  background-color: var(--dv-active-sash-color);
}

.dockview-theme-abyss-spaced {
  --dv-paneview-active-outline-color: dodgerblue;
  --dv-tabs-and-actions-container-font-size: 13px;
  --dv-tabs-and-actions-container-height: 35px;
  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);
  --dv-drag-over-border-color: transparent;
  --dv-tabs-container-scrollbar-color: #888;
  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);
  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);
  --dv-overlay-z-index: 999;
  --dv-tab-font-size: inherit;
  --dv-border-radius: 0px;
  --dv-tab-margin: 0;
  --dv-sash-color: transparent;
  --dv-active-sash-color: transparent;
  --dv-active-sash-transition-duration: 0.1s;
  --dv-active-sash-transition-delay: 0.5s;
  --dv-tab-font-size: 12px;
  --dv-border-radius: 20px;
  --dv-tab-margin: 0.5rem 0.25rem;
  --dv-tabs-and-actions-container-height: 44px;
  --dv-border-radius: 20px;
  box-sizing: border-box;
  --dv-color-abyss-dark: rgb(11, 6, 17);
  --dv-color-abyss: #16121f;
  --dv-color-abyss-light: #201d2b;
  --dv-color-abyss-lighter: #2a2837;
  --dv-color-abyss-accent: rgb(91, 30, 207);
  --dv-color-abyss-primary-text: white;
  --dv-color-abyss-secondary-text: rgb(148, 151, 169);
  --dv-drag-over-border: 2px solid var(--dv-color-abyss-accent);
  --dv-drag-over-background-color: "";
  --dv-group-view-background-color: var(--dv-color-abyss-dark);
  --dv-tabs-and-actions-container-background-color: var(--dv-color-abyss);
  --dv-activegroup-visiblepanel-tab-background-color: var(
      --dv-color-abyss-lighter
  );
  --dv-activegroup-hiddenpanel-tab-background-color: var(
      --dv-color-abyss-light
  );
  --dv-inactivegroup-visiblepanel-tab-background-color: var(
      --dv-color-abyss-lighter
  );
  --dv-inactivegroup-hiddenpanel-tab-background-color: var(
      --dv-color-abyss-light
  );
  --dv-tab-divider-color: transparent;
  --dv-activegroup-visiblepanel-tab-color: var(--dv-color-abyss-primary-text);
  --dv-activegroup-hiddenpanel-tab-color: var(
      --dv-color-abyss-secondary-text
  );
  --dv-inactivegroup-visiblepanel-tab-color: var(
      --dv-color-abyss-primary-text
  );
  --dv-inactivegroup-hiddenpanel-tab-color: var(
      --dv-color-abyss-secondary-text
  );
  --dv-separator-border: transparent;
  --dv-paneview-header-border-color: rgb(51, 51, 51);
  --dv-active-sash-color: var(--dv-color-abyss-accent);
  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(0, 0, 0, 0.5);
  padding: 10px;
  background-color: var(--dv-color-abyss-dark);
}
.dockview-theme-abyss-spaced .dv-resize-container:has(> .dv-groupview) {
  border-radius: 8px;
}
.dockview-theme-abyss-spaced .dv-sash {
  border-radius: 4px;
}
.dockview-theme-abyss-spaced .dv-drop-target-anchor {
  border-radius: calc(var(--dv-border-radius) / 4);
}
.dockview-theme-abyss-spaced .dv-drop-target-anchor.dv-drop-target-content {
  border-radius: var(--dv-border-radius);
}
.dockview-theme-abyss-spaced .dv-resize-container {
  border-radius: var(--dv-border-radius) !important;
  border: none;
}
.dockview-theme-abyss-spaced .dv-tabs-overflow-container,
.dockview-theme-abyss-spaced .dv-tabs-overflow-dropdown-default {
  border-radius: 8px;
  height: unset !important;
}
.dockview-theme-abyss-spaced .dv-tab {
  border-radius: 8px;
}
.dockview-theme-abyss-spaced .dv-tab .dv-svg {
  height: 8px;
  width: 8px;
}
.dockview-theme-abyss-spaced .dv-groupview {
  border-radius: var(--dv-border-radius);
}
.dockview-theme-abyss-spaced .dv-groupview .dv-tabs-and-actions-container {
  padding: 0px calc(var(--dv-border-radius) / 2);
}
.dockview-theme-abyss-spaced .dv-groupview .dv-content-container {
  background-color: var(--dv-tabs-and-actions-container-background-color);
}
.dockview-theme-abyss-spaced .dv-resize-container .dv-groupview {
  border: 2px solid var(--dv-color-abyss-dark);
}

.dockview-theme-light-spaced {
  --dv-paneview-active-outline-color: dodgerblue;
  --dv-tabs-and-actions-container-font-size: 13px;
  --dv-tabs-and-actions-container-height: 35px;
  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);
  --dv-drag-over-border-color: transparent;
  --dv-tabs-container-scrollbar-color: #888;
  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);
  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);
  --dv-overlay-z-index: 999;
  --dv-tab-font-size: inherit;
  --dv-border-radius: 0px;
  --dv-tab-margin: 0;
  --dv-sash-color: transparent;
  --dv-active-sash-color: transparent;
  --dv-active-sash-transition-duration: 0.1s;
  --dv-active-sash-transition-delay: 0.5s;
  --dv-tab-font-size: 12px;
  --dv-border-radius: 20px;
  --dv-tab-margin: 0.5rem 0.25rem;
  --dv-tabs-and-actions-container-height: 44px;
  --dv-border-radius: 20px;
  box-sizing: border-box;
  --dv-drag-over-border: 2px solid rgb(91, 30, 207);
  --dv-drag-over-background-color: "";
  --dv-group-view-background-color: #f6f5f9;
  --dv-tabs-and-actions-container-background-color: white;
  --dv-activegroup-visiblepanel-tab-background-color: #ededf0;
  --dv-activegroup-hiddenpanel-tab-background-color: #f9f9fa;
  --dv-inactivegroup-visiblepanel-tab-background-color: #ededf0;
  --dv-inactivegroup-hiddenpanel-tab-background-color: #f9f9fa;
  --dv-tab-divider-color: transparent;
  --dv-activegroup-visiblepanel-tab-color: rgb(104, 107, 130);
  --dv-activegroup-hiddenpanel-tab-color: rgb(148, 151, 169);
  --dv-inactivegroup-visiblepanel-tab-color: rgb(104, 107, 130);
  --dv-inactivegroup-hiddenpanel-tab-color: rgb(148, 151, 169);
  --dv-separator-border: transparent;
  --dv-paneview-header-border-color: rgb(51, 51, 51);
  --dv-active-sash-color: rgb(91, 30, 207);
  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(0, 0, 0, 0.1);
  padding: 10px;
  background-color: #f6f5f9;
  --dv-scrollbar-background-color: rgba(0, 0, 0, 0.25);
}
.dockview-theme-light-spaced .dv-resize-container:has(> .dv-groupview) {
  border-radius: 8px;
}
.dockview-theme-light-spaced .dv-sash {
  border-radius: 4px;
}
.dockview-theme-light-spaced .dv-drop-target-anchor {
  border-radius: calc(var(--dv-border-radius) / 4);
}
.dockview-theme-light-spaced .dv-drop-target-anchor.dv-drop-target-content {
  border-radius: var(--dv-border-radius);
}
.dockview-theme-light-spaced .dv-resize-container {
  border-radius: var(--dv-border-radius) !important;
  border: none;
}
.dockview-theme-light-spaced .dv-tabs-overflow-container,
.dockview-theme-light-spaced .dv-tabs-overflow-dropdown-default {
  border-radius: 8px;
  height: unset !important;
}
.dockview-theme-light-spaced .dv-tab {
  border-radius: 8px;
}
.dockview-theme-light-spaced .dv-tab .dv-svg {
  height: 8px;
  width: 8px;
}
.dockview-theme-light-spaced .dv-groupview {
  border-radius: var(--dv-border-radius);
}
.dockview-theme-light-spaced .dv-groupview .dv-tabs-and-actions-container {
  padding: 0px calc(var(--dv-border-radius) / 2);
}
.dockview-theme-light-spaced .dv-groupview .dv-content-container {
  background-color: var(--dv-tabs-and-actions-container-background-color);
}
.dockview-theme-light-spaced .dv-resize-container .dv-groupview {
  border: 2px solid rgba(255, 255, 255, 0.1);
}
.dv-drop-target-container {
  position: absolute;
  z-index: 9999;
  top: 0px;
  left: 0px;
  height: 100%;
  width: 100%;
  pointer-events: none;
  overflow: hidden;
  --dv-transition-duration: 300ms;
}
.dv-drop-target-container .dv-drop-target-anchor {
  position: relative;
  border: var(--dv-drag-over-border);
  background-color: var(--dv-drag-over-background-color);
  opacity: 1;
  /* GPU optimizations */
  will-change: transform, opacity;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  contain: layout paint;
  transition: opacity var(--dv-transition-duration) ease-in, transform var(--dv-transition-duration) ease-out;
}
.dv-drop-target {
  position: relative;
  --dv-transition-duration: 70ms;
}
.dv-drop-target > .dv-drop-target-dropzone {
  position: absolute;
  left: 0px;
  top: 0px;
  height: 100%;
  width: 100%;
  z-index: 1000;
  pointer-events: none;
}
.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection {
  position: relative;
  box-sizing: border-box;
  height: 100%;
  width: 100%;
  border: var(--dv-drag-over-border);
  background-color: var(--dv-drag-over-background-color);
  transition: top var(--dv-transition-duration) ease-out, left var(--dv-transition-duration) ease-out, width var(--dv-transition-duration) ease-out, height var(--dv-transition-duration) ease-out, opacity var(--dv-transition-duration) ease-out;
  will-change: transform;
  pointer-events: none;
}
.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-top.dv-drop-target-small-vertical {
  border-top: 1px solid var(--dv-drag-over-border-color);
}
.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-bottom.dv-drop-target-small-vertical {
  border-bottom: 1px solid var(--dv-drag-over-border-color);
}
.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-left.dv-drop-target-small-horizontal {
  border-left: 1px solid var(--dv-drag-over-border-color);
}
.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-right.dv-drop-target-small-horizontal {
  border-right: 1px solid var(--dv-drag-over-border-color);
}
.dv-dockview {
  position: relative;
  background-color: var(--dv-group-view-background-color);
  contain: layout;
}
.dv-dockview .dv-watermark-container {
  position: absolute;
  top: 0px;
  left: 0px;
  height: 100%;
  width: 100%;
  z-index: 1;
}
.dv-dockview .dv-overlay-render-container {
  position: relative;
}

.dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {
  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);
  color: var(--dv-activegroup-visiblepanel-tab-color);
}
.dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-inactive-tab {
  background-color: var(--dv-activegroup-hiddenpanel-tab-background-color);
  color: var(--dv-activegroup-hiddenpanel-tab-color);
}
.dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {
  background-color: var(--dv-inactivegroup-visiblepanel-tab-background-color);
  color: var(--dv-inactivegroup-visiblepanel-tab-color);
}
.dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-inactive-tab {
  background-color: var(--dv-inactivegroup-hiddenpanel-tab-background-color);
  color: var(--dv-inactivegroup-hiddenpanel-tab-color);
}

/**
 * when a tab is dragged we lose the above stylings because they are conditional on parent elements
 * therefore we also set some stylings for the dragging event
 **/
.dv-tab.dv-tab-dragging {
  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);
  color: var(--dv-activegroup-visiblepanel-tab-color);
}
.dv-groupview {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: var(--dv-group-view-background-color);
  overflow: hidden;
}
.dv-groupview:focus {
  outline: none;
}
.dv-groupview > .dv-content-container {
  flex-grow: 1;
  min-height: 0;
  outline: none;
}
.dv-root-wrapper {
  height: 100%;
  width: 100%;
}
.dv-grid-view,
.dv-branch-node {
  height: 100%;
  width: 100%;
}
.dv-debug .dv-resize-container .dv-resize-handle-top {
  background-color: red;
}
.dv-debug .dv-resize-container .dv-resize-handle-bottom {
  background-color: green;
}
.dv-debug .dv-resize-container .dv-resize-handle-left {
  background-color: yellow;
}
.dv-debug .dv-resize-container .dv-resize-handle-right {
  background-color: blue;
}
.dv-debug .dv-resize-container .dv-resize-handle-topleft,
.dv-debug .dv-resize-container .dv-resize-handle-topright,
.dv-debug .dv-resize-container .dv-resize-handle-bottomleft,
.dv-debug .dv-resize-container .dv-resize-handle-bottomright {
  background-color: cyan;
}

.dv-resize-container {
  --dv-overlay-z-index: var(--dv-overlay-z-index, 999);
  position: absolute;
  z-index: calc(var(--dv-overlay-z-index) - 2);
  border: 1px solid var(--dv-tab-divider-color);
  box-shadow: var(--dv-floating-box-shadow);
  /* GPU optimizations for floating group movement */
  will-change: transform, opacity;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
}
.dv-resize-container.dv-hidden {
  display: none;
}
.dv-resize-container.dv-resize-container-dragging {
  opacity: 0.5;
  /* Enhanced GPU acceleration during drag */
  will-change: transform, opacity;
}
.dv-resize-container .dv-resize-handle-top {
  height: 4px;
  width: calc(100% - 8px);
  left: 4px;
  top: -2px;
  z-index: var(--dv-overlay-z-index);
  position: absolute;
  cursor: ns-resize;
}
.dv-resize-container .dv-resize-handle-bottom {
  height: 4px;
  width: calc(100% - 8px);
  left: 4px;
  bottom: -2px;
  z-index: var(--dv-overlay-z-index);
  position: absolute;
  cursor: ns-resize;
}
.dv-resize-container .dv-resize-handle-left {
  height: calc(100% - 8px);
  width: 4px;
  left: -2px;
  top: 4px;
  z-index: var(--dv-overlay-z-index);
  position: absolute;
  cursor: ew-resize;
}
.dv-resize-container .dv-resize-handle-right {
  height: calc(100% - 8px);
  width: 4px;
  right: -2px;
  top: 4px;
  z-index: var(--dv-overlay-z-index);
  position: absolute;
  cursor: ew-resize;
}
.dv-resize-container .dv-resize-handle-topleft {
  height: 4px;
  width: 4px;
  top: -2px;
  left: -2px;
  z-index: var(--dv-overlay-z-index);
  position: absolute;
  cursor: nw-resize;
}
.dv-resize-container .dv-resize-handle-topright {
  height: 4px;
  width: 4px;
  right: -2px;
  top: -2px;
  z-index: var(--dv-overlay-z-index);
  position: absolute;
  cursor: ne-resize;
}
.dv-resize-container .dv-resize-handle-bottomleft {
  height: 4px;
  width: 4px;
  left: -2px;
  bottom: -2px;
  z-index: var(--dv-overlay-z-index);
  position: absolute;
  cursor: sw-resize;
}
.dv-resize-container .dv-resize-handle-bottomright {
  height: 4px;
  width: 4px;
  right: -2px;
  bottom: -2px;
  z-index: var(--dv-overlay-z-index);
  position: absolute;
  cursor: se-resize;
}
.dv-render-overlay {
  --dv-overlay-z-index: var(--dv-overlay-z-index, 999);
  position: absolute;
  z-index: 1;
  width: 100%;
  height: 100%;
  contain: layout paint;
  isolation: isolate;
  /* GPU optimizations */
  will-change: transform;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
}
.dv-render-overlay.dv-render-overlay-float {
  z-index: calc(var(--dv-overlay-z-index) - 1);
}

.dv-debug .dv-render-overlay {
  outline: 1px solid red;
  outline-offset: -1;
}
.dv-pane-container {
  height: 100%;
  width: 100%;
}
.dv-pane-container.dv-animated .dv-view {
  /* GPU optimizations for smooth pane animations */
  will-change: transform;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  transition: transform 0.15s ease-out;
}
.dv-pane-container .dv-view {
  overflow: hidden;
  display: flex;
  flex-direction: column;
  padding: 0px !important;
}
.dv-pane-container .dv-view:not(:first-child)::before {
  background-color: transparent !important;
}
.dv-pane-container .dv-view:not(:first-child) .dv-pane > .dv-pane-header {
  border-top: 1px solid var(--dv-paneview-header-border-color);
}
.dv-pane-container .dv-view .dv-default-header {
  background-color: var(--dv-group-view-background-color);
  color: var(--dv-activegroup-visiblepanel-tab-color);
  display: flex;
  padding: 0px 8px;
  cursor: pointer;
}
.dv-pane-container .dv-view .dv-default-header .dv-pane-header-icon {
  display: flex;
  justify-content: center;
  align-items: center;
}
.dv-pane-container .dv-view .dv-default-header > span {
  padding-left: 8px;
  flex-grow: 1;
}
.dv-pane-container:first-of-type > .dv-pane > .dv-pane-header {
  border-top: none !important;
}
.dv-pane-container .dv-pane {
  display: flex;
  flex-direction: column;
  overflow: hidden;
  height: 100%;
}
.dv-pane-container .dv-pane .dv-pane-header {
  box-sizing: border-box;
  user-select: none;
  position: relative;
  outline: none;
}
.dv-pane-container .dv-pane .dv-pane-header.dv-pane-draggable {
  cursor: pointer;
}
.dv-pane-container .dv-pane .dv-pane-header:focus:before, .dv-pane-container .dv-pane .dv-pane-header:focus-within:before {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 5;
  content: "";
  pointer-events: none;
  outline: 1px solid;
  outline-width: -1px;
  outline-style: solid;
  outline-offset: -1px;
  outline-color: var(--dv-paneview-active-outline-color);
}
.dv-pane-container .dv-pane .dv-pane-body {
  overflow-y: auto;
  overflow-x: hidden;
  flex-grow: 1;
  position: relative;
  outline: none;
}
.dv-pane-container .dv-pane .dv-pane-body:focus:before, .dv-pane-container .dv-pane .dv-pane-body:focus-within:before {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 5;
  content: "";
  pointer-events: none;
  outline: 1px solid;
  outline-width: -1px;
  outline-style: solid;
  outline-offset: -1px;
  outline-color: var(--dv-paneview-active-outline-color);
}
.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-enabled {
  background-color: black;
}
.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-disabled {
  background-color: orange;
}
.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-maximum {
  background-color: green;
}
.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-minimum {
  background-color: red;
}

.dv-split-view-container {
  position: relative;
  overflow: hidden;
  height: 100%;
  width: 100%;
}
.dv-split-view-container.dv-splitview-disabled > .dv-sash-container > .dv-sash {
  pointer-events: none;
}
.dv-split-view-container.dv-animation .dv-view,
.dv-split-view-container.dv-animation .dv-sash {
  /* GPU optimizations for smooth animations */
  will-change: transform;
  transform: translate3d(0, 0, 0);
  backface-visibility: hidden;
  transition: transform 0.15s ease-out;
}
.dv-split-view-container.dv-horizontal {
  height: 100%;
}
.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash {
  height: 100%;
  width: 4px;
}
.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-enabled {
  cursor: ew-resize;
}
.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-disabled {
  cursor: default;
}
.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-maximum {
  cursor: w-resize;
}
.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-minimum {
  cursor: e-resize;
}
.dv-split-view-container.dv-horizontal > .dv-view-container > .dv-view:not(:first-child)::before {
  height: 100%;
  width: 1px;
}
.dv-split-view-container.dv-vertical {
  width: 100%;
}
.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash {
  width: 100%;
  height: 4px;
}
.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-enabled {
  cursor: ns-resize;
}
.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-disabled {
  cursor: default;
}
.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-maximum {
  cursor: n-resize;
}
.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-minimum {
  cursor: s-resize;
}
.dv-split-view-container.dv-vertical > .dv-view-container > .dv-view {
  width: 100%;
}
.dv-split-view-container.dv-vertical > .dv-view-container > .dv-view:not(:first-child)::before {
  height: 1px;
  width: 100%;
}
.dv-split-view-container .dv-sash-container {
  height: 100%;
  width: 100%;
  position: absolute;
}
.dv-split-view-container .dv-sash-container .dv-sash {
  position: absolute;
  z-index: 99;
  outline: none;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  touch-action: none;
  background-color: var(--dv-sash-color, transparent);
}
.dv-split-view-container .dv-sash-container .dv-sash:not(.disabled):active, .dv-split-view-container .dv-sash-container .dv-sash:not(.disabled):hover {
  background-color: var(--dv-active-sash-color, transparent);
  transition-property: background-color;
  transition-timing-function: ease-in-out;
  transition-duration: var(--dv-active-sash-transition-duration, 0.1s);
  transition-delay: var(--dv-active-sash-transition-delay, 0.5s);
}
.dv-split-view-container .dv-view-container {
  position: relative;
  height: 100%;
  width: 100%;
}
.dv-split-view-container .dv-view-container .dv-view {
  height: 100%;
  box-sizing: border-box;
  overflow: auto;
  position: absolute;
}
.dv-split-view-container.dv-separator-border .dv-view:not(:first-child)::before {
  content: " ";
  position: absolute;
  top: 0;
  left: 0;
  z-index: 5;
  pointer-events: none;
  background-color: var(--dv-separator-border);
}
.dv-dragged {
  transform: translate3d(0px, 0px, 0px); /* forces tab to be drawn on a separate layer (see https://github.com/microsoft/vscode/issues/18733) */
}

.dv-tab {
  flex-shrink: 0;
}
.dv-tab:focus-within, .dv-tab:focus {
  position: relative;
}
.dv-tab:focus-within::after, .dv-tab:focus::after {
  position: absolute;
  content: "";
  height: 100%;
  width: 100%;
  top: 0px;
  left: 0px;
  pointer-events: none;
  outline: 1px solid var(--dv-tab-divider-color) !important;
  outline-offset: -1px;
  z-index: 5;
}
.dv-tab.dv-tab-dragging .dv-default-tab-action {
  background-color: var(--dv-activegroup-visiblepanel-tab-color);
}
.dv-tab.dv-active-tab .dv-default-tab .dv-default-tab-action {
  visibility: visible;
}
.dv-tab.dv-inactive-tab .dv-default-tab .dv-default-tab-action {
  visibility: hidden;
}
.dv-tab.dv-inactive-tab .dv-default-tab:hover .dv-default-tab-action {
  visibility: visible;
}
.dv-tab .dv-default-tab {
  position: relative;
  height: 100%;
  display: flex;
  align-items: center;
  white-space: nowrap;
  text-overflow: ellipsis;
}
.dv-tab .dv-default-tab .dv-default-tab-content {
  flex-grow: 1;
  margin-right: 4px;
}
.dv-tab .dv-default-tab .dv-default-tab-action {
  padding: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
}
.dv-tab .dv-default-tab .dv-default-tab-action:hover {
  border-radius: 2px;
  background-color: var(--dv-icon-hover-background-color);
}
.dv-tabs-overflow-dropdown-default {
  height: 100%;
  color: var(--dv-activegroup-hiddenpanel-tab-color);
  margin: var(--dv-tab-margin);
  display: flex;
  align-items: center;
  flex-shrink: 0;
  padding: 0.25rem 0.5rem;
  cursor: pointer;
}
.dv-tabs-overflow-dropdown-default > span {
  padding-left: 0.25rem;
}
.dv-tabs-overflow-dropdown-default > svg {
  transform: rotate(90deg);
}
.dv-tabs-container {
  display: flex;
  height: 100%;
  overflow: auto;
  scrollbar-width: thin;
  /* GPU optimizations for smooth scrolling */
  will-change: scroll-position;
  transform: translate3d(0, 0, 0);
  /* Track */
  /* Handle */
}
.dv-tabs-container.dv-horizontal .dv-tab:not(:first-child)::before {
  content: " ";
  position: absolute;
  top: 0;
  left: 0;
  z-index: 5;
  pointer-events: none;
  background-color: var(--dv-tab-divider-color);
  width: 1px;
  height: 100%;
}
.dv-tabs-container::-webkit-scrollbar {
  height: 3px;
}
.dv-tabs-container::-webkit-scrollbar-track {
  background: transparent;
}
.dv-tabs-container::-webkit-scrollbar-thumb {
  background: var(--dv-tabs-container-scrollbar-color);
}

.dv-scrollable > .dv-tabs-container {
  overflow: hidden;
}

.dv-tab {
  -webkit-user-drag: element;
  outline: none;
  padding: 0.25rem 0.5rem;
  cursor: pointer;
  position: relative;
  box-sizing: border-box;
  font-size: var(--dv-tab-font-size);
  margin: var(--dv-tab-margin);
}

.dv-tabs-overflow-container {
  flex-direction: column;
  height: unset;
  border: 1px solid var(--dv-tab-divider-color);
  background-color: var(--dv-group-view-background-color);
}
.dv-tabs-overflow-container .dv-tab:not(:last-child) {
  border-bottom: 1px solid var(--dv-tab-divider-color);
}
.dv-tabs-overflow-container .dv-active-tab {
  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);
  color: var(--dv-activegroup-visiblepanel-tab-color);
}
.dv-tabs-overflow-container .dv-inactive-tab {
  background-color: var(--dv-activegroup-hiddenpanel-tab-background-color);
  color: var(--dv-activegroup-hiddenpanel-tab-color);
}
.dv-tabs-and-actions-container {
  display: flex;
  background-color: var(--dv-tabs-and-actions-container-background-color);
  flex-shrink: 0;
  box-sizing: border-box;
  height: var(--dv-tabs-and-actions-container-height);
  font-size: var(--dv-tabs-and-actions-container-font-size);
}
.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-scrollable {
  flex-grow: 1;
}
.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-tabs-container {
  flex-grow: 1;
}
.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-tabs-container .dv-tab {
  flex-grow: 1;
  padding: 0px;
}
.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-void-container {
  flex-grow: 0;
}
.dv-tabs-and-actions-container .dv-void-container {
  display: flex;
  flex-grow: 1;
}
.dv-tabs-and-actions-container .dv-void-container.dv-draggable {
  cursor: grab;
}
.dv-tabs-and-actions-container .dv-right-actions-container {
  display: flex;
}
.dv-watermark {
  display: flex;
  height: 100%;
}`, "",{"version":3,"sources":["webpack://./node_modules/dockview-core/dist/styles/dockview.css"],"names":[],"mappings":"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3B,oCAAoC;AACtC;AACA;EACE,gBAAgB;EAChB,aAAa;EACb,sBAAsB;EACtB,uBAAuB;AACzB;AACA;EACE,wCAAwC;AAC1C;AACA;EACE,4DAA4D;AAC9D;AACA;EACE,uDAAuD;EACvD,mDAAmD;EACnD,aAAa;EACb,gBAAgB;EAChB,eAAe;AACjB;AACA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;AACA;EACE,iBAAiB;EACjB,YAAY;AACd;AACA;EACE,2BAA2B;AAC7B;AACA;EACE,aAAa;EACb,sBAAsB;EACtB,gBAAgB;EAChB,YAAY;AACd;AACA;EACE,sBAAsB;EACtB,iBAAiB;EACjB,kBAAkB;EAClB,aAAa;AACf;AACA;EACE,eAAe;AACjB;AACA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,UAAU;EACV,WAAW;EACX,oBAAoB;EACpB,kBAAkB;EAClB,mBAAmB;EACnB,oBAAoB;EACpB,oBAAoB;EACpB,sDAAsD;AACxD;AACA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,YAAY;EACZ,kBAAkB;EAClB,aAAa;AACf;AACA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,YAAY;EACZ,UAAU;EACV,WAAW;EACX,oBAAoB;EACpB,kBAAkB;EAClB,mBAAmB;EACnB,oBAAoB;EACpB,oBAAoB;EACpB,sDAAsD;AACxD;AACA;EACE,uBAAuB;AACzB;AACA;EACE,wBAAwB;AAC1B;AACA;EACE,uBAAuB;AACzB;AACA;EACE,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;EAChB,YAAY;EACZ,WAAW;AACb;AACA;EACE,oBAAoB;AACtB;AACA;;EAEE,4CAA4C;EAC5C,sBAAsB;EACtB,+BAA+B;EAC/B,2BAA2B;EAC3B,oCAAoC;AACtC;AACA;EACE,YAAY;AACd;AACA;EACE,YAAY;EACZ,UAAU;AACZ;AACA;EACE,iBAAiB;AACnB;AACA;EACE,eAAe;AACjB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,YAAY;EACZ,UAAU;AACZ;AACA;EACE,WAAW;AACb;AACA;EACE,WAAW;EACX,WAAW;AACb;AACA;EACE,iBAAiB;AACnB;AACA;EACE,eAAe;AACjB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,WAAW;AACb;AACA;EACE,WAAW;EACX,WAAW;AACb;AACA;EACE,YAAY;EACZ,WAAW;EACX,kBAAkB;AACpB;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,aAAa;EACb,iBAAiB;EACjB,yBAAyB;EACzB,sBAAsB;EACtB,qBAAqB;EACrB,kBAAkB;EAClB,mDAAmD;AACrD;AACA;EACE,0DAA0D;EAC1D,qCAAqC;EACrC,uCAAuC;EACvC,oEAAoE;EACpE,8DAA8D;AAChE;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,WAAW;AACb;AACA;EACE,YAAY;EACZ,sBAAsB;EACtB,cAAc;EACd,kBAAkB;AACpB;AACA;EACE,YAAY;EACZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,UAAU;EACV,oBAAoB;EACpB,4CAA4C;AAC9C;AACA;EACE,qCAAqC,EAAE,sGAAsG;AAC/I;;AAEA;EACE,cAAc;AAChB;AACA;EACE,kBAAkB;AACpB;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,WAAW;EACX,QAAQ;EACR,SAAS;EACT,oBAAoB;EACpB,yDAAyD;EACzD,oBAAoB;EACpB,UAAU;AACZ;AACA;EACE,8DAA8D;AAChE;AACA;EACE,mBAAmB;AACrB;AACA;EACE,kBAAkB;AACpB;AACA;EACE,mBAAmB;AACrB;AACA;EACE,kBAAkB;EAClB,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,mBAAmB;EACnB,uBAAuB;AACzB;AACA;EACE,YAAY;EACZ,iBAAiB;AACnB;AACA;EACE,YAAY;EACZ,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,sBAAsB;AACxB;AACA;EACE,kBAAkB;EAClB,uDAAuD;AACzD;AACA;EACE,YAAY;EACZ,kDAAkD;EAClD,4BAA4B;EAC5B,aAAa;EACb,mBAAmB;EACnB,cAAc;EACd,uBAAuB;EACvB,eAAe;AACjB;AACA;EACE,qBAAqB;AACvB;AACA;EACE,wBAAwB;AAC1B;AACA;EACE,aAAa;EACb,YAAY;EACZ,cAAc;EACd,qBAAqB;EACrB,2CAA2C;EAC3C,4BAA4B;EAC5B,+BAA+B;EAC/B,UAAU;EACV,WAAW;AACb;AACA;EACE,YAAY;EACZ,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,UAAU;EACV,oBAAoB;EACpB,6CAA6C;EAC7C,UAAU;EACV,YAAY;AACd;AACA;EACE,WAAW;AACb;AACA;EACE,uBAAuB;AACzB;AACA;EACE,oDAAoD;AACtD;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,0BAA0B;EAC1B,aAAa;EACb,uBAAuB;EACvB,eAAe;EACf,kBAAkB;EAClB,sBAAsB;EACtB,kCAAkC;EAClC,4BAA4B;AAC9B;;AAEA;EACE,sBAAsB;EACtB,aAAa;EACb,6CAA6C;EAC7C,uDAAuD;AACzD;AACA;EACE,oDAAoD;AACtD;AACA;EACE,yEAAyE;EACzE,mDAAmD;AACrD;AACA;EACE,wEAAwE;EACxE,kDAAkD;AACpD;AACA;EACE,aAAa;EACb,uEAAuE;EACvE,cAAc;EACd,sBAAsB;EACtB,mDAAmD;EACnD,yDAAyD;AAC3D;AACA;EACE,YAAY;AACd;AACA;EACE,YAAY;AACd;AACA;EACE,YAAY;EACZ,YAAY;AACd;AACA;EACE,YAAY;AACd;AACA;EACE,aAAa;EACb,YAAY;AACd;AACA;EACE,YAAY;AACd;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;EACb,YAAY;AACd","sourcesContent":[".dv-scrollable {\n  position: relative;\n  overflow: hidden;\n}\n.dv-scrollable .dv-scrollbar-horizontal {\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  height: 4px;\n  border-radius: 2px;\n  background-color: transparent;\n  /* GPU optimizations */\n  will-change: background-color, transform;\n  transform: translate3d(0, 0, 0);\n  backface-visibility: hidden;\n  transition-property: background-color;\n  transition-timing-function: ease-in-out;\n  transition-duration: 1s;\n  transition-delay: 0s;\n}\n.dv-scrollable:hover .dv-scrollbar-horizontal, .dv-scrollable.dv-scrollable-resizing .dv-scrollbar-horizontal, .dv-scrollable.dv-scrollable-scrolling .dv-scrollbar-horizontal {\n  background-color: var(--dv-scrollbar-background-color, rgba(255, 255, 255, 0.25));\n}\n.dv-svg {\n  display: inline-block;\n  fill: currentcolor;\n  line-height: 1;\n  stroke: currentcolor;\n  stroke-width: 0;\n}\n.dockview-theme-dark {\n  --dv-paneview-active-outline-color: dodgerblue;\n  --dv-tabs-and-actions-container-font-size: 13px;\n  --dv-tabs-and-actions-container-height: 35px;\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\n  --dv-drag-over-border-color: transparent;\n  --dv-tabs-container-scrollbar-color: #888;\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\n  --dv-overlay-z-index: 999;\n  --dv-tab-font-size: inherit;\n  --dv-border-radius: 0px;\n  --dv-tab-margin: 0;\n  --dv-sash-color: transparent;\n  --dv-active-sash-color: transparent;\n  --dv-active-sash-transition-duration: 0.1s;\n  --dv-active-sash-transition-delay: 0.5s;\n  --dv-group-view-background-color: #1e1e1e;\n  --dv-tabs-and-actions-container-background-color: #252526;\n  --dv-activegroup-visiblepanel-tab-background-color: #1e1e1e;\n  --dv-activegroup-hiddenpanel-tab-background-color: #2d2d2d;\n  --dv-inactivegroup-visiblepanel-tab-background-color: #1e1e1e;\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #2d2d2d;\n  --dv-tab-divider-color: #1e1e1e;\n  --dv-activegroup-visiblepanel-tab-color: white;\n  --dv-activegroup-hiddenpanel-tab-color: #969696;\n  --dv-inactivegroup-visiblepanel-tab-color: #8f8f8f;\n  --dv-inactivegroup-hiddenpanel-tab-color: #626262;\n  --dv-separator-border: rgb(68, 68, 68);\n  --dv-paneview-header-border-color: rgba(204, 204, 204, 0.2);\n}\n.dockview-theme-dark .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\n  opacity: 0;\n  transition: none;\n}\n\n.dockview-theme-light {\n  --dv-paneview-active-outline-color: dodgerblue;\n  --dv-tabs-and-actions-container-font-size: 13px;\n  --dv-tabs-and-actions-container-height: 35px;\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\n  --dv-drag-over-border-color: transparent;\n  --dv-tabs-container-scrollbar-color: #888;\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\n  --dv-overlay-z-index: 999;\n  --dv-tab-font-size: inherit;\n  --dv-border-radius: 0px;\n  --dv-tab-margin: 0;\n  --dv-sash-color: transparent;\n  --dv-active-sash-color: transparent;\n  --dv-active-sash-transition-duration: 0.1s;\n  --dv-active-sash-transition-delay: 0.5s;\n  --dv-group-view-background-color: white;\n  --dv-tabs-and-actions-container-background-color: #f3f3f3;\n  --dv-activegroup-visiblepanel-tab-background-color: white;\n  --dv-activegroup-hiddenpanel-tab-background-color: #ececec;\n  --dv-inactivegroup-visiblepanel-tab-background-color: white;\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #ececec;\n  --dv-tab-divider-color: white;\n  --dv-activegroup-visiblepanel-tab-color: rgb(51, 51, 51);\n  --dv-activegroup-hiddenpanel-tab-color: rgba(51, 51, 51, 0.7);\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(51, 51, 51, 0.7);\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(51, 51, 51, 0.35);\n  --dv-separator-border: rgba(128, 128, 128, 0.35);\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\n  --dv-scrollbar-background-color: rgba(0, 0, 0, 0.25);\n}\n.dockview-theme-light .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\n  opacity: 0;\n  transition: none;\n}\n\n.dockview-theme-vs {\n  --dv-paneview-active-outline-color: dodgerblue;\n  --dv-tabs-and-actions-container-font-size: 13px;\n  --dv-tabs-and-actions-container-height: 35px;\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\n  --dv-drag-over-border-color: transparent;\n  --dv-tabs-container-scrollbar-color: #888;\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\n  --dv-overlay-z-index: 999;\n  --dv-tab-font-size: inherit;\n  --dv-border-radius: 0px;\n  --dv-tab-margin: 0;\n  --dv-sash-color: transparent;\n  --dv-active-sash-color: transparent;\n  --dv-active-sash-transition-duration: 0.1s;\n  --dv-active-sash-transition-delay: 0.5s;\n  --dv-group-view-background-color: #1e1e1e;\n  --dv-tabs-and-actions-container-background-color: #252526;\n  --dv-activegroup-visiblepanel-tab-background-color: #1e1e1e;\n  --dv-activegroup-hiddenpanel-tab-background-color: #2d2d2d;\n  --dv-inactivegroup-visiblepanel-tab-background-color: #1e1e1e;\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #2d2d2d;\n  --dv-tab-divider-color: #1e1e1e;\n  --dv-activegroup-visiblepanel-tab-color: white;\n  --dv-activegroup-hiddenpanel-tab-color: #969696;\n  --dv-inactivegroup-visiblepanel-tab-color: #8f8f8f;\n  --dv-inactivegroup-hiddenpanel-tab-color: #626262;\n  --dv-separator-border: rgb(68, 68, 68);\n  --dv-paneview-header-border-color: rgba(204, 204, 204, 0.2);\n  --dv-tabs-and-actions-container-background-color: #2d2d30;\n  --dv-tabs-and-actions-container-height: 20px;\n  --dv-tabs-and-actions-container-font-size: 11px;\n  --dv-activegroup-visiblepanel-tab-background-color: #007acc;\n  --dv-inactivegroup-visiblepanel-tab-background-color: #3f3f46;\n  --dv-activegroup-visiblepanel-tab-color: white;\n  --dv-activegroup-hiddenpanel-tab-color: white;\n  --dv-inactivegroup-visiblepanel-tab-color: white;\n  --dv-inactivegroup-hiddenpanel-tab-color: white;\n}\n.dockview-theme-vs .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\n  opacity: 0;\n  transition: none;\n}\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container {\n  box-sizing: content-box;\n  border-bottom: 2px solid var(--dv-activegroup-visiblepanel-tab-background-color);\n}\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tab.dv-active-tab {\n  border-top: 2px solid var(--dv-activegroup-visiblepanel-tab-background-color);\n}\n.dockview-theme-vs .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tab.dv-inactive-tab {\n  border-top: 2px solid var(--dv-activegroup-hiddenpanel-tab-background-color);\n}\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container {\n  box-sizing: content-box;\n  border-bottom: 2px solid var(--dv-inactivegroup-visiblepanel-tab-background-color);\n}\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tab.dv-active-tab {\n  border-top: 2px solid var(--dv-inactivegroup-visiblepanel-tab-background-color);\n}\n.dockview-theme-vs .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tab.dv-inactive-tab {\n  border-top: 2px solid var(--dv-inactivegroup-hiddenpanel-tab-background-color);\n}\n\n.dockview-theme-abyss {\n  --dv-paneview-active-outline-color: dodgerblue;\n  --dv-tabs-and-actions-container-font-size: 13px;\n  --dv-tabs-and-actions-container-height: 35px;\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\n  --dv-drag-over-border-color: transparent;\n  --dv-tabs-container-scrollbar-color: #888;\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\n  --dv-overlay-z-index: 999;\n  --dv-tab-font-size: inherit;\n  --dv-border-radius: 0px;\n  --dv-tab-margin: 0;\n  --dv-sash-color: transparent;\n  --dv-active-sash-color: transparent;\n  --dv-active-sash-transition-duration: 0.1s;\n  --dv-active-sash-transition-delay: 0.5s;\n  --dv-color-abyss-dark: #000c18;\n  --dv-color-abyss: #10192c;\n  --dv-color-abyss-light: #1c1c2a;\n  --dv-color-abyss-lighter: #2b2b4a;\n  --dv-color-abyss-accent: rgb(91, 30, 207);\n  --dv-color-abyss-primary-text: white;\n  --dv-color-abyss-secondary-text: rgb(148, 151, 169);\n  --dv-group-view-background-color: var(--dv-color-abyss-dark);\n  --dv-tabs-and-actions-container-background-color: var(\n      --dv-color-abyss-light\n  );\n  --dv-activegroup-visiblepanel-tab-background-color: var(\n      --dv-color-abyss-dark\n  );\n  --dv-activegroup-hiddenpanel-tab-background-color: var(--dv-color-abyss);\n  --dv-inactivegroup-visiblepanel-tab-background-color: var(\n      --dv-color-abyss-dark\n  );\n  --dv-inactivegroup-hiddenpanel-tab-background-color: var(--dv-color-abyss);\n  --dv-tab-divider-color: var(--dv-color-abyss-lighter);\n  --dv-activegroup-visiblepanel-tab-color: white;\n  --dv-activegroup-hiddenpanel-tab-color: rgba(255, 255, 255, 0.5);\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(255, 255, 255, 0.5);\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(255, 255, 255, 0.25);\n  --dv-separator-border: var(--dv-color-abyss-lighter);\n  --dv-paneview-header-border-color: var(--dv-color-abyss-lighter);\n  --dv-paneview-active-outline-color: #596f99;\n}\n.dockview-theme-abyss .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\n  opacity: 0;\n  transition: none;\n}\n\n.dockview-theme-dracula {\n  --dv-paneview-active-outline-color: dodgerblue;\n  --dv-tabs-and-actions-container-font-size: 13px;\n  --dv-tabs-and-actions-container-height: 35px;\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\n  --dv-drag-over-border-color: transparent;\n  --dv-tabs-container-scrollbar-color: #888;\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\n  --dv-overlay-z-index: 999;\n  --dv-tab-font-size: inherit;\n  --dv-border-radius: 0px;\n  --dv-tab-margin: 0;\n  --dv-sash-color: transparent;\n  --dv-active-sash-color: transparent;\n  --dv-active-sash-transition-duration: 0.1s;\n  --dv-active-sash-transition-delay: 0.5s;\n  --dv-group-view-background-color: #282a36;\n  --dv-tabs-and-actions-container-background-color: #191a21;\n  --dv-activegroup-visiblepanel-tab-background-color: #282a36;\n  --dv-activegroup-hiddenpanel-tab-background-color: #21222c;\n  --dv-inactivegroup-visiblepanel-tab-background-color: #282a36;\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #21222c;\n  --dv-tab-divider-color: #191a21;\n  --dv-activegroup-visiblepanel-tab-color: rgb(248, 248, 242);\n  --dv-activegroup-hiddenpanel-tab-color: rgb(98, 114, 164);\n  --dv-inactivegroup-visiblepanel-tab-color: rgba(248, 248, 242, 0.5);\n  --dv-inactivegroup-hiddenpanel-tab-color: rgba(98, 114, 164, 0.5);\n  --dv-separator-border: #bd93f9;\n  --dv-paneview-header-border-color: #bd93f9;\n  --dv-paneview-active-outline-color: #6272a4;\n}\n.dockview-theme-dracula .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\n  opacity: 0;\n  transition: none;\n}\n.dockview-theme-dracula .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\n  position: relative;\n}\n.dockview-theme-dracula .dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab::after {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  content: \"\";\n  width: 100%;\n  height: 1px;\n  background-color: #94527e;\n  z-index: 999;\n}\n.dockview-theme-dracula .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\n  position: relative;\n}\n.dockview-theme-dracula .dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab::after {\n  position: absolute;\n  left: 0px;\n  bottom: 0px;\n  content: \"\";\n  width: 100%;\n  height: 1px;\n  background-color: #5e3d5a;\n  z-index: 999;\n}\n\n.dockview-theme-replit {\n  --dv-paneview-active-outline-color: dodgerblue;\n  --dv-tabs-and-actions-container-font-size: 13px;\n  --dv-tabs-and-actions-container-height: 35px;\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\n  --dv-drag-over-border-color: transparent;\n  --dv-tabs-container-scrollbar-color: #888;\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\n  --dv-overlay-z-index: 999;\n  --dv-tab-font-size: inherit;\n  --dv-border-radius: 0px;\n  --dv-tab-margin: 0;\n  --dv-sash-color: transparent;\n  --dv-active-sash-color: transparent;\n  --dv-active-sash-transition-duration: 0.1s;\n  --dv-active-sash-transition-delay: 0.5s;\n  box-sizing: border-box;\n  padding: 10px;\n  background-color: #ebeced;\n  --dv-group-view-background-color: #ebeced;\n  --dv-tabs-and-actions-container-background-color: #fcfcfc;\n  --dv-activegroup-visiblepanel-tab-background-color: #f0f1f2;\n  --dv-activegroup-hiddenpanel-tab-background-color: #fcfcfc;\n  --dv-inactivegroup-visiblepanel-tab-background-color: #f0f1f2;\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #fcfcfc;\n  --dv-tab-divider-color: transparent;\n  --dv-activegroup-visiblepanel-tab-color: rgb(51, 51, 51);\n  --dv-activegroup-hiddenpanel-tab-color: rgb(51, 51, 51);\n  --dv-inactivegroup-visiblepanel-tab-color: rgb(51, 51, 51);\n  --dv-inactivegroup-hiddenpanel-tab-color: rgb(51, 51, 51);\n  --dv-separator-border: transparent;\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\n  --dv-sash-color: #cfd1d3;\n  --dv-active-sash-color: #babbbb;\n}\n.dockview-theme-replit .dv-drop-target-container .dv-drop-target-anchor.dv-drop-target-anchor-container-changed {\n  opacity: 0;\n  transition: none;\n}\n.dockview-theme-replit .dv-resize-container:has(> .dv-groupview) {\n  border-radius: 8px;\n}\n.dockview-theme-replit .dv-resize-container {\n  border-radius: 10px !important;\n  border: none;\n}\n.dockview-theme-replit .dv-groupview {\n  overflow: hidden;\n  border-radius: 10px;\n}\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container {\n  border-bottom: 1px solid rgba(128, 128, 128, 0.35);\n}\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab {\n  margin: 4px;\n  border-radius: 8px;\n}\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab .dv-svg {\n  height: 8px;\n  width: 8px;\n}\n.dockview-theme-replit .dv-groupview .dv-tabs-and-actions-container .dv-tab:hover {\n  background-color: #e4e5e6 !important;\n}\n.dockview-theme-replit .dv-groupview .dv-content-container {\n  background-color: #fcfcfc;\n}\n.dockview-theme-replit .dv-groupview.dv-active-group {\n  border: 1px solid rgba(128, 128, 128, 0.35);\n}\n.dockview-theme-replit .dv-groupview.dv-inactive-group {\n  border: 1px solid transparent;\n}\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash {\n  background-color: transparent;\n}\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled)::after {\n  content: \"\";\n  height: 4px;\n  width: 40px;\n  border-radius: 2px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: var(--dv-sash-color);\n  position: absolute;\n}\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):hover, .dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):active {\n  background-color: transparent;\n}\n.dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):hover::after, .dockview-theme-replit .dv-vertical > .dv-sash-container > .dv-sash:not(.disabled):active::after {\n  background-color: var(--dv-active-sash-color);\n}\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash {\n  background-color: transparent;\n}\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled)::after {\n  content: \"\";\n  height: 40px;\n  width: 4px;\n  border-radius: 2px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background-color: var(--dv-sash-color);\n  position: absolute;\n}\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):hover, .dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):active {\n  background-color: transparent;\n}\n.dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):hover::after, .dockview-theme-replit .dv-horizontal > .dv-sash-container > .dv-sash:not(.disabled):active::after {\n  background-color: var(--dv-active-sash-color);\n}\n\n.dockview-theme-abyss-spaced {\n  --dv-paneview-active-outline-color: dodgerblue;\n  --dv-tabs-and-actions-container-font-size: 13px;\n  --dv-tabs-and-actions-container-height: 35px;\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\n  --dv-drag-over-border-color: transparent;\n  --dv-tabs-container-scrollbar-color: #888;\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\n  --dv-overlay-z-index: 999;\n  --dv-tab-font-size: inherit;\n  --dv-border-radius: 0px;\n  --dv-tab-margin: 0;\n  --dv-sash-color: transparent;\n  --dv-active-sash-color: transparent;\n  --dv-active-sash-transition-duration: 0.1s;\n  --dv-active-sash-transition-delay: 0.5s;\n  --dv-tab-font-size: 12px;\n  --dv-border-radius: 20px;\n  --dv-tab-margin: 0.5rem 0.25rem;\n  --dv-tabs-and-actions-container-height: 44px;\n  --dv-border-radius: 20px;\n  box-sizing: border-box;\n  --dv-color-abyss-dark: rgb(11, 6, 17);\n  --dv-color-abyss: #16121f;\n  --dv-color-abyss-light: #201d2b;\n  --dv-color-abyss-lighter: #2a2837;\n  --dv-color-abyss-accent: rgb(91, 30, 207);\n  --dv-color-abyss-primary-text: white;\n  --dv-color-abyss-secondary-text: rgb(148, 151, 169);\n  --dv-drag-over-border: 2px solid var(--dv-color-abyss-accent);\n  --dv-drag-over-background-color: \"\";\n  --dv-group-view-background-color: var(--dv-color-abyss-dark);\n  --dv-tabs-and-actions-container-background-color: var(--dv-color-abyss);\n  --dv-activegroup-visiblepanel-tab-background-color: var(\n      --dv-color-abyss-lighter\n  );\n  --dv-activegroup-hiddenpanel-tab-background-color: var(\n      --dv-color-abyss-light\n  );\n  --dv-inactivegroup-visiblepanel-tab-background-color: var(\n      --dv-color-abyss-lighter\n  );\n  --dv-inactivegroup-hiddenpanel-tab-background-color: var(\n      --dv-color-abyss-light\n  );\n  --dv-tab-divider-color: transparent;\n  --dv-activegroup-visiblepanel-tab-color: var(--dv-color-abyss-primary-text);\n  --dv-activegroup-hiddenpanel-tab-color: var(\n      --dv-color-abyss-secondary-text\n  );\n  --dv-inactivegroup-visiblepanel-tab-color: var(\n      --dv-color-abyss-primary-text\n  );\n  --dv-inactivegroup-hiddenpanel-tab-color: var(\n      --dv-color-abyss-secondary-text\n  );\n  --dv-separator-border: transparent;\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\n  --dv-active-sash-color: var(--dv-color-abyss-accent);\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(0, 0, 0, 0.5);\n  padding: 10px;\n  background-color: var(--dv-color-abyss-dark);\n}\n.dockview-theme-abyss-spaced .dv-resize-container:has(> .dv-groupview) {\n  border-radius: 8px;\n}\n.dockview-theme-abyss-spaced .dv-sash {\n  border-radius: 4px;\n}\n.dockview-theme-abyss-spaced .dv-drop-target-anchor {\n  border-radius: calc(var(--dv-border-radius) / 4);\n}\n.dockview-theme-abyss-spaced .dv-drop-target-anchor.dv-drop-target-content {\n  border-radius: var(--dv-border-radius);\n}\n.dockview-theme-abyss-spaced .dv-resize-container {\n  border-radius: var(--dv-border-radius) !important;\n  border: none;\n}\n.dockview-theme-abyss-spaced .dv-tabs-overflow-container,\n.dockview-theme-abyss-spaced .dv-tabs-overflow-dropdown-default {\n  border-radius: 8px;\n  height: unset !important;\n}\n.dockview-theme-abyss-spaced .dv-tab {\n  border-radius: 8px;\n}\n.dockview-theme-abyss-spaced .dv-tab .dv-svg {\n  height: 8px;\n  width: 8px;\n}\n.dockview-theme-abyss-spaced .dv-groupview {\n  border-radius: var(--dv-border-radius);\n}\n.dockview-theme-abyss-spaced .dv-groupview .dv-tabs-and-actions-container {\n  padding: 0px calc(var(--dv-border-radius) / 2);\n}\n.dockview-theme-abyss-spaced .dv-groupview .dv-content-container {\n  background-color: var(--dv-tabs-and-actions-container-background-color);\n}\n.dockview-theme-abyss-spaced .dv-resize-container .dv-groupview {\n  border: 2px solid var(--dv-color-abyss-dark);\n}\n\n.dockview-theme-light-spaced {\n  --dv-paneview-active-outline-color: dodgerblue;\n  --dv-tabs-and-actions-container-font-size: 13px;\n  --dv-tabs-and-actions-container-height: 35px;\n  --dv-drag-over-background-color: rgba(83, 89, 93, 0.5);\n  --dv-drag-over-border-color: transparent;\n  --dv-tabs-container-scrollbar-color: #888;\n  --dv-icon-hover-background-color: rgba(90, 93, 94, 0.31);\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(83, 89, 93, 0.5);\n  --dv-overlay-z-index: 999;\n  --dv-tab-font-size: inherit;\n  --dv-border-radius: 0px;\n  --dv-tab-margin: 0;\n  --dv-sash-color: transparent;\n  --dv-active-sash-color: transparent;\n  --dv-active-sash-transition-duration: 0.1s;\n  --dv-active-sash-transition-delay: 0.5s;\n  --dv-tab-font-size: 12px;\n  --dv-border-radius: 20px;\n  --dv-tab-margin: 0.5rem 0.25rem;\n  --dv-tabs-and-actions-container-height: 44px;\n  --dv-border-radius: 20px;\n  box-sizing: border-box;\n  --dv-drag-over-border: 2px solid rgb(91, 30, 207);\n  --dv-drag-over-background-color: \"\";\n  --dv-group-view-background-color: #f6f5f9;\n  --dv-tabs-and-actions-container-background-color: white;\n  --dv-activegroup-visiblepanel-tab-background-color: #ededf0;\n  --dv-activegroup-hiddenpanel-tab-background-color: #f9f9fa;\n  --dv-inactivegroup-visiblepanel-tab-background-color: #ededf0;\n  --dv-inactivegroup-hiddenpanel-tab-background-color: #f9f9fa;\n  --dv-tab-divider-color: transparent;\n  --dv-activegroup-visiblepanel-tab-color: rgb(104, 107, 130);\n  --dv-activegroup-hiddenpanel-tab-color: rgb(148, 151, 169);\n  --dv-inactivegroup-visiblepanel-tab-color: rgb(104, 107, 130);\n  --dv-inactivegroup-hiddenpanel-tab-color: rgb(148, 151, 169);\n  --dv-separator-border: transparent;\n  --dv-paneview-header-border-color: rgb(51, 51, 51);\n  --dv-active-sash-color: rgb(91, 30, 207);\n  --dv-floating-box-shadow: 8px 8px 8px 0px rgba(0, 0, 0, 0.1);\n  padding: 10px;\n  background-color: #f6f5f9;\n  --dv-scrollbar-background-color: rgba(0, 0, 0, 0.25);\n}\n.dockview-theme-light-spaced .dv-resize-container:has(> .dv-groupview) {\n  border-radius: 8px;\n}\n.dockview-theme-light-spaced .dv-sash {\n  border-radius: 4px;\n}\n.dockview-theme-light-spaced .dv-drop-target-anchor {\n  border-radius: calc(var(--dv-border-radius) / 4);\n}\n.dockview-theme-light-spaced .dv-drop-target-anchor.dv-drop-target-content {\n  border-radius: var(--dv-border-radius);\n}\n.dockview-theme-light-spaced .dv-resize-container {\n  border-radius: var(--dv-border-radius) !important;\n  border: none;\n}\n.dockview-theme-light-spaced .dv-tabs-overflow-container,\n.dockview-theme-light-spaced .dv-tabs-overflow-dropdown-default {\n  border-radius: 8px;\n  height: unset !important;\n}\n.dockview-theme-light-spaced .dv-tab {\n  border-radius: 8px;\n}\n.dockview-theme-light-spaced .dv-tab .dv-svg {\n  height: 8px;\n  width: 8px;\n}\n.dockview-theme-light-spaced .dv-groupview {\n  border-radius: var(--dv-border-radius);\n}\n.dockview-theme-light-spaced .dv-groupview .dv-tabs-and-actions-container {\n  padding: 0px calc(var(--dv-border-radius) / 2);\n}\n.dockview-theme-light-spaced .dv-groupview .dv-content-container {\n  background-color: var(--dv-tabs-and-actions-container-background-color);\n}\n.dockview-theme-light-spaced .dv-resize-container .dv-groupview {\n  border: 2px solid rgba(255, 255, 255, 0.1);\n}\n.dv-drop-target-container {\n  position: absolute;\n  z-index: 9999;\n  top: 0px;\n  left: 0px;\n  height: 100%;\n  width: 100%;\n  pointer-events: none;\n  overflow: hidden;\n  --dv-transition-duration: 300ms;\n}\n.dv-drop-target-container .dv-drop-target-anchor {\n  position: relative;\n  border: var(--dv-drag-over-border);\n  background-color: var(--dv-drag-over-background-color);\n  opacity: 1;\n  /* GPU optimizations */\n  will-change: transform, opacity;\n  transform: translate3d(0, 0, 0);\n  backface-visibility: hidden;\n  contain: layout paint;\n  transition: opacity var(--dv-transition-duration) ease-in, transform var(--dv-transition-duration) ease-out;\n}\n.dv-drop-target {\n  position: relative;\n  --dv-transition-duration: 70ms;\n}\n.dv-drop-target > .dv-drop-target-dropzone {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  height: 100%;\n  width: 100%;\n  z-index: 1000;\n  pointer-events: none;\n}\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection {\n  position: relative;\n  box-sizing: border-box;\n  height: 100%;\n  width: 100%;\n  border: var(--dv-drag-over-border);\n  background-color: var(--dv-drag-over-background-color);\n  transition: top var(--dv-transition-duration) ease-out, left var(--dv-transition-duration) ease-out, width var(--dv-transition-duration) ease-out, height var(--dv-transition-duration) ease-out, opacity var(--dv-transition-duration) ease-out;\n  will-change: transform;\n  pointer-events: none;\n}\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-top.dv-drop-target-small-vertical {\n  border-top: 1px solid var(--dv-drag-over-border-color);\n}\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-bottom.dv-drop-target-small-vertical {\n  border-bottom: 1px solid var(--dv-drag-over-border-color);\n}\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-left.dv-drop-target-small-horizontal {\n  border-left: 1px solid var(--dv-drag-over-border-color);\n}\n.dv-drop-target > .dv-drop-target-dropzone > .dv-drop-target-selection.dv-drop-target-right.dv-drop-target-small-horizontal {\n  border-right: 1px solid var(--dv-drag-over-border-color);\n}\n.dv-dockview {\n  position: relative;\n  background-color: var(--dv-group-view-background-color);\n  contain: layout;\n}\n.dv-dockview .dv-watermark-container {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  height: 100%;\n  width: 100%;\n  z-index: 1;\n}\n.dv-dockview .dv-overlay-render-container {\n  position: relative;\n}\n\n.dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\n  color: var(--dv-activegroup-visiblepanel-tab-color);\n}\n.dv-groupview.dv-active-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-inactive-tab {\n  background-color: var(--dv-activegroup-hiddenpanel-tab-background-color);\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\n}\n.dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-active-tab {\n  background-color: var(--dv-inactivegroup-visiblepanel-tab-background-color);\n  color: var(--dv-inactivegroup-visiblepanel-tab-color);\n}\n.dv-groupview.dv-inactive-group > .dv-tabs-and-actions-container .dv-tabs-container > .dv-tab.dv-inactive-tab {\n  background-color: var(--dv-inactivegroup-hiddenpanel-tab-background-color);\n  color: var(--dv-inactivegroup-hiddenpanel-tab-color);\n}\n\n/**\n * when a tab is dragged we lose the above stylings because they are conditional on parent elements\n * therefore we also set some stylings for the dragging event\n **/\n.dv-tab.dv-tab-dragging {\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\n  color: var(--dv-activegroup-visiblepanel-tab-color);\n}\n.dv-groupview {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background-color: var(--dv-group-view-background-color);\n  overflow: hidden;\n}\n.dv-groupview:focus {\n  outline: none;\n}\n.dv-groupview > .dv-content-container {\n  flex-grow: 1;\n  min-height: 0;\n  outline: none;\n}\n.dv-root-wrapper {\n  height: 100%;\n  width: 100%;\n}\n.dv-grid-view,\n.dv-branch-node {\n  height: 100%;\n  width: 100%;\n}\n.dv-debug .dv-resize-container .dv-resize-handle-top {\n  background-color: red;\n}\n.dv-debug .dv-resize-container .dv-resize-handle-bottom {\n  background-color: green;\n}\n.dv-debug .dv-resize-container .dv-resize-handle-left {\n  background-color: yellow;\n}\n.dv-debug .dv-resize-container .dv-resize-handle-right {\n  background-color: blue;\n}\n.dv-debug .dv-resize-container .dv-resize-handle-topleft,\n.dv-debug .dv-resize-container .dv-resize-handle-topright,\n.dv-debug .dv-resize-container .dv-resize-handle-bottomleft,\n.dv-debug .dv-resize-container .dv-resize-handle-bottomright {\n  background-color: cyan;\n}\n\n.dv-resize-container {\n  --dv-overlay-z-index: var(--dv-overlay-z-index, 999);\n  position: absolute;\n  z-index: calc(var(--dv-overlay-z-index) - 2);\n  border: 1px solid var(--dv-tab-divider-color);\n  box-shadow: var(--dv-floating-box-shadow);\n  /* GPU optimizations for floating group movement */\n  will-change: transform, opacity;\n  transform: translate3d(0, 0, 0);\n  backface-visibility: hidden;\n}\n.dv-resize-container.dv-hidden {\n  display: none;\n}\n.dv-resize-container.dv-resize-container-dragging {\n  opacity: 0.5;\n  /* Enhanced GPU acceleration during drag */\n  will-change: transform, opacity;\n}\n.dv-resize-container .dv-resize-handle-top {\n  height: 4px;\n  width: calc(100% - 8px);\n  left: 4px;\n  top: -2px;\n  z-index: var(--dv-overlay-z-index);\n  position: absolute;\n  cursor: ns-resize;\n}\n.dv-resize-container .dv-resize-handle-bottom {\n  height: 4px;\n  width: calc(100% - 8px);\n  left: 4px;\n  bottom: -2px;\n  z-index: var(--dv-overlay-z-index);\n  position: absolute;\n  cursor: ns-resize;\n}\n.dv-resize-container .dv-resize-handle-left {\n  height: calc(100% - 8px);\n  width: 4px;\n  left: -2px;\n  top: 4px;\n  z-index: var(--dv-overlay-z-index);\n  position: absolute;\n  cursor: ew-resize;\n}\n.dv-resize-container .dv-resize-handle-right {\n  height: calc(100% - 8px);\n  width: 4px;\n  right: -2px;\n  top: 4px;\n  z-index: var(--dv-overlay-z-index);\n  position: absolute;\n  cursor: ew-resize;\n}\n.dv-resize-container .dv-resize-handle-topleft {\n  height: 4px;\n  width: 4px;\n  top: -2px;\n  left: -2px;\n  z-index: var(--dv-overlay-z-index);\n  position: absolute;\n  cursor: nw-resize;\n}\n.dv-resize-container .dv-resize-handle-topright {\n  height: 4px;\n  width: 4px;\n  right: -2px;\n  top: -2px;\n  z-index: var(--dv-overlay-z-index);\n  position: absolute;\n  cursor: ne-resize;\n}\n.dv-resize-container .dv-resize-handle-bottomleft {\n  height: 4px;\n  width: 4px;\n  left: -2px;\n  bottom: -2px;\n  z-index: var(--dv-overlay-z-index);\n  position: absolute;\n  cursor: sw-resize;\n}\n.dv-resize-container .dv-resize-handle-bottomright {\n  height: 4px;\n  width: 4px;\n  right: -2px;\n  bottom: -2px;\n  z-index: var(--dv-overlay-z-index);\n  position: absolute;\n  cursor: se-resize;\n}\n.dv-render-overlay {\n  --dv-overlay-z-index: var(--dv-overlay-z-index, 999);\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  contain: layout paint;\n  isolation: isolate;\n  /* GPU optimizations */\n  will-change: transform;\n  transform: translate3d(0, 0, 0);\n  backface-visibility: hidden;\n}\n.dv-render-overlay.dv-render-overlay-float {\n  z-index: calc(var(--dv-overlay-z-index) - 1);\n}\n\n.dv-debug .dv-render-overlay {\n  outline: 1px solid red;\n  outline-offset: -1;\n}\n.dv-pane-container {\n  height: 100%;\n  width: 100%;\n}\n.dv-pane-container.dv-animated .dv-view {\n  /* GPU optimizations for smooth pane animations */\n  will-change: transform;\n  transform: translate3d(0, 0, 0);\n  backface-visibility: hidden;\n  transition: transform 0.15s ease-out;\n}\n.dv-pane-container .dv-view {\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  padding: 0px !important;\n}\n.dv-pane-container .dv-view:not(:first-child)::before {\n  background-color: transparent !important;\n}\n.dv-pane-container .dv-view:not(:first-child) .dv-pane > .dv-pane-header {\n  border-top: 1px solid var(--dv-paneview-header-border-color);\n}\n.dv-pane-container .dv-view .dv-default-header {\n  background-color: var(--dv-group-view-background-color);\n  color: var(--dv-activegroup-visiblepanel-tab-color);\n  display: flex;\n  padding: 0px 8px;\n  cursor: pointer;\n}\n.dv-pane-container .dv-view .dv-default-header .dv-pane-header-icon {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.dv-pane-container .dv-view .dv-default-header > span {\n  padding-left: 8px;\n  flex-grow: 1;\n}\n.dv-pane-container:first-of-type > .dv-pane > .dv-pane-header {\n  border-top: none !important;\n}\n.dv-pane-container .dv-pane {\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  height: 100%;\n}\n.dv-pane-container .dv-pane .dv-pane-header {\n  box-sizing: border-box;\n  user-select: none;\n  position: relative;\n  outline: none;\n}\n.dv-pane-container .dv-pane .dv-pane-header.dv-pane-draggable {\n  cursor: pointer;\n}\n.dv-pane-container .dv-pane .dv-pane-header:focus:before, .dv-pane-container .dv-pane .dv-pane-header:focus-within:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 5;\n  content: \"\";\n  pointer-events: none;\n  outline: 1px solid;\n  outline-width: -1px;\n  outline-style: solid;\n  outline-offset: -1px;\n  outline-color: var(--dv-paneview-active-outline-color);\n}\n.dv-pane-container .dv-pane .dv-pane-body {\n  overflow-y: auto;\n  overflow-x: hidden;\n  flex-grow: 1;\n  position: relative;\n  outline: none;\n}\n.dv-pane-container .dv-pane .dv-pane-body:focus:before, .dv-pane-container .dv-pane .dv-pane-body:focus-within:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 5;\n  content: \"\";\n  pointer-events: none;\n  outline: 1px solid;\n  outline-width: -1px;\n  outline-style: solid;\n  outline-offset: -1px;\n  outline-color: var(--dv-paneview-active-outline-color);\n}\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-enabled {\n  background-color: black;\n}\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-disabled {\n  background-color: orange;\n}\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-maximum {\n  background-color: green;\n}\n.dv-debug .dv-split-view-container .dv-sash-container .dv-sash.dv-minimum {\n  background-color: red;\n}\n\n.dv-split-view-container {\n  position: relative;\n  overflow: hidden;\n  height: 100%;\n  width: 100%;\n}\n.dv-split-view-container.dv-splitview-disabled > .dv-sash-container > .dv-sash {\n  pointer-events: none;\n}\n.dv-split-view-container.dv-animation .dv-view,\n.dv-split-view-container.dv-animation .dv-sash {\n  /* GPU optimizations for smooth animations */\n  will-change: transform;\n  transform: translate3d(0, 0, 0);\n  backface-visibility: hidden;\n  transition: transform 0.15s ease-out;\n}\n.dv-split-view-container.dv-horizontal {\n  height: 100%;\n}\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash {\n  height: 100%;\n  width: 4px;\n}\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-enabled {\n  cursor: ew-resize;\n}\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-disabled {\n  cursor: default;\n}\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-maximum {\n  cursor: w-resize;\n}\n.dv-split-view-container.dv-horizontal > .dv-sash-container > .dv-sash.dv-minimum {\n  cursor: e-resize;\n}\n.dv-split-view-container.dv-horizontal > .dv-view-container > .dv-view:not(:first-child)::before {\n  height: 100%;\n  width: 1px;\n}\n.dv-split-view-container.dv-vertical {\n  width: 100%;\n}\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash {\n  width: 100%;\n  height: 4px;\n}\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-enabled {\n  cursor: ns-resize;\n}\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-disabled {\n  cursor: default;\n}\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-maximum {\n  cursor: n-resize;\n}\n.dv-split-view-container.dv-vertical > .dv-sash-container > .dv-sash.dv-minimum {\n  cursor: s-resize;\n}\n.dv-split-view-container.dv-vertical > .dv-view-container > .dv-view {\n  width: 100%;\n}\n.dv-split-view-container.dv-vertical > .dv-view-container > .dv-view:not(:first-child)::before {\n  height: 1px;\n  width: 100%;\n}\n.dv-split-view-container .dv-sash-container {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n}\n.dv-split-view-container .dv-sash-container .dv-sash {\n  position: absolute;\n  z-index: 99;\n  outline: none;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  touch-action: none;\n  background-color: var(--dv-sash-color, transparent);\n}\n.dv-split-view-container .dv-sash-container .dv-sash:not(.disabled):active, .dv-split-view-container .dv-sash-container .dv-sash:not(.disabled):hover {\n  background-color: var(--dv-active-sash-color, transparent);\n  transition-property: background-color;\n  transition-timing-function: ease-in-out;\n  transition-duration: var(--dv-active-sash-transition-duration, 0.1s);\n  transition-delay: var(--dv-active-sash-transition-delay, 0.5s);\n}\n.dv-split-view-container .dv-view-container {\n  position: relative;\n  height: 100%;\n  width: 100%;\n}\n.dv-split-view-container .dv-view-container .dv-view {\n  height: 100%;\n  box-sizing: border-box;\n  overflow: auto;\n  position: absolute;\n}\n.dv-split-view-container.dv-separator-border .dv-view:not(:first-child)::before {\n  content: \" \";\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  pointer-events: none;\n  background-color: var(--dv-separator-border);\n}\n.dv-dragged {\n  transform: translate3d(0px, 0px, 0px); /* forces tab to be drawn on a separate layer (see https://github.com/microsoft/vscode/issues/18733) */\n}\n\n.dv-tab {\n  flex-shrink: 0;\n}\n.dv-tab:focus-within, .dv-tab:focus {\n  position: relative;\n}\n.dv-tab:focus-within::after, .dv-tab:focus::after {\n  position: absolute;\n  content: \"\";\n  height: 100%;\n  width: 100%;\n  top: 0px;\n  left: 0px;\n  pointer-events: none;\n  outline: 1px solid var(--dv-tab-divider-color) !important;\n  outline-offset: -1px;\n  z-index: 5;\n}\n.dv-tab.dv-tab-dragging .dv-default-tab-action {\n  background-color: var(--dv-activegroup-visiblepanel-tab-color);\n}\n.dv-tab.dv-active-tab .dv-default-tab .dv-default-tab-action {\n  visibility: visible;\n}\n.dv-tab.dv-inactive-tab .dv-default-tab .dv-default-tab-action {\n  visibility: hidden;\n}\n.dv-tab.dv-inactive-tab .dv-default-tab:hover .dv-default-tab-action {\n  visibility: visible;\n}\n.dv-tab .dv-default-tab {\n  position: relative;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.dv-tab .dv-default-tab .dv-default-tab-content {\n  flex-grow: 1;\n  margin-right: 4px;\n}\n.dv-tab .dv-default-tab .dv-default-tab-action {\n  padding: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n}\n.dv-tab .dv-default-tab .dv-default-tab-action:hover {\n  border-radius: 2px;\n  background-color: var(--dv-icon-hover-background-color);\n}\n.dv-tabs-overflow-dropdown-default {\n  height: 100%;\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\n  margin: var(--dv-tab-margin);\n  display: flex;\n  align-items: center;\n  flex-shrink: 0;\n  padding: 0.25rem 0.5rem;\n  cursor: pointer;\n}\n.dv-tabs-overflow-dropdown-default > span {\n  padding-left: 0.25rem;\n}\n.dv-tabs-overflow-dropdown-default > svg {\n  transform: rotate(90deg);\n}\n.dv-tabs-container {\n  display: flex;\n  height: 100%;\n  overflow: auto;\n  scrollbar-width: thin;\n  /* GPU optimizations for smooth scrolling */\n  will-change: scroll-position;\n  transform: translate3d(0, 0, 0);\n  /* Track */\n  /* Handle */\n}\n.dv-tabs-container.dv-horizontal .dv-tab:not(:first-child)::before {\n  content: \" \";\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 5;\n  pointer-events: none;\n  background-color: var(--dv-tab-divider-color);\n  width: 1px;\n  height: 100%;\n}\n.dv-tabs-container::-webkit-scrollbar {\n  height: 3px;\n}\n.dv-tabs-container::-webkit-scrollbar-track {\n  background: transparent;\n}\n.dv-tabs-container::-webkit-scrollbar-thumb {\n  background: var(--dv-tabs-container-scrollbar-color);\n}\n\n.dv-scrollable > .dv-tabs-container {\n  overflow: hidden;\n}\n\n.dv-tab {\n  -webkit-user-drag: element;\n  outline: none;\n  padding: 0.25rem 0.5rem;\n  cursor: pointer;\n  position: relative;\n  box-sizing: border-box;\n  font-size: var(--dv-tab-font-size);\n  margin: var(--dv-tab-margin);\n}\n\n.dv-tabs-overflow-container {\n  flex-direction: column;\n  height: unset;\n  border: 1px solid var(--dv-tab-divider-color);\n  background-color: var(--dv-group-view-background-color);\n}\n.dv-tabs-overflow-container .dv-tab:not(:last-child) {\n  border-bottom: 1px solid var(--dv-tab-divider-color);\n}\n.dv-tabs-overflow-container .dv-active-tab {\n  background-color: var(--dv-activegroup-visiblepanel-tab-background-color);\n  color: var(--dv-activegroup-visiblepanel-tab-color);\n}\n.dv-tabs-overflow-container .dv-inactive-tab {\n  background-color: var(--dv-activegroup-hiddenpanel-tab-background-color);\n  color: var(--dv-activegroup-hiddenpanel-tab-color);\n}\n.dv-tabs-and-actions-container {\n  display: flex;\n  background-color: var(--dv-tabs-and-actions-container-background-color);\n  flex-shrink: 0;\n  box-sizing: border-box;\n  height: var(--dv-tabs-and-actions-container-height);\n  font-size: var(--dv-tabs-and-actions-container-font-size);\n}\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-scrollable {\n  flex-grow: 1;\n}\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-tabs-container {\n  flex-grow: 1;\n}\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-tabs-container .dv-tab {\n  flex-grow: 1;\n  padding: 0px;\n}\n.dv-tabs-and-actions-container.dv-single-tab.dv-full-width-single-tab .dv-void-container {\n  flex-grow: 0;\n}\n.dv-tabs-and-actions-container .dv-void-container {\n  display: flex;\n  flex-grow: 1;\n}\n.dv-tabs-and-actions-container .dv-void-container.dv-draggable {\n  cursor: grab;\n}\n.dv-tabs-and-actions-container .dv-right-actions-container {\n  display: flex;\n}\n.dv-watermark {\n  display: flex;\n  height: 100%;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {



/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
*/
module.exports = function (cssWithMappingToString) {
  var list = [];

  // return the list of modules as css string
  list.toString = function toString() {
    return this.map(function (item) {
      var content = "";
      var needLayer = typeof item[5] !== "undefined";
      if (item[4]) {
        content += "@supports (".concat(item[4], ") {");
      }
      if (item[2]) {
        content += "@media ".concat(item[2], " {");
      }
      if (needLayer) {
        content += "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {");
      }
      content += cssWithMappingToString(item);
      if (needLayer) {
        content += "}";
      }
      if (item[2]) {
        content += "}";
      }
      if (item[4]) {
        content += "}";
      }
      return content;
    }).join("");
  };

  // import a list of modules into the list
  list.i = function i(modules, media, dedupe, supports, layer) {
    if (typeof modules === "string") {
      modules = [[null, modules, undefined]];
    }
    var alreadyImportedModules = {};
    if (dedupe) {
      for (var k = 0; k < this.length; k++) {
        var id = this[k][0];
        if (id != null) {
          alreadyImportedModules[id] = true;
        }
      }
    }
    for (var _k = 0; _k < modules.length; _k++) {
      var item = [].concat(modules[_k]);
      if (dedupe && alreadyImportedModules[item[0]]) {
        continue;
      }
      if (typeof layer !== "undefined") {
        if (typeof item[5] === "undefined") {
          item[5] = layer;
        } else {
          item[1] = "@layer".concat(item[5].length > 0 ? " ".concat(item[5]) : "", " {").concat(item[1], "}");
          item[5] = layer;
        }
      }
      if (media) {
        if (!item[2]) {
          item[2] = media;
        } else {
          item[1] = "@media ".concat(item[2], " {").concat(item[1], "}");
          item[2] = media;
        }
      }
      if (supports) {
        if (!item[4]) {
          item[4] = "".concat(supports);
        } else {
          item[1] = "@supports (".concat(item[4], ") {").concat(item[1], "}");
          item[4] = supports;
        }
      }
      list.push(item);
    }
  };
  return list;
};

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {



module.exports = function (item) {
  var content = item[1];
  var cssMapping = item[3];
  if (!cssMapping) {
    return content;
  }
  if (typeof btoa === "function") {
    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));
    var data = "sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64);
    var sourceMapping = "/*# ".concat(data, " */");
    return [content].concat([sourceMapping]).join("\n");
  }
  return [content].join("\n");
};

/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/api/component.api.js":
/*!******************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/api/component.api.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DockviewApi: () => (/* binding */ DockviewApi),
/* harmony export */   GridviewApi: () => (/* binding */ GridviewApi),
/* harmony export */   PaneviewApi: () => (/* binding */ PaneviewApi),
/* harmony export */   SplitviewApi: () => (/* binding */ SplitviewApi)
/* harmony export */ });
class SplitviewApi {
    /**
     * The minimum size  the component can reach where size is measured in the direction of orientation provided.
     */
    get minimumSize() {
        return this.component.minimumSize;
    }
    /**
     * The maximum size the component can reach where size is measured in the direction of orientation provided.
     */
    get maximumSize() {
        return this.component.maximumSize;
    }
    /**
     * Width of the component.
     */
    get width() {
        return this.component.width;
    }
    /**
     * Height of the component.
     */
    get height() {
        return this.component.height;
    }
    /**
     * The current number of panels.
     */
    get length() {
        return this.component.length;
    }
    /**
     * The current orientation of the component.
     */
    get orientation() {
        return this.component.orientation;
    }
    /**
     * The list of current panels.
     */
    get panels() {
        return this.component.panels;
    }
    /**
     * Invoked after a layout is loaded through the `fromJSON` method.
     */
    get onDidLayoutFromJSON() {
        return this.component.onDidLayoutFromJSON;
    }
    /**
     * Invoked whenever any aspect of the layout changes.
     * If listening to this event it may be worth debouncing ouputs.
     */
    get onDidLayoutChange() {
        return this.component.onDidLayoutChange;
    }
    /**
     * Invoked when a view is added.
     */
    get onDidAddView() {
        return this.component.onDidAddView;
    }
    /**
     * Invoked when a view is removed.
     */
    get onDidRemoveView() {
        return this.component.onDidRemoveView;
    }
    constructor(component) {
        this.component = component;
    }
    /**
     * Removes an existing panel and optionally provide a `Sizing` method
     * for the subsequent resize.
     */
    removePanel(panel, sizing) {
        this.component.removePanel(panel, sizing);
    }
    /**
     * Focus the component.
     */
    focus() {
        this.component.focus();
    }
    /**
     * Get the reference to a panel given it's `string` id.
     */
    getPanel(id) {
        return this.component.getPanel(id);
    }
    /**
     * Layout the panel with a width and height.
     */
    layout(width, height) {
        return this.component.layout(width, height);
    }
    /**
     * Add a new panel and return the created instance.
     */
    addPanel(options) {
        return this.component.addPanel(options);
    }
    /**
     * Move a panel given it's current and desired index.
     */
    movePanel(from, to) {
        this.component.movePanel(from, to);
    }
    /**
     * Deserialize a layout to built a splitivew.
     */
    fromJSON(data) {
        this.component.fromJSON(data);
    }
    /** Serialize a layout */
    toJSON() {
        return this.component.toJSON();
    }
    /**
     * Remove all panels and clear the component.
     */
    clear() {
        this.component.clear();
    }
    /**
     * Update configuratable options.
     */
    updateOptions(options) {
        this.component.updateOptions(options);
    }
    /**
     * Release resources and teardown component. Do not call when using framework versions of dockview.
     */
    dispose() {
        this.component.dispose();
    }
}
class PaneviewApi {
    /**
     * The minimum size  the component can reach where size is measured in the direction of orientation provided.
     */
    get minimumSize() {
        return this.component.minimumSize;
    }
    /**
     * The maximum size the component can reach where size is measured in the direction of orientation provided.
     */
    get maximumSize() {
        return this.component.maximumSize;
    }
    /**
     * Width of the component.
     */
    get width() {
        return this.component.width;
    }
    /**
     * Height of the component.
     */
    get height() {
        return this.component.height;
    }
    /**
     * All panel objects.
     */
    get panels() {
        return this.component.panels;
    }
    /**
     * Invoked when any layout change occures, an aggregation of many events.
     */
    get onDidLayoutChange() {
        return this.component.onDidLayoutChange;
    }
    /**
     * Invoked after a layout is deserialzied using the `fromJSON` method.
     */
    get onDidLayoutFromJSON() {
        return this.component.onDidLayoutFromJSON;
    }
    /**
     * Invoked when a panel is added. May be called multiple times when moving panels.
     */
    get onDidAddView() {
        return this.component.onDidAddView;
    }
    /**
     * Invoked when a panel is removed. May be called multiple times when moving panels.
     */
    get onDidRemoveView() {
        return this.component.onDidRemoveView;
    }
    /**
     * Invoked when a Drag'n'Drop event occurs that the component was unable to handle. Exposed for custom Drag'n'Drop functionality.
     */
    get onDidDrop() {
        return this.component.onDidDrop;
    }
    get onUnhandledDragOverEvent() {
        return this.component.onUnhandledDragOverEvent;
    }
    constructor(component) {
        this.component = component;
    }
    /**
     * Remove a panel given the panel object.
     */
    removePanel(panel) {
        this.component.removePanel(panel);
    }
    /**
     * Get a panel object given a `string` id. May return `undefined`.
     */
    getPanel(id) {
        return this.component.getPanel(id);
    }
    /**
     * Move a panel given it's current and desired index.
     */
    movePanel(from, to) {
        this.component.movePanel(from, to);
    }
    /**
     *  Focus the component. Will try to focus an active panel if one exists.
     */
    focus() {
        this.component.focus();
    }
    /**
     * Force resize the component to an exact width and height. Read about auto-resizing before using.
     */
    layout(width, height) {
        this.component.layout(width, height);
    }
    /**
     * Add a panel and return the created object.
     */
    addPanel(options) {
        return this.component.addPanel(options);
    }
    /**
     * Create a component from a serialized object.
     */
    fromJSON(data) {
        this.component.fromJSON(data);
    }
    /**
     * Create a serialized object of the current component.
     */
    toJSON() {
        return this.component.toJSON();
    }
    /**
     * Reset the component back to an empty and default state.
     */
    clear() {
        this.component.clear();
    }
    /**
     * Update configuratable options.
     */
    updateOptions(options) {
        this.component.updateOptions(options);
    }
    /**
     * Release resources and teardown component. Do not call when using framework versions of dockview.
     */
    dispose() {
        this.component.dispose();
    }
}
class GridviewApi {
    /**
     * Width of the component.
     */
    get width() {
        return this.component.width;
    }
    /**
     * Height of the component.
     */
    get height() {
        return this.component.height;
    }
    /**
     * Minimum height of the component.
     */
    get minimumHeight() {
        return this.component.minimumHeight;
    }
    /**
     * Maximum height of the component.
     */
    get maximumHeight() {
        return this.component.maximumHeight;
    }
    /**
     * Minimum width of the component.
     */
    get minimumWidth() {
        return this.component.minimumWidth;
    }
    /**
     * Maximum width of the component.
     */
    get maximumWidth() {
        return this.component.maximumWidth;
    }
    /**
     * Invoked when any layout change occures, an aggregation of many events.
     */
    get onDidLayoutChange() {
        return this.component.onDidLayoutChange;
    }
    /**
     * Invoked when a panel is added. May be called multiple times when moving panels.
     */
    get onDidAddPanel() {
        return this.component.onDidAddGroup;
    }
    /**
     * Invoked when a panel is removed. May be called multiple times when moving panels.
     */
    get onDidRemovePanel() {
        return this.component.onDidRemoveGroup;
    }
    /**
     * Invoked when the active panel changes. May be undefined if no panel is active.
     */
    get onDidActivePanelChange() {
        return this.component.onDidActiveGroupChange;
    }
    /**
     * Invoked after a layout is deserialzied using the `fromJSON` method.
     */
    get onDidLayoutFromJSON() {
        return this.component.onDidLayoutFromJSON;
    }
    /**
     * All panel objects.
     */
    get panels() {
        return this.component.groups;
    }
    /**
     * Current orientation. Can be changed after initialization.
     */
    get orientation() {
        return this.component.orientation;
    }
    set orientation(value) {
        this.component.updateOptions({ orientation: value });
    }
    constructor(component) {
        this.component = component;
    }
    /**
     *  Focus the component. Will try to focus an active panel if one exists.
     */
    focus() {
        this.component.focus();
    }
    /**
     * Force resize the component to an exact width and height. Read about auto-resizing before using.
     */
    layout(width, height, force = false) {
        this.component.layout(width, height, force);
    }
    /**
     * Add a panel and return the created object.
     */
    addPanel(options) {
        return this.component.addPanel(options);
    }
    /**
     * Remove a panel given the panel object.
     */
    removePanel(panel, sizing) {
        this.component.removePanel(panel, sizing);
    }
    /**
     * Move a panel in a particular direction relative to another panel.
     */
    movePanel(panel, options) {
        this.component.movePanel(panel, options);
    }
    /**
     * Get a panel object given a `string` id. May return `undefined`.
     */
    getPanel(id) {
        return this.component.getPanel(id);
    }
    /**
     * Create a component from a serialized object.
     */
    fromJSON(data) {
        return this.component.fromJSON(data);
    }
    /**
     * Create a serialized object of the current component.
     */
    toJSON() {
        return this.component.toJSON();
    }
    /**
     * Reset the component back to an empty and default state.
     */
    clear() {
        this.component.clear();
    }
    updateOptions(options) {
        this.component.updateOptions(options);
    }
    /**
     * Release resources and teardown component. Do not call when using framework versions of dockview.
     */
    dispose() {
        this.component.dispose();
    }
}
class DockviewApi {
    /**
     * The unique identifier for this instance. Used to manage scope of Drag'n'Drop events.
     */
    get id() {
        return this.component.id;
    }
    /**
     * Width of the component.
     */
    get width() {
        return this.component.width;
    }
    /**
     * Height of the component.
     */
    get height() {
        return this.component.height;
    }
    /**
     * Minimum height of the component.
     */
    get minimumHeight() {
        return this.component.minimumHeight;
    }
    /**
     * Maximum height of the component.
     */
    get maximumHeight() {
        return this.component.maximumHeight;
    }
    /**
     * Minimum width of the component.
     */
    get minimumWidth() {
        return this.component.minimumWidth;
    }
    /**
     * Maximum width of the component.
     */
    get maximumWidth() {
        return this.component.maximumWidth;
    }
    /**
     * Total number of groups.
     */
    get size() {
        return this.component.size;
    }
    /**
     * Total number of panels.
     */
    get totalPanels() {
        return this.component.totalPanels;
    }
    /**
     * Invoked when the active group changes. May be undefined if no group is active.
     */
    get onDidActiveGroupChange() {
        return this.component.onDidActiveGroupChange;
    }
    /**
     * Invoked when a group is added. May be called multiple times when moving groups.
     */
    get onDidAddGroup() {
        return this.component.onDidAddGroup;
    }
    /**
     * Invoked when a group is removed. May be called multiple times when moving groups.
     */
    get onDidRemoveGroup() {
        return this.component.onDidRemoveGroup;
    }
    /**
     * Invoked when the active panel changes. May be undefined if no panel is active.
     */
    get onDidActivePanelChange() {
        return this.component.onDidActivePanelChange;
    }
    /**
     * Invoked when a panel is added. May be called multiple times when moving panels.
     */
    get onDidAddPanel() {
        return this.component.onDidAddPanel;
    }
    /**
     * Invoked when a panel is removed. May be called multiple times when moving panels.
     */
    get onDidRemovePanel() {
        return this.component.onDidRemovePanel;
    }
    get onDidMovePanel() {
        return this.component.onDidMovePanel;
    }
    /**
     * Invoked after a layout is deserialzied using the `fromJSON` method.
     */
    get onDidLayoutFromJSON() {
        return this.component.onDidLayoutFromJSON;
    }
    /**
     * Invoked when any layout change occures, an aggregation of many events.
     */
    get onDidLayoutChange() {
        return this.component.onDidLayoutChange;
    }
    /**
     * Invoked when a Drag'n'Drop event occurs that the component was unable to handle. Exposed for custom Drag'n'Drop functionality.
     */
    get onDidDrop() {
        return this.component.onDidDrop;
    }
    /**
     * Invoked when a Drag'n'Drop event occurs but before dockview handles it giving the user an opportunity to intecept and
     * prevent the event from occuring using the standard `preventDefault()` syntax.
     *
     * Preventing certain events may causes unexpected behaviours, use carefully.
     */
    get onWillDrop() {
        return this.component.onWillDrop;
    }
    /**
     * Invoked before an overlay is shown indicating a drop target.
     *
     * Calling `event.preventDefault()` will prevent the overlay being shown and prevent
     * the any subsequent drop event.
     */
    get onWillShowOverlay() {
        return this.component.onWillShowOverlay;
    }
    /**
     * Invoked before a group is dragged.
     *
     * Calling `event.nativeEvent.preventDefault()` will prevent the group drag starting.
     *
     */
    get onWillDragGroup() {
        return this.component.onWillDragGroup;
    }
    /**
     * Invoked before a panel is dragged.
     *
     * Calling `event.nativeEvent.preventDefault()` will prevent the panel drag starting.
     */
    get onWillDragPanel() {
        return this.component.onWillDragPanel;
    }
    get onUnhandledDragOverEvent() {
        return this.component.onUnhandledDragOverEvent;
    }
    get onDidPopoutGroupSizeChange() {
        return this.component.onDidPopoutGroupSizeChange;
    }
    get onDidPopoutGroupPositionChange() {
        return this.component.onDidPopoutGroupPositionChange;
    }
    get onDidOpenPopoutWindowFail() {
        return this.component.onDidOpenPopoutWindowFail;
    }
    /**
     * All panel objects.
     */
    get panels() {
        return this.component.panels;
    }
    /**
     * All group objects.
     */
    get groups() {
        return this.component.groups;
    }
    /**
     *  Active panel object.
     */
    get activePanel() {
        return this.component.activePanel;
    }
    /**
     * Active group object.
     */
    get activeGroup() {
        return this.component.activeGroup;
    }
    constructor(component) {
        this.component = component;
    }
    /**
     *  Focus the component. Will try to focus an active panel if one exists.
     */
    focus() {
        this.component.focus();
    }
    /**
     * Get a panel object given a `string` id. May return `undefined`.
     */
    getPanel(id) {
        return this.component.getGroupPanel(id);
    }
    /**
     * Force resize the component to an exact width and height. Read about auto-resizing before using.
     */
    layout(width, height, force = false) {
        this.component.layout(width, height, force);
    }
    /**
     * Add a panel and return the created object.
     */
    addPanel(options) {
        return this.component.addPanel(options);
    }
    /**
     * Remove a panel given the panel object.
     */
    removePanel(panel) {
        this.component.removePanel(panel);
    }
    /**
     * Add a group and return the created object.
     */
    addGroup(options) {
        return this.component.addGroup(options);
    }
    /**
     * Close all groups and panels.
     */
    closeAllGroups() {
        return this.component.closeAllGroups();
    }
    /**
     * Remove a group and any panels within the group.
     */
    removeGroup(group) {
        this.component.removeGroup(group);
    }
    /**
     * Get a group object given a `string` id. May return undefined.
     */
    getGroup(id) {
        return this.component.getPanel(id);
    }
    /**
     * Add a floating group
     */
    addFloatingGroup(item, options) {
        return this.component.addFloatingGroup(item, options);
    }
    /**
     * Create a component from a serialized object.
     */
    fromJSON(data) {
        this.component.fromJSON(data);
    }
    /**
     * Create a serialized object of the current component.
     */
    toJSON() {
        return this.component.toJSON();
    }
    /**
     * Reset the component back to an empty and default state.
     */
    clear() {
        this.component.clear();
    }
    /**
     * Move the focus progmatically to the next panel or group.
     */
    moveToNext(options) {
        this.component.moveToNext(options);
    }
    /**
     * Move the focus progmatically to the previous panel or group.
     */
    moveToPrevious(options) {
        this.component.moveToPrevious(options);
    }
    maximizeGroup(panel) {
        this.component.maximizeGroup(panel.group);
    }
    hasMaximizedGroup() {
        return this.component.hasMaximizedGroup();
    }
    exitMaximizedGroup() {
        this.component.exitMaximizedGroup();
    }
    get onDidMaximizedGroupChange() {
        return this.component.onDidMaximizedGroupChange;
    }
    /**
     * Add a popout group in a new Window
     */
    addPopoutGroup(item, options) {
        return this.component.addPopoutGroup(item, options);
    }
    updateOptions(options) {
        this.component.updateOptions(options);
    }
    /**
     * Release resources and teardown component. Do not call when using framework versions of dockview.
     */
    dispose() {
        this.component.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/api/dockviewGroupPanelApi.js":
/*!**************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/api/dockviewGroupPanelApi.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DockviewGroupPanelApiImpl: () => (/* binding */ DockviewGroupPanelApiImpl)
/* harmony export */ });
/* harmony import */ var _dnd_droptarget__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dnd/droptarget */ "./node_modules/dockview-core/dist/esm/dnd/droptarget.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _gridviewPanelApi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gridviewPanelApi */ "./node_modules/dockview-core/dist/esm/api/gridviewPanelApi.js");



const NOT_INITIALIZED_MESSAGE = 'dockview: DockviewGroupPanelApiImpl not initialized';
class DockviewGroupPanelApiImpl extends _gridviewPanelApi__WEBPACK_IMPORTED_MODULE_2__.GridviewPanelApiImpl {
    get location() {
        if (!this._group) {
            throw new Error(NOT_INITIALIZED_MESSAGE);
        }
        return this._group.model.location;
    }
    constructor(id, accessor) {
        super(id, '__dockviewgroup__');
        this.accessor = accessor;
        this._onDidLocationChange = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidLocationChange = this._onDidLocationChange.event;
        this._onDidActivePanelChange = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidActivePanelChange = this._onDidActivePanelChange.event;
        this.addDisposables(this._onDidLocationChange, this._onDidActivePanelChange);
    }
    close() {
        if (!this._group) {
            return;
        }
        return this.accessor.removeGroup(this._group);
    }
    getWindow() {
        return this.location.type === 'popout'
            ? this.location.getWindow()
            : window;
    }
    moveTo(options) {
        var _a, _b, _c, _d;
        if (!this._group) {
            throw new Error(NOT_INITIALIZED_MESSAGE);
        }
        const group = (_a = options.group) !== null && _a !== void 0 ? _a : this.accessor.addGroup({
            direction: (0,_dnd_droptarget__WEBPACK_IMPORTED_MODULE_0__.positionToDirection)((_b = options.position) !== null && _b !== void 0 ? _b : 'right'),
            skipSetActive: (_c = options.skipSetActive) !== null && _c !== void 0 ? _c : false,
        });
        this.accessor.moveGroupOrPanel({
            from: { groupId: this._group.id },
            to: {
                group,
                position: options.group
                    ? (_d = options.position) !== null && _d !== void 0 ? _d : 'center'
                    : 'center',
                index: options.index,
            },
            skipSetActive: options.skipSetActive,
        });
    }
    maximize() {
        if (!this._group) {
            throw new Error(NOT_INITIALIZED_MESSAGE);
        }
        if (this.location.type !== 'grid') {
            // only grid groups can be maximized
            return;
        }
        this.accessor.maximizeGroup(this._group);
    }
    isMaximized() {
        if (!this._group) {
            throw new Error(NOT_INITIALIZED_MESSAGE);
        }
        return this.accessor.isMaximizedGroup(this._group);
    }
    exitMaximized() {
        if (!this._group) {
            throw new Error(NOT_INITIALIZED_MESSAGE);
        }
        if (this.isMaximized()) {
            this.accessor.exitMaximizedGroup();
        }
    }
    initialize(group) {
        this._group = group;
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/api/dockviewPanelApi.js":
/*!*********************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/api/dockviewPanelApi.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DockviewPanelApiImpl: () => (/* binding */ DockviewPanelApiImpl)
/* harmony export */ });
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _gridviewPanelApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gridviewPanelApi */ "./node_modules/dockview-core/dist/esm/api/gridviewPanelApi.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");



class DockviewPanelApiImpl extends _gridviewPanelApi__WEBPACK_IMPORTED_MODULE_1__.GridviewPanelApiImpl {
    get location() {
        return this.group.api.location;
    }
    get title() {
        return this.panel.title;
    }
    get isGroupActive() {
        return this.group.isActive;
    }
    get renderer() {
        return this.panel.renderer;
    }
    set group(value) {
        const oldGroup = this._group;
        if (this._group !== value) {
            this._group = value;
            this._onDidGroupChange.fire({});
            this.setupGroupEventListeners(oldGroup);
            this._onDidLocationChange.fire({
                location: this.group.api.location,
            });
        }
    }
    get group() {
        return this._group;
    }
    get tabComponent() {
        return this._tabComponent;
    }
    constructor(panel, group, accessor, component, tabComponent) {
        super(panel.id, component);
        this.panel = panel;
        this.accessor = accessor;
        this._onDidTitleChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidTitleChange = this._onDidTitleChange.event;
        this._onDidActiveGroupChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidActiveGroupChange = this._onDidActiveGroupChange.event;
        this._onDidGroupChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidGroupChange = this._onDidGroupChange.event;
        this._onDidRendererChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidRendererChange = this._onDidRendererChange.event;
        this._onDidLocationChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidLocationChange = this._onDidLocationChange.event;
        this.groupEventsDisposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.MutableDisposable();
        this._tabComponent = tabComponent;
        this.initialize(panel);
        this._group = group;
        this.setupGroupEventListeners();
        this.addDisposables(this.groupEventsDisposable, this._onDidRendererChange, this._onDidTitleChange, this._onDidGroupChange, this._onDidActiveGroupChange, this._onDidLocationChange);
    }
    getWindow() {
        return this.group.api.getWindow();
    }
    moveTo(options) {
        var _a, _b;
        this.accessor.moveGroupOrPanel({
            from: { groupId: this._group.id, panelId: this.panel.id },
            to: {
                group: (_a = options.group) !== null && _a !== void 0 ? _a : this._group,
                position: options.group
                    ? (_b = options.position) !== null && _b !== void 0 ? _b : 'center'
                    : 'center',
                index: options.index,
            },
            skipSetActive: options.skipSetActive,
        });
    }
    setTitle(title) {
        this.panel.setTitle(title);
    }
    setRenderer(renderer) {
        this.panel.setRenderer(renderer);
    }
    close() {
        this.group.model.closePanel(this.panel);
    }
    maximize() {
        this.group.api.maximize();
    }
    isMaximized() {
        return this.group.api.isMaximized();
    }
    exitMaximized() {
        this.group.api.exitMaximized();
    }
    setupGroupEventListeners(previousGroup) {
        var _a;
        let _trackGroupActive = (_a = previousGroup === null || previousGroup === void 0 ? void 0 : previousGroup.isActive) !== null && _a !== void 0 ? _a : false; // prevent duplicate events with same state
        this.groupEventsDisposable.value = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable(this.group.api.onDidVisibilityChange((event) => {
            const hasBecomeHidden = !event.isVisible && this.isVisible;
            const hasBecomeVisible = event.isVisible && !this.isVisible;
            const isActivePanel = this.group.model.isPanelActive(this.panel);
            if (hasBecomeHidden || (hasBecomeVisible && isActivePanel)) {
                this._onDidVisibilityChange.fire(event);
            }
        }), this.group.api.onDidLocationChange((event) => {
            if (this.group !== this.panel.group) {
                return;
            }
            this._onDidLocationChange.fire(event);
        }), this.group.api.onDidActiveChange(() => {
            if (this.group !== this.panel.group) {
                return;
            }
            if (_trackGroupActive !== this.isGroupActive) {
                _trackGroupActive = this.isGroupActive;
                this._onDidActiveGroupChange.fire({
                    isActive: this.isGroupActive,
                });
            }
        }));
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/api/entryPoints.js":
/*!****************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/api/entryPoints.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createDockview: () => (/* binding */ createDockview),
/* harmony export */   createGridview: () => (/* binding */ createGridview),
/* harmony export */   createPaneview: () => (/* binding */ createPaneview),
/* harmony export */   createSplitview: () => (/* binding */ createSplitview)
/* harmony export */ });
/* harmony import */ var _api_component_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/component.api */ "./node_modules/dockview-core/dist/esm/api/component.api.js");
/* harmony import */ var _dockview_dockviewComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dockview/dockviewComponent */ "./node_modules/dockview-core/dist/esm/dockview/dockviewComponent.js");
/* harmony import */ var _gridview_gridviewComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../gridview/gridviewComponent */ "./node_modules/dockview-core/dist/esm/gridview/gridviewComponent.js");
/* harmony import */ var _paneview_paneviewComponent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../paneview/paneviewComponent */ "./node_modules/dockview-core/dist/esm/paneview/paneviewComponent.js");
/* harmony import */ var _splitview_splitviewComponent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../splitview/splitviewComponent */ "./node_modules/dockview-core/dist/esm/splitview/splitviewComponent.js");





function createDockview(element, options) {
    const component = new _dockview_dockviewComponent__WEBPACK_IMPORTED_MODULE_1__.DockviewComponent(element, options);
    return component.api;
}
function createSplitview(element, options) {
    const component = new _splitview_splitviewComponent__WEBPACK_IMPORTED_MODULE_4__.SplitviewComponent(element, options);
    return new _api_component_api__WEBPACK_IMPORTED_MODULE_0__.SplitviewApi(component);
}
function createGridview(element, options) {
    const component = new _gridview_gridviewComponent__WEBPACK_IMPORTED_MODULE_2__.GridviewComponent(element, options);
    return new _api_component_api__WEBPACK_IMPORTED_MODULE_0__.GridviewApi(component);
}
function createPaneview(element, options) {
    const component = new _paneview_paneviewComponent__WEBPACK_IMPORTED_MODULE_3__.PaneviewComponent(element, options);
    return new _api_component_api__WEBPACK_IMPORTED_MODULE_0__.PaneviewApi(component);
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/api/gridviewPanelApi.js":
/*!*********************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/api/gridviewPanelApi.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GridviewPanelApiImpl: () => (/* binding */ GridviewPanelApiImpl)
/* harmony export */ });
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _panelApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./panelApi */ "./node_modules/dockview-core/dist/esm/api/panelApi.js");


class GridviewPanelApiImpl extends _panelApi__WEBPACK_IMPORTED_MODULE_1__.PanelApiImpl {
    constructor(id, component, panel) {
        super(id, component);
        this._onDidConstraintsChangeInternal = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidConstraintsChangeInternal = this._onDidConstraintsChangeInternal.event;
        this._onDidConstraintsChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidConstraintsChange = this._onDidConstraintsChange.event;
        this._onDidSizeChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidSizeChange = this._onDidSizeChange.event;
        this.addDisposables(this._onDidConstraintsChangeInternal, this._onDidConstraintsChange, this._onDidSizeChange);
        if (panel) {
            this.initialize(panel);
        }
    }
    setConstraints(value) {
        this._onDidConstraintsChangeInternal.fire(value);
    }
    setSize(event) {
        this._onDidSizeChange.fire(event);
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/api/panelApi.js":
/*!*************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/api/panelApi.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PanelApiImpl: () => (/* binding */ PanelApiImpl),
/* harmony export */   WillFocusEvent: () => (/* binding */ WillFocusEvent)
/* harmony export */ });
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");


class WillFocusEvent extends _events__WEBPACK_IMPORTED_MODULE_0__.DockviewEvent {
    constructor() {
        super();
    }
}
/**
 * A core api implementation that should be used across all panel-like objects
 */
class PanelApiImpl extends _lifecycle__WEBPACK_IMPORTED_MODULE_1__.CompositeDisposable {
    get isFocused() {
        return this._isFocused;
    }
    get isActive() {
        return this._isActive;
    }
    get isVisible() {
        return this._isVisible;
    }
    get width() {
        return this._width;
    }
    get height() {
        return this._height;
    }
    constructor(id, component) {
        super();
        this.id = id;
        this.component = component;
        this._isFocused = false;
        this._isActive = false;
        this._isVisible = true;
        this._width = 0;
        this._height = 0;
        this._parameters = {};
        this.panelUpdatesDisposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_1__.MutableDisposable();
        this._onDidDimensionChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidDimensionsChange = this._onDidDimensionChange.event;
        this._onDidChangeFocus = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidFocusChange = this._onDidChangeFocus.event;
        //
        this._onWillFocus = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onWillFocus = this._onWillFocus.event;
        //
        this._onDidVisibilityChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidVisibilityChange = this._onDidVisibilityChange.event;
        this._onWillVisibilityChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onWillVisibilityChange = this._onWillVisibilityChange.event;
        this._onDidActiveChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidActiveChange = this._onDidActiveChange.event;
        this._onActiveChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onActiveChange = this._onActiveChange.event;
        this._onDidParametersChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidParametersChange = this._onDidParametersChange.event;
        this.addDisposables(this.onDidFocusChange((event) => {
            this._isFocused = event.isFocused;
        }), this.onDidActiveChange((event) => {
            this._isActive = event.isActive;
        }), this.onDidVisibilityChange((event) => {
            this._isVisible = event.isVisible;
        }), this.onDidDimensionsChange((event) => {
            this._width = event.width;
            this._height = event.height;
        }), this.panelUpdatesDisposable, this._onDidDimensionChange, this._onDidChangeFocus, this._onDidVisibilityChange, this._onDidActiveChange, this._onWillFocus, this._onActiveChange, this._onWillFocus, this._onWillVisibilityChange, this._onDidParametersChange);
    }
    getParameters() {
        return this._parameters;
    }
    initialize(panel) {
        this.panelUpdatesDisposable.value = this._onDidParametersChange.event((parameters) => {
            this._parameters = parameters;
            panel.update({
                params: parameters,
            });
        });
    }
    setVisible(isVisible) {
        this._onWillVisibilityChange.fire({ isVisible });
    }
    setActive() {
        this._onActiveChange.fire();
    }
    updateParameters(parameters) {
        this._onDidParametersChange.fire(parameters);
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/api/paneviewPanelApi.js":
/*!*********************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/api/paneviewPanelApi.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PaneviewPanelApiImpl: () => (/* binding */ PaneviewPanelApiImpl)
/* harmony export */ });
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _splitviewPanelApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./splitviewPanelApi */ "./node_modules/dockview-core/dist/esm/api/splitviewPanelApi.js");


class PaneviewPanelApiImpl extends _splitviewPanelApi__WEBPACK_IMPORTED_MODULE_1__.SplitviewPanelApiImpl {
    set pane(pane) {
        this._pane = pane;
    }
    constructor(id, component) {
        super(id, component);
        this._onDidExpansionChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter({
            replay: true,
        });
        this.onDidExpansionChange = this._onDidExpansionChange.event;
        this._onMouseEnter = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter({});
        this.onMouseEnter = this._onMouseEnter.event;
        this._onMouseLeave = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter({});
        this.onMouseLeave = this._onMouseLeave.event;
        this.addDisposables(this._onDidExpansionChange, this._onMouseEnter, this._onMouseLeave);
    }
    setExpanded(isExpanded) {
        var _a;
        (_a = this._pane) === null || _a === void 0 ? void 0 : _a.setExpanded(isExpanded);
    }
    get isExpanded() {
        var _a;
        return !!((_a = this._pane) === null || _a === void 0 ? void 0 : _a.isExpanded());
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/api/splitviewPanelApi.js":
/*!**********************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/api/splitviewPanelApi.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SplitviewPanelApiImpl: () => (/* binding */ SplitviewPanelApiImpl)
/* harmony export */ });
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _panelApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./panelApi */ "./node_modules/dockview-core/dist/esm/api/panelApi.js");


class SplitviewPanelApiImpl extends _panelApi__WEBPACK_IMPORTED_MODULE_1__.PanelApiImpl {
    //
    constructor(id, component) {
        super(id, component);
        this._onDidConstraintsChangeInternal = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidConstraintsChangeInternal = this._onDidConstraintsChangeInternal.event;
        //
        this._onDidConstraintsChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter({
            replay: true,
        });
        this.onDidConstraintsChange = this._onDidConstraintsChange.event;
        //
        this._onDidSizeChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidSizeChange = this._onDidSizeChange.event;
        this.addDisposables(this._onDidConstraintsChangeInternal, this._onDidConstraintsChange, this._onDidSizeChange);
    }
    setConstraints(value) {
        this._onDidConstraintsChangeInternal.fire(value);
    }
    setSize(event) {
        this._onDidSizeChange.fire(event);
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/array.js":
/*!******************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/array.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   firstIndex: () => (/* binding */ firstIndex),
/* harmony export */   last: () => (/* binding */ last),
/* harmony export */   pushToEnd: () => (/* binding */ pushToEnd),
/* harmony export */   pushToStart: () => (/* binding */ pushToStart),
/* harmony export */   remove: () => (/* binding */ remove),
/* harmony export */   sequenceEquals: () => (/* binding */ sequenceEquals),
/* harmony export */   tail: () => (/* binding */ tail)
/* harmony export */ });
function tail(arr) {
    if (arr.length === 0) {
        throw new Error('Invalid tail call');
    }
    return [arr.slice(0, arr.length - 1), arr[arr.length - 1]];
}
function last(arr) {
    return arr.length > 0 ? arr[arr.length - 1] : undefined;
}
function sequenceEquals(arr1, arr2) {
    if (arr1.length !== arr2.length) {
        return false;
    }
    for (let i = 0; i < arr1.length; i++) {
        if (arr1[i] !== arr2[i]) {
            return false;
        }
    }
    return true;
}
/**
 * Pushes an element to the start of the array, if found.
 */
function pushToStart(arr, value) {
    const index = arr.indexOf(value);
    if (index > -1) {
        arr.splice(index, 1);
        arr.unshift(value);
    }
}
/**
 * Pushes an element to the end of the array, if found.
 */
function pushToEnd(arr, value) {
    const index = arr.indexOf(value);
    if (index > -1) {
        arr.splice(index, 1);
        arr.push(value);
    }
}
function firstIndex(array, fn) {
    for (let i = 0; i < array.length; i++) {
        const element = array[i];
        if (fn(element)) {
            return i;
        }
    }
    return -1;
}
function remove(array, value) {
    const index = array.findIndex((t) => t === value);
    if (index > -1) {
        array.splice(index, 1);
        return true;
    }
    return false;
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/constants.js":
/*!**********************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/constants.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE: () => (/* binding */ DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE),
/* harmony export */   DEFAULT_FLOATING_GROUP_POSITION: () => (/* binding */ DEFAULT_FLOATING_GROUP_POSITION),
/* harmony export */   DESERIALIZATION_POPOUT_DELAY_MS: () => (/* binding */ DESERIALIZATION_POPOUT_DELAY_MS)
/* harmony export */ });
const DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE = 100;
const DEFAULT_FLOATING_GROUP_POSITION = { left: 100, top: 100, width: 300, height: 300 };
const DESERIALIZATION_POPOUT_DELAY_MS = 100;


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dnd/abstractDragHandler.js":
/*!************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dnd/abstractDragHandler.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DragHandler: () => (/* binding */ DragHandler)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");



class DragHandler extends _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable {
    constructor(el) {
        super();
        this.el = el;
        this.dataDisposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.MutableDisposable();
        this.pointerEventsDisposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.MutableDisposable();
        this._onDragStart = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDragStart = this._onDragStart.event;
        this.addDisposables(this._onDragStart, this.dataDisposable, this.pointerEventsDisposable);
        this.configure();
    }
    isCancelled(_event) {
        return false;
    }
    configure() {
        this.addDisposables(this._onDragStart, (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.el, 'dragstart', (event) => {
            if (event.defaultPrevented || this.isCancelled(event)) {
                event.preventDefault();
                return;
            }
            const iframes = (0,_dom__WEBPACK_IMPORTED_MODULE_0__.disableIframePointEvents)();
            this.pointerEventsDisposable.value = {
                dispose: () => {
                    iframes.release();
                },
            };
            this.el.classList.add('dv-dragged');
            setTimeout(() => this.el.classList.remove('dv-dragged'), 0);
            this.dataDisposable.value = this.getData(event);
            this._onDragStart.fire(event);
            if (event.dataTransfer) {
                event.dataTransfer.effectAllowed = 'move';
                const hasData = event.dataTransfer.items.length > 0;
                if (!hasData) {
                    /**
                     * Although this is not used by dockview many third party dnd libraries will check
                     * dataTransfer.types to determine valid drag events.
                     *
                     * For example: in react-dnd if dataTransfer.types is not set then the dragStart event will be cancelled
                     * through .preventDefault(). Since this is applied globally to all drag events this would break dockviews
                     * dnd logic. You can see the code at
                 P    * https://github.com/react-dnd/react-dnd/blob/main/packages/backend-html5/src/HTML5BackendImpl.ts#L542
                     */
                    event.dataTransfer.setData('text/plain', '');
                }
            }
        }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.el, 'dragend', () => {
            this.pointerEventsDisposable.dispose();
            setTimeout(() => {
                this.dataDisposable.dispose(); // allow the data to be read by other handlers before disposing
            }, 0);
        }));
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dnd/dataTransfer.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dnd/dataTransfer.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LocalSelectionTransfer: () => (/* binding */ LocalSelectionTransfer),
/* harmony export */   PaneTransfer: () => (/* binding */ PaneTransfer),
/* harmony export */   PanelTransfer: () => (/* binding */ PanelTransfer),
/* harmony export */   getPaneData: () => (/* binding */ getPaneData),
/* harmony export */   getPanelData: () => (/* binding */ getPanelData)
/* harmony export */ });
class TransferObject {
}
class PanelTransfer extends TransferObject {
    constructor(viewId, groupId, panelId) {
        super();
        this.viewId = viewId;
        this.groupId = groupId;
        this.panelId = panelId;
    }
}
class PaneTransfer extends TransferObject {
    constructor(viewId, paneId) {
        super();
        this.viewId = viewId;
        this.paneId = paneId;
    }
}
/**
 * A singleton to store transfer data during drag & drop operations that are only valid within the application.
 */
class LocalSelectionTransfer {
    constructor() {
        // protect against external instantiation
    }
    static getInstance() {
        return LocalSelectionTransfer.INSTANCE;
    }
    hasData(proto) {
        return proto && proto === this.proto;
    }
    clearData(proto) {
        if (this.hasData(proto)) {
            this.proto = undefined;
            this.data = undefined;
        }
    }
    getData(proto) {
        if (this.hasData(proto)) {
            return this.data;
        }
        return undefined;
    }
    setData(data, proto) {
        if (proto) {
            this.data = data;
            this.proto = proto;
        }
    }
}
LocalSelectionTransfer.INSTANCE = new LocalSelectionTransfer();
function getPanelData() {
    const panelTransfer = LocalSelectionTransfer.getInstance();
    const isPanelEvent = panelTransfer.hasData(PanelTransfer.prototype);
    if (!isPanelEvent) {
        return undefined;
    }
    return panelTransfer.getData(PanelTransfer.prototype)[0];
}
function getPaneData() {
    const paneTransfer = LocalSelectionTransfer.getInstance();
    const isPanelEvent = paneTransfer.hasData(PaneTransfer.prototype);
    if (!isPanelEvent) {
        return undefined;
    }
    return paneTransfer.getData(PaneTransfer.prototype)[0];
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dnd/dnd.js":
/*!********************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dnd/dnd.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DragAndDropObserver: () => (/* binding */ DragAndDropObserver)
/* harmony export */ });
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");


class DragAndDropObserver extends _lifecycle__WEBPACK_IMPORTED_MODULE_1__.CompositeDisposable {
    constructor(element, callbacks) {
        super();
        this.element = element;
        this.callbacks = callbacks;
        this.target = null;
        this.registerListeners();
    }
    onDragEnter(e) {
        this.target = e.target;
        this.callbacks.onDragEnter(e);
    }
    onDragOver(e) {
        e.preventDefault(); // needed so that the drop event fires (https://stackoverflow.com/questions/21339924/drop-event-not-firing-in-chrome)
        if (this.callbacks.onDragOver) {
            this.callbacks.onDragOver(e);
        }
    }
    onDragLeave(e) {
        if (this.target === e.target) {
            this.target = null;
            this.callbacks.onDragLeave(e);
        }
    }
    onDragEnd(e) {
        this.target = null;
        this.callbacks.onDragEnd(e);
    }
    onDrop(e) {
        this.callbacks.onDrop(e);
    }
    registerListeners() {
        this.addDisposables((0,_events__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(this.element, 'dragenter', (e) => {
            this.onDragEnter(e);
        }, true));
        this.addDisposables((0,_events__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(this.element, 'dragover', (e) => {
            this.onDragOver(e);
        }, true));
        this.addDisposables((0,_events__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(this.element, 'dragleave', (e) => {
            this.onDragLeave(e);
        }));
        this.addDisposables((0,_events__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(this.element, 'dragend', (e) => {
            this.onDragEnd(e);
        }));
        this.addDisposables((0,_events__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(this.element, 'drop', (e) => {
            this.onDrop(e);
        }));
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dnd/dropTargetAnchorContainer.js":
/*!******************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dnd/dropTargetAnchorContainer.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DropTargetAnchorContainer: () => (/* binding */ DropTargetAnchorContainer)
/* harmony export */ });
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");

class DropTargetAnchorContainer extends _lifecycle__WEBPACK_IMPORTED_MODULE_0__.CompositeDisposable {
    get disabled() {
        return this._disabled;
    }
    set disabled(value) {
        var _a;
        if (this.disabled === value) {
            return;
        }
        this._disabled = value;
        if (value) {
            (_a = this.model) === null || _a === void 0 ? void 0 : _a.clear();
        }
    }
    get model() {
        if (this.disabled) {
            return undefined;
        }
        return {
            clear: () => {
                var _a;
                if (this._model) {
                    (_a = this._model.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this._model.root);
                }
                this._model = undefined;
            },
            exists: () => {
                return !!this._model;
            },
            getElements: (event, outline) => {
                const changed = this._outline !== outline;
                this._outline = outline;
                if (this._model) {
                    this._model.changed = changed;
                    return this._model;
                }
                const container = this.createContainer();
                const anchor = this.createAnchor();
                this._model = { root: container, overlay: anchor, changed };
                container.appendChild(anchor);
                this.element.appendChild(container);
                if ((event === null || event === void 0 ? void 0 : event.target) instanceof HTMLElement) {
                    const targetBox = event.target.getBoundingClientRect();
                    const box = this.element.getBoundingClientRect();
                    anchor.style.left = `${targetBox.left - box.left}px`;
                    anchor.style.top = `${targetBox.top - box.top}px`;
                }
                return this._model;
            },
        };
    }
    constructor(element, options) {
        super();
        this.element = element;
        this._disabled = false;
        this._disabled = options.disabled;
        this.addDisposables(_lifecycle__WEBPACK_IMPORTED_MODULE_0__.Disposable.from(() => {
            var _a;
            (_a = this.model) === null || _a === void 0 ? void 0 : _a.clear();
        }));
    }
    createContainer() {
        const el = document.createElement('div');
        el.className = 'dv-drop-target-container';
        return el;
    }
    createAnchor() {
        const el = document.createElement('div');
        el.className = 'dv-drop-target-anchor';
        el.style.visibility = 'hidden';
        return el;
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dnd/droptarget.js":
/*!***************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dnd/droptarget.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Droptarget: () => (/* binding */ Droptarget),
/* harmony export */   WillShowOverlayEvent: () => (/* binding */ WillShowOverlayEvent),
/* harmony export */   calculateQuadrantAsPercentage: () => (/* binding */ calculateQuadrantAsPercentage),
/* harmony export */   calculateQuadrantAsPixels: () => (/* binding */ calculateQuadrantAsPixels),
/* harmony export */   directionToPosition: () => (/* binding */ directionToPosition),
/* harmony export */   positionToDirection: () => (/* binding */ positionToDirection)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _dnd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dnd */ "./node_modules/dockview-core/dist/esm/dnd/dnd.js");
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../math */ "./node_modules/dockview-core/dist/esm/math.js");





function setGPUOptimizedBounds(element, bounds) {
    const { top, left, width, height } = bounds;
    const topPx = `${Math.round(top)}px`;
    const leftPx = `${Math.round(left)}px`;
    const widthPx = `${Math.round(width)}px`;
    const heightPx = `${Math.round(height)}px`;
    // Use traditional positioning but maintain GPU layer
    element.style.top = topPx;
    element.style.left = leftPx;
    element.style.width = widthPx;
    element.style.height = heightPx;
    element.style.visibility = 'visible';
    // Ensure GPU layer is maintained
    if (!element.style.transform || element.style.transform === '') {
        element.style.transform = 'translate3d(0, 0, 0)';
    }
}
function setGPUOptimizedBoundsFromStrings(element, bounds) {
    const { top, left, width, height } = bounds;
    // Use traditional positioning but maintain GPU layer
    element.style.top = top;
    element.style.left = left;
    element.style.width = width;
    element.style.height = height;
    element.style.visibility = 'visible';
    // Ensure GPU layer is maintained
    if (!element.style.transform || element.style.transform === '') {
        element.style.transform = 'translate3d(0, 0, 0)';
    }
}
function checkBoundsChanged(element, bounds) {
    const { top, left, width, height } = bounds;
    const topPx = `${Math.round(top)}px`;
    const leftPx = `${Math.round(left)}px`;
    const widthPx = `${Math.round(width)}px`;
    const heightPx = `${Math.round(height)}px`;
    // Check if position or size changed (back to traditional method)
    return element.style.top !== topPx ||
        element.style.left !== leftPx ||
        element.style.width !== widthPx ||
        element.style.height !== heightPx;
}
class WillShowOverlayEvent extends _events__WEBPACK_IMPORTED_MODULE_1__.DockviewEvent {
    get nativeEvent() {
        return this.options.nativeEvent;
    }
    get position() {
        return this.options.position;
    }
    constructor(options) {
        super();
        this.options = options;
    }
}
function directionToPosition(direction) {
    switch (direction) {
        case 'above':
            return 'top';
        case 'below':
            return 'bottom';
        case 'left':
            return 'left';
        case 'right':
            return 'right';
        case 'within':
            return 'center';
        default:
            throw new Error(`invalid direction '${direction}'`);
    }
}
function positionToDirection(position) {
    switch (position) {
        case 'top':
            return 'above';
        case 'bottom':
            return 'below';
        case 'left':
            return 'left';
        case 'right':
            return 'right';
        case 'center':
            return 'within';
        default:
            throw new Error(`invalid position '${position}'`);
    }
}
const DEFAULT_ACTIVATION_SIZE = {
    value: 20,
    type: 'percentage',
};
const DEFAULT_SIZE = {
    value: 50,
    type: 'percentage',
};
const SMALL_WIDTH_BOUNDARY = 100;
const SMALL_HEIGHT_BOUNDARY = 100;
class Droptarget extends _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable {
    get disabled() {
        return this._disabled;
    }
    set disabled(value) {
        this._disabled = value;
    }
    get state() {
        return this._state;
    }
    constructor(element, options) {
        super();
        this.element = element;
        this.options = options;
        this._onDrop = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDrop = this._onDrop.event;
        this._onWillShowOverlay = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onWillShowOverlay = this._onWillShowOverlay.event;
        this._disabled = false;
        // use a set to take advantage of #<set>.has
        this._acceptedTargetZonesSet = new Set(this.options.acceptedTargetZones);
        this.dnd = new _dnd__WEBPACK_IMPORTED_MODULE_3__.DragAndDropObserver(this.element, {
            onDragEnter: () => {
                var _a, _b, _c;
                (_c = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a)) === null || _c === void 0 ? void 0 : _c.getElements();
            },
            onDragOver: (e) => {
                var _a, _b, _c, _d, _e, _f, _g;
                Droptarget.ACTUAL_TARGET = this;
                const overrideTarget = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a);
                if (this._acceptedTargetZonesSet.size === 0) {
                    if (overrideTarget) {
                        return;
                    }
                    this.removeDropTarget();
                    return;
                }
                const target = (_e = (_d = (_c = this.options).getOverlayOutline) === null || _d === void 0 ? void 0 : _d.call(_c)) !== null && _e !== void 0 ? _e : this.element;
                const width = target.offsetWidth;
                const height = target.offsetHeight;
                if (width === 0 || height === 0) {
                    return; // avoid div!0
                }
                const rect = e.currentTarget.getBoundingClientRect();
                const x = ((_f = e.clientX) !== null && _f !== void 0 ? _f : 0) - rect.left;
                const y = ((_g = e.clientY) !== null && _g !== void 0 ? _g : 0) - rect.top;
                const quadrant = this.calculateQuadrant(this._acceptedTargetZonesSet, x, y, width, height);
                /**
                 * If the event has already been used by another DropTarget instance
                 * then don't show a second drop target, only one target should be
                 * active at any one time
                 */
                if (this.isAlreadyUsed(e) || quadrant === null) {
                    // no drop target should be displayed
                    this.removeDropTarget();
                    return;
                }
                if (!this.options.canDisplayOverlay(e, quadrant)) {
                    if (overrideTarget) {
                        return;
                    }
                    this.removeDropTarget();
                    return;
                }
                const willShowOverlayEvent = new WillShowOverlayEvent({
                    nativeEvent: e,
                    position: quadrant,
                });
                /**
                 * Provide an opportunity to prevent the overlay appearing and in turn
                 * any dnd behaviours
                 */
                this._onWillShowOverlay.fire(willShowOverlayEvent);
                if (willShowOverlayEvent.defaultPrevented) {
                    this.removeDropTarget();
                    return;
                }
                this.markAsUsed(e);
                if (overrideTarget) {
                    //
                }
                else if (!this.targetElement) {
                    this.targetElement = document.createElement('div');
                    this.targetElement.className = 'dv-drop-target-dropzone';
                    this.overlayElement = document.createElement('div');
                    this.overlayElement.className = 'dv-drop-target-selection';
                    this._state = 'center';
                    this.targetElement.appendChild(this.overlayElement);
                    target.classList.add('dv-drop-target');
                    target.append(this.targetElement);
                    // this.overlayElement.style.opacity = '0';
                    // requestAnimationFrame(() => {
                    //     if (this.overlayElement) {
                    //         this.overlayElement.style.opacity = '';
                    //     }
                    // });
                }
                this.toggleClasses(quadrant, width, height);
                this._state = quadrant;
            },
            onDragLeave: () => {
                var _a, _b;
                const target = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a);
                if (target) {
                    return;
                }
                this.removeDropTarget();
            },
            onDragEnd: (e) => {
                var _a, _b;
                const target = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a);
                if (target && Droptarget.ACTUAL_TARGET === this) {
                    if (this._state) {
                        // only stop the propagation of the event if we are dealing with it
                        // which is only when the target has state
                        e.stopPropagation();
                        this._onDrop.fire({
                            position: this._state,
                            nativeEvent: e,
                        });
                    }
                }
                this.removeDropTarget();
                target === null || target === void 0 ? void 0 : target.clear();
            },
            onDrop: (e) => {
                var _a, _b, _c;
                e.preventDefault();
                const state = this._state;
                this.removeDropTarget();
                (_c = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a)) === null || _c === void 0 ? void 0 : _c.clear();
                if (state) {
                    // only stop the propagation of the event if we are dealing with it
                    // which is only when the target has state
                    e.stopPropagation();
                    this._onDrop.fire({ position: state, nativeEvent: e });
                }
            },
        });
        this.addDisposables(this._onDrop, this._onWillShowOverlay, this.dnd);
    }
    setTargetZones(acceptedTargetZones) {
        this._acceptedTargetZonesSet = new Set(acceptedTargetZones);
    }
    setOverlayModel(model) {
        this.options.overlayModel = model;
    }
    dispose() {
        this.removeDropTarget();
        super.dispose();
    }
    /**
     * Add a property to the event object for other potential listeners to check
     */
    markAsUsed(event) {
        event[Droptarget.USED_EVENT_ID] = true;
    }
    /**
     * Check is the event has already been used by another instance of DropTarget
     */
    isAlreadyUsed(event) {
        const value = event[Droptarget.USED_EVENT_ID];
        return typeof value === 'boolean' && value;
    }
    toggleClasses(quadrant, width, height) {
        var _a, _b, _c, _d, _e, _f, _g;
        const target = (_b = (_a = this.options).getOverrideTarget) === null || _b === void 0 ? void 0 : _b.call(_a);
        if (!target && !this.overlayElement) {
            return;
        }
        const isSmallX = width < SMALL_WIDTH_BOUNDARY;
        const isSmallY = height < SMALL_HEIGHT_BOUNDARY;
        const isLeft = quadrant === 'left';
        const isRight = quadrant === 'right';
        const isTop = quadrant === 'top';
        const isBottom = quadrant === 'bottom';
        const rightClass = !isSmallX && isRight;
        const leftClass = !isSmallX && isLeft;
        const topClass = !isSmallY && isTop;
        const bottomClass = !isSmallY && isBottom;
        let size = 1;
        const sizeOptions = (_d = (_c = this.options.overlayModel) === null || _c === void 0 ? void 0 : _c.size) !== null && _d !== void 0 ? _d : DEFAULT_SIZE;
        if (sizeOptions.type === 'percentage') {
            size = (0,_math__WEBPACK_IMPORTED_MODULE_4__.clamp)(sizeOptions.value, 0, 100) / 100;
        }
        else {
            if (rightClass || leftClass) {
                size = (0,_math__WEBPACK_IMPORTED_MODULE_4__.clamp)(0, sizeOptions.value, width) / width;
            }
            if (topClass || bottomClass) {
                size = (0,_math__WEBPACK_IMPORTED_MODULE_4__.clamp)(0, sizeOptions.value, height) / height;
            }
        }
        if (target) {
            const outlineEl = (_g = (_f = (_e = this.options).getOverlayOutline) === null || _f === void 0 ? void 0 : _f.call(_e)) !== null && _g !== void 0 ? _g : this.element;
            const elBox = outlineEl.getBoundingClientRect();
            const ta = target.getElements(undefined, outlineEl);
            const el = ta.root;
            const overlay = ta.overlay;
            const bigbox = el.getBoundingClientRect();
            const rootTop = elBox.top - bigbox.top;
            const rootLeft = elBox.left - bigbox.left;
            const box = {
                top: rootTop,
                left: rootLeft,
                width: width,
                height: height,
            };
            if (rightClass) {
                box.left = rootLeft + width * (1 - size);
                box.width = width * size;
            }
            else if (leftClass) {
                box.width = width * size;
            }
            else if (topClass) {
                box.height = height * size;
            }
            else if (bottomClass) {
                box.top = rootTop + height * (1 - size);
                box.height = height * size;
            }
            if (isSmallX && isLeft) {
                box.width = 4;
            }
            if (isSmallX && isRight) {
                box.left = rootLeft + width - 4;
                box.width = 4;
            }
            // Use GPU-optimized bounds checking and setting
            if (!checkBoundsChanged(overlay, box)) {
                return;
            }
            setGPUOptimizedBounds(overlay, box);
            overlay.className = `dv-drop-target-anchor${this.options.className ? ` ${this.options.className}` : ''}`;
            (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(overlay, 'dv-drop-target-left', isLeft);
            (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(overlay, 'dv-drop-target-right', isRight);
            (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(overlay, 'dv-drop-target-top', isTop);
            (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(overlay, 'dv-drop-target-bottom', isBottom);
            (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(overlay, 'dv-drop-target-center', quadrant === 'center');
            if (ta.changed) {
                (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(overlay, 'dv-drop-target-anchor-container-changed', true);
                setTimeout(() => {
                    (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(overlay, 'dv-drop-target-anchor-container-changed', false);
                }, 10);
            }
            return;
        }
        if (!this.overlayElement) {
            return;
        }
        const box = { top: '0px', left: '0px', width: '100%', height: '100%' };
        /**
         * You can also achieve the overlay placement using the transform CSS property
         * to translate and scale the element however this has the undesired effect of
         * 'skewing' the element. Comment left here for anybody that ever revisits this.
         *
         * @see https://developer.mozilla.org/en-US/docs/Web/CSS/transform
         *
         * right
         * translateX(${100 * (1 - size) / 2}%) scaleX(${scale})
         *
         * left
         * translateX(-${100 * (1 - size) / 2}%) scaleX(${scale})
         *
         * top
         * translateY(-${100 * (1 - size) / 2}%) scaleY(${scale})
         *
         * bottom
         * translateY(${100 * (1 - size) / 2}%) scaleY(${scale})
         */
        if (rightClass) {
            box.left = `${100 * (1 - size)}%`;
            box.width = `${100 * size}%`;
        }
        else if (leftClass) {
            box.width = `${100 * size}%`;
        }
        else if (topClass) {
            box.height = `${100 * size}%`;
        }
        else if (bottomClass) {
            box.top = `${100 * (1 - size)}%`;
            box.height = `${100 * size}%`;
        }
        setGPUOptimizedBoundsFromStrings(this.overlayElement, box);
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.overlayElement, 'dv-drop-target-small-vertical', isSmallY);
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.overlayElement, 'dv-drop-target-small-horizontal', isSmallX);
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.overlayElement, 'dv-drop-target-left', isLeft);
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.overlayElement, 'dv-drop-target-right', isRight);
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.overlayElement, 'dv-drop-target-top', isTop);
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.overlayElement, 'dv-drop-target-bottom', isBottom);
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.overlayElement, 'dv-drop-target-center', quadrant === 'center');
    }
    calculateQuadrant(overlayType, x, y, width, height) {
        var _a, _b;
        const activationSizeOptions = (_b = (_a = this.options.overlayModel) === null || _a === void 0 ? void 0 : _a.activationSize) !== null && _b !== void 0 ? _b : DEFAULT_ACTIVATION_SIZE;
        const isPercentage = activationSizeOptions.type === 'percentage';
        if (isPercentage) {
            return calculateQuadrantAsPercentage(overlayType, x, y, width, height, activationSizeOptions.value);
        }
        return calculateQuadrantAsPixels(overlayType, x, y, width, height, activationSizeOptions.value);
    }
    removeDropTarget() {
        var _a;
        if (this.targetElement) {
            this._state = undefined;
            (_a = this.targetElement.parentElement) === null || _a === void 0 ? void 0 : _a.classList.remove('dv-drop-target');
            this.targetElement.remove();
            this.targetElement = undefined;
            this.overlayElement = undefined;
        }
    }
}
Droptarget.USED_EVENT_ID = '__dockview_droptarget_event_is_used__';
function calculateQuadrantAsPercentage(overlayType, x, y, width, height, threshold) {
    const xp = (100 * x) / width;
    const yp = (100 * y) / height;
    if (overlayType.has('left') && xp < threshold) {
        return 'left';
    }
    if (overlayType.has('right') && xp > 100 - threshold) {
        return 'right';
    }
    if (overlayType.has('top') && yp < threshold) {
        return 'top';
    }
    if (overlayType.has('bottom') && yp > 100 - threshold) {
        return 'bottom';
    }
    if (!overlayType.has('center')) {
        return null;
    }
    return 'center';
}
function calculateQuadrantAsPixels(overlayType, x, y, width, height, threshold) {
    if (overlayType.has('left') && x < threshold) {
        return 'left';
    }
    if (overlayType.has('right') && x > width - threshold) {
        return 'right';
    }
    if (overlayType.has('top') && y < threshold) {
        return 'top';
    }
    if (overlayType.has('bottom') && y > height - threshold) {
        return 'bottom';
    }
    if (!overlayType.has('center')) {
        return null;
    }
    return 'center';
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dnd/ghost.js":
/*!**********************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dnd/ghost.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addGhostImage: () => (/* binding */ addGhostImage)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");

function addGhostImage(dataTransfer, ghostElement, options) {
    var _a, _b;
    // class dockview provides to force ghost image to be drawn on a different layer and prevent weird rendering issues
    (0,_dom__WEBPACK_IMPORTED_MODULE_0__.addClasses)(ghostElement, 'dv-dragged');
    // move the element off-screen initially otherwise it may in some cases be rendered at (0,0) momentarily
    ghostElement.style.top = '-9999px';
    document.body.appendChild(ghostElement);
    dataTransfer.setDragImage(ghostElement, (_a = options === null || options === void 0 ? void 0 : options.x) !== null && _a !== void 0 ? _a : 0, (_b = options === null || options === void 0 ? void 0 : options.y) !== null && _b !== void 0 ? _b : 0);
    setTimeout(() => {
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.removeClasses)(ghostElement, 'dv-dragged');
        ghostElement.remove();
    }, 0);
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dnd/groupDragHandler.js":
/*!*********************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dnd/groupDragHandler.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GroupDragHandler: () => (/* binding */ GroupDragHandler)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _abstractDragHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./abstractDragHandler */ "./node_modules/dockview-core/dist/esm/dnd/abstractDragHandler.js");
/* harmony import */ var _dataTransfer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dataTransfer */ "./node_modules/dockview-core/dist/esm/dnd/dataTransfer.js");
/* harmony import */ var _ghost__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ghost */ "./node_modules/dockview-core/dist/esm/dnd/ghost.js");





class GroupDragHandler extends _abstractDragHandler__WEBPACK_IMPORTED_MODULE_2__.DragHandler {
    constructor(element, accessor, group) {
        super(element);
        this.accessor = accessor;
        this.group = group;
        this.panelTransfer = _dataTransfer__WEBPACK_IMPORTED_MODULE_3__.LocalSelectionTransfer.getInstance();
        this.addDisposables((0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(element, 'pointerdown', (e) => {
            if (e.shiftKey) {
                /**
                 * You cannot call e.preventDefault() because that will prevent drag events from firing
                 * but we also need to stop any group overlay drag events from occuring
                 * Use a custom event marker that can be checked by the overlay drag events
                 */
                (0,_dom__WEBPACK_IMPORTED_MODULE_0__.quasiPreventDefault)(e);
            }
        }, true));
    }
    isCancelled(_event) {
        if (this.group.api.location.type === 'floating' && !_event.shiftKey) {
            return true;
        }
        return false;
    }
    getData(dragEvent) {
        const dataTransfer = dragEvent.dataTransfer;
        this.panelTransfer.setData([new _dataTransfer__WEBPACK_IMPORTED_MODULE_3__.PanelTransfer(this.accessor.id, this.group.id, null)], _dataTransfer__WEBPACK_IMPORTED_MODULE_3__.PanelTransfer.prototype);
        const style = window.getComputedStyle(this.el);
        const bgColor = style.getPropertyValue('--dv-activegroup-visiblepanel-tab-background-color');
        const color = style.getPropertyValue('--dv-activegroup-visiblepanel-tab-color');
        if (dataTransfer) {
            const ghostElement = document.createElement('div');
            ghostElement.style.backgroundColor = bgColor;
            ghostElement.style.color = color;
            ghostElement.style.padding = '2px 8px';
            ghostElement.style.height = '24px';
            ghostElement.style.fontSize = '11px';
            ghostElement.style.lineHeight = '20px';
            ghostElement.style.borderRadius = '12px';
            ghostElement.style.position = 'absolute';
            ghostElement.style.pointerEvents = 'none';
            ghostElement.style.top = '-9999px';
            ghostElement.textContent = `Multiple Panels (${this.group.size})`;
            (0,_ghost__WEBPACK_IMPORTED_MODULE_4__.addGhostImage)(dataTransfer, ghostElement, { y: -10, x: 30 });
        }
        return {
            dispose: () => {
                this.panelTransfer.clearData(_dataTransfer__WEBPACK_IMPORTED_MODULE_3__.PanelTransfer.prototype);
            },
        };
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/components/panel/content.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/components/panel/content.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ContentContainer: () => (/* binding */ ContentContainer)
/* harmony export */ });
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _dnd_droptarget__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../dnd/droptarget */ "./node_modules/dockview-core/dist/esm/dnd/droptarget.js");
/* harmony import */ var _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../dnd/dataTransfer */ "./node_modules/dockview-core/dist/esm/dnd/dataTransfer.js");





class ContentContainer extends _lifecycle__WEBPACK_IMPORTED_MODULE_0__.CompositeDisposable {
    get element() {
        return this._element;
    }
    constructor(accessor, group) {
        super();
        this.accessor = accessor;
        this.group = group;
        this.disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_0__.MutableDisposable();
        this._onDidFocus = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidFocus = this._onDidFocus.event;
        this._onDidBlur = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidBlur = this._onDidBlur.event;
        this._element = document.createElement('div');
        this._element.className = 'dv-content-container';
        this._element.tabIndex = -1;
        this.addDisposables(this._onDidFocus, this._onDidBlur);
        const target = group.dropTargetContainer;
        this.dropTarget = new _dnd_droptarget__WEBPACK_IMPORTED_MODULE_3__.Droptarget(this.element, {
            getOverlayOutline: () => {
                var _a;
                return ((_a = accessor.options.theme) === null || _a === void 0 ? void 0 : _a.dndPanelOverlay) === 'group'
                    ? this.element.parentElement
                    : null;
            },
            className: 'dv-drop-target-content',
            acceptedTargetZones: ['top', 'bottom', 'left', 'right', 'center'],
            canDisplayOverlay: (event, position) => {
                if (this.group.locked === 'no-drop-target' ||
                    (this.group.locked && position === 'center')) {
                    return false;
                }
                const data = (0,_dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_4__.getPanelData)();
                if (!data &&
                    event.shiftKey &&
                    this.group.location.type !== 'floating') {
                    return false;
                }
                if (data && data.viewId === this.accessor.id) {
                    return true;
                }
                return this.group.canDisplayOverlay(event, position, 'content');
            },
            getOverrideTarget: target ? () => target.model : undefined,
        });
        this.addDisposables(this.dropTarget);
    }
    show() {
        this.element.style.display = '';
    }
    hide() {
        this.element.style.display = 'none';
    }
    renderPanel(panel, options = { asActive: true }) {
        const doRender = options.asActive ||
            (this.panel && this.group.isPanelActive(this.panel));
        if (this.panel &&
            this.panel.view.content.element.parentElement === this._element) {
            /**
             * If the currently attached panel is mounted directly to the content then remove it
             */
            this._element.removeChild(this.panel.view.content.element);
        }
        this.panel = panel;
        let container;
        switch (panel.api.renderer) {
            case 'onlyWhenVisible':
                this.group.renderContainer.detatch(panel);
                if (this.panel) {
                    if (doRender) {
                        this._element.appendChild(this.panel.view.content.element);
                    }
                }
                container = this._element;
                break;
            case 'always':
                if (panel.view.content.element.parentElement === this._element) {
                    this._element.removeChild(panel.view.content.element);
                }
                container = this.group.renderContainer.attach({
                    panel,
                    referenceContainer: this,
                });
                break;
            default:
                throw new Error(`dockview: invalid renderer type '${panel.api.renderer}'`);
        }
        if (doRender) {
            const focusTracker = (0,_dom__WEBPACK_IMPORTED_MODULE_2__.trackFocus)(container);
            const disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_0__.CompositeDisposable();
            disposable.addDisposables(focusTracker, focusTracker.onDidFocus(() => this._onDidFocus.fire()), focusTracker.onDidBlur(() => this._onDidBlur.fire()));
            this.disposable.value = disposable;
        }
    }
    openPanel(panel) {
        if (this.panel === panel) {
            return;
        }
        this.renderPanel(panel);
    }
    layout(_width, _height) {
        // noop
    }
    closePanel() {
        var _a;
        if (this.panel) {
            if (this.panel.api.renderer === 'onlyWhenVisible') {
                (_a = this.panel.view.content.element.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.panel.view.content.element);
            }
        }
        this.panel = undefined;
    }
    dispose() {
        this.disposable.dispose();
        super.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/components/popupService.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/components/popupService.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PopupService: () => (/* binding */ PopupService)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");



class PopupService extends _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable {
    constructor(root) {
        super();
        this.root = root;
        this._active = null;
        this._activeDisposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.MutableDisposable();
        this._element = document.createElement('div');
        this._element.className = 'dv-popover-anchor';
        this._element.style.position = 'relative';
        this.root.prepend(this._element);
        this.addDisposables(_lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable.from(() => {
            this.close();
        }), this._activeDisposable);
    }
    openPopover(element, position) {
        var _a;
        this.close();
        const wrapper = document.createElement('div');
        wrapper.style.position = 'absolute';
        wrapper.style.zIndex = (_a = position.zIndex) !== null && _a !== void 0 ? _a : 'var(--dv-overlay-z-index)';
        wrapper.appendChild(element);
        const anchorBox = this._element.getBoundingClientRect();
        const offsetX = anchorBox.left;
        const offsetY = anchorBox.top;
        wrapper.style.top = `${position.y - offsetY}px`;
        wrapper.style.left = `${position.x - offsetX}px`;
        this._element.appendChild(wrapper);
        this._active = wrapper;
        this._activeDisposable.value = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable((0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(window, 'pointerdown', (event) => {
            var _a;
            const target = event.target;
            if (!(target instanceof HTMLElement)) {
                return;
            }
            let el = target;
            while (el && el !== wrapper) {
                el = (_a = el === null || el === void 0 ? void 0 : el.parentElement) !== null && _a !== void 0 ? _a : null;
            }
            if (el) {
                return; // clicked within popover
            }
            this.close();
        }));
        requestAnimationFrame(() => {
            (0,_dom__WEBPACK_IMPORTED_MODULE_0__.shiftAbsoluteElementIntoView)(wrapper, this.root);
        });
    }
    close() {
        if (this._active) {
            this._active.remove();
            this._activeDisposable.dispose();
            this._active = null;
        }
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/components/tab/defaultTab.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/components/tab/defaultTab.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DefaultTab: () => (/* binding */ DefaultTab)
/* harmony export */ });
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _svg__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../svg */ "./node_modules/dockview-core/dist/esm/svg.js");



class DefaultTab extends _lifecycle__WEBPACK_IMPORTED_MODULE_0__.CompositeDisposable {
    get element() {
        return this._element;
    }
    constructor() {
        super();
        this._element = document.createElement('div');
        this._element.className = 'dv-default-tab';
        this._content = document.createElement('div');
        this._content.className = 'dv-default-tab-content';
        this.action = document.createElement('div');
        this.action.className = 'dv-default-tab-action';
        this.action.appendChild((0,_svg__WEBPACK_IMPORTED_MODULE_2__.createCloseButton)());
        this._element.appendChild(this._content);
        this._element.appendChild(this.action);
        this.render();
    }
    init(params) {
        this._title = params.title;
        this.addDisposables(params.api.onDidTitleChange((event) => {
            this._title = event.title;
            this.render();
        }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.action, 'pointerdown', (ev) => {
            ev.preventDefault();
        }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.action, 'click', (ev) => {
            if (ev.defaultPrevented) {
                return;
            }
            ev.preventDefault();
            params.api.close();
        }));
        this.render();
    }
    render() {
        var _a;
        if (this._content.textContent !== this._title) {
            this._content.textContent = (_a = this._title) !== null && _a !== void 0 ? _a : '';
        }
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/components/tab/tab.js":
/*!****************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/components/tab/tab.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tab: () => (/* binding */ Tab)
/* harmony export */ });
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../dnd/dataTransfer */ "./node_modules/dockview-core/dist/esm/dnd/dataTransfer.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _dnd_droptarget__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../dnd/droptarget */ "./node_modules/dockview-core/dist/esm/dnd/droptarget.js");
/* harmony import */ var _dnd_abstractDragHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../dnd/abstractDragHandler */ "./node_modules/dockview-core/dist/esm/dnd/abstractDragHandler.js");
/* harmony import */ var _dnd_ghost__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../dnd/ghost */ "./node_modules/dockview-core/dist/esm/dnd/ghost.js");







class TabDragHandler extends _dnd_abstractDragHandler__WEBPACK_IMPORTED_MODULE_5__.DragHandler {
    constructor(element, accessor, group, panel) {
        super(element);
        this.accessor = accessor;
        this.group = group;
        this.panel = panel;
        this.panelTransfer = _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.LocalSelectionTransfer.getInstance();
    }
    getData(event) {
        this.panelTransfer.setData([new _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.PanelTransfer(this.accessor.id, this.group.id, this.panel.id)], _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.PanelTransfer.prototype);
        return {
            dispose: () => {
                this.panelTransfer.clearData(_dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.PanelTransfer.prototype);
            },
        };
    }
}
class Tab extends _lifecycle__WEBPACK_IMPORTED_MODULE_1__.CompositeDisposable {
    get element() {
        return this._element;
    }
    constructor(panel, accessor, group) {
        super();
        this.panel = panel;
        this.accessor = accessor;
        this.group = group;
        this.content = undefined;
        this._onPointDown = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onPointerDown = this._onPointDown.event;
        this._onDropped = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDrop = this._onDropped.event;
        this._onDragStart = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDragStart = this._onDragStart.event;
        this._element = document.createElement('div');
        this._element.className = 'dv-tab';
        this._element.tabIndex = 0;
        this._element.draggable = !this.accessor.options.disableDnd;
        (0,_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(this.element, 'dv-inactive-tab', true);
        const dragHandler = new TabDragHandler(this._element, this.accessor, this.group, this.panel);
        this.dropTarget = new _dnd_droptarget__WEBPACK_IMPORTED_MODULE_4__.Droptarget(this._element, {
            acceptedTargetZones: ['left', 'right'],
            overlayModel: { activationSize: { value: 50, type: 'percentage' } },
            canDisplayOverlay: (event, position) => {
                if (this.group.locked) {
                    return false;
                }
                const data = (0,_dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.getPanelData)();
                if (data && this.accessor.id === data.viewId) {
                    return true;
                }
                return this.group.model.canDisplayOverlay(event, position, 'tab');
            },
            getOverrideTarget: () => { var _a; return (_a = group.model.dropTargetContainer) === null || _a === void 0 ? void 0 : _a.model; },
        });
        this.onWillShowOverlay = this.dropTarget.onWillShowOverlay;
        this.addDisposables(this._onPointDown, this._onDropped, this._onDragStart, dragHandler.onDragStart((event) => {
            if (event.dataTransfer) {
                const style = getComputedStyle(this.element);
                const newNode = this.element.cloneNode(true);
                Array.from(style).forEach((key) => newNode.style.setProperty(key, style.getPropertyValue(key), style.getPropertyPriority(key)));
                newNode.style.position = 'absolute';
                (0,_dnd_ghost__WEBPACK_IMPORTED_MODULE_6__.addGhostImage)(event.dataTransfer, newNode, {
                    y: -10,
                    x: 30,
                });
            }
            this._onDragStart.fire(event);
        }), dragHandler, (0,_events__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(this._element, 'pointerdown', (event) => {
            this._onPointDown.fire(event);
        }), this.dropTarget.onDrop((event) => {
            this._onDropped.fire(event);
        }), this.dropTarget);
    }
    setActive(isActive) {
        (0,_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(this.element, 'dv-active-tab', isActive);
        (0,_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(this.element, 'dv-inactive-tab', !isActive);
    }
    setContent(part) {
        if (this.content) {
            this._element.removeChild(this.content.element);
        }
        this.content = part;
        this._element.appendChild(this.content.element);
    }
    updateDragAndDropState() {
        this._element.draggable = !this.accessor.options.disableDnd;
    }
    dispose() {
        super.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/components/titlebar/tabOverflowControl.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/components/titlebar/tabOverflowControl.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createDropdownElementHandle: () => (/* binding */ createDropdownElementHandle)
/* harmony export */ });
/* harmony import */ var _svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../svg */ "./node_modules/dockview-core/dist/esm/svg.js");

function createDropdownElementHandle() {
    const el = document.createElement('div');
    el.className = 'dv-tabs-overflow-dropdown-default';
    const text = document.createElement('span');
    text.textContent = ``;
    const icon = (0,_svg__WEBPACK_IMPORTED_MODULE_0__.createChevronRightButton)();
    el.appendChild(icon);
    el.appendChild(text);
    return {
        element: el,
        update: (params) => {
            text.textContent = `${params.tabs}`;
        },
    };
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/components/titlebar/tabs.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/components/titlebar/tabs.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Tabs: () => (/* binding */ Tabs)
/* harmony export */ });
/* harmony import */ var _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../dnd/dataTransfer */ "./node_modules/dockview-core/dist/esm/dnd/dataTransfer.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _scrollbar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../scrollbar */ "./node_modules/dockview-core/dist/esm/scrollbar.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../events */ "./node_modules/dockview-core/dist/esm/dockview/events.js");
/* harmony import */ var _tab_tab__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tab/tab */ "./node_modules/dockview-core/dist/esm/dockview/components/tab/tab.js");







class Tabs extends _lifecycle__WEBPACK_IMPORTED_MODULE_3__.CompositeDisposable {
    get showTabsOverflowControl() {
        return this._showTabsOverflowControl;
    }
    set showTabsOverflowControl(value) {
        if (this._showTabsOverflowControl == value) {
            return;
        }
        this._showTabsOverflowControl = value;
        if (value) {
            const observer = new _dom__WEBPACK_IMPORTED_MODULE_1__.OverflowObserver(this._tabsList);
            this._observerDisposable.value = new _lifecycle__WEBPACK_IMPORTED_MODULE_3__.CompositeDisposable(observer, observer.onDidChange((event) => {
                const hasOverflow = event.hasScrollX || event.hasScrollY;
                this.toggleDropdown({ reset: !hasOverflow });
            }), (0,_events__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this._tabsList, 'scroll', () => {
                this.toggleDropdown({ reset: false });
            }));
        }
    }
    get element() {
        return this._element;
    }
    get panels() {
        return this._tabs.map((_) => _.value.panel.id);
    }
    get size() {
        return this._tabs.length;
    }
    get tabs() {
        return this._tabs.map((_) => _.value);
    }
    constructor(group, accessor, options) {
        super();
        this.group = group;
        this.accessor = accessor;
        this._observerDisposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_3__.MutableDisposable();
        this._tabs = [];
        this.selectedIndex = -1;
        this._showTabsOverflowControl = false;
        this._onTabDragStart = new _events__WEBPACK_IMPORTED_MODULE_2__.Emitter();
        this.onTabDragStart = this._onTabDragStart.event;
        this._onDrop = new _events__WEBPACK_IMPORTED_MODULE_2__.Emitter();
        this.onDrop = this._onDrop.event;
        this._onWillShowOverlay = new _events__WEBPACK_IMPORTED_MODULE_2__.Emitter();
        this.onWillShowOverlay = this._onWillShowOverlay.event;
        this._onOverflowTabsChange = new _events__WEBPACK_IMPORTED_MODULE_2__.Emitter();
        this.onOverflowTabsChange = this._onOverflowTabsChange.event;
        this._tabsList = document.createElement('div');
        this._tabsList.className = 'dv-tabs-container dv-horizontal';
        this.showTabsOverflowControl = options.showTabsOverflowControl;
        if (accessor.options.scrollbars === 'native') {
            this._element = this._tabsList;
        }
        else {
            const scrollbar = new _scrollbar__WEBPACK_IMPORTED_MODULE_4__.Scrollbar(this._tabsList);
            this._element = scrollbar.element;
            this.addDisposables(scrollbar);
        }
        this.addDisposables(this._onOverflowTabsChange, this._observerDisposable, this._onWillShowOverlay, this._onDrop, this._onTabDragStart, (0,_events__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.element, 'pointerdown', (event) => {
            if (event.defaultPrevented) {
                return;
            }
            const isLeftClick = event.button === 0;
            if (isLeftClick) {
                this.accessor.doSetGroupActive(this.group);
            }
        }), _lifecycle__WEBPACK_IMPORTED_MODULE_3__.Disposable.from(() => {
            for (const { value, disposable } of this._tabs) {
                disposable.dispose();
                value.dispose();
            }
            this._tabs = [];
        }));
    }
    indexOf(id) {
        return this._tabs.findIndex((tab) => tab.value.panel.id === id);
    }
    isActive(tab) {
        return (this.selectedIndex > -1 &&
            this._tabs[this.selectedIndex].value === tab);
    }
    setActivePanel(panel) {
        let runningWidth = 0;
        for (const tab of this._tabs) {
            const isActivePanel = panel.id === tab.value.panel.id;
            tab.value.setActive(isActivePanel);
            if (isActivePanel) {
                const element = tab.value.element;
                const parentElement = element.parentElement;
                if (runningWidth < parentElement.scrollLeft ||
                    runningWidth + element.clientWidth >
                        parentElement.scrollLeft + parentElement.clientWidth) {
                    parentElement.scrollLeft = runningWidth;
                }
            }
            runningWidth += tab.value.element.clientWidth;
        }
    }
    openPanel(panel, index = this._tabs.length) {
        if (this._tabs.find((tab) => tab.value.panel.id === panel.id)) {
            return;
        }
        const tab = new _tab_tab__WEBPACK_IMPORTED_MODULE_6__.Tab(panel, this.accessor, this.group);
        tab.setContent(panel.view.tab);
        const disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_3__.CompositeDisposable(tab.onDragStart((event) => {
            this._onTabDragStart.fire({ nativeEvent: event, panel });
        }), tab.onPointerDown((event) => {
            if (event.defaultPrevented) {
                return;
            }
            const isFloatingGroupsEnabled = !this.accessor.options.disableFloatingGroups;
            const isFloatingWithOnePanel = this.group.api.location.type === 'floating' &&
                this.size === 1;
            if (isFloatingGroupsEnabled &&
                !isFloatingWithOnePanel &&
                event.shiftKey) {
                event.preventDefault();
                const panel = this.accessor.getGroupPanel(tab.panel.id);
                const { top, left } = tab.element.getBoundingClientRect();
                const { top: rootTop, left: rootLeft } = this.accessor.element.getBoundingClientRect();
                this.accessor.addFloatingGroup(panel, {
                    x: left - rootLeft,
                    y: top - rootTop,
                    inDragMode: true,
                });
                return;
            }
            switch (event.button) {
                case 0: // left click or touch
                    if (this.group.activePanel !== panel) {
                        this.group.model.openPanel(panel);
                    }
                    break;
            }
        }), tab.onDrop((event) => {
            this._onDrop.fire({
                event: event.nativeEvent,
                index: this._tabs.findIndex((x) => x.value === tab),
            });
        }), tab.onWillShowOverlay((event) => {
            this._onWillShowOverlay.fire(new _events__WEBPACK_IMPORTED_MODULE_5__.WillShowOverlayLocationEvent(event, {
                kind: 'tab',
                panel: this.group.activePanel,
                api: this.accessor.api,
                group: this.group,
                getData: _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_0__.getPanelData,
            }));
        }));
        const value = { value: tab, disposable };
        this.addTab(value, index);
    }
    delete(id) {
        const index = this.indexOf(id);
        const tabToRemove = this._tabs.splice(index, 1)[0];
        const { value, disposable } = tabToRemove;
        disposable.dispose();
        value.dispose();
        value.element.remove();
    }
    addTab(tab, index = this._tabs.length) {
        if (index < 0 || index > this._tabs.length) {
            throw new Error('invalid location');
        }
        this._tabsList.insertBefore(tab.value.element, this._tabsList.children[index]);
        this._tabs = [
            ...this._tabs.slice(0, index),
            tab,
            ...this._tabs.slice(index),
        ];
        if (this.selectedIndex < 0) {
            this.selectedIndex = index;
        }
    }
    toggleDropdown(options) {
        const tabs = options.reset
            ? []
            : this._tabs
                .filter((tab) => !(0,_dom__WEBPACK_IMPORTED_MODULE_1__.isChildEntirelyVisibleWithinParent)(tab.value.element, this._tabsList))
                .map((x) => x.value.panel.id);
        this._onOverflowTabsChange.fire({ tabs, reset: options.reset });
    }
    updateDragAndDropState() {
        for (const tab of this._tabs) {
            tab.value.updateDragAndDropState();
        }
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/components/titlebar/tabsContainer.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/components/titlebar/tabsContainer.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TabsContainer: () => (/* binding */ TabsContainer)
/* harmony export */ });
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _voidContainer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./voidContainer */ "./node_modules/dockview-core/dist/esm/dockview/components/titlebar/voidContainer.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../events */ "./node_modules/dockview-core/dist/esm/dockview/events.js");
/* harmony import */ var _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../dnd/dataTransfer */ "./node_modules/dockview-core/dist/esm/dnd/dataTransfer.js");
/* harmony import */ var _tabs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tabs */ "./node_modules/dockview-core/dist/esm/dockview/components/titlebar/tabs.js");
/* harmony import */ var _tabOverflowControl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./tabOverflowControl */ "./node_modules/dockview-core/dist/esm/dockview/components/titlebar/tabOverflowControl.js");








class TabsContainer extends _lifecycle__WEBPACK_IMPORTED_MODULE_0__.CompositeDisposable {
    get onTabDragStart() {
        return this.tabs.onTabDragStart;
    }
    get panels() {
        return this.tabs.panels;
    }
    get size() {
        return this.tabs.size;
    }
    get hidden() {
        return this._hidden;
    }
    set hidden(value) {
        this._hidden = value;
        this.element.style.display = value ? 'none' : '';
    }
    get element() {
        return this._element;
    }
    constructor(accessor, group) {
        super();
        this.accessor = accessor;
        this.group = group;
        this._hidden = false;
        this.dropdownPart = null;
        this._overflowTabs = [];
        this._dropdownDisposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_0__.MutableDisposable();
        this._onDrop = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDrop = this._onDrop.event;
        this._onGroupDragStart = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onGroupDragStart = this._onGroupDragStart.event;
        this._onWillShowOverlay = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onWillShowOverlay = this._onWillShowOverlay.event;
        this._element = document.createElement('div');
        this._element.className = 'dv-tabs-and-actions-container';
        (0,_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(this._element, 'dv-full-width-single-tab', this.accessor.options.singleTabMode === 'fullwidth');
        this.rightActionsContainer = document.createElement('div');
        this.rightActionsContainer.className = 'dv-right-actions-container';
        this.leftActionsContainer = document.createElement('div');
        this.leftActionsContainer.className = 'dv-left-actions-container';
        this.preActionsContainer = document.createElement('div');
        this.preActionsContainer.className = 'dv-pre-actions-container';
        this.tabs = new _tabs__WEBPACK_IMPORTED_MODULE_6__.Tabs(group, accessor, {
            showTabsOverflowControl: !accessor.options.disableTabsOverflowList,
        });
        this.voidContainer = new _voidContainer__WEBPACK_IMPORTED_MODULE_2__.VoidContainer(this.accessor, this.group);
        this._element.appendChild(this.preActionsContainer);
        this._element.appendChild(this.tabs.element);
        this._element.appendChild(this.leftActionsContainer);
        this._element.appendChild(this.voidContainer.element);
        this._element.appendChild(this.rightActionsContainer);
        this.addDisposables(this.tabs.onDrop((e) => this._onDrop.fire(e)), this.tabs.onWillShowOverlay((e) => this._onWillShowOverlay.fire(e)), accessor.onDidOptionsChange(() => {
            this.tabs.showTabsOverflowControl =
                !accessor.options.disableTabsOverflowList;
        }), this.tabs.onOverflowTabsChange((event) => {
            this.toggleDropdown(event);
        }), this.tabs, this._onWillShowOverlay, this._onDrop, this._onGroupDragStart, this.voidContainer, this.voidContainer.onDragStart((event) => {
            this._onGroupDragStart.fire({
                nativeEvent: event,
                group: this.group,
            });
        }), this.voidContainer.onDrop((event) => {
            this._onDrop.fire({
                event: event.nativeEvent,
                index: this.tabs.size,
            });
        }), this.voidContainer.onWillShowOverlay((event) => {
            this._onWillShowOverlay.fire(new _events__WEBPACK_IMPORTED_MODULE_4__.WillShowOverlayLocationEvent(event, {
                kind: 'header_space',
                panel: this.group.activePanel,
                api: this.accessor.api,
                group: this.group,
                getData: _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_5__.getPanelData,
            }));
        }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.voidContainer.element, 'pointerdown', (event) => {
            if (event.defaultPrevented) {
                return;
            }
            const isFloatingGroupsEnabled = !this.accessor.options.disableFloatingGroups;
            if (isFloatingGroupsEnabled &&
                event.shiftKey &&
                this.group.api.location.type !== 'floating') {
                event.preventDefault();
                const { top, left } = this.element.getBoundingClientRect();
                const { top: rootTop, left: rootLeft } = this.accessor.element.getBoundingClientRect();
                this.accessor.addFloatingGroup(this.group, {
                    x: left - rootLeft + 20,
                    y: top - rootTop + 20,
                    inDragMode: true,
                });
            }
        }));
    }
    show() {
        if (!this.hidden) {
            this.element.style.display = '';
        }
    }
    hide() {
        this._element.style.display = 'none';
    }
    setRightActionsElement(element) {
        if (this.rightActions === element) {
            return;
        }
        if (this.rightActions) {
            this.rightActions.remove();
            this.rightActions = undefined;
        }
        if (element) {
            this.rightActionsContainer.appendChild(element);
            this.rightActions = element;
        }
    }
    setLeftActionsElement(element) {
        if (this.leftActions === element) {
            return;
        }
        if (this.leftActions) {
            this.leftActions.remove();
            this.leftActions = undefined;
        }
        if (element) {
            this.leftActionsContainer.appendChild(element);
            this.leftActions = element;
        }
    }
    setPrefixActionsElement(element) {
        if (this.preActions === element) {
            return;
        }
        if (this.preActions) {
            this.preActions.remove();
            this.preActions = undefined;
        }
        if (element) {
            this.preActionsContainer.appendChild(element);
            this.preActions = element;
        }
    }
    isActive(tab) {
        return this.tabs.isActive(tab);
    }
    indexOf(id) {
        return this.tabs.indexOf(id);
    }
    setActive(_isGroupActive) {
        // noop
    }
    delete(id) {
        this.tabs.delete(id);
        this.updateClassnames();
    }
    setActivePanel(panel) {
        this.tabs.setActivePanel(panel);
    }
    openPanel(panel, index = this.tabs.size) {
        this.tabs.openPanel(panel, index);
        this.updateClassnames();
    }
    closePanel(panel) {
        this.delete(panel.id);
    }
    updateClassnames() {
        (0,_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(this._element, 'dv-single-tab', this.size === 1);
    }
    toggleDropdown(options) {
        const tabs = options.reset ? [] : options.tabs;
        this._overflowTabs = tabs;
        if (this._overflowTabs.length > 0 && this.dropdownPart) {
            this.dropdownPart.update({ tabs: tabs.length });
            return;
        }
        if (this._overflowTabs.length === 0) {
            this._dropdownDisposable.dispose();
            return;
        }
        const root = document.createElement('div');
        root.className = 'dv-tabs-overflow-dropdown-root';
        const part = (0,_tabOverflowControl__WEBPACK_IMPORTED_MODULE_7__.createDropdownElementHandle)();
        part.update({ tabs: tabs.length });
        this.dropdownPart = part;
        root.appendChild(part.element);
        this.rightActionsContainer.prepend(root);
        this._dropdownDisposable.value = new _lifecycle__WEBPACK_IMPORTED_MODULE_0__.CompositeDisposable(_lifecycle__WEBPACK_IMPORTED_MODULE_0__.Disposable.from(() => {
            var _a, _b;
            root.remove();
            (_b = (_a = this.dropdownPart) === null || _a === void 0 ? void 0 : _a.dispose) === null || _b === void 0 ? void 0 : _b.call(_a);
            this.dropdownPart = null;
        }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(root, 'pointerdown', (event) => {
            event.preventDefault();
        }, { capture: true }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(root, 'click', (event) => {
            const el = document.createElement('div');
            el.style.overflow = 'auto';
            el.className = 'dv-tabs-overflow-container';
            for (const tab of this.tabs.tabs.filter((tab) => this._overflowTabs.includes(tab.panel.id))) {
                const panelObject = this.group.panels.find((panel) => panel === tab.panel);
                const tabComponent = panelObject.view.createTabRenderer('headerOverflow');
                const child = tabComponent.element;
                const wrapper = document.createElement('div');
                (0,_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(wrapper, 'dv-tab', true);
                (0,_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(wrapper, 'dv-active-tab', panelObject.api.isActive);
                (0,_dom__WEBPACK_IMPORTED_MODULE_3__.toggleClass)(wrapper, 'dv-inactive-tab', !panelObject.api.isActive);
                wrapper.addEventListener('click', (event) => {
                    this.accessor.popupService.close();
                    if (event.defaultPrevented) {
                        return;
                    }
                    tab.element.scrollIntoView();
                    tab.panel.api.setActive();
                });
                wrapper.appendChild(child);
                el.appendChild(wrapper);
            }
            const relativeParent = (0,_dom__WEBPACK_IMPORTED_MODULE_3__.findRelativeZIndexParent)(root);
            this.accessor.popupService.openPopover(el, {
                x: event.clientX,
                y: event.clientY,
                zIndex: (relativeParent === null || relativeParent === void 0 ? void 0 : relativeParent.style.zIndex)
                    ? `calc(${relativeParent.style.zIndex} * 2)`
                    : undefined,
            });
        }));
    }
    updateDragAndDropState() {
        this.tabs.updateDragAndDropState();
        this.voidContainer.updateDragAndDropState();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/components/titlebar/voidContainer.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/components/titlebar/voidContainer.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   VoidContainer: () => (/* binding */ VoidContainer)
/* harmony export */ });
/* harmony import */ var _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../dnd/dataTransfer */ "./node_modules/dockview-core/dist/esm/dnd/dataTransfer.js");
/* harmony import */ var _dnd_droptarget__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../dnd/droptarget */ "./node_modules/dockview-core/dist/esm/dnd/droptarget.js");
/* harmony import */ var _dnd_groupDragHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../dnd/groupDragHandler */ "./node_modules/dockview-core/dist/esm/dnd/groupDragHandler.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../dom */ "./node_modules/dockview-core/dist/esm/dom.js");






class VoidContainer extends _lifecycle__WEBPACK_IMPORTED_MODULE_4__.CompositeDisposable {
    get element() {
        return this._element;
    }
    constructor(accessor, group) {
        super();
        this.accessor = accessor;
        this.group = group;
        this._onDrop = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onDrop = this._onDrop.event;
        this._onDragStart = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onDragStart = this._onDragStart.event;
        this._element = document.createElement('div');
        this._element.className = 'dv-void-container';
        this._element.draggable = !this.accessor.options.disableDnd;
        (0,_dom__WEBPACK_IMPORTED_MODULE_5__.toggleClass)(this._element, 'dv-draggable', !this.accessor.options.disableDnd);
        this.addDisposables(this._onDrop, this._onDragStart, (0,_events__WEBPACK_IMPORTED_MODULE_3__.addDisposableListener)(this._element, 'pointerdown', () => {
            this.accessor.doSetGroupActive(this.group);
        }));
        const handler = new _dnd_groupDragHandler__WEBPACK_IMPORTED_MODULE_2__.GroupDragHandler(this._element, accessor, group);
        this.dropTarget = new _dnd_droptarget__WEBPACK_IMPORTED_MODULE_1__.Droptarget(this._element, {
            acceptedTargetZones: ['center'],
            canDisplayOverlay: (event, position) => {
                const data = (0,_dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_0__.getPanelData)();
                if (data && this.accessor.id === data.viewId) {
                    return true;
                }
                return group.model.canDisplayOverlay(event, position, 'header_space');
            },
            getOverrideTarget: () => { var _a; return (_a = group.model.dropTargetContainer) === null || _a === void 0 ? void 0 : _a.model; },
        });
        this.onWillShowOverlay = this.dropTarget.onWillShowOverlay;
        this.addDisposables(handler, handler.onDragStart((event) => {
            this._onDragStart.fire(event);
        }), this.dropTarget.onDrop((event) => {
            this._onDrop.fire(event);
        }), this.dropTarget);
    }
    updateDragAndDropState() {
        this._element.draggable = !this.accessor.options.disableDnd;
        (0,_dom__WEBPACK_IMPORTED_MODULE_5__.toggleClass)(this._element, 'dv-draggable', !this.accessor.options.disableDnd);
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/components/watermark/watermark.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/components/watermark/watermark.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Watermark: () => (/* binding */ Watermark)
/* harmony export */ });
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");

class Watermark extends _lifecycle__WEBPACK_IMPORTED_MODULE_0__.CompositeDisposable {
    get element() {
        return this._element;
    }
    constructor() {
        super();
        this._element = document.createElement('div');
        this._element.className = 'dv-watermark';
    }
    init(_params) {
        // noop
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/deserializer.js":
/*!**********************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/deserializer.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DefaultDockviewDeserialzier: () => (/* binding */ DefaultDockviewDeserialzier)
/* harmony export */ });
/* harmony import */ var _dockviewPanel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dockviewPanel */ "./node_modules/dockview-core/dist/esm/dockview/dockviewPanel.js");
/* harmony import */ var _dockviewPanelModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dockviewPanelModel */ "./node_modules/dockview-core/dist/esm/dockview/dockviewPanelModel.js");
/* harmony import */ var _api_component_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/component.api */ "./node_modules/dockview-core/dist/esm/api/component.api.js");



class DefaultDockviewDeserialzier {
    constructor(accessor) {
        this.accessor = accessor;
    }
    fromJSON(panelData, group) {
        var _a, _b;
        const panelId = panelData.id;
        const params = panelData.params;
        const title = panelData.title;
        const viewData = panelData.view;
        const contentComponent = viewData
            ? viewData.content.id
            : (_a = panelData.contentComponent) !== null && _a !== void 0 ? _a : 'unknown';
        const tabComponent = viewData
            ? (_b = viewData.tab) === null || _b === void 0 ? void 0 : _b.id
            : panelData.tabComponent;
        const view = new _dockviewPanelModel__WEBPACK_IMPORTED_MODULE_1__.DockviewPanelModel(this.accessor, panelId, contentComponent, tabComponent);
        const panel = new _dockviewPanel__WEBPACK_IMPORTED_MODULE_0__.DockviewPanel(panelId, contentComponent, tabComponent, this.accessor, new _api_component_api__WEBPACK_IMPORTED_MODULE_2__.DockviewApi(this.accessor), group, view, {
            renderer: panelData.renderer,
            minimumWidth: panelData.minimumWidth,
            minimumHeight: panelData.minimumHeight,
            maximumWidth: panelData.maximumWidth,
            maximumHeight: panelData.maximumHeight,
        });
        panel.init({
            title: title !== null && title !== void 0 ? title : panelId,
            params: params !== null && params !== void 0 ? params : {},
        });
        return panel;
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/dockviewComponent.js":
/*!***************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/dockviewComponent.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DockviewComponent: () => (/* binding */ DockviewComponent)
/* harmony export */ });
/* harmony import */ var _gridview_gridview__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../gridview/gridview */ "./node_modules/dockview-core/dist/esm/gridview/gridview.js");
/* harmony import */ var _dnd_droptarget__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dnd/droptarget */ "./node_modules/dockview-core/dist/esm/dnd/droptarget.js");
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../array */ "./node_modules/dockview-core/dist/esm/array.js");
/* harmony import */ var _dockviewPanel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dockviewPanel */ "./node_modules/dockview-core/dist/esm/dockview/dockviewPanel.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _components_watermark_watermark__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/watermark/watermark */ "./node_modules/dockview-core/dist/esm/dockview/components/watermark/watermark.js");
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../math */ "./node_modules/dockview-core/dist/esm/math.js");
/* harmony import */ var _deserializer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./deserializer */ "./node_modules/dockview-core/dist/esm/dockview/deserializer.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./options */ "./node_modules/dockview-core/dist/esm/dockview/options.js");
/* harmony import */ var _gridview_baseComponentGridview__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../gridview/baseComponentGridview */ "./node_modules/dockview-core/dist/esm/gridview/baseComponentGridview.js");
/* harmony import */ var _api_component_api__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../api/component.api */ "./node_modules/dockview-core/dist/esm/api/component.api.js");
/* harmony import */ var _splitview_splitview__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../splitview/splitview */ "./node_modules/dockview-core/dist/esm/splitview/splitview.js");
/* harmony import */ var _dockviewGroupPanelModel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dockviewGroupPanelModel */ "./node_modules/dockview-core/dist/esm/dockview/dockviewGroupPanelModel.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./events */ "./node_modules/dockview-core/dist/esm/dockview/events.js");
/* harmony import */ var _dockviewGroupPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dockviewGroupPanel */ "./node_modules/dockview-core/dist/esm/dockview/dockviewGroupPanel.js");
/* harmony import */ var _dockviewPanelModel__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./dockviewPanelModel */ "./node_modules/dockview-core/dist/esm/dockview/dockviewPanelModel.js");
/* harmony import */ var _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../dnd/dataTransfer */ "./node_modules/dockview-core/dist/esm/dnd/dataTransfer.js");
/* harmony import */ var _overlay_overlay__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../overlay/overlay */ "./node_modules/dockview-core/dist/esm/overlay/overlay.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _dockviewFloatingGroupPanel__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./dockviewFloatingGroupPanel */ "./node_modules/dockview-core/dist/esm/dockview/dockviewFloatingGroupPanel.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../constants */ "./node_modules/dockview-core/dist/esm/constants.js");
/* harmony import */ var _overlay_overlayRenderContainer__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../overlay/overlayRenderContainer */ "./node_modules/dockview-core/dist/esm/overlay/overlayRenderContainer.js");
/* harmony import */ var _popoutWindow__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../popoutWindow */ "./node_modules/dockview-core/dist/esm/popoutWindow.js");
/* harmony import */ var _strictEventsSequencing__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./strictEventsSequencing */ "./node_modules/dockview-core/dist/esm/dockview/strictEventsSequencing.js");
/* harmony import */ var _components_popupService__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./components/popupService */ "./node_modules/dockview-core/dist/esm/dockview/components/popupService.js");
/* harmony import */ var _dnd_dropTargetAnchorContainer__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../dnd/dropTargetAnchorContainer */ "./node_modules/dockview-core/dist/esm/dnd/dropTargetAnchorContainer.js");
/* harmony import */ var _theme__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./theme */ "./node_modules/dockview-core/dist/esm/dockview/theme.js");




























const DEFAULT_ROOT_OVERLAY_MODEL = {
    activationSize: { type: 'pixels', value: 10 },
    size: { type: 'pixels', value: 20 },
};
function moveGroupWithoutDestroying(options) {
    const activePanel = options.from.activePanel;
    const panels = [...options.from.panels].map((panel) => {
        const removedPanel = options.from.model.removePanel(panel);
        options.from.model.renderContainer.detatch(panel);
        return removedPanel;
    });
    panels.forEach((panel) => {
        options.to.model.openPanel(panel, {
            skipSetActive: activePanel !== panel,
            skipSetGroupActive: true,
        });
    });
}
class DockviewComponent extends _gridview_baseComponentGridview__WEBPACK_IMPORTED_MODULE_10__.BaseGrid {
    get orientation() {
        return this.gridview.orientation;
    }
    get totalPanels() {
        return this.panels.length;
    }
    get panels() {
        return this.groups.flatMap((group) => group.panels);
    }
    get options() {
        return this._options;
    }
    get activePanel() {
        const activeGroup = this.activeGroup;
        if (!activeGroup) {
            return undefined;
        }
        return activeGroup.activePanel;
    }
    get renderer() {
        var _a;
        return (_a = this.options.defaultRenderer) !== null && _a !== void 0 ? _a : 'onlyWhenVisible';
    }
    get api() {
        return this._api;
    }
    get floatingGroups() {
        return this._floatingGroups;
    }
    /**
     * Promise that resolves when all popout groups from the last fromJSON call are restored.
     * Useful for tests that need to wait for delayed popout creation.
     */
    get popoutRestorationPromise() {
        return this._popoutRestorationPromise;
    }
    constructor(container, options) {
        var _a, _b, _c;
        super(container, {
            proportionalLayout: true,
            orientation: _splitview_splitview__WEBPACK_IMPORTED_MODULE_12__.Orientation.HORIZONTAL,
            styles: options.hideBorders
                ? { separatorBorder: 'transparent' }
                : undefined,
            disableAutoResizing: options.disableAutoResizing,
            locked: options.locked,
            margin: (_b = (_a = options.theme) === null || _a === void 0 ? void 0 : _a.gap) !== null && _b !== void 0 ? _b : 0,
            className: options.className,
        });
        this.nextGroupId = (0,_math__WEBPACK_IMPORTED_MODULE_7__.sequentialNumberGenerator)();
        this._deserializer = new _deserializer__WEBPACK_IMPORTED_MODULE_8__.DefaultDockviewDeserialzier(this);
        this._watermark = null;
        this._onWillDragPanel = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onWillDragPanel = this._onWillDragPanel.event;
        this._onWillDragGroup = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onWillDragGroup = this._onWillDragGroup.event;
        this._onDidDrop = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidDrop = this._onDidDrop.event;
        this._onWillDrop = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onWillDrop = this._onWillDrop.event;
        this._onWillShowOverlay = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onWillShowOverlay = this._onWillShowOverlay.event;
        this._onUnhandledDragOverEvent = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onUnhandledDragOverEvent = this._onUnhandledDragOverEvent.event;
        this._onDidRemovePanel = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidRemovePanel = this._onDidRemovePanel.event;
        this._onDidAddPanel = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidAddPanel = this._onDidAddPanel.event;
        this._onDidPopoutGroupSizeChange = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidPopoutGroupSizeChange = this._onDidPopoutGroupSizeChange.event;
        this._onDidPopoutGroupPositionChange = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidPopoutGroupPositionChange = this._onDidPopoutGroupPositionChange.event;
        this._onDidOpenPopoutWindowFail = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidOpenPopoutWindowFail = this._onDidOpenPopoutWindowFail.event;
        this._onDidLayoutFromJSON = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidLayoutFromJSON = this._onDidLayoutFromJSON.event;
        this._onDidActivePanelChange = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter({ replay: true });
        this.onDidActivePanelChange = this._onDidActivePanelChange.event;
        this._onDidMovePanel = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidMovePanel = this._onDidMovePanel.event;
        this._onDidMaximizedGroupChange = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidMaximizedGroupChange = this._onDidMaximizedGroupChange.event;
        this._floatingGroups = [];
        this._popoutGroups = [];
        this._popoutRestorationPromise = Promise.resolve();
        this._onDidRemoveGroup = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidRemoveGroup = this._onDidRemoveGroup.event;
        this._onDidAddGroup = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidAddGroup = this._onDidAddGroup.event;
        this._onDidOptionsChange = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidOptionsChange = this._onDidOptionsChange.event;
        this._onDidActiveGroupChange = new _events__WEBPACK_IMPORTED_MODULE_5__.Emitter();
        this.onDidActiveGroupChange = this._onDidActiveGroupChange.event;
        this._moving = false;
        this._options = options;
        this.popupService = new _components_popupService__WEBPACK_IMPORTED_MODULE_25__.PopupService(this.element);
        this._themeClassnames = new _dom__WEBPACK_IMPORTED_MODULE_19__.Classnames(this.element);
        this._api = new _api_component_api__WEBPACK_IMPORTED_MODULE_11__.DockviewApi(this);
        this.rootDropTargetContainer = new _dnd_dropTargetAnchorContainer__WEBPACK_IMPORTED_MODULE_26__.DropTargetAnchorContainer(this.element, { disabled: true });
        this.overlayRenderContainer = new _overlay_overlayRenderContainer__WEBPACK_IMPORTED_MODULE_22__.OverlayRenderContainer(this.gridview.element, this);
        this._rootDropTarget = new _dnd_droptarget__WEBPACK_IMPORTED_MODULE_1__.Droptarget(this.element, {
            className: 'dv-drop-target-edge',
            canDisplayOverlay: (event, position) => {
                const data = (0,_dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_17__.getPanelData)();
                if (data) {
                    if (data.viewId !== this.id) {
                        return false;
                    }
                    if (position === 'center') {
                        // center drop target is only allowed if there are no panels in the grid
                        // floating panels are allowed
                        return this.gridview.length === 0;
                    }
                    return true;
                }
                if (position === 'center' && this.gridview.length !== 0) {
                    /**
                     * for external events only show the four-corner drag overlays, disable
                     * the center position so that external drag events can fall through to the group
                     * and panel drop target handlers
                     */
                    return false;
                }
                const firedEvent = new _options__WEBPACK_IMPORTED_MODULE_9__.DockviewUnhandledDragOverEvent(event, 'edge', position, _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_17__.getPanelData);
                this._onUnhandledDragOverEvent.fire(firedEvent);
                return firedEvent.isAccepted;
            },
            acceptedTargetZones: ['top', 'bottom', 'left', 'right', 'center'],
            overlayModel: (_c = options.rootOverlayModel) !== null && _c !== void 0 ? _c : DEFAULT_ROOT_OVERLAY_MODEL,
            getOverrideTarget: () => { var _a; return (_a = this.rootDropTargetContainer) === null || _a === void 0 ? void 0 : _a.model; },
        });
        this.updateDropTargetModel(options);
        (0,_dom__WEBPACK_IMPORTED_MODULE_19__.toggleClass)(this.gridview.element, 'dv-dockview', true);
        (0,_dom__WEBPACK_IMPORTED_MODULE_19__.toggleClass)(this.element, 'dv-debug', !!options.debug);
        this.updateTheme();
        this.updateWatermark();
        if (options.debug) {
            this.addDisposables(new _strictEventsSequencing__WEBPACK_IMPORTED_MODULE_24__.StrictEventsSequencing(this));
        }
        this.addDisposables(this.rootDropTargetContainer, this.overlayRenderContainer, this._onWillDragPanel, this._onWillDragGroup, this._onWillShowOverlay, this._onDidActivePanelChange, this._onDidAddPanel, this._onDidRemovePanel, this._onDidLayoutFromJSON, this._onDidDrop, this._onWillDrop, this._onDidMovePanel, this._onDidAddGroup, this._onDidRemoveGroup, this._onDidActiveGroupChange, this._onUnhandledDragOverEvent, this._onDidMaximizedGroupChange, this._onDidOptionsChange, this._onDidPopoutGroupSizeChange, this._onDidPopoutGroupPositionChange, this._onDidOpenPopoutWindowFail, this.onDidViewVisibilityChangeMicroTaskQueue(() => {
            this.updateWatermark();
        }), this.onDidAdd((event) => {
            if (!this._moving) {
                this._onDidAddGroup.fire(event);
            }
        }), this.onDidRemove((event) => {
            if (!this._moving) {
                this._onDidRemoveGroup.fire(event);
            }
        }), this.onDidActiveChange((event) => {
            if (!this._moving) {
                this._onDidActiveGroupChange.fire(event);
            }
        }), this.onDidMaximizedChange((event) => {
            this._onDidMaximizedGroupChange.fire({
                group: event.panel,
                isMaximized: event.isMaximized,
            });
        }), _events__WEBPACK_IMPORTED_MODULE_5__.Event.any(this.onDidAdd, this.onDidRemove)(() => {
            this.updateWatermark();
        }), _events__WEBPACK_IMPORTED_MODULE_5__.Event.any(this.onDidAddPanel, this.onDidRemovePanel, this.onDidAddGroup, this.onDidRemove, this.onDidMovePanel, this.onDidActivePanelChange, this.onDidPopoutGroupPositionChange, this.onDidPopoutGroupSizeChange)(() => {
            this._bufferOnDidLayoutChange.fire();
        }), _lifecycle__WEBPACK_IMPORTED_MODULE_4__.Disposable.from(() => {
            // iterate over a copy of the array since .dispose() mutates the original array
            for (const group of [...this._floatingGroups]) {
                group.dispose();
            }
            // iterate over a copy of the array since .dispose() mutates the original array
            for (const group of [...this._popoutGroups]) {
                group.disposable.dispose();
            }
        }), this._rootDropTarget, this._rootDropTarget.onWillShowOverlay((event) => {
            if (this.gridview.length > 0 && event.position === 'center') {
                // option only available when no panels in primary grid
                return;
            }
            this._onWillShowOverlay.fire(new _events__WEBPACK_IMPORTED_MODULE_14__.WillShowOverlayLocationEvent(event, {
                kind: 'edge',
                panel: undefined,
                api: this._api,
                group: undefined,
                getData: _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_17__.getPanelData,
            }));
        }), this._rootDropTarget.onDrop((event) => {
            var _a;
            const willDropEvent = new _dockviewGroupPanelModel__WEBPACK_IMPORTED_MODULE_13__.DockviewWillDropEvent({
                nativeEvent: event.nativeEvent,
                position: event.position,
                panel: undefined,
                api: this._api,
                group: undefined,
                getData: _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_17__.getPanelData,
                kind: 'edge',
            });
            this._onWillDrop.fire(willDropEvent);
            if (willDropEvent.defaultPrevented) {
                return;
            }
            const data = (0,_dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_17__.getPanelData)();
            if (data) {
                this.moveGroupOrPanel({
                    from: {
                        groupId: data.groupId,
                        panelId: (_a = data.panelId) !== null && _a !== void 0 ? _a : undefined,
                    },
                    to: {
                        group: this.orthogonalize(event.position),
                        position: 'center',
                    },
                });
            }
            else {
                this._onDidDrop.fire(new _dockviewGroupPanelModel__WEBPACK_IMPORTED_MODULE_13__.DockviewDidDropEvent({
                    nativeEvent: event.nativeEvent,
                    position: event.position,
                    panel: undefined,
                    api: this._api,
                    group: undefined,
                    getData: _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_17__.getPanelData,
                }));
            }
        }), this._rootDropTarget);
    }
    setVisible(panel, visible) {
        switch (panel.api.location.type) {
            case 'grid':
                super.setVisible(panel, visible);
                break;
            case 'floating': {
                const item = this.floatingGroups.find((floatingGroup) => floatingGroup.group === panel);
                if (item) {
                    item.overlay.setVisible(visible);
                    panel.api._onDidVisibilityChange.fire({
                        isVisible: visible,
                    });
                }
                break;
            }
            case 'popout':
                console.warn('dockview: You cannot hide a group that is in a popout window');
                break;
        }
    }
    addPopoutGroup(itemToPopout, options) {
        var _a, _b, _c, _d, _e;
        if (itemToPopout instanceof _dockviewPanel__WEBPACK_IMPORTED_MODULE_3__.DockviewPanel &&
            itemToPopout.group.size === 1) {
            return this.addPopoutGroup(itemToPopout.group, options);
        }
        const theme = (0,_dom__WEBPACK_IMPORTED_MODULE_19__.getDockviewTheme)(this.gridview.element);
        const element = this.element;
        function getBox() {
            if (options === null || options === void 0 ? void 0 : options.position) {
                return options.position;
            }
            if (itemToPopout instanceof _dockviewGroupPanel__WEBPACK_IMPORTED_MODULE_15__.DockviewGroupPanel) {
                return itemToPopout.element.getBoundingClientRect();
            }
            if (itemToPopout.group) {
                return itemToPopout.group.element.getBoundingClientRect();
            }
            return element.getBoundingClientRect();
        }
        const box = getBox();
        const groupId = (_b = (_a = options === null || options === void 0 ? void 0 : options.overridePopoutGroup) === null || _a === void 0 ? void 0 : _a.id) !== null && _b !== void 0 ? _b : this.getNextGroupId();
        const _window = new _popoutWindow__WEBPACK_IMPORTED_MODULE_23__.PopoutWindow(`${this.id}-${groupId}`, // unique id
        theme !== null && theme !== void 0 ? theme : '', {
            url: (_e = (_c = options === null || options === void 0 ? void 0 : options.popoutUrl) !== null && _c !== void 0 ? _c : (_d = this.options) === null || _d === void 0 ? void 0 : _d.popoutUrl) !== null && _e !== void 0 ? _e : '/popout.html',
            left: window.screenX + box.left,
            top: window.screenY + box.top,
            width: box.width,
            height: box.height,
            onDidOpen: options === null || options === void 0 ? void 0 : options.onDidOpen,
            onWillClose: options === null || options === void 0 ? void 0 : options.onWillClose,
        });
        const popoutWindowDisposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_4__.CompositeDisposable(_window, _window.onDidClose(() => {
            popoutWindowDisposable.dispose();
        }));
        return _window
            .open()
            .then((popoutContainer) => {
            var _a;
            if (_window.isDisposed) {
                return false;
            }
            const referenceGroup = (options === null || options === void 0 ? void 0 : options.referenceGroup)
                ? options.referenceGroup
                : itemToPopout instanceof _dockviewPanel__WEBPACK_IMPORTED_MODULE_3__.DockviewPanel
                    ? itemToPopout.group
                    : itemToPopout;
            const referenceLocation = itemToPopout.api.location.type;
            /**
             * The group that is being added doesn't already exist within the DOM, the most likely occurrence
             * of this case is when being called from the `fromJSON(...)` method
             */
            const isGroupAddedToDom = referenceGroup.element.parentElement !== null;
            let group;
            if (!isGroupAddedToDom) {
                group = referenceGroup;
            }
            else if (options === null || options === void 0 ? void 0 : options.overridePopoutGroup) {
                group = options.overridePopoutGroup;
            }
            else {
                group = this.createGroup({ id: groupId });
                if (popoutContainer) {
                    this._onDidAddGroup.fire(group);
                }
            }
            if (popoutContainer === null) {
                console.error('dockview: failed to create popout. perhaps you need to allow pop-ups for this website');
                popoutWindowDisposable.dispose();
                this._onDidOpenPopoutWindowFail.fire();
                // if the popout window was blocked, we need to move the group back to the reference group
                // and set it to visible
                this.movingLock(() => moveGroupWithoutDestroying({
                    from: group,
                    to: referenceGroup,
                }));
                if (!referenceGroup.api.isVisible) {
                    referenceGroup.api.setVisible(true);
                }
                return false;
            }
            const gready = document.createElement('div');
            gready.className = 'dv-overlay-render-container';
            const overlayRenderContainer = new _overlay_overlayRenderContainer__WEBPACK_IMPORTED_MODULE_22__.OverlayRenderContainer(gready, this);
            group.model.renderContainer = overlayRenderContainer;
            group.layout(_window.window.innerWidth, _window.window.innerHeight);
            let floatingBox;
            if (!(options === null || options === void 0 ? void 0 : options.overridePopoutGroup) && isGroupAddedToDom) {
                if (itemToPopout instanceof _dockviewPanel__WEBPACK_IMPORTED_MODULE_3__.DockviewPanel) {
                    this.movingLock(() => {
                        const panel = referenceGroup.model.removePanel(itemToPopout);
                        group.model.openPanel(panel);
                    });
                }
                else {
                    this.movingLock(() => moveGroupWithoutDestroying({
                        from: referenceGroup,
                        to: group,
                    }));
                    switch (referenceLocation) {
                        case 'grid':
                            referenceGroup.api.setVisible(false);
                            break;
                        case 'floating':
                        case 'popout':
                            floatingBox = (_a = this._floatingGroups
                                .find((value) => value.group.api.id ===
                                itemToPopout.api.id)) === null || _a === void 0 ? void 0 : _a.overlay.toJSON();
                            this.removeGroup(referenceGroup);
                            break;
                    }
                }
            }
            popoutContainer.classList.add('dv-dockview');
            popoutContainer.style.overflow = 'hidden';
            popoutContainer.appendChild(gready);
            popoutContainer.appendChild(group.element);
            const anchor = document.createElement('div');
            const dropTargetContainer = new _dnd_dropTargetAnchorContainer__WEBPACK_IMPORTED_MODULE_26__.DropTargetAnchorContainer(anchor, { disabled: this.rootDropTargetContainer.disabled });
            popoutContainer.appendChild(anchor);
            group.model.dropTargetContainer = dropTargetContainer;
            group.model.location = {
                type: 'popout',
                getWindow: () => _window.window,
                popoutUrl: options === null || options === void 0 ? void 0 : options.popoutUrl,
            };
            if (isGroupAddedToDom &&
                itemToPopout.api.location.type === 'grid') {
                itemToPopout.api.setVisible(false);
            }
            this.doSetGroupAndPanelActive(group);
            popoutWindowDisposable.addDisposables(group.api.onDidActiveChange((event) => {
                var _a;
                if (event.isActive) {
                    (_a = _window.window) === null || _a === void 0 ? void 0 : _a.focus();
                }
            }), group.api.onWillFocus(() => {
                var _a;
                (_a = _window.window) === null || _a === void 0 ? void 0 : _a.focus();
            }));
            let returnedGroup;
            const isValidReferenceGroup = isGroupAddedToDom &&
                referenceGroup &&
                this.getPanel(referenceGroup.id);
            const value = {
                window: _window,
                popoutGroup: group,
                referenceGroup: isValidReferenceGroup
                    ? referenceGroup.id
                    : undefined,
                disposable: {
                    dispose: () => {
                        popoutWindowDisposable.dispose();
                        return returnedGroup;
                    },
                },
            };
            const _onDidWindowPositionChange = (0,_dom__WEBPACK_IMPORTED_MODULE_19__.onDidWindowMoveEnd)(_window.window);
            popoutWindowDisposable.addDisposables(_onDidWindowPositionChange, (0,_dom__WEBPACK_IMPORTED_MODULE_19__.onDidWindowResizeEnd)(_window.window, () => {
                this._onDidPopoutGroupSizeChange.fire({
                    width: _window.window.innerWidth,
                    height: _window.window.innerHeight,
                    group,
                });
            }), _onDidWindowPositionChange.event(() => {
                this._onDidPopoutGroupPositionChange.fire({
                    screenX: _window.window.screenX,
                    screenY: _window.window.screenX,
                    group,
                });
            }), 
            /**
             * ResizeObserver seems slow here, I do not know why but we don't need it
             * since we can reply on the window resize event as we will occupy the full
             * window dimensions
             */
            (0,_events__WEBPACK_IMPORTED_MODULE_5__.addDisposableListener)(_window.window, 'resize', () => {
                group.layout(_window.window.innerWidth, _window.window.innerHeight);
            }), overlayRenderContainer, _lifecycle__WEBPACK_IMPORTED_MODULE_4__.Disposable.from(() => {
                if (this.isDisposed) {
                    return; // cleanup may run after instance is disposed
                }
                if (isGroupAddedToDom &&
                    this.getPanel(referenceGroup.id)) {
                    this.movingLock(() => moveGroupWithoutDestroying({
                        from: group,
                        to: referenceGroup,
                    }));
                    if (!referenceGroup.api.isVisible) {
                        referenceGroup.api.setVisible(true);
                    }
                    if (this.getPanel(group.id)) {
                        this.doRemoveGroup(group, {
                            skipPopoutAssociated: true,
                        });
                    }
                }
                else if (this.getPanel(group.id)) {
                    group.model.renderContainer =
                        this.overlayRenderContainer;
                    group.model.dropTargetContainer =
                        this.rootDropTargetContainer;
                    returnedGroup = group;
                    const alreadyRemoved = !this._popoutGroups.find((p) => p.popoutGroup === group);
                    if (alreadyRemoved) {
                        /**
                         * If this popout group was explicitly removed then we shouldn't run the additional
                         * steps. To tell if the running of this disposable is the result of this popout group
                         * being explicitly removed we can check if this popout group is still referenced in
                         * the `this._popoutGroups` list.
                         */
                        return;
                    }
                    if (floatingBox) {
                        this.addFloatingGroup(group, {
                            height: floatingBox.height,
                            width: floatingBox.width,
                            position: floatingBox,
                        });
                    }
                    else {
                        this.doRemoveGroup(group, {
                            skipDispose: true,
                            skipActive: true,
                            skipPopoutReturn: true,
                        });
                        group.model.location = { type: 'grid' };
                        this.movingLock(() => {
                            // suppress group add events since the group already exists
                            this.doAddGroup(group, [0]);
                        });
                    }
                    this.doSetGroupAndPanelActive(group);
                }
            }));
            this._popoutGroups.push(value);
            this.updateWatermark();
            return true;
        })
            .catch((err) => {
            console.error('dockview: failed to create popout.', err);
            return false;
        });
    }
    addFloatingGroup(item, options) {
        var _a, _b, _c, _d, _e;
        let group;
        if (item instanceof _dockviewPanel__WEBPACK_IMPORTED_MODULE_3__.DockviewPanel) {
            group = this.createGroup();
            this._onDidAddGroup.fire(group);
            this.movingLock(() => this.removePanel(item, {
                removeEmptyGroup: true,
                skipDispose: true,
                skipSetActiveGroup: true,
            }));
            this.movingLock(() => group.model.openPanel(item, { skipSetGroupActive: true }));
        }
        else {
            group = item;
            const popoutReferenceGroupId = (_a = this._popoutGroups.find((_) => _.popoutGroup === group)) === null || _a === void 0 ? void 0 : _a.referenceGroup;
            const popoutReferenceGroup = popoutReferenceGroupId
                ? this.getPanel(popoutReferenceGroupId)
                : undefined;
            const skip = typeof (options === null || options === void 0 ? void 0 : options.skipRemoveGroup) === 'boolean' &&
                options.skipRemoveGroup;
            if (!skip) {
                if (popoutReferenceGroup) {
                    this.movingLock(() => moveGroupWithoutDestroying({
                        from: item,
                        to: popoutReferenceGroup,
                    }));
                    this.doRemoveGroup(item, {
                        skipPopoutReturn: true,
                        skipPopoutAssociated: true,
                    });
                    this.doRemoveGroup(popoutReferenceGroup, {
                        skipDispose: true,
                    });
                    group = popoutReferenceGroup;
                }
                else {
                    this.doRemoveGroup(item, {
                        skipDispose: true,
                        skipPopoutReturn: true,
                        skipPopoutAssociated: false,
                    });
                }
            }
        }
        function getAnchoredBox() {
            if (options === null || options === void 0 ? void 0 : options.position) {
                const result = {};
                if ('left' in options.position) {
                    result.left = Math.max(options.position.left, 0);
                }
                else if ('right' in options.position) {
                    result.right = Math.max(options.position.right, 0);
                }
                else {
                    result.left = _constants__WEBPACK_IMPORTED_MODULE_21__.DEFAULT_FLOATING_GROUP_POSITION.left;
                }
                if ('top' in options.position) {
                    result.top = Math.max(options.position.top, 0);
                }
                else if ('bottom' in options.position) {
                    result.bottom = Math.max(options.position.bottom, 0);
                }
                else {
                    result.top = _constants__WEBPACK_IMPORTED_MODULE_21__.DEFAULT_FLOATING_GROUP_POSITION.top;
                }
                if (typeof options.width === 'number') {
                    result.width = Math.max(options.width, 0);
                }
                else {
                    result.width = _constants__WEBPACK_IMPORTED_MODULE_21__.DEFAULT_FLOATING_GROUP_POSITION.width;
                }
                if (typeof options.height === 'number') {
                    result.height = Math.max(options.height, 0);
                }
                else {
                    result.height = _constants__WEBPACK_IMPORTED_MODULE_21__.DEFAULT_FLOATING_GROUP_POSITION.height;
                }
                return result;
            }
            return {
                left: typeof (options === null || options === void 0 ? void 0 : options.x) === 'number'
                    ? Math.max(options.x, 0)
                    : _constants__WEBPACK_IMPORTED_MODULE_21__.DEFAULT_FLOATING_GROUP_POSITION.left,
                top: typeof (options === null || options === void 0 ? void 0 : options.y) === 'number'
                    ? Math.max(options.y, 0)
                    : _constants__WEBPACK_IMPORTED_MODULE_21__.DEFAULT_FLOATING_GROUP_POSITION.top,
                width: typeof (options === null || options === void 0 ? void 0 : options.width) === 'number'
                    ? Math.max(options.width, 0)
                    : _constants__WEBPACK_IMPORTED_MODULE_21__.DEFAULT_FLOATING_GROUP_POSITION.width,
                height: typeof (options === null || options === void 0 ? void 0 : options.height) === 'number'
                    ? Math.max(options.height, 0)
                    : _constants__WEBPACK_IMPORTED_MODULE_21__.DEFAULT_FLOATING_GROUP_POSITION.height,
            };
        }
        const anchoredBox = getAnchoredBox();
        const overlay = new _overlay_overlay__WEBPACK_IMPORTED_MODULE_18__.Overlay(Object.assign(Object.assign({ container: this.gridview.element, content: group.element }, anchoredBox), { minimumInViewportWidth: this.options.floatingGroupBounds === 'boundedWithinViewport'
                ? undefined
                : (_c = (_b = this.options.floatingGroupBounds) === null || _b === void 0 ? void 0 : _b.minimumWidthWithinViewport) !== null && _c !== void 0 ? _c : _constants__WEBPACK_IMPORTED_MODULE_21__.DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE, minimumInViewportHeight: this.options.floatingGroupBounds === 'boundedWithinViewport'
                ? undefined
                : (_e = (_d = this.options.floatingGroupBounds) === null || _d === void 0 ? void 0 : _d.minimumHeightWithinViewport) !== null && _e !== void 0 ? _e : _constants__WEBPACK_IMPORTED_MODULE_21__.DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE }));
        const el = group.element.querySelector('.dv-void-container');
        if (!el) {
            throw new Error('failed to find drag handle');
        }
        overlay.setupDrag(el, {
            inDragMode: typeof (options === null || options === void 0 ? void 0 : options.inDragMode) === 'boolean'
                ? options.inDragMode
                : false,
        });
        const floatingGroupPanel = new _dockviewFloatingGroupPanel__WEBPACK_IMPORTED_MODULE_20__.DockviewFloatingGroupPanel(group, overlay);
        const disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_4__.CompositeDisposable(group.api.onDidActiveChange((event) => {
            if (event.isActive) {
                overlay.bringToFront();
            }
        }), (0,_dom__WEBPACK_IMPORTED_MODULE_19__.watchElementResize)(group.element, (entry) => {
            const { width, height } = entry.contentRect;
            group.layout(width, height); // let the group know it's size is changing so it can fire events to the panel
        }));
        floatingGroupPanel.addDisposables(overlay.onDidChange(() => {
            // this is either a resize or a move
            // to inform the panels .layout(...) the group with it's current size
            // don't care about resize since the above watcher handles that
            group.layout(group.width, group.height);
        }), overlay.onDidChangeEnd(() => {
            this._bufferOnDidLayoutChange.fire();
        }), group.onDidChange((event) => {
            overlay.setBounds({
                height: event === null || event === void 0 ? void 0 : event.height,
                width: event === null || event === void 0 ? void 0 : event.width,
            });
        }), {
            dispose: () => {
                disposable.dispose();
                (0,_array__WEBPACK_IMPORTED_MODULE_2__.remove)(this._floatingGroups, floatingGroupPanel);
                group.model.location = { type: 'grid' };
                this.updateWatermark();
            },
        });
        this._floatingGroups.push(floatingGroupPanel);
        group.model.location = { type: 'floating' };
        if (!(options === null || options === void 0 ? void 0 : options.skipActiveGroup)) {
            this.doSetGroupAndPanelActive(group);
        }
        this.updateWatermark();
    }
    orthogonalize(position, options) {
        this.gridview.normalize();
        switch (position) {
            case 'top':
            case 'bottom':
                if (this.gridview.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_12__.Orientation.HORIZONTAL) {
                    // we need to add to a vertical splitview but the current root is a horizontal splitview.
                    // insert a vertical splitview at the root level and add the existing view as a child
                    this.gridview.insertOrthogonalSplitviewAtRoot();
                }
                break;
            case 'left':
            case 'right':
                if (this.gridview.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_12__.Orientation.VERTICAL) {
                    // we need to add to a horizontal splitview but the current root is a vertical splitview.
                    // insert a horiziontal splitview at the root level and add the existing view as a child
                    this.gridview.insertOrthogonalSplitviewAtRoot();
                }
                break;
            default:
                break;
        }
        switch (position) {
            case 'top':
            case 'left':
            case 'center':
                return this.createGroupAtLocation([0], undefined, options); // insert into first position
            case 'bottom':
            case 'right':
                return this.createGroupAtLocation([this.gridview.length], undefined, options); // insert into last position
            default:
                throw new Error(`unsupported position ${position}`);
        }
    }
    updateOptions(options) {
        var _a, _b;
        super.updateOptions(options);
        if ('floatingGroupBounds' in options) {
            for (const group of this._floatingGroups) {
                switch (options.floatingGroupBounds) {
                    case 'boundedWithinViewport':
                        group.overlay.minimumInViewportHeight = undefined;
                        group.overlay.minimumInViewportWidth = undefined;
                        break;
                    case undefined:
                        group.overlay.minimumInViewportHeight =
                            _constants__WEBPACK_IMPORTED_MODULE_21__.DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE;
                        group.overlay.minimumInViewportWidth =
                            _constants__WEBPACK_IMPORTED_MODULE_21__.DEFAULT_FLOATING_GROUP_OVERFLOW_SIZE;
                        break;
                    default:
                        group.overlay.minimumInViewportHeight =
                            (_a = options.floatingGroupBounds) === null || _a === void 0 ? void 0 : _a.minimumHeightWithinViewport;
                        group.overlay.minimumInViewportWidth =
                            (_b = options.floatingGroupBounds) === null || _b === void 0 ? void 0 : _b.minimumWidthWithinViewport;
                }
                group.overlay.setBounds();
            }
        }
        this.updateDropTargetModel(options);
        const oldDisableDnd = this.options.disableDnd;
        this._options = Object.assign(Object.assign({}, this.options), options);
        const newDisableDnd = this.options.disableDnd;
        if (oldDisableDnd !== newDisableDnd) {
            this.updateDragAndDropState();
        }
        if ('theme' in options) {
            this.updateTheme();
        }
        this.layout(this.gridview.width, this.gridview.height, true);
    }
    layout(width, height, forceResize) {
        super.layout(width, height, forceResize);
        if (this._floatingGroups) {
            for (const floating of this._floatingGroups) {
                // ensure floting groups stay within visible boundaries
                floating.overlay.setBounds();
            }
        }
    }
    updateDragAndDropState() {
        // Update draggable state for all tabs and void containers
        for (const group of this.groups) {
            group.model.updateDragAndDropState();
        }
    }
    focus() {
        var _a;
        (_a = this.activeGroup) === null || _a === void 0 ? void 0 : _a.focus();
    }
    getGroupPanel(id) {
        return this.panels.find((panel) => panel.id === id);
    }
    setActivePanel(panel) {
        panel.group.model.openPanel(panel);
        this.doSetGroupAndPanelActive(panel.group);
    }
    moveToNext(options = {}) {
        var _a;
        if (!options.group) {
            if (!this.activeGroup) {
                return;
            }
            options.group = this.activeGroup;
        }
        if (options.includePanel && options.group) {
            if (options.group.activePanel !==
                options.group.panels[options.group.panels.length - 1]) {
                options.group.model.moveToNext({ suppressRoll: true });
                return;
            }
        }
        const location = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(options.group.element);
        const next = (_a = this.gridview.next(location)) === null || _a === void 0 ? void 0 : _a.view;
        this.doSetGroupAndPanelActive(next);
    }
    moveToPrevious(options = {}) {
        var _a;
        if (!options.group) {
            if (!this.activeGroup) {
                return;
            }
            options.group = this.activeGroup;
        }
        if (options.includePanel && options.group) {
            if (options.group.activePanel !== options.group.panels[0]) {
                options.group.model.moveToPrevious({ suppressRoll: true });
                return;
            }
        }
        const location = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(options.group.element);
        const next = (_a = this.gridview.previous(location)) === null || _a === void 0 ? void 0 : _a.view;
        if (next) {
            this.doSetGroupAndPanelActive(next);
        }
    }
    /**
     * Serialize the current state of the layout
     *
     * @returns A JSON respresentation of the layout
     */
    toJSON() {
        var _a;
        const data = this.gridview.serialize();
        const panels = this.panels.reduce((collection, panel) => {
            collection[panel.id] = panel.toJSON();
            return collection;
        }, {});
        const floats = this._floatingGroups.map((group) => {
            return {
                data: group.group.toJSON(),
                position: group.overlay.toJSON(),
            };
        });
        const popoutGroups = this._popoutGroups.map((group) => {
            return {
                data: group.popoutGroup.toJSON(),
                gridReferenceGroup: group.referenceGroup,
                position: group.window.dimensions(),
                url: group.popoutGroup.api.location.type === 'popout'
                    ? group.popoutGroup.api.location.popoutUrl
                    : undefined,
            };
        });
        const result = {
            grid: data,
            panels,
            activeGroup: (_a = this.activeGroup) === null || _a === void 0 ? void 0 : _a.id,
        };
        if (floats.length > 0) {
            result.floatingGroups = floats;
        }
        if (popoutGroups.length > 0) {
            result.popoutGroups = popoutGroups;
        }
        return result;
    }
    fromJSON(data) {
        var _a, _b;
        this.clear();
        if (typeof data !== 'object' || data === null) {
            throw new Error('serialized layout must be a non-null object');
        }
        const { grid, panels, activeGroup } = data;
        if (grid.root.type !== 'branch' || !Array.isArray(grid.root.data)) {
            throw new Error('root must be of type branch');
        }
        try {
            // take note of the existing dimensions
            const width = this.width;
            const height = this.height;
            const createGroupFromSerializedState = (data) => {
                const { id, locked, hideHeader, views, activeView } = data;
                if (typeof id !== 'string') {
                    throw new Error('group id must be of type string');
                }
                const group = this.createGroup({
                    id,
                    locked: !!locked,
                    hideHeader: !!hideHeader,
                });
                this._onDidAddGroup.fire(group);
                const createdPanels = [];
                for (const child of views) {
                    /**
                     * Run the deserializer step seperately since this may fail to due corrupted external state.
                     * In running this section first we avoid firing lots of 'add' events in the event of a failure
                     * due to a corruption of input data.
                     */
                    const panel = this._deserializer.fromJSON(panels[child], group);
                    createdPanels.push(panel);
                }
                for (let i = 0; i < views.length; i++) {
                    const panel = createdPanels[i];
                    const isActive = typeof activeView === 'string' &&
                        activeView === panel.id;
                    group.model.openPanel(panel, {
                        skipSetActive: !isActive,
                        skipSetGroupActive: true,
                    });
                }
                if (!group.activePanel && group.panels.length > 0) {
                    group.model.openPanel(group.panels[group.panels.length - 1], {
                        skipSetGroupActive: true,
                    });
                }
                return group;
            };
            this.gridview.deserialize(grid, {
                fromJSON: (node) => {
                    return createGroupFromSerializedState(node.data);
                },
            });
            this.layout(width, height, true);
            const serializedFloatingGroups = (_a = data.floatingGroups) !== null && _a !== void 0 ? _a : [];
            for (const serializedFloatingGroup of serializedFloatingGroups) {
                const { data, position } = serializedFloatingGroup;
                const group = createGroupFromSerializedState(data);
                this.addFloatingGroup(group, {
                    position: position,
                    width: position.width,
                    height: position.height,
                    skipRemoveGroup: true,
                    inDragMode: false,
                });
            }
            const serializedPopoutGroups = (_b = data.popoutGroups) !== null && _b !== void 0 ? _b : [];
            // Create a promise that resolves when all popout groups are created
            const popoutPromises = [];
            // Queue popup group creation with delays to avoid browser blocking
            serializedPopoutGroups.forEach((serializedPopoutGroup, index) => {
                const { data, position, gridReferenceGroup, url } = serializedPopoutGroup;
                const group = createGroupFromSerializedState(data);
                // Add a small delay for each popup after the first to avoid browser popup blocking
                const popoutPromise = new Promise((resolve) => {
                    setTimeout(() => {
                        this.addPopoutGroup(group, {
                            position: position !== null && position !== void 0 ? position : undefined,
                            overridePopoutGroup: gridReferenceGroup ? group : undefined,
                            referenceGroup: gridReferenceGroup
                                ? this.getPanel(gridReferenceGroup)
                                : undefined,
                            popoutUrl: url,
                        });
                        resolve();
                    }, index * _constants__WEBPACK_IMPORTED_MODULE_21__.DESERIALIZATION_POPOUT_DELAY_MS); // 100ms delay between each popup
                });
                popoutPromises.push(popoutPromise);
            });
            // Store the promise for tests to wait on
            this._popoutRestorationPromise = Promise.all(popoutPromises).then(() => void 0);
            for (const floatingGroup of this._floatingGroups) {
                floatingGroup.overlay.setBounds();
            }
            if (typeof activeGroup === 'string') {
                const panel = this.getPanel(activeGroup);
                if (panel) {
                    this.doSetGroupAndPanelActive(panel);
                }
            }
        }
        catch (err) {
            console.error('dockview: failed to deserialize layout. Reverting changes', err);
            /**
             * Takes all the successfully created groups and remove all of their panels.
             */
            for (const group of this.groups) {
                for (const panel of group.panels) {
                    this.removePanel(panel, {
                        removeEmptyGroup: false,
                        skipDispose: false,
                    });
                }
            }
            /**
             * To remove a group we cannot call this.removeGroup(...) since this makes assumptions about
             * the underlying HTMLElement existing in the Gridview.
             */
            for (const group of this.groups) {
                group.dispose();
                this._groups.delete(group.id);
                this._onDidRemoveGroup.fire(group);
            }
            // iterate over a reassigned array since original array will be modified
            for (const floatingGroup of [...this._floatingGroups]) {
                floatingGroup.dispose();
            }
            // fires clean-up events and clears the underlying HTML gridview.
            this.clear();
            /**
             * even though we have cleaned-up we still want to inform the caller of their error
             * and we'll do this through re-throwing the original error since afterall you would
             * expect trying to load a corrupted layout to result in an error and not silently fail...
             */
            throw err;
        }
        this.updateWatermark();
        // Force position updates for always visible panels after DOM layout is complete
        requestAnimationFrame(() => {
            this.overlayRenderContainer.updateAllPositions();
        });
        this._onDidLayoutFromJSON.fire();
    }
    clear() {
        const groups = Array.from(this._groups.values()).map((_) => _.value);
        const hasActiveGroup = !!this.activeGroup;
        for (const group of groups) {
            // remove the group will automatically remove the panels
            this.removeGroup(group, { skipActive: true });
        }
        if (hasActiveGroup) {
            this.doSetGroupAndPanelActive(undefined);
        }
        this.gridview.clear();
    }
    closeAllGroups() {
        for (const entry of this._groups.entries()) {
            const [_, group] = entry;
            group.value.model.closeAllPanels();
        }
    }
    addPanel(options) {
        var _a, _b;
        if (this.panels.find((_) => _.id === options.id)) {
            throw new Error(`panel with id ${options.id} already exists`);
        }
        let referenceGroup;
        if (options.position && options.floating) {
            throw new Error('you can only provide one of: position, floating as arguments to .addPanel(...)');
        }
        const initial = {
            width: options.initialWidth,
            height: options.initialHeight,
        };
        let index;
        if (options.position) {
            if ((0,_options__WEBPACK_IMPORTED_MODULE_9__.isPanelOptionsWithPanel)(options.position)) {
                const referencePanel = typeof options.position.referencePanel === 'string'
                    ? this.getGroupPanel(options.position.referencePanel)
                    : options.position.referencePanel;
                index = options.position.index;
                if (!referencePanel) {
                    throw new Error(`referencePanel '${options.position.referencePanel}' does not exist`);
                }
                referenceGroup = this.findGroup(referencePanel);
            }
            else if ((0,_options__WEBPACK_IMPORTED_MODULE_9__.isPanelOptionsWithGroup)(options.position)) {
                referenceGroup =
                    typeof options.position.referenceGroup === 'string'
                        ? (_a = this._groups.get(options.position.referenceGroup)) === null || _a === void 0 ? void 0 : _a.value
                        : options.position.referenceGroup;
                index = options.position.index;
                if (!referenceGroup) {
                    throw new Error(`referenceGroup '${options.position.referenceGroup}' does not exist`);
                }
            }
            else {
                const group = this.orthogonalize((0,_dnd_droptarget__WEBPACK_IMPORTED_MODULE_1__.directionToPosition)(options.position.direction));
                const panel = this.createPanel(options, group);
                group.model.openPanel(panel, {
                    skipSetActive: options.inactive,
                    skipSetGroupActive: options.inactive,
                    index,
                });
                if (!options.inactive) {
                    this.doSetGroupAndPanelActive(group);
                }
                group.api.setSize({
                    height: initial === null || initial === void 0 ? void 0 : initial.height,
                    width: initial === null || initial === void 0 ? void 0 : initial.width,
                });
                return panel;
            }
        }
        else {
            referenceGroup = this.activeGroup;
        }
        let panel;
        if (referenceGroup) {
            const target = (0,_gridview_baseComponentGridview__WEBPACK_IMPORTED_MODULE_10__.toTarget)(((_b = options.position) === null || _b === void 0 ? void 0 : _b.direction) || 'within');
            if (options.floating) {
                const group = this.createGroup();
                this._onDidAddGroup.fire(group);
                const floatingGroupOptions = typeof options.floating === 'object' &&
                    options.floating !== null
                    ? options.floating
                    : {};
                this.addFloatingGroup(group, Object.assign(Object.assign({}, floatingGroupOptions), { inDragMode: false, skipRemoveGroup: true, skipActiveGroup: true }));
                panel = this.createPanel(options, group);
                group.model.openPanel(panel, {
                    skipSetActive: options.inactive,
                    skipSetGroupActive: options.inactive,
                    index,
                });
            }
            else if (referenceGroup.api.location.type === 'floating' ||
                target === 'center') {
                panel = this.createPanel(options, referenceGroup);
                referenceGroup.model.openPanel(panel, {
                    skipSetActive: options.inactive,
                    skipSetGroupActive: options.inactive,
                    index,
                });
                referenceGroup.api.setSize({
                    width: initial === null || initial === void 0 ? void 0 : initial.width,
                    height: initial === null || initial === void 0 ? void 0 : initial.height,
                });
                if (!options.inactive) {
                    this.doSetGroupAndPanelActive(referenceGroup);
                }
            }
            else {
                const location = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(referenceGroup.element);
                const relativeLocation = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getRelativeLocation)(this.gridview.orientation, location, target);
                const group = this.createGroupAtLocation(relativeLocation, this.orientationAtLocation(relativeLocation) ===
                    _splitview_splitview__WEBPACK_IMPORTED_MODULE_12__.Orientation.VERTICAL
                    ? initial === null || initial === void 0 ? void 0 : initial.height
                    : initial === null || initial === void 0 ? void 0 : initial.width);
                panel = this.createPanel(options, group);
                group.model.openPanel(panel, {
                    skipSetActive: options.inactive,
                    skipSetGroupActive: options.inactive,
                    index,
                });
                if (!options.inactive) {
                    this.doSetGroupAndPanelActive(group);
                }
            }
        }
        else if (options.floating) {
            const group = this.createGroup();
            this._onDidAddGroup.fire(group);
            const coordinates = typeof options.floating === 'object' &&
                options.floating !== null
                ? options.floating
                : {};
            this.addFloatingGroup(group, Object.assign(Object.assign({}, coordinates), { inDragMode: false, skipRemoveGroup: true, skipActiveGroup: true }));
            panel = this.createPanel(options, group);
            group.model.openPanel(panel, {
                skipSetActive: options.inactive,
                skipSetGroupActive: options.inactive,
                index,
            });
        }
        else {
            const group = this.createGroupAtLocation([0], this.gridview.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_12__.Orientation.VERTICAL
                ? initial === null || initial === void 0 ? void 0 : initial.height
                : initial === null || initial === void 0 ? void 0 : initial.width);
            panel = this.createPanel(options, group);
            group.model.openPanel(panel, {
                skipSetActive: options.inactive,
                skipSetGroupActive: options.inactive,
                index,
            });
            if (!options.inactive) {
                this.doSetGroupAndPanelActive(group);
            }
        }
        return panel;
    }
    removePanel(panel, options = {
        removeEmptyGroup: true,
    }) {
        const group = panel.group;
        if (!group) {
            throw new Error(`cannot remove panel ${panel.id}. it's missing a group.`);
        }
        group.model.removePanel(panel, {
            skipSetActiveGroup: options.skipSetActiveGroup,
        });
        if (!options.skipDispose) {
            panel.group.model.renderContainer.detatch(panel);
            panel.dispose();
        }
        if (group.size === 0 && options.removeEmptyGroup) {
            this.removeGroup(group, { skipActive: options.skipSetActiveGroup });
        }
    }
    createWatermarkComponent() {
        if (this.options.createWatermarkComponent) {
            return this.options.createWatermarkComponent();
        }
        return new _components_watermark_watermark__WEBPACK_IMPORTED_MODULE_6__.Watermark();
    }
    updateWatermark() {
        var _a, _b;
        if (this.groups.filter((x) => x.api.location.type === 'grid' && x.api.isVisible).length === 0) {
            if (!this._watermark) {
                this._watermark = this.createWatermarkComponent();
                this._watermark.init({
                    containerApi: new _api_component_api__WEBPACK_IMPORTED_MODULE_11__.DockviewApi(this),
                });
                const watermarkContainer = document.createElement('div');
                watermarkContainer.className = 'dv-watermark-container';
                (0,_dom__WEBPACK_IMPORTED_MODULE_19__.addTestId)(watermarkContainer, 'watermark-component');
                watermarkContainer.appendChild(this._watermark.element);
                this.gridview.element.appendChild(watermarkContainer);
            }
        }
        else if (this._watermark) {
            this._watermark.element.parentElement.remove();
            (_b = (_a = this._watermark).dispose) === null || _b === void 0 ? void 0 : _b.call(_a);
            this._watermark = null;
        }
    }
    addGroup(options) {
        var _a;
        if (options) {
            let referenceGroup;
            if ((0,_options__WEBPACK_IMPORTED_MODULE_9__.isGroupOptionsWithPanel)(options)) {
                const referencePanel = typeof options.referencePanel === 'string'
                    ? this.panels.find((panel) => panel.id === options.referencePanel)
                    : options.referencePanel;
                if (!referencePanel) {
                    throw new Error(`reference panel ${options.referencePanel} does not exist`);
                }
                referenceGroup = this.findGroup(referencePanel);
                if (!referenceGroup) {
                    throw new Error(`reference group for reference panel ${options.referencePanel} does not exist`);
                }
            }
            else if ((0,_options__WEBPACK_IMPORTED_MODULE_9__.isGroupOptionsWithGroup)(options)) {
                referenceGroup =
                    typeof options.referenceGroup === 'string'
                        ? (_a = this._groups.get(options.referenceGroup)) === null || _a === void 0 ? void 0 : _a.value
                        : options.referenceGroup;
                if (!referenceGroup) {
                    throw new Error(`reference group ${options.referenceGroup} does not exist`);
                }
            }
            else {
                const group = this.orthogonalize((0,_dnd_droptarget__WEBPACK_IMPORTED_MODULE_1__.directionToPosition)(options.direction), options);
                if (!options.skipSetActive) {
                    this.doSetGroupAndPanelActive(group);
                }
                return group;
            }
            const target = (0,_gridview_baseComponentGridview__WEBPACK_IMPORTED_MODULE_10__.toTarget)(options.direction || 'within');
            const location = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(referenceGroup.element);
            const relativeLocation = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getRelativeLocation)(this.gridview.orientation, location, target);
            const group = this.createGroup(options);
            const size = this.getLocationOrientation(relativeLocation) ===
                _splitview_splitview__WEBPACK_IMPORTED_MODULE_12__.Orientation.VERTICAL
                ? options.initialHeight
                : options.initialWidth;
            this.doAddGroup(group, relativeLocation, size);
            if (!options.skipSetActive) {
                this.doSetGroupAndPanelActive(group);
            }
            return group;
        }
        else {
            const group = this.createGroup(options);
            this.doAddGroup(group);
            this.doSetGroupAndPanelActive(group);
            return group;
        }
    }
    getLocationOrientation(location) {
        return location.length % 2 == 0 &&
            this.gridview.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_12__.Orientation.HORIZONTAL
            ? _splitview_splitview__WEBPACK_IMPORTED_MODULE_12__.Orientation.HORIZONTAL
            : _splitview_splitview__WEBPACK_IMPORTED_MODULE_12__.Orientation.VERTICAL;
    }
    removeGroup(group, options) {
        this.doRemoveGroup(group, options);
    }
    doRemoveGroup(group, options) {
        var _a;
        const panels = [...group.panels]; // reassign since group panels will mutate
        if (!(options === null || options === void 0 ? void 0 : options.skipDispose)) {
            for (const panel of panels) {
                this.removePanel(panel, {
                    removeEmptyGroup: false,
                    skipDispose: (_a = options === null || options === void 0 ? void 0 : options.skipDispose) !== null && _a !== void 0 ? _a : false,
                });
            }
        }
        const activePanel = this.activePanel;
        if (group.api.location.type === 'floating') {
            const floatingGroup = this._floatingGroups.find((_) => _.group === group);
            if (floatingGroup) {
                if (!(options === null || options === void 0 ? void 0 : options.skipDispose)) {
                    floatingGroup.group.dispose();
                    this._groups.delete(group.id);
                    this._onDidRemoveGroup.fire(group);
                }
                (0,_array__WEBPACK_IMPORTED_MODULE_2__.remove)(this._floatingGroups, floatingGroup);
                floatingGroup.dispose();
                if (!(options === null || options === void 0 ? void 0 : options.skipActive) && this._activeGroup === group) {
                    const groups = Array.from(this._groups.values());
                    this.doSetGroupAndPanelActive(groups.length > 0 ? groups[0].value : undefined);
                }
                return floatingGroup.group;
            }
            throw new Error('failed to find floating group');
        }
        if (group.api.location.type === 'popout') {
            const selectedGroup = this._popoutGroups.find((_) => _.popoutGroup === group);
            if (selectedGroup) {
                if (!(options === null || options === void 0 ? void 0 : options.skipDispose)) {
                    if (!(options === null || options === void 0 ? void 0 : options.skipPopoutAssociated)) {
                        const refGroup = selectedGroup.referenceGroup
                            ? this.getPanel(selectedGroup.referenceGroup)
                            : undefined;
                        if (refGroup && refGroup.panels.length === 0) {
                            this.removeGroup(refGroup);
                        }
                    }
                    selectedGroup.popoutGroup.dispose();
                    this._groups.delete(group.id);
                    this._onDidRemoveGroup.fire(group);
                }
                (0,_array__WEBPACK_IMPORTED_MODULE_2__.remove)(this._popoutGroups, selectedGroup);
                const removedGroup = selectedGroup.disposable.dispose();
                if (!(options === null || options === void 0 ? void 0 : options.skipPopoutReturn) && removedGroup) {
                    this.doAddGroup(removedGroup, [0]);
                    this.doSetGroupAndPanelActive(removedGroup);
                }
                if (!(options === null || options === void 0 ? void 0 : options.skipActive) && this._activeGroup === group) {
                    const groups = Array.from(this._groups.values());
                    this.doSetGroupAndPanelActive(groups.length > 0 ? groups[0].value : undefined);
                }
                this.updateWatermark();
                return selectedGroup.popoutGroup;
            }
            throw new Error('failed to find popout group');
        }
        const re = super.doRemoveGroup(group, options);
        if (!(options === null || options === void 0 ? void 0 : options.skipActive)) {
            if (this.activePanel !== activePanel) {
                this._onDidActivePanelChange.fire(this.activePanel);
            }
        }
        return re;
    }
    movingLock(func) {
        const isMoving = this._moving;
        try {
            this._moving = true;
            return func();
        }
        finally {
            this._moving = isMoving;
        }
    }
    moveGroupOrPanel(options) {
        var _a;
        const destinationGroup = options.to.group;
        const sourceGroupId = options.from.groupId;
        const sourceItemId = options.from.panelId;
        const destinationTarget = options.to.position;
        const destinationIndex = options.to.index;
        const sourceGroup = sourceGroupId
            ? (_a = this._groups.get(sourceGroupId)) === null || _a === void 0 ? void 0 : _a.value
            : undefined;
        if (!sourceGroup) {
            throw new Error(`Failed to find group id ${sourceGroupId}`);
        }
        if (sourceItemId === undefined) {
            /**
             * Moving an entire group into another group
             */
            this.moveGroup({
                from: { group: sourceGroup },
                to: {
                    group: destinationGroup,
                    position: destinationTarget,
                },
                skipSetActive: options.skipSetActive,
            });
            return;
        }
        if (!destinationTarget || destinationTarget === 'center') {
            /**
             * Dropping a panel within another group
             */
            const removedPanel = this.movingLock(() => sourceGroup.model.removePanel(sourceItemId, {
                skipSetActive: false,
                skipSetActiveGroup: true,
            }));
            if (!removedPanel) {
                throw new Error(`No panel with id ${sourceItemId}`);
            }
            if (sourceGroup.model.size === 0) {
                // remove the group and do not set a new group as active
                this.doRemoveGroup(sourceGroup, { skipActive: true });
            }
            this.movingLock(() => {
                var _a;
                return destinationGroup.model.openPanel(removedPanel, {
                    index: destinationIndex,
                    skipSetActive: (_a = options.skipSetActive) !== null && _a !== void 0 ? _a : false,
                    skipSetGroupActive: true,
                });
            });
            if (!options.skipSetActive) {
                this.doSetGroupAndPanelActive(destinationGroup);
            }
            this._onDidMovePanel.fire({
                panel: removedPanel,
                from: sourceGroup,
            });
        }
        else {
            /**
             * Dropping a panel to the extremities of a group which will place that panel
             * into an adjacent group
             */
            const referenceLocation = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(destinationGroup.element);
            const targetLocation = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getRelativeLocation)(this.gridview.orientation, referenceLocation, destinationTarget);
            if (sourceGroup.size < 2) {
                /**
                 * If we are moving from a group which only has one panel left we will consider
                 * moving the group itself rather than moving the panel into a newly created group
                 */
                const [targetParentLocation, to] = (0,_array__WEBPACK_IMPORTED_MODULE_2__.tail)(targetLocation);
                if (sourceGroup.api.location.type === 'grid') {
                    const sourceLocation = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(sourceGroup.element);
                    const [sourceParentLocation, from] = (0,_array__WEBPACK_IMPORTED_MODULE_2__.tail)(sourceLocation);
                    if ((0,_array__WEBPACK_IMPORTED_MODULE_2__.sequenceEquals)(sourceParentLocation, targetParentLocation)) {
                        // special case when 'swapping' two views within same grid location
                        // if a group has one tab - we are essentially moving the 'group'
                        // which is equivalent to swapping two views in this case
                        this.gridview.moveView(sourceParentLocation, from, to);
                        this._onDidMovePanel.fire({
                            panel: this.getGroupPanel(sourceItemId),
                            from: sourceGroup,
                        });
                        return;
                    }
                }
                if (sourceGroup.api.location.type === 'popout') {
                    /**
                     * the source group is a popout group with a single panel
                     *
                     * 1. remove the panel from the group without triggering any events
                     * 2. remove the popout group
                     * 3. create a new group at the requested location and add that panel
                     */
                    const popoutGroup = this._popoutGroups.find((group) => group.popoutGroup === sourceGroup);
                    const removedPanel = this.movingLock(() => popoutGroup.popoutGroup.model.removePanel(popoutGroup.popoutGroup.panels[0], {
                        skipSetActive: true,
                        skipSetActiveGroup: true,
                    }));
                    this.doRemoveGroup(sourceGroup, { skipActive: true });
                    const newGroup = this.createGroupAtLocation(targetLocation);
                    this.movingLock(() => newGroup.model.openPanel(removedPanel));
                    this.doSetGroupAndPanelActive(newGroup);
                    this._onDidMovePanel.fire({
                        panel: this.getGroupPanel(sourceItemId),
                        from: sourceGroup,
                    });
                    return;
                }
                // source group will become empty so delete the group
                const targetGroup = this.movingLock(() => this.doRemoveGroup(sourceGroup, {
                    skipActive: true,
                    skipDispose: true,
                }));
                // after deleting the group we need to re-evaulate the ref location
                const updatedReferenceLocation = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(destinationGroup.element);
                const location = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getRelativeLocation)(this.gridview.orientation, updatedReferenceLocation, destinationTarget);
                this.movingLock(() => this.doAddGroup(targetGroup, location));
                this.doSetGroupAndPanelActive(targetGroup);
                this._onDidMovePanel.fire({
                    panel: this.getGroupPanel(sourceItemId),
                    from: sourceGroup,
                });
            }
            else {
                /**
                 * The group we are removing from has many panels, we need to remove the panels we are moving,
                 * create a new group, add the panels to that new group and add the new group in an appropiate position
                 */
                const removedPanel = this.movingLock(() => sourceGroup.model.removePanel(sourceItemId, {
                    skipSetActive: false,
                    skipSetActiveGroup: true,
                }));
                if (!removedPanel) {
                    throw new Error(`No panel with id ${sourceItemId}`);
                }
                const dropLocation = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getRelativeLocation)(this.gridview.orientation, referenceLocation, destinationTarget);
                const group = this.createGroupAtLocation(dropLocation);
                this.movingLock(() => group.model.openPanel(removedPanel, {
                    skipSetGroupActive: true,
                }));
                this.doSetGroupAndPanelActive(group);
                this._onDidMovePanel.fire({
                    panel: removedPanel,
                    from: sourceGroup,
                });
            }
        }
    }
    moveGroup(options) {
        const from = options.from.group;
        const to = options.to.group;
        const target = options.to.position;
        if (target === 'center') {
            const activePanel = from.activePanel;
            const panels = this.movingLock(() => [...from.panels].map((p) => from.model.removePanel(p.id, {
                skipSetActive: true,
            })));
            if ((from === null || from === void 0 ? void 0 : from.model.size) === 0) {
                this.doRemoveGroup(from, { skipActive: true });
            }
            this.movingLock(() => {
                for (const panel of panels) {
                    to.model.openPanel(panel, {
                        skipSetActive: panel !== activePanel,
                        skipSetGroupActive: true,
                    });
                }
            });
            // Ensure group becomes active after move
            if (options.skipSetActive !== true) {
                // For center moves (merges), we need to ensure the target group is active
                // unless explicitly told not to (skipSetActive: true)
                this.doSetGroupAndPanelActive(to);
            }
            else if (!this.activePanel) {
                // Even with skipSetActive: true, ensure there's an active panel if none exists
                // This maintains basic functionality while respecting skipSetActive
                this.doSetGroupAndPanelActive(to);
            }
        }
        else {
            switch (from.api.location.type) {
                case 'grid':
                    this.gridview.removeView((0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(from.element));
                    break;
                case 'floating': {
                    const selectedFloatingGroup = this._floatingGroups.find((x) => x.group === from);
                    if (!selectedFloatingGroup) {
                        throw new Error('failed to find floating group');
                    }
                    selectedFloatingGroup.dispose();
                    break;
                }
                case 'popout': {
                    const selectedPopoutGroup = this._popoutGroups.find((x) => x.popoutGroup === from);
                    if (!selectedPopoutGroup) {
                        throw new Error('failed to find popout group');
                    }
                    // Remove from popout groups list to prevent automatic restoration
                    const index = this._popoutGroups.indexOf(selectedPopoutGroup);
                    if (index >= 0) {
                        this._popoutGroups.splice(index, 1);
                    }
                    // Clean up the reference group (ghost) if it exists and is hidden
                    if (selectedPopoutGroup.referenceGroup) {
                        const referenceGroup = this.getPanel(selectedPopoutGroup.referenceGroup);
                        if (referenceGroup && !referenceGroup.api.isVisible) {
                            this.doRemoveGroup(referenceGroup, {
                                skipActive: true,
                            });
                        }
                    }
                    // Manually dispose the window without triggering restoration
                    selectedPopoutGroup.window.dispose();
                    // Update group's location and containers for target
                    if (to.api.location.type === 'grid') {
                        from.model.renderContainer =
                            this.overlayRenderContainer;
                        from.model.dropTargetContainer =
                            this.rootDropTargetContainer;
                        from.model.location = { type: 'grid' };
                    }
                    else if (to.api.location.type === 'floating') {
                        from.model.renderContainer =
                            this.overlayRenderContainer;
                        from.model.dropTargetContainer =
                            this.rootDropTargetContainer;
                        from.model.location = { type: 'floating' };
                    }
                    break;
                }
            }
            // For moves to grid locations
            if (to.api.location.type === 'grid') {
                const referenceLocation = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(to.element);
                const dropLocation = (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.getRelativeLocation)(this.gridview.orientation, referenceLocation, target);
                // Add to grid for all moves targeting grid location
                let size;
                switch (this.gridview.orientation) {
                    case _splitview_splitview__WEBPACK_IMPORTED_MODULE_12__.Orientation.VERTICAL:
                        size =
                            referenceLocation.length % 2 == 0
                                ? from.api.width
                                : from.api.height;
                        break;
                    case _splitview_splitview__WEBPACK_IMPORTED_MODULE_12__.Orientation.HORIZONTAL:
                        size =
                            referenceLocation.length % 2 == 0
                                ? from.api.height
                                : from.api.width;
                        break;
                }
                this.gridview.addView(from, size, dropLocation);
            }
            else if (to.api.location.type === 'floating') {
                // For moves to floating locations, add as floating group
                // Get the position/size from the target floating group
                const targetFloatingGroup = this._floatingGroups.find((x) => x.group === to);
                if (targetFloatingGroup) {
                    const box = targetFloatingGroup.overlay.toJSON();
                    // Calculate position based on available properties
                    let left, top;
                    if ('left' in box) {
                        left = box.left + 50;
                    }
                    else if ('right' in box) {
                        left = Math.max(0, box.right - box.width - 50);
                    }
                    else {
                        left = 50; // Default fallback
                    }
                    if ('top' in box) {
                        top = box.top + 50;
                    }
                    else if ('bottom' in box) {
                        top = Math.max(0, box.bottom - box.height - 50);
                    }
                    else {
                        top = 50; // Default fallback
                    }
                    this.addFloatingGroup(from, {
                        height: box.height,
                        width: box.width,
                        position: {
                            left,
                            top,
                        },
                    });
                }
            }
        }
        from.panels.forEach((panel) => {
            this._onDidMovePanel.fire({ panel, from });
        });
        // Ensure group becomes active after move
        if (options.skipSetActive === false) {
            // Only activate when explicitly requested (skipSetActive: false)
            // Use 'to' group for non-center moves since 'from' may have been destroyed
            const targetGroup = to !== null && to !== void 0 ? to : from;
            this.doSetGroupAndPanelActive(targetGroup);
        }
    }
    doSetGroupActive(group) {
        super.doSetGroupActive(group);
        const activePanel = this.activePanel;
        if (!this._moving &&
            activePanel !== this._onDidActivePanelChange.value) {
            this._onDidActivePanelChange.fire(activePanel);
        }
    }
    doSetGroupAndPanelActive(group) {
        super.doSetGroupActive(group);
        const activePanel = this.activePanel;
        if (group &&
            this.hasMaximizedGroup() &&
            !this.isMaximizedGroup(group)) {
            this.exitMaximizedGroup();
        }
        if (!this._moving &&
            activePanel !== this._onDidActivePanelChange.value) {
            this._onDidActivePanelChange.fire(activePanel);
        }
    }
    getNextGroupId() {
        let id = this.nextGroupId.next();
        while (this._groups.has(id)) {
            id = this.nextGroupId.next();
        }
        return id;
    }
    createGroup(options) {
        if (!options) {
            options = {};
        }
        let id = options === null || options === void 0 ? void 0 : options.id;
        if (id && this._groups.has(options.id)) {
            console.warn(`dockview: Duplicate group id ${options === null || options === void 0 ? void 0 : options.id}. reassigning group id to avoid errors`);
            id = undefined;
        }
        if (!id) {
            id = this.nextGroupId.next();
            while (this._groups.has(id)) {
                id = this.nextGroupId.next();
            }
        }
        const view = new _dockviewGroupPanel__WEBPACK_IMPORTED_MODULE_15__.DockviewGroupPanel(this, id, options);
        view.init({ params: {}, accessor: this });
        if (!this._groups.has(view.id)) {
            const disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_4__.CompositeDisposable(view.model.onTabDragStart((event) => {
                this._onWillDragPanel.fire(event);
            }), view.model.onGroupDragStart((event) => {
                this._onWillDragGroup.fire(event);
            }), view.model.onMove((event) => {
                const { groupId, itemId, target, index } = event;
                this.moveGroupOrPanel({
                    from: { groupId: groupId, panelId: itemId },
                    to: {
                        group: view,
                        position: target,
                        index,
                    },
                });
            }), view.model.onDidDrop((event) => {
                this._onDidDrop.fire(event);
            }), view.model.onWillDrop((event) => {
                this._onWillDrop.fire(event);
            }), view.model.onWillShowOverlay((event) => {
                if (this.options.disableDnd) {
                    event.preventDefault();
                    return;
                }
                this._onWillShowOverlay.fire(event);
            }), view.model.onUnhandledDragOverEvent((event) => {
                this._onUnhandledDragOverEvent.fire(event);
            }), view.model.onDidAddPanel((event) => {
                if (this._moving) {
                    return;
                }
                this._onDidAddPanel.fire(event.panel);
            }), view.model.onDidRemovePanel((event) => {
                if (this._moving) {
                    return;
                }
                this._onDidRemovePanel.fire(event.panel);
            }), view.model.onDidActivePanelChange((event) => {
                if (this._moving) {
                    return;
                }
                if (event.panel !== this.activePanel) {
                    return;
                }
                if (this._onDidActivePanelChange.value !== event.panel) {
                    this._onDidActivePanelChange.fire(event.panel);
                }
            }), _events__WEBPACK_IMPORTED_MODULE_5__.Event.any(view.model.onDidPanelTitleChange, view.model.onDidPanelParametersChange)(() => {
                this._bufferOnDidLayoutChange.fire();
            }));
            this._groups.set(view.id, { value: view, disposable });
        }
        // TODO: must be called after the above listeners have been setup, not an ideal pattern
        view.initialize();
        return view;
    }
    createPanel(options, group) {
        var _a, _b, _c;
        const contentComponent = options.component;
        const tabComponent = (_a = options.tabComponent) !== null && _a !== void 0 ? _a : this.options.defaultTabComponent;
        const view = new _dockviewPanelModel__WEBPACK_IMPORTED_MODULE_16__.DockviewPanelModel(this, options.id, contentComponent, tabComponent);
        const panel = new _dockviewPanel__WEBPACK_IMPORTED_MODULE_3__.DockviewPanel(options.id, contentComponent, tabComponent, this, this._api, group, view, {
            renderer: options.renderer,
            minimumWidth: options.minimumWidth,
            minimumHeight: options.minimumHeight,
            maximumWidth: options.maximumWidth,
            maximumHeight: options.maximumHeight,
        });
        panel.init({
            title: (_b = options.title) !== null && _b !== void 0 ? _b : options.id,
            params: (_c = options === null || options === void 0 ? void 0 : options.params) !== null && _c !== void 0 ? _c : {},
        });
        return panel;
    }
    createGroupAtLocation(location, size, options) {
        const group = this.createGroup(options);
        this.doAddGroup(group, location, size);
        return group;
    }
    findGroup(panel) {
        var _a;
        return (_a = Array.from(this._groups.values()).find((group) => group.value.model.containsPanel(panel))) === null || _a === void 0 ? void 0 : _a.value;
    }
    orientationAtLocation(location) {
        const rootOrientation = this.gridview.orientation;
        return location.length % 2 == 1
            ? rootOrientation
            : (0,_gridview_gridview__WEBPACK_IMPORTED_MODULE_0__.orthogonal)(rootOrientation);
    }
    updateDropTargetModel(options) {
        if ('dndEdges' in options) {
            this._rootDropTarget.disabled =
                typeof options.dndEdges === 'boolean' &&
                    options.dndEdges === false;
            if (typeof options.dndEdges === 'object' &&
                options.dndEdges !== null) {
                this._rootDropTarget.setOverlayModel(options.dndEdges);
            }
            else {
                this._rootDropTarget.setOverlayModel(DEFAULT_ROOT_OVERLAY_MODEL);
            }
        }
        if ('rootOverlayModel' in options) {
            this.updateDropTargetModel({ dndEdges: options.dndEdges });
        }
    }
    updateTheme() {
        var _a, _b;
        const theme = (_a = this._options.theme) !== null && _a !== void 0 ? _a : _theme__WEBPACK_IMPORTED_MODULE_27__.themeAbyss;
        this._themeClassnames.setClassNames(theme.className);
        this.gridview.margin = (_b = theme.gap) !== null && _b !== void 0 ? _b : 0;
        switch (theme.dndOverlayMounting) {
            case 'absolute':
                this.rootDropTargetContainer.disabled = false;
                break;
            case 'relative':
            default:
                this.rootDropTargetContainer.disabled = true;
                break;
        }
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/dockviewFloatingGroupPanel.js":
/*!************************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/dockviewFloatingGroupPanel.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DockviewFloatingGroupPanel: () => (/* binding */ DockviewFloatingGroupPanel)
/* harmony export */ });
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");

class DockviewFloatingGroupPanel extends _lifecycle__WEBPACK_IMPORTED_MODULE_0__.CompositeDisposable {
    constructor(group, overlay) {
        super();
        this.group = group;
        this.overlay = overlay;
        this.addDisposables(overlay);
    }
    position(bounds) {
        this.overlay.setBounds(bounds);
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/dockviewGroupPanel.js":
/*!****************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/dockviewGroupPanel.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DockviewGroupPanel: () => (/* binding */ DockviewGroupPanel)
/* harmony export */ });
/* harmony import */ var _dockviewGroupPanelModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dockviewGroupPanelModel */ "./node_modules/dockview-core/dist/esm/dockview/dockviewGroupPanelModel.js");
/* harmony import */ var _gridview_gridviewPanel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../gridview/gridviewPanel */ "./node_modules/dockview-core/dist/esm/gridview/gridviewPanel.js");
/* harmony import */ var _api_dockviewGroupPanelApi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/dockviewGroupPanelApi */ "./node_modules/dockview-core/dist/esm/api/dockviewGroupPanelApi.js");



const MINIMUM_DOCKVIEW_GROUP_PANEL_WIDTH = 100;
const MINIMUM_DOCKVIEW_GROUP_PANEL_HEIGHT = 100;
class DockviewGroupPanel extends _gridview_gridviewPanel__WEBPACK_IMPORTED_MODULE_1__.GridviewPanel {
    get minimumWidth() {
        var _a;
        const activePanelMinimumWidth = (_a = this.activePanel) === null || _a === void 0 ? void 0 : _a.minimumWidth;
        if (typeof activePanelMinimumWidth === 'number') {
            return activePanelMinimumWidth;
        }
        return super.__minimumWidth();
    }
    get minimumHeight() {
        var _a;
        const activePanelMinimumHeight = (_a = this.activePanel) === null || _a === void 0 ? void 0 : _a.minimumHeight;
        if (typeof activePanelMinimumHeight === 'number') {
            return activePanelMinimumHeight;
        }
        return super.__minimumHeight();
    }
    get maximumWidth() {
        var _a;
        const activePanelMaximumWidth = (_a = this.activePanel) === null || _a === void 0 ? void 0 : _a.maximumWidth;
        if (typeof activePanelMaximumWidth === 'number') {
            return activePanelMaximumWidth;
        }
        return super.__maximumWidth();
    }
    get maximumHeight() {
        var _a;
        const activePanelMaximumHeight = (_a = this.activePanel) === null || _a === void 0 ? void 0 : _a.maximumHeight;
        if (typeof activePanelMaximumHeight === 'number') {
            return activePanelMaximumHeight;
        }
        return super.__maximumHeight();
    }
    get panels() {
        return this._model.panels;
    }
    get activePanel() {
        return this._model.activePanel;
    }
    get size() {
        return this._model.size;
    }
    get model() {
        return this._model;
    }
    get locked() {
        return this._model.locked;
    }
    set locked(value) {
        this._model.locked = value;
    }
    get header() {
        return this._model.header;
    }
    constructor(accessor, id, options) {
        var _a, _b, _c, _d, _e, _f;
        super(id, 'groupview_default', {
            minimumHeight: (_b = (_a = options.constraints) === null || _a === void 0 ? void 0 : _a.minimumHeight) !== null && _b !== void 0 ? _b : MINIMUM_DOCKVIEW_GROUP_PANEL_HEIGHT,
            minimumWidth: (_d = (_c = options.constraints) === null || _c === void 0 ? void 0 : _c.maximumHeight) !== null && _d !== void 0 ? _d : MINIMUM_DOCKVIEW_GROUP_PANEL_WIDTH,
            maximumHeight: (_e = options.constraints) === null || _e === void 0 ? void 0 : _e.maximumHeight,
            maximumWidth: (_f = options.constraints) === null || _f === void 0 ? void 0 : _f.maximumWidth,
        }, new _api_dockviewGroupPanelApi__WEBPACK_IMPORTED_MODULE_2__.DockviewGroupPanelApiImpl(id, accessor));
        this.api.initialize(this); // cannot use 'this' after after 'super' call
        this._model = new _dockviewGroupPanelModel__WEBPACK_IMPORTED_MODULE_0__.DockviewGroupPanelModel(this.element, accessor, id, options, this);
        this.addDisposables(this.model.onDidActivePanelChange((event) => {
            this.api._onDidActivePanelChange.fire(event);
        }));
    }
    focus() {
        if (!this.api.isActive) {
            this.api.setActive();
        }
        super.focus();
    }
    initialize() {
        this._model.initialize();
    }
    setActive(isActive) {
        super.setActive(isActive);
        this.model.setActive(isActive);
    }
    layout(width, height) {
        super.layout(width, height);
        this.model.layout(width, height);
    }
    getComponent() {
        return this._model;
    }
    toJSON() {
        return this.model.toJSON();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/dockviewGroupPanelModel.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/dockviewGroupPanelModel.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DockviewDidDropEvent: () => (/* binding */ DockviewDidDropEvent),
/* harmony export */   DockviewGroupPanelModel: () => (/* binding */ DockviewGroupPanelModel),
/* harmony export */   DockviewWillDropEvent: () => (/* binding */ DockviewWillDropEvent)
/* harmony export */ });
/* harmony import */ var _api_component_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/component.api */ "./node_modules/dockview-core/dist/esm/api/component.api.js");
/* harmony import */ var _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dnd/dataTransfer */ "./node_modules/dockview-core/dist/esm/dnd/dataTransfer.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./events */ "./node_modules/dockview-core/dist/esm/dockview/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _components_panel_content__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/panel/content */ "./node_modules/dockview-core/dist/esm/dockview/components/panel/content.js");
/* harmony import */ var _components_titlebar_tabsContainer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/titlebar/tabsContainer */ "./node_modules/dockview-core/dist/esm/dockview/components/titlebar/tabsContainer.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./options */ "./node_modules/dockview-core/dist/esm/dockview/options.js");









class DockviewDidDropEvent extends _events__WEBPACK_IMPORTED_MODULE_3__.DockviewEvent {
    get nativeEvent() {
        return this.options.nativeEvent;
    }
    get position() {
        return this.options.position;
    }
    get panel() {
        return this.options.panel;
    }
    get group() {
        return this.options.group;
    }
    get api() {
        return this.options.api;
    }
    constructor(options) {
        super();
        this.options = options;
    }
    getData() {
        return this.options.getData();
    }
}
class DockviewWillDropEvent extends DockviewDidDropEvent {
    get kind() {
        return this._kind;
    }
    constructor(options) {
        super(options);
        this._kind = options.kind;
    }
}
class DockviewGroupPanelModel extends _lifecycle__WEBPACK_IMPORTED_MODULE_5__.CompositeDisposable {
    get element() {
        throw new Error('dockview: not supported');
    }
    get activePanel() {
        return this._activePanel;
    }
    get locked() {
        return this._locked;
    }
    set locked(value) {
        this._locked = value;
        (0,_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(this.container, 'dv-locked-groupview', value === 'no-drop-target' || value);
    }
    get isActive() {
        return this._isGroupActive;
    }
    get panels() {
        return this._panels;
    }
    get size() {
        return this._panels.length;
    }
    get isEmpty() {
        return this._panels.length === 0;
    }
    get hasWatermark() {
        return !!(this.watermark && this.container.contains(this.watermark.element));
    }
    get header() {
        return this.tabsContainer;
    }
    get isContentFocused() {
        if (!document.activeElement) {
            return false;
        }
        return (0,_dom__WEBPACK_IMPORTED_MODULE_2__.isAncestor)(document.activeElement, this.contentContainer.element);
    }
    get location() {
        return this._location;
    }
    set location(value) {
        this._location = value;
        (0,_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(this.container, 'dv-groupview-floating', false);
        (0,_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(this.container, 'dv-groupview-popout', false);
        switch (value.type) {
            case 'grid':
                this.contentContainer.dropTarget.setTargetZones([
                    'top',
                    'bottom',
                    'left',
                    'right',
                    'center',
                ]);
                break;
            case 'floating':
                this.contentContainer.dropTarget.setTargetZones(['center']);
                this.contentContainer.dropTarget.setTargetZones(value
                    ? ['center']
                    : ['top', 'bottom', 'left', 'right', 'center']);
                (0,_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(this.container, 'dv-groupview-floating', true);
                break;
            case 'popout':
                this.contentContainer.dropTarget.setTargetZones(['center']);
                (0,_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(this.container, 'dv-groupview-popout', true);
                break;
        }
        this.groupPanel.api._onDidLocationChange.fire({
            location: this.location,
        });
    }
    constructor(container, accessor, id, options, groupPanel) {
        var _a;
        super();
        this.container = container;
        this.accessor = accessor;
        this.id = id;
        this.options = options;
        this.groupPanel = groupPanel;
        this._isGroupActive = false;
        this._locked = false;
        this._location = { type: 'grid' };
        this.mostRecentlyUsed = [];
        this._overwriteRenderContainer = null;
        this._overwriteDropTargetContainer = null;
        this._onDidChange = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onDidChange = this._onDidChange.event;
        this._width = 0;
        this._height = 0;
        this._panels = [];
        this._panelDisposables = new Map();
        this._onMove = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onMove = this._onMove.event;
        this._onDidDrop = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onDidDrop = this._onDidDrop.event;
        this._onWillDrop = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onWillDrop = this._onWillDrop.event;
        this._onWillShowOverlay = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onWillShowOverlay = this._onWillShowOverlay.event;
        this._onTabDragStart = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onTabDragStart = this._onTabDragStart.event;
        this._onGroupDragStart = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onGroupDragStart = this._onGroupDragStart.event;
        this._onDidAddPanel = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onDidAddPanel = this._onDidAddPanel.event;
        this._onDidPanelTitleChange = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onDidPanelTitleChange = this._onDidPanelTitleChange.event;
        this._onDidPanelParametersChange = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onDidPanelParametersChange = this._onDidPanelParametersChange.event;
        this._onDidRemovePanel = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onDidRemovePanel = this._onDidRemovePanel.event;
        this._onDidActivePanelChange = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onDidActivePanelChange = this._onDidActivePanelChange.event;
        this._onUnhandledDragOverEvent = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onUnhandledDragOverEvent = this._onUnhandledDragOverEvent.event;
        (0,_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(this.container, 'dv-groupview', true);
        this._api = new _api_component_api__WEBPACK_IMPORTED_MODULE_0__.DockviewApi(this.accessor);
        this.tabsContainer = new _components_titlebar_tabsContainer__WEBPACK_IMPORTED_MODULE_7__.TabsContainer(this.accessor, this.groupPanel);
        this.contentContainer = new _components_panel_content__WEBPACK_IMPORTED_MODULE_6__.ContentContainer(this.accessor, this);
        container.append(this.tabsContainer.element, this.contentContainer.element);
        this.header.hidden = !!options.hideHeader;
        this.locked = (_a = options.locked) !== null && _a !== void 0 ? _a : false;
        this.addDisposables(this._onTabDragStart, this._onGroupDragStart, this._onWillShowOverlay, this.tabsContainer.onTabDragStart((event) => {
            this._onTabDragStart.fire(event);
        }), this.tabsContainer.onGroupDragStart((event) => {
            this._onGroupDragStart.fire(event);
        }), this.tabsContainer.onDrop((event) => {
            this.handleDropEvent('header', event.event, 'center', event.index);
        }), this.contentContainer.onDidFocus(() => {
            this.accessor.doSetGroupActive(this.groupPanel);
        }), this.contentContainer.onDidBlur(() => {
            // noop
        }), this.contentContainer.dropTarget.onDrop((event) => {
            this.handleDropEvent('content', event.nativeEvent, event.position);
        }), this.tabsContainer.onWillShowOverlay((event) => {
            this._onWillShowOverlay.fire(event);
        }), this.contentContainer.dropTarget.onWillShowOverlay((event) => {
            this._onWillShowOverlay.fire(new _events__WEBPACK_IMPORTED_MODULE_4__.WillShowOverlayLocationEvent(event, {
                kind: 'content',
                panel: this.activePanel,
                api: this._api,
                group: this.groupPanel,
                getData: _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_1__.getPanelData,
            }));
        }), this._onMove, this._onDidChange, this._onDidDrop, this._onWillDrop, this._onDidAddPanel, this._onDidRemovePanel, this._onDidActivePanelChange, this._onUnhandledDragOverEvent, this._onDidPanelTitleChange, this._onDidPanelParametersChange);
    }
    focusContent() {
        this.contentContainer.element.focus();
    }
    set renderContainer(value) {
        this.panels.forEach((panel) => {
            this.renderContainer.detatch(panel);
        });
        this._overwriteRenderContainer = value;
        this.panels.forEach((panel) => {
            this.rerender(panel);
        });
    }
    get renderContainer() {
        var _a;
        return ((_a = this._overwriteRenderContainer) !== null && _a !== void 0 ? _a : this.accessor.overlayRenderContainer);
    }
    set dropTargetContainer(value) {
        this._overwriteDropTargetContainer = value;
    }
    get dropTargetContainer() {
        var _a;
        return ((_a = this._overwriteDropTargetContainer) !== null && _a !== void 0 ? _a : this.accessor.rootDropTargetContainer);
    }
    initialize() {
        if (this.options.panels) {
            this.options.panels.forEach((panel) => {
                this.doAddPanel(panel);
            });
        }
        if (this.options.activePanel) {
            this.openPanel(this.options.activePanel);
        }
        // must be run after the constructor otherwise this.parent may not be
        // correctly initialized
        this.setActive(this.isActive, true);
        this.updateContainer();
        if (this.accessor.options.createRightHeaderActionComponent) {
            this._rightHeaderActions =
                this.accessor.options.createRightHeaderActionComponent(this.groupPanel);
            this.addDisposables(this._rightHeaderActions);
            this._rightHeaderActions.init({
                containerApi: this._api,
                api: this.groupPanel.api,
                group: this.groupPanel,
            });
            this.tabsContainer.setRightActionsElement(this._rightHeaderActions.element);
        }
        if (this.accessor.options.createLeftHeaderActionComponent) {
            this._leftHeaderActions =
                this.accessor.options.createLeftHeaderActionComponent(this.groupPanel);
            this.addDisposables(this._leftHeaderActions);
            this._leftHeaderActions.init({
                containerApi: this._api,
                api: this.groupPanel.api,
                group: this.groupPanel,
            });
            this.tabsContainer.setLeftActionsElement(this._leftHeaderActions.element);
        }
        if (this.accessor.options.createPrefixHeaderActionComponent) {
            this._prefixHeaderActions =
                this.accessor.options.createPrefixHeaderActionComponent(this.groupPanel);
            this.addDisposables(this._prefixHeaderActions);
            this._prefixHeaderActions.init({
                containerApi: this._api,
                api: this.groupPanel.api,
                group: this.groupPanel,
            });
            this.tabsContainer.setPrefixActionsElement(this._prefixHeaderActions.element);
        }
    }
    rerender(panel) {
        this.contentContainer.renderPanel(panel, { asActive: false });
    }
    indexOf(panel) {
        return this.tabsContainer.indexOf(panel.id);
    }
    toJSON() {
        var _a;
        const result = {
            views: this.tabsContainer.panels,
            activeView: (_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.id,
            id: this.id,
        };
        if (this.locked !== false) {
            result.locked = this.locked;
        }
        if (this.header.hidden) {
            result.hideHeader = true;
        }
        return result;
    }
    moveToNext(options) {
        if (!options) {
            options = {};
        }
        if (!options.panel) {
            options.panel = this.activePanel;
        }
        const index = options.panel ? this.panels.indexOf(options.panel) : -1;
        let normalizedIndex;
        if (index < this.panels.length - 1) {
            normalizedIndex = index + 1;
        }
        else if (!options.suppressRoll) {
            normalizedIndex = 0;
        }
        else {
            return;
        }
        this.openPanel(this.panels[normalizedIndex]);
    }
    moveToPrevious(options) {
        if (!options) {
            options = {};
        }
        if (!options.panel) {
            options.panel = this.activePanel;
        }
        if (!options.panel) {
            return;
        }
        const index = this.panels.indexOf(options.panel);
        let normalizedIndex;
        if (index > 0) {
            normalizedIndex = index - 1;
        }
        else if (!options.suppressRoll) {
            normalizedIndex = this.panels.length - 1;
        }
        else {
            return;
        }
        this.openPanel(this.panels[normalizedIndex]);
    }
    containsPanel(panel) {
        return this.panels.includes(panel);
    }
    init(_params) {
        //noop
    }
    update(_params) {
        //noop
    }
    focus() {
        var _a;
        (_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.focus();
    }
    openPanel(panel, options = {}) {
        /**
         * set the panel group
         * add the panel
         * check if group active
         * check if panel active
         */
        if (typeof options.index !== 'number' ||
            options.index > this.panels.length) {
            options.index = this.panels.length;
        }
        const skipSetActive = !!options.skipSetActive;
        // ensure the group is updated before we fire any events
        panel.updateParentGroup(this.groupPanel, {
            skipSetActive: options.skipSetActive,
        });
        this.doAddPanel(panel, options.index, {
            skipSetActive: skipSetActive,
        });
        if (this._activePanel === panel) {
            this.contentContainer.renderPanel(panel, { asActive: true });
            return;
        }
        if (!skipSetActive) {
            this.doSetActivePanel(panel);
        }
        if (!options.skipSetGroupActive) {
            this.accessor.doSetGroupActive(this.groupPanel);
        }
        if (!options.skipSetActive) {
            this.updateContainer();
        }
    }
    removePanel(groupItemOrId, options = {
        skipSetActive: false,
    }) {
        const id = typeof groupItemOrId === 'string'
            ? groupItemOrId
            : groupItemOrId.id;
        const panelToRemove = this._panels.find((panel) => panel.id === id);
        if (!panelToRemove) {
            throw new Error('invalid operation');
        }
        return this._removePanel(panelToRemove, options);
    }
    closeAllPanels() {
        if (this.panels.length > 0) {
            // take a copy since we will be edting the array as we iterate through
            const arrPanelCpy = [...this.panels];
            for (const panel of arrPanelCpy) {
                this.doClose(panel);
            }
        }
        else {
            this.accessor.removeGroup(this.groupPanel);
        }
    }
    closePanel(panel) {
        this.doClose(panel);
    }
    doClose(panel) {
        const isLast = this.panels.length === 1 && this.accessor.groups.length === 1;
        this.accessor.removePanel(panel, isLast && this.accessor.options.noPanelsOverlay === 'emptyGroup'
            ? { removeEmptyGroup: false }
            : undefined);
    }
    isPanelActive(panel) {
        return this._activePanel === panel;
    }
    updateActions(element) {
        this.tabsContainer.setRightActionsElement(element);
    }
    setActive(isGroupActive, force = false) {
        if (!force && this.isActive === isGroupActive) {
            return;
        }
        this._isGroupActive = isGroupActive;
        (0,_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(this.container, 'dv-active-group', isGroupActive);
        (0,_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(this.container, 'dv-inactive-group', !isGroupActive);
        this.tabsContainer.setActive(this.isActive);
        if (!this._activePanel && this.panels.length > 0) {
            this.doSetActivePanel(this.panels[0]);
        }
        this.updateContainer();
    }
    layout(width, height) {
        var _a;
        this._width = width;
        this._height = height;
        this.contentContainer.layout(this._width, this._height);
        if ((_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.layout) {
            this._activePanel.layout(this._width, this._height);
        }
    }
    _removePanel(panel, options) {
        const isActivePanel = this._activePanel === panel;
        this.doRemovePanel(panel);
        if (isActivePanel && this.panels.length > 0) {
            const nextPanel = this.mostRecentlyUsed[0];
            this.openPanel(nextPanel, {
                skipSetActive: options.skipSetActive,
                skipSetGroupActive: options.skipSetActiveGroup,
            });
        }
        if (this._activePanel && this.panels.length === 0) {
            this.doSetActivePanel(undefined);
        }
        if (!options.skipSetActive) {
            this.updateContainer();
        }
        return panel;
    }
    doRemovePanel(panel) {
        const index = this.panels.indexOf(panel);
        if (this._activePanel === panel) {
            this.contentContainer.closePanel();
        }
        this.tabsContainer.delete(panel.id);
        this._panels.splice(index, 1);
        if (this.mostRecentlyUsed.includes(panel)) {
            const index = this.mostRecentlyUsed.indexOf(panel);
            this.mostRecentlyUsed.splice(index, 1);
        }
        const disposable = this._panelDisposables.get(panel.id);
        if (disposable) {
            disposable.dispose();
            this._panelDisposables.delete(panel.id);
        }
        this._onDidRemovePanel.fire({ panel });
    }
    doAddPanel(panel, index = this.panels.length, options = { skipSetActive: false }) {
        const existingPanel = this._panels.indexOf(panel);
        const hasExistingPanel = existingPanel > -1;
        this.tabsContainer.show();
        this.contentContainer.show();
        this.tabsContainer.openPanel(panel, index);
        if (!options.skipSetActive) {
            this.contentContainer.openPanel(panel);
        }
        if (hasExistingPanel) {
            // TODO - need to ensure ordering hasn't changed and if it has need to re-order this.panels
            return;
        }
        this.updateMru(panel);
        this.panels.splice(index, 0, panel);
        this._panelDisposables.set(panel.id, new _lifecycle__WEBPACK_IMPORTED_MODULE_5__.CompositeDisposable(panel.api.onDidTitleChange((event) => this._onDidPanelTitleChange.fire(event)), panel.api.onDidParametersChange((event) => this._onDidPanelParametersChange.fire(event))));
        this._onDidAddPanel.fire({ panel });
    }
    doSetActivePanel(panel) {
        if (this._activePanel === panel) {
            return;
        }
        this._activePanel = panel;
        if (panel) {
            this.tabsContainer.setActivePanel(panel);
            panel.layout(this._width, this._height);
            this.updateMru(panel);
            this._onDidActivePanelChange.fire({
                panel,
            });
        }
    }
    updateMru(panel) {
        if (this.mostRecentlyUsed.includes(panel)) {
            this.mostRecentlyUsed.splice(this.mostRecentlyUsed.indexOf(panel), 1);
        }
        this.mostRecentlyUsed = [panel, ...this.mostRecentlyUsed];
    }
    updateContainer() {
        var _a, _b;
        this.panels.forEach((panel) => panel.runEvents());
        if (this.isEmpty && !this.watermark) {
            const watermark = this.accessor.createWatermarkComponent();
            watermark.init({
                containerApi: this._api,
                group: this.groupPanel,
            });
            this.watermark = watermark;
            (0,_events__WEBPACK_IMPORTED_MODULE_3__.addDisposableListener)(this.watermark.element, 'pointerdown', () => {
                if (!this.isActive) {
                    this.accessor.doSetGroupActive(this.groupPanel);
                }
            });
            this.contentContainer.element.appendChild(this.watermark.element);
        }
        if (!this.isEmpty && this.watermark) {
            this.watermark.element.remove();
            (_b = (_a = this.watermark).dispose) === null || _b === void 0 ? void 0 : _b.call(_a);
            this.watermark = undefined;
        }
    }
    canDisplayOverlay(event, position, target) {
        const firedEvent = new _options__WEBPACK_IMPORTED_MODULE_8__.DockviewUnhandledDragOverEvent(event, target, position, _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_1__.getPanelData, this.accessor.getPanel(this.id));
        this._onUnhandledDragOverEvent.fire(firedEvent);
        return firedEvent.isAccepted;
    }
    handleDropEvent(type, event, position, index) {
        if (this.locked === 'no-drop-target') {
            return;
        }
        function getKind() {
            switch (type) {
                case 'header':
                    return typeof index === 'number' ? 'tab' : 'header_space';
                case 'content':
                    return 'content';
            }
        }
        const panel = typeof index === 'number' ? this.panels[index] : undefined;
        const willDropEvent = new DockviewWillDropEvent({
            nativeEvent: event,
            position,
            panel,
            getData: () => (0,_dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_1__.getPanelData)(),
            kind: getKind(),
            group: this.groupPanel,
            api: this._api,
        });
        this._onWillDrop.fire(willDropEvent);
        if (willDropEvent.defaultPrevented) {
            return;
        }
        const data = (0,_dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_1__.getPanelData)();
        if (data && data.viewId === this.accessor.id) {
            if (type === 'content') {
                if (data.groupId === this.id) {
                    // don't allow to drop on self for center position
                    if (position === 'center') {
                        return;
                    }
                    if (data.panelId === null) {
                        // don't allow group move to drop anywhere on self
                        return;
                    }
                }
            }
            if (type === 'header') {
                if (data.groupId === this.id) {
                    if (data.panelId === null) {
                        return;
                    }
                }
            }
            if (data.panelId === null) {
                // this is a group move dnd event
                const { groupId } = data;
                this._onMove.fire({
                    target: position,
                    groupId: groupId,
                    index,
                });
                return;
            }
            const fromSameGroup = this.tabsContainer.indexOf(data.panelId) !== -1;
            if (fromSameGroup && this.tabsContainer.size === 1) {
                return;
            }
            const { groupId, panelId } = data;
            const isSameGroup = this.id === groupId;
            if (isSameGroup && !position) {
                const oldIndex = this.tabsContainer.indexOf(panelId);
                if (oldIndex === index) {
                    return;
                }
            }
            this._onMove.fire({
                target: position,
                groupId: data.groupId,
                itemId: data.panelId,
                index,
            });
        }
        else {
            this._onDidDrop.fire(new DockviewDidDropEvent({
                nativeEvent: event,
                position,
                panel,
                getData: () => (0,_dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_1__.getPanelData)(),
                group: this.groupPanel,
                api: this._api,
            }));
        }
    }
    updateDragAndDropState() {
        this.tabsContainer.updateDragAndDropState();
    }
    dispose() {
        var _a, _b, _c;
        super.dispose();
        (_a = this.watermark) === null || _a === void 0 ? void 0 : _a.element.remove();
        (_c = (_b = this.watermark) === null || _b === void 0 ? void 0 : _b.dispose) === null || _c === void 0 ? void 0 : _c.call(_b);
        this.watermark = undefined;
        for (const panel of this.panels) {
            panel.dispose();
        }
        this.tabsContainer.dispose();
        this.contentContainer.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/dockviewPanel.js":
/*!***********************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/dockviewPanel.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DockviewPanel: () => (/* binding */ DockviewPanel)
/* harmony export */ });
/* harmony import */ var _api_dockviewPanelApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/dockviewPanelApi */ "./node_modules/dockview-core/dist/esm/api/dockviewPanelApi.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _api_panelApi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/panelApi */ "./node_modules/dockview-core/dist/esm/api/panelApi.js");



class DockviewPanel extends _lifecycle__WEBPACK_IMPORTED_MODULE_1__.CompositeDisposable {
    get params() {
        return this._params;
    }
    get title() {
        return this._title;
    }
    get group() {
        return this._group;
    }
    get renderer() {
        var _a;
        return (_a = this._renderer) !== null && _a !== void 0 ? _a : this.accessor.renderer;
    }
    get minimumWidth() {
        return this._minimumWidth;
    }
    get minimumHeight() {
        return this._minimumHeight;
    }
    get maximumWidth() {
        return this._maximumWidth;
    }
    get maximumHeight() {
        return this._maximumHeight;
    }
    constructor(id, component, tabComponent, accessor, containerApi, group, view, options) {
        super();
        this.id = id;
        this.accessor = accessor;
        this.containerApi = containerApi;
        this.view = view;
        this._renderer = options.renderer;
        this._group = group;
        this._minimumWidth = options.minimumWidth;
        this._minimumHeight = options.minimumHeight;
        this._maximumWidth = options.maximumWidth;
        this._maximumHeight = options.maximumHeight;
        this.api = new _api_dockviewPanelApi__WEBPACK_IMPORTED_MODULE_0__.DockviewPanelApiImpl(this, this._group, accessor, component, tabComponent);
        this.addDisposables(this.api.onActiveChange(() => {
            accessor.setActivePanel(this);
        }), this.api.onDidSizeChange((event) => {
            // forward the resize event to the group since if you want to resize a panel
            // you are actually just resizing the panels parent which is the group
            this.group.api.setSize(event);
        }), this.api.onDidRendererChange(() => {
            this.group.model.rerender(this);
        }));
    }
    init(params) {
        this._params = params.params;
        this.view.init(Object.assign(Object.assign({}, params), { api: this.api, containerApi: this.containerApi }));
        this.setTitle(params.title);
    }
    focus() {
        const event = new _api_panelApi__WEBPACK_IMPORTED_MODULE_2__.WillFocusEvent();
        this.api._onWillFocus.fire(event);
        if (event.defaultPrevented) {
            return;
        }
        if (!this.api.isActive) {
            this.api.setActive();
        }
    }
    toJSON() {
        return {
            id: this.id,
            contentComponent: this.view.contentComponent,
            tabComponent: this.view.tabComponent,
            params: Object.keys(this._params || {}).length > 0
                ? this._params
                : undefined,
            title: this.title,
            renderer: this._renderer,
            minimumHeight: this._minimumHeight,
            maximumHeight: this._maximumHeight,
            minimumWidth: this._minimumWidth,
            maximumWidth: this._maximumWidth,
        };
    }
    setTitle(title) {
        const didTitleChange = title !== this.title;
        if (didTitleChange) {
            this._title = title;
            this.api._onDidTitleChange.fire({ title });
        }
    }
    setRenderer(renderer) {
        const didChange = renderer !== this.renderer;
        if (didChange) {
            this._renderer = renderer;
            this.api._onDidRendererChange.fire({
                renderer: renderer,
            });
        }
    }
    update(event) {
        var _a;
        // merge the new parameters with the existing parameters
        this._params = Object.assign(Object.assign({}, ((_a = this._params) !== null && _a !== void 0 ? _a : {})), event.params);
        /**
         * delete new keys that have a value of undefined,
         * allow values of null
         */
        for (const key of Object.keys(event.params)) {
            if (event.params[key] === undefined) {
                delete this._params[key];
            }
        }
        // update the view with the updated props
        this.view.update({
            params: this._params,
        });
    }
    updateParentGroup(group, options) {
        this._group = group;
        this.api.group = this._group;
        const isPanelVisible = this._group.model.isPanelActive(this);
        const isActive = this.group.api.isActive && isPanelVisible;
        if (!(options === null || options === void 0 ? void 0 : options.skipSetActive)) {
            if (this.api.isActive !== isActive) {
                this.api._onDidActiveChange.fire({
                    isActive: this.group.api.isActive && isPanelVisible,
                });
            }
        }
        if (this.api.isVisible !== isPanelVisible) {
            this.api._onDidVisibilityChange.fire({
                isVisible: isPanelVisible,
            });
        }
    }
    runEvents() {
        const isPanelVisible = this._group.model.isPanelActive(this);
        const isActive = this.group.api.isActive && isPanelVisible;
        if (this.api.isActive !== isActive) {
            this.api._onDidActiveChange.fire({
                isActive: this.group.api.isActive && isPanelVisible,
            });
        }
        if (this.api.isVisible !== isPanelVisible) {
            this.api._onDidVisibilityChange.fire({
                isVisible: isPanelVisible,
            });
        }
    }
    layout(width, height) {
        // TODO: Can we somehow do height without header height or indicate what the header height is?
        this.api._onDidDimensionChange.fire({
            width,
            height: height,
        });
        this.view.layout(width, height);
    }
    dispose() {
        this.api.dispose();
        this.view.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/dockviewPanelModel.js":
/*!****************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/dockviewPanelModel.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DockviewPanelModel: () => (/* binding */ DockviewPanelModel)
/* harmony export */ });
/* harmony import */ var _components_tab_defaultTab__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/tab/defaultTab */ "./node_modules/dockview-core/dist/esm/dockview/components/tab/defaultTab.js");

class DockviewPanelModel {
    get content() {
        return this._content;
    }
    get tab() {
        return this._tab;
    }
    constructor(accessor, id, contentComponent, tabComponent) {
        this.accessor = accessor;
        this.id = id;
        this.contentComponent = contentComponent;
        this.tabComponent = tabComponent;
        this._content = this.createContentComponent(this.id, contentComponent);
        this._tab = this.createTabComponent(this.id, tabComponent);
    }
    createTabRenderer(tabLocation) {
        var _a;
        const cmp = this.createTabComponent(this.id, this.tabComponent);
        if (this._params) {
            cmp.init(Object.assign(Object.assign({}, this._params), { tabLocation }));
        }
        if (this._updateEvent) {
            (_a = cmp.update) === null || _a === void 0 ? void 0 : _a.call(cmp, this._updateEvent);
        }
        return cmp;
    }
    init(params) {
        this._params = params;
        this.content.init(params);
        this.tab.init(Object.assign(Object.assign({}, params), { tabLocation: 'header' }));
    }
    layout(width, height) {
        var _a, _b;
        (_b = (_a = this.content).layout) === null || _b === void 0 ? void 0 : _b.call(_a, width, height);
    }
    update(event) {
        var _a, _b, _c, _d;
        this._updateEvent = event;
        (_b = (_a = this.content).update) === null || _b === void 0 ? void 0 : _b.call(_a, event);
        (_d = (_c = this.tab).update) === null || _d === void 0 ? void 0 : _d.call(_c, event);
    }
    dispose() {
        var _a, _b, _c, _d;
        (_b = (_a = this.content).dispose) === null || _b === void 0 ? void 0 : _b.call(_a);
        (_d = (_c = this.tab).dispose) === null || _d === void 0 ? void 0 : _d.call(_c);
    }
    createContentComponent(id, componentName) {
        return this.accessor.options.createComponent({
            id,
            name: componentName,
        });
    }
    createTabComponent(id, componentName) {
        const name = componentName !== null && componentName !== void 0 ? componentName : this.accessor.options.defaultTabComponent;
        if (name) {
            if (this.accessor.options.createTabComponent) {
                const component = this.accessor.options.createTabComponent({
                    id,
                    name,
                });
                if (component) {
                    return component;
                }
                else {
                    return new _components_tab_defaultTab__WEBPACK_IMPORTED_MODULE_0__.DefaultTab();
                }
            }
            console.warn(`dockview: tabComponent '${componentName}' was not found. falling back to the default tab.`);
        }
        return new _components_tab_defaultTab__WEBPACK_IMPORTED_MODULE_0__.DefaultTab();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/events.js":
/*!****************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/events.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WillShowOverlayLocationEvent: () => (/* binding */ WillShowOverlayLocationEvent)
/* harmony export */ });
class WillShowOverlayLocationEvent {
    get kind() {
        return this.options.kind;
    }
    get nativeEvent() {
        return this.event.nativeEvent;
    }
    get position() {
        return this.event.position;
    }
    get defaultPrevented() {
        return this.event.defaultPrevented;
    }
    get panel() {
        return this.options.panel;
    }
    get api() {
        return this.options.api;
    }
    get group() {
        return this.options.group;
    }
    preventDefault() {
        this.event.preventDefault();
    }
    getData() {
        return this.options.getData();
    }
    constructor(event, options) {
        this.event = event;
        this.options = options;
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/options.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/options.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DockviewUnhandledDragOverEvent: () => (/* binding */ DockviewUnhandledDragOverEvent),
/* harmony export */   PROPERTY_KEYS_DOCKVIEW: () => (/* binding */ PROPERTY_KEYS_DOCKVIEW),
/* harmony export */   isGroupOptionsWithGroup: () => (/* binding */ isGroupOptionsWithGroup),
/* harmony export */   isGroupOptionsWithPanel: () => (/* binding */ isGroupOptionsWithPanel),
/* harmony export */   isPanelOptionsWithGroup: () => (/* binding */ isPanelOptionsWithGroup),
/* harmony export */   isPanelOptionsWithPanel: () => (/* binding */ isPanelOptionsWithPanel)
/* harmony export */ });
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");

class DockviewUnhandledDragOverEvent extends _events__WEBPACK_IMPORTED_MODULE_0__.AcceptableEvent {
    constructor(nativeEvent, target, position, getData, group) {
        super();
        this.nativeEvent = nativeEvent;
        this.target = target;
        this.position = position;
        this.getData = getData;
        this.group = group;
    }
}
const PROPERTY_KEYS_DOCKVIEW = (() => {
    /**
     * by readong the keys from an empty value object TypeScript will error
     * when we add or remove new properties to `DockviewOptions`
     */
    const properties = {
        disableAutoResizing: undefined,
        hideBorders: undefined,
        singleTabMode: undefined,
        disableFloatingGroups: undefined,
        floatingGroupBounds: undefined,
        popoutUrl: undefined,
        defaultRenderer: undefined,
        debug: undefined,
        rootOverlayModel: undefined,
        locked: undefined,
        disableDnd: undefined,
        className: undefined,
        noPanelsOverlay: undefined,
        dndEdges: undefined,
        theme: undefined,
        disableTabsOverflowList: undefined,
        scrollbars: undefined,
    };
    return Object.keys(properties);
})();
function isPanelOptionsWithPanel(data) {
    if (data.referencePanel) {
        return true;
    }
    return false;
}
function isPanelOptionsWithGroup(data) {
    if (data.referenceGroup) {
        return true;
    }
    return false;
}
function isGroupOptionsWithPanel(data) {
    if (data.referencePanel) {
        return true;
    }
    return false;
}
function isGroupOptionsWithGroup(data) {
    if (data.referenceGroup) {
        return true;
    }
    return false;
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/strictEventsSequencing.js":
/*!********************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/strictEventsSequencing.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StrictEventsSequencing: () => (/* binding */ StrictEventsSequencing)
/* harmony export */ });
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");

class StrictEventsSequencing extends _lifecycle__WEBPACK_IMPORTED_MODULE_0__.CompositeDisposable {
    constructor(accessor) {
        super();
        this.accessor = accessor;
        this.init();
    }
    init() {
        const panels = new Set();
        const groups = new Set();
        this.addDisposables(this.accessor.onDidAddPanel((panel) => {
            if (panels.has(panel.api.id)) {
                throw new Error(`dockview: Invalid event sequence. [onDidAddPanel] called for panel ${panel.api.id} but panel already exists`);
            }
            else {
                panels.add(panel.api.id);
            }
        }), this.accessor.onDidRemovePanel((panel) => {
            if (!panels.has(panel.api.id)) {
                throw new Error(`dockview: Invalid event sequence. [onDidRemovePanel] called for panel ${panel.api.id} but panel does not exists`);
            }
            else {
                panels.delete(panel.api.id);
            }
        }), this.accessor.onDidAddGroup((group) => {
            if (groups.has(group.api.id)) {
                throw new Error(`dockview: Invalid event sequence. [onDidAddGroup] called for group ${group.api.id} but group already exists`);
            }
            else {
                groups.add(group.api.id);
            }
        }), this.accessor.onDidRemoveGroup((group) => {
            if (!groups.has(group.api.id)) {
                throw new Error(`dockview: Invalid event sequence. [onDidRemoveGroup] called for group ${group.api.id} but group does not exists`);
            }
            else {
                groups.delete(group.api.id);
            }
        }));
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/theme.js":
/*!***************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/theme.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   themeAbyss: () => (/* binding */ themeAbyss),
/* harmony export */   themeAbyssSpaced: () => (/* binding */ themeAbyssSpaced),
/* harmony export */   themeDark: () => (/* binding */ themeDark),
/* harmony export */   themeDracula: () => (/* binding */ themeDracula),
/* harmony export */   themeLight: () => (/* binding */ themeLight),
/* harmony export */   themeLightSpaced: () => (/* binding */ themeLightSpaced),
/* harmony export */   themeReplit: () => (/* binding */ themeReplit),
/* harmony export */   themeVisualStudio: () => (/* binding */ themeVisualStudio)
/* harmony export */ });
const themeDark = {
    name: 'dark',
    className: 'dockview-theme-dark',
};
const themeLight = {
    name: 'light',
    className: 'dockview-theme-light',
};
const themeVisualStudio = {
    name: 'visualStudio',
    className: 'dockview-theme-vs',
};
const themeAbyss = {
    name: 'abyss',
    className: 'dockview-theme-abyss',
};
const themeDracula = {
    name: 'dracula',
    className: 'dockview-theme-dracula',
};
const themeReplit = {
    name: 'replit',
    className: 'dockview-theme-replit',
    gap: 10,
};
const themeAbyssSpaced = {
    name: 'abyssSpaced',
    className: 'dockview-theme-abyss-spaced',
    gap: 10,
    dndOverlayMounting: 'absolute',
    dndPanelOverlay: 'group',
};
const themeLightSpaced = {
    name: 'lightSpaced',
    className: 'dockview-theme-light-spaced',
    gap: 10,
    dndOverlayMounting: 'absolute',
    dndPanelOverlay: 'group',
};


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dockview/types.js":
/*!***************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dockview/types.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/dom.js":
/*!****************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/dom.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Classnames: () => (/* binding */ Classnames),
/* harmony export */   OverflowObserver: () => (/* binding */ OverflowObserver),
/* harmony export */   addClasses: () => (/* binding */ addClasses),
/* harmony export */   addStyles: () => (/* binding */ addStyles),
/* harmony export */   addTestId: () => (/* binding */ addTestId),
/* harmony export */   disableIframePointEvents: () => (/* binding */ disableIframePointEvents),
/* harmony export */   findRelativeZIndexParent: () => (/* binding */ findRelativeZIndexParent),
/* harmony export */   getDockviewTheme: () => (/* binding */ getDockviewTheme),
/* harmony export */   getDomNodePagePosition: () => (/* binding */ getDomNodePagePosition),
/* harmony export */   getElementsByTagName: () => (/* binding */ getElementsByTagName),
/* harmony export */   isAncestor: () => (/* binding */ isAncestor),
/* harmony export */   isChildEntirelyVisibleWithinParent: () => (/* binding */ isChildEntirelyVisibleWithinParent),
/* harmony export */   isInDocument: () => (/* binding */ isInDocument),
/* harmony export */   onDidWindowMoveEnd: () => (/* binding */ onDidWindowMoveEnd),
/* harmony export */   onDidWindowResizeEnd: () => (/* binding */ onDidWindowResizeEnd),
/* harmony export */   quasiDefaultPrevented: () => (/* binding */ quasiDefaultPrevented),
/* harmony export */   quasiPreventDefault: () => (/* binding */ quasiPreventDefault),
/* harmony export */   removeClasses: () => (/* binding */ removeClasses),
/* harmony export */   shiftAbsoluteElementIntoView: () => (/* binding */ shiftAbsoluteElementIntoView),
/* harmony export */   toggleClass: () => (/* binding */ toggleClass),
/* harmony export */   trackFocus: () => (/* binding */ trackFocus),
/* harmony export */   watchElementResize: () => (/* binding */ watchElementResize)
/* harmony export */ });
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");


class OverflowObserver extends _lifecycle__WEBPACK_IMPORTED_MODULE_1__.CompositeDisposable {
    constructor(el) {
        super();
        this._onDidChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidChange = this._onDidChange.event;
        this._value = null;
        this.addDisposables(this._onDidChange, watchElementResize(el, (entry) => {
            const hasScrollX = entry.target.scrollWidth > entry.target.clientWidth;
            const hasScrollY = entry.target.scrollHeight > entry.target.clientHeight;
            this._value = { hasScrollX, hasScrollY };
            this._onDidChange.fire(this._value);
        }));
    }
}
function watchElementResize(element, cb) {
    const observer = new ResizeObserver((entires) => {
        /**
         * Fast browser window resize produces Error: ResizeObserver loop limit exceeded.
         * The error isn't visible in browser console, doesn't affect functionality, but degrades performance.
         * See https://stackoverflow.com/questions/49384120/resizeobserver-loop-limit-exceeded/58701523#58701523
         */
        requestAnimationFrame(() => {
            const firstEntry = entires[0];
            cb(firstEntry);
        });
    });
    observer.observe(element);
    return {
        dispose: () => {
            observer.unobserve(element);
            observer.disconnect();
        },
    };
}
const removeClasses = (element, ...classes) => {
    for (const classname of classes) {
        if (element.classList.contains(classname)) {
            element.classList.remove(classname);
        }
    }
};
const addClasses = (element, ...classes) => {
    for (const classname of classes) {
        if (!element.classList.contains(classname)) {
            element.classList.add(classname);
        }
    }
};
const toggleClass = (element, className, isToggled) => {
    const hasClass = element.classList.contains(className);
    if (isToggled && !hasClass) {
        element.classList.add(className);
    }
    if (!isToggled && hasClass) {
        element.classList.remove(className);
    }
};
function isAncestor(testChild, testAncestor) {
    while (testChild) {
        if (testChild === testAncestor) {
            return true;
        }
        testChild = testChild.parentNode;
    }
    return false;
}
function getElementsByTagName(tag, document) {
    return Array.prototype.slice.call(document.querySelectorAll(tag), 0);
}
function trackFocus(element) {
    return new FocusTracker(element);
}
/**
 * Track focus on an element. Ensure tabIndex is set when an HTMLElement is not focusable by default
 */
class FocusTracker extends _lifecycle__WEBPACK_IMPORTED_MODULE_1__.CompositeDisposable {
    constructor(element) {
        super();
        this._onDidFocus = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidFocus = this._onDidFocus.event;
        this._onDidBlur = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidBlur = this._onDidBlur.event;
        this.addDisposables(this._onDidFocus, this._onDidBlur);
        let hasFocus = isAncestor(document.activeElement, element);
        let loosingFocus = false;
        const onFocus = () => {
            loosingFocus = false;
            if (!hasFocus) {
                hasFocus = true;
                this._onDidFocus.fire();
            }
        };
        const onBlur = () => {
            if (hasFocus) {
                loosingFocus = true;
                window.setTimeout(() => {
                    if (loosingFocus) {
                        loosingFocus = false;
                        hasFocus = false;
                        this._onDidBlur.fire();
                    }
                }, 0);
            }
        };
        this._refreshStateHandler = () => {
            const currentNodeHasFocus = isAncestor(document.activeElement, element);
            if (currentNodeHasFocus !== hasFocus) {
                if (hasFocus) {
                    onBlur();
                }
                else {
                    onFocus();
                }
            }
        };
        this.addDisposables((0,_events__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(element, 'focus', onFocus, true));
        this.addDisposables((0,_events__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(element, 'blur', onBlur, true));
    }
    refreshState() {
        this._refreshStateHandler();
    }
}
// quasi: apparently, but not really; seemingly
const QUASI_PREVENT_DEFAULT_KEY = 'dv-quasiPreventDefault';
// mark an event directly for other listeners to check
function quasiPreventDefault(event) {
    event[QUASI_PREVENT_DEFAULT_KEY] = true;
}
// check if this event has been marked
function quasiDefaultPrevented(event) {
    return event[QUASI_PREVENT_DEFAULT_KEY];
}
function addStyles(document, styleSheetList) {
    const styleSheets = Array.from(styleSheetList);
    for (const styleSheet of styleSheets) {
        if (styleSheet.href) {
            const link = document.createElement('link');
            link.href = styleSheet.href;
            link.type = styleSheet.type;
            link.rel = 'stylesheet';
            document.head.appendChild(link);
        }
        let cssTexts = [];
        try {
            if (styleSheet.cssRules) {
                cssTexts = Array.from(styleSheet.cssRules).map((rule) => rule.cssText);
            }
        }
        catch (err) {
            // security errors (lack of permissions), ignore
        }
        for (const rule of cssTexts) {
            const style = document.createElement('style');
            style.appendChild(document.createTextNode(rule));
            document.head.appendChild(style);
        }
    }
}
function getDomNodePagePosition(domNode) {
    const { left, top, width, height } = domNode.getBoundingClientRect();
    return {
        left: left + window.scrollX,
        top: top + window.scrollY,
        width: width,
        height: height,
    };
}
/**
 * Check whether an element is in the DOM (including the Shadow DOM)
 * @see https://terodox.tech/how-to-tell-if-an-element-is-in-the-dom-including-the-shadow-dom/
 */
function isInDocument(element) {
    let currentElement = element;
    while (currentElement === null || currentElement === void 0 ? void 0 : currentElement.parentNode) {
        if (currentElement.parentNode === document) {
            return true;
        }
        else if (currentElement.parentNode instanceof DocumentFragment) {
            // handle shadow DOMs
            currentElement = currentElement.parentNode.host;
        }
        else {
            currentElement = currentElement.parentNode;
        }
    }
    return false;
}
function addTestId(element, id) {
    element.setAttribute('data-testid', id);
}
/**
 * Should be more efficient than element.querySelectorAll("*") since there
 * is no need to store every element in-memory using this approach
 */
function allTagsNamesInclusiveOfShadowDoms(tagNames) {
    const iframes = [];
    function findIframesInNode(node) {
        if (node.nodeType === Node.ELEMENT_NODE) {
            if (tagNames.includes(node.tagName)) {
                iframes.push(node);
            }
            if (node.shadowRoot) {
                findIframesInNode(node.shadowRoot);
            }
            for (const child of node.children) {
                findIframesInNode(child);
            }
        }
    }
    findIframesInNode(document.documentElement);
    return iframes;
}
function disableIframePointEvents(rootNode = document) {
    const iframes = allTagsNamesInclusiveOfShadowDoms(['IFRAME', 'WEBVIEW']);
    const original = new WeakMap(); // don't hold onto HTMLElement references longer than required
    for (const iframe of iframes) {
        original.set(iframe, iframe.style.pointerEvents);
        iframe.style.pointerEvents = 'none';
    }
    return {
        release: () => {
            var _a;
            for (const iframe of iframes) {
                iframe.style.pointerEvents = (_a = original.get(iframe)) !== null && _a !== void 0 ? _a : 'auto';
            }
            iframes.splice(0, iframes.length); // don't hold onto HTMLElement references longer than required
        },
    };
}
function getDockviewTheme(element) {
    function toClassList(element) {
        const list = [];
        for (let i = 0; i < element.classList.length; i++) {
            list.push(element.classList.item(i));
        }
        return list;
    }
    let theme = undefined;
    let parent = element;
    while (parent !== null) {
        theme = toClassList(parent).find((cls) => cls.startsWith('dockview-theme-'));
        if (typeof theme === 'string') {
            break;
        }
        parent = parent.parentElement;
    }
    return theme;
}
class Classnames {
    constructor(element) {
        this.element = element;
        this._classNames = [];
    }
    setClassNames(classNames) {
        for (const className of this._classNames) {
            toggleClass(this.element, className, false);
        }
        this._classNames = classNames
            .split(' ')
            .filter((v) => v.trim().length > 0);
        for (const className of this._classNames) {
            toggleClass(this.element, className, true);
        }
    }
}
const DEBOUCE_DELAY = 100;
function isChildEntirelyVisibleWithinParent(child, parent) {
    //
    const childPosition = getDomNodePagePosition(child);
    const parentPosition = getDomNodePagePosition(parent);
    if (childPosition.left < parentPosition.left) {
        return false;
    }
    if (childPosition.left + childPosition.width >
        parentPosition.left + parentPosition.width) {
        return false;
    }
    return true;
}
function onDidWindowMoveEnd(window) {
    const emitter = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
    let previousScreenX = window.screenX;
    let previousScreenY = window.screenY;
    let timeout;
    const checkMovement = () => {
        if (window.closed) {
            return;
        }
        const currentScreenX = window.screenX;
        const currentScreenY = window.screenY;
        if (currentScreenX !== previousScreenX ||
            currentScreenY !== previousScreenY) {
            clearTimeout(timeout);
            timeout = setTimeout(() => {
                emitter.fire();
            }, DEBOUCE_DELAY);
            previousScreenX = currentScreenX;
            previousScreenY = currentScreenY;
        }
        requestAnimationFrame(checkMovement);
    };
    checkMovement();
    return emitter;
}
function onDidWindowResizeEnd(element, cb) {
    let resizeTimeout;
    const disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_1__.CompositeDisposable((0,_events__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(element, 'resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
            cb();
        }, DEBOUCE_DELAY);
    }));
    return disposable;
}
function shiftAbsoluteElementIntoView(element, root, options = { buffer: 10 }) {
    const buffer = options.buffer;
    const rect = element.getBoundingClientRect();
    const rootRect = root.getBoundingClientRect();
    let translateX = 0;
    let translateY = 0;
    const left = rect.left - rootRect.left;
    const top = rect.top - rootRect.top;
    const bottom = rect.bottom - rootRect.bottom;
    const right = rect.right - rootRect.right;
    // Check horizontal overflow
    if (left < buffer) {
        translateX = buffer - left;
    }
    else if (right > buffer) {
        translateX = -buffer - right;
    }
    // Check vertical overflow
    if (top < buffer) {
        translateY = buffer - top;
    }
    else if (bottom > buffer) {
        translateY = -bottom - buffer;
    }
    // Apply the translation if needed
    if (translateX !== 0 || translateY !== 0) {
        element.style.transform = `translate(${translateX}px, ${translateY}px)`;
    }
}
function findRelativeZIndexParent(el) {
    let tmp = el;
    while (tmp && (tmp.style.zIndex === 'auto' || tmp.style.zIndex === '')) {
        tmp = tmp.parentElement;
    }
    return tmp;
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/events.js":
/*!*******************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/events.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AcceptableEvent: () => (/* binding */ AcceptableEvent),
/* harmony export */   AsapEvent: () => (/* binding */ AsapEvent),
/* harmony export */   DockviewEvent: () => (/* binding */ DockviewEvent),
/* harmony export */   Emitter: () => (/* binding */ Emitter),
/* harmony export */   Event: () => (/* binding */ Event),
/* harmony export */   addDisposableListener: () => (/* binding */ addDisposableListener)
/* harmony export */ });
var Event;
(function (Event) {
    Event.any = (...children) => {
        return (listener) => {
            const disposables = children.map((child) => child(listener));
            return {
                dispose: () => {
                    disposables.forEach((d) => {
                        d.dispose();
                    });
                },
            };
        };
    };
})(Event || (Event = {}));
class DockviewEvent {
    constructor() {
        this._defaultPrevented = false;
    }
    get defaultPrevented() {
        return this._defaultPrevented;
    }
    preventDefault() {
        this._defaultPrevented = true;
    }
}
class AcceptableEvent {
    constructor() {
        this._isAccepted = false;
    }
    get isAccepted() {
        return this._isAccepted;
    }
    accept() {
        this._isAccepted = true;
    }
}
class LeakageMonitor {
    constructor() {
        this.events = new Map();
    }
    get size() {
        return this.events.size;
    }
    add(event, stacktrace) {
        this.events.set(event, stacktrace);
    }
    delete(event) {
        this.events.delete(event);
    }
    clear() {
        this.events.clear();
    }
}
class Stacktrace {
    static create() {
        var _a;
        return new Stacktrace((_a = new Error().stack) !== null && _a !== void 0 ? _a : '');
    }
    constructor(value) {
        this.value = value;
    }
    print() {
        console.warn('dockview: stacktrace', this.value);
    }
}
class Listener {
    constructor(callback, stacktrace) {
        this.callback = callback;
        this.stacktrace = stacktrace;
    }
}
// relatively simple event emitter taken from https://github.com/microsoft/vscode/blob/master/src/vs/base/common/event.ts
class Emitter {
    static setLeakageMonitorEnabled(isEnabled) {
        if (isEnabled !== Emitter.ENABLE_TRACKING) {
            Emitter.MEMORY_LEAK_WATCHER.clear();
        }
        Emitter.ENABLE_TRACKING = isEnabled;
    }
    get value() {
        return this._last;
    }
    constructor(options) {
        this.options = options;
        this._listeners = [];
        this._disposed = false;
    }
    get event() {
        if (!this._event) {
            this._event = (callback) => {
                var _a;
                if (((_a = this.options) === null || _a === void 0 ? void 0 : _a.replay) && this._last !== undefined) {
                    callback(this._last);
                }
                const listener = new Listener(callback, Emitter.ENABLE_TRACKING ? Stacktrace.create() : undefined);
                this._listeners.push(listener);
                return {
                    dispose: () => {
                        const index = this._listeners.indexOf(listener);
                        if (index > -1) {
                            this._listeners.splice(index, 1);
                        }
                        else if (Emitter.ENABLE_TRACKING) {
                            // console.warn(
                            //     `dockview: listener already disposed`,
                            //     Stacktrace.create().print()
                            // );
                        }
                    },
                };
            };
            if (Emitter.ENABLE_TRACKING) {
                Emitter.MEMORY_LEAK_WATCHER.add(this._event, Stacktrace.create());
            }
        }
        return this._event;
    }
    fire(e) {
        var _a;
        if ((_a = this.options) === null || _a === void 0 ? void 0 : _a.replay) {
            this._last = e;
        }
        for (const listener of this._listeners) {
            listener.callback(e);
        }
    }
    dispose() {
        if (!this._disposed) {
            this._disposed = true;
            if (this._listeners.length > 0) {
                if (Emitter.ENABLE_TRACKING) {
                    queueMicrotask(() => {
                        var _a;
                        // don't check until stack of execution is completed to allow for out-of-order disposals within the same execution block
                        for (const listener of this._listeners) {
                            console.warn('dockview: stacktrace', (_a = listener.stacktrace) === null || _a === void 0 ? void 0 : _a.print());
                        }
                    });
                }
                this._listeners = [];
            }
            if (Emitter.ENABLE_TRACKING && this._event) {
                Emitter.MEMORY_LEAK_WATCHER.delete(this._event);
            }
        }
    }
}
Emitter.ENABLE_TRACKING = false;
Emitter.MEMORY_LEAK_WATCHER = new LeakageMonitor();
function addDisposableListener(element, type, listener, options) {
    element.addEventListener(type, listener, options);
    return {
        dispose: () => {
            element.removeEventListener(type, listener, options);
        },
    };
}
/**
 *
 * Event Emitter that fires events from a Microtask callback, only one event will fire per event-loop cycle.
 *
 * It's kind of like using an `asapScheduler` in RxJs with additional logic to only fire once per event-loop cycle.
 * This implementation exists to avoid external dependencies.
 *
 * @see https://developer.mozilla.org/en-US/docs/Web/API/queueMicrotask
 * @see https://rxjs.dev/api/index/const/asapScheduler
 */
class AsapEvent {
    constructor() {
        this._onFired = new Emitter();
        this._currentFireCount = 0;
        this._queued = false;
        this.onEvent = (e) => {
            /**
             * when the event is first subscribed to take note of the current fire count
             */
            const fireCountAtTimeOfEventSubscription = this._currentFireCount;
            return this._onFired.event(() => {
                /**
                 * if the current fire count is greater than the fire count at event subscription
                 * then the event has been fired since we subscribed and it's ok to "on_next" the event.
                 *
                 * if the count is not greater then what we are recieving is an event from the microtask
                 * queue that was triggered before we actually subscribed and therfore we should ignore it.
                 */
                if (this._currentFireCount > fireCountAtTimeOfEventSubscription) {
                    e();
                }
            });
        };
    }
    fire() {
        this._currentFireCount++;
        if (this._queued) {
            return;
        }
        this._queued = true;
        queueMicrotask(() => {
            this._queued = false;
            this._onFired.fire();
        });
    }
    dispose() {
        this._onFired.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/gridview/baseComponentGridview.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/gridview/baseComponentGridview.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseGrid: () => (/* binding */ BaseGrid),
/* harmony export */   toTarget: () => (/* binding */ toTarget)
/* harmony export */ });
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _gridview__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gridview */ "./node_modules/dockview-core/dist/esm/gridview/gridview.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../math */ "./node_modules/dockview-core/dist/esm/math.js");
/* harmony import */ var _splitview_splitview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../splitview/splitview */ "./node_modules/dockview-core/dist/esm/splitview/splitview.js");
/* harmony import */ var _resizable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../resizable */ "./node_modules/dockview-core/dist/esm/resizable.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");







const nextLayoutId = (0,_math__WEBPACK_IMPORTED_MODULE_3__.sequentialNumberGenerator)();
function toTarget(direction) {
    switch (direction) {
        case 'left':
            return 'left';
        case 'right':
            return 'right';
        case 'above':
            return 'top';
        case 'below':
            return 'bottom';
        case 'within':
        default:
            return 'center';
    }
}
class BaseGrid extends _resizable__WEBPACK_IMPORTED_MODULE_5__.Resizable {
    get id() {
        return this._id;
    }
    get size() {
        return this._groups.size;
    }
    get groups() {
        return Array.from(this._groups.values()).map((_) => _.value);
    }
    get width() {
        return this.gridview.width;
    }
    get height() {
        return this.gridview.height;
    }
    get minimumHeight() {
        return this.gridview.minimumHeight;
    }
    get maximumHeight() {
        return this.gridview.maximumHeight;
    }
    get minimumWidth() {
        return this.gridview.minimumWidth;
    }
    get maximumWidth() {
        return this.gridview.maximumWidth;
    }
    get activeGroup() {
        return this._activeGroup;
    }
    get locked() {
        return this.gridview.locked;
    }
    set locked(value) {
        this.gridview.locked = value;
    }
    constructor(container, options) {
        var _a;
        super(document.createElement('div'), options.disableAutoResizing);
        this._id = nextLayoutId.next();
        this._groups = new Map();
        this._onDidRemove = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidRemove = this._onDidRemove.event;
        this._onDidAdd = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidAdd = this._onDidAdd.event;
        this._onDidMaximizedChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidMaximizedChange = this._onDidMaximizedChange.event;
        this._onDidActiveChange = new _events__WEBPACK_IMPORTED_MODULE_0__.Emitter();
        this.onDidActiveChange = this._onDidActiveChange.event;
        this._bufferOnDidLayoutChange = new _events__WEBPACK_IMPORTED_MODULE_0__.AsapEvent();
        this.onDidLayoutChange = this._bufferOnDidLayoutChange.onEvent;
        this._onDidViewVisibilityChangeMicroTaskQueue = new _events__WEBPACK_IMPORTED_MODULE_0__.AsapEvent();
        this.onDidViewVisibilityChangeMicroTaskQueue = this._onDidViewVisibilityChangeMicroTaskQueue.onEvent;
        this.element.style.height = '100%';
        this.element.style.width = '100%';
        this._classNames = new _dom__WEBPACK_IMPORTED_MODULE_6__.Classnames(this.element);
        this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');
        // the container is owned by the third-party, do not modify/delete it
        container.appendChild(this.element);
        this.gridview = new _gridview__WEBPACK_IMPORTED_MODULE_1__.Gridview(!!options.proportionalLayout, options.styles, options.orientation, options.locked, options.margin);
        this.gridview.locked = !!options.locked;
        this.element.appendChild(this.gridview.element);
        this.layout(0, 0, true); // set some elements height/widths
        this.addDisposables(this.gridview.onDidMaximizedNodeChange((event) => {
            this._onDidMaximizedChange.fire({
                panel: event.view,
                isMaximized: event.isMaximized,
            });
        }), this.gridview.onDidViewVisibilityChange(() => this._onDidViewVisibilityChangeMicroTaskQueue.fire()), this.onDidViewVisibilityChangeMicroTaskQueue(() => {
            this.layout(this.width, this.height, true);
        }), _lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable.from(() => {
            var _a;
            (_a = this.element.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.element);
        }), this.gridview.onDidChange(() => {
            this._bufferOnDidLayoutChange.fire();
        }), _events__WEBPACK_IMPORTED_MODULE_0__.Event.any(this.onDidAdd, this.onDidRemove, this.onDidActiveChange)(() => {
            this._bufferOnDidLayoutChange.fire();
        }), this._onDidMaximizedChange, this._onDidViewVisibilityChangeMicroTaskQueue, this._bufferOnDidLayoutChange);
    }
    setVisible(panel, visible) {
        this.gridview.setViewVisible((0,_gridview__WEBPACK_IMPORTED_MODULE_1__.getGridLocation)(panel.element), visible);
        this._bufferOnDidLayoutChange.fire();
    }
    isVisible(panel) {
        return this.gridview.isViewVisible((0,_gridview__WEBPACK_IMPORTED_MODULE_1__.getGridLocation)(panel.element));
    }
    updateOptions(options) {
        var _a, _b, _c, _d;
        if (typeof options.proportionalLayout === 'boolean') {
            // this.gridview.proportionalLayout = options.proportionalLayout; // not supported
        }
        if (options.orientation) {
            this.gridview.orientation = options.orientation;
        }
        if ('styles' in options) {
            // this.gridview.styles = options.styles; // not supported
        }
        if ('disableResizing' in options) {
            this.disableResizing = (_a = options.disableAutoResizing) !== null && _a !== void 0 ? _a : false;
        }
        if ('locked' in options) {
            this.locked = (_b = options.locked) !== null && _b !== void 0 ? _b : false;
        }
        if ('margin' in options) {
            this.gridview.margin = (_c = options.margin) !== null && _c !== void 0 ? _c : 0;
        }
        if ('className' in options) {
            this._classNames.setClassNames((_d = options.className) !== null && _d !== void 0 ? _d : '');
        }
    }
    maximizeGroup(panel) {
        this.gridview.maximizeView(panel);
        this.doSetGroupActive(panel);
    }
    isMaximizedGroup(panel) {
        return this.gridview.maximizedView() === panel;
    }
    exitMaximizedGroup() {
        this.gridview.exitMaximizedView();
    }
    hasMaximizedGroup() {
        return this.gridview.hasMaximizedView();
    }
    doAddGroup(group, location = [0], size) {
        this.gridview.addView(group, size !== null && size !== void 0 ? size : _splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.Sizing.Distribute, location);
        this._onDidAdd.fire(group);
    }
    doRemoveGroup(group, options) {
        if (!this._groups.has(group.id)) {
            throw new Error('invalid operation');
        }
        const item = this._groups.get(group.id);
        const view = this.gridview.remove(group, _splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.Sizing.Distribute);
        if (item && !(options === null || options === void 0 ? void 0 : options.skipDispose)) {
            item.disposable.dispose();
            item.value.dispose();
            this._groups.delete(group.id);
            this._onDidRemove.fire(group);
        }
        if (!(options === null || options === void 0 ? void 0 : options.skipActive) && this._activeGroup === group) {
            const groups = Array.from(this._groups.values());
            this.doSetGroupActive(groups.length > 0 ? groups[0].value : undefined);
        }
        return view;
    }
    getPanel(id) {
        var _a;
        return (_a = this._groups.get(id)) === null || _a === void 0 ? void 0 : _a.value;
    }
    doSetGroupActive(group) {
        if (this._activeGroup === group) {
            return;
        }
        if (this._activeGroup) {
            this._activeGroup.setActive(false);
        }
        if (group) {
            group.setActive(true);
        }
        this._activeGroup = group;
        this._onDidActiveChange.fire(group);
    }
    removeGroup(group) {
        this.doRemoveGroup(group);
    }
    moveToNext(options) {
        var _a;
        if (!options) {
            options = {};
        }
        if (!options.group) {
            if (!this.activeGroup) {
                return;
            }
            options.group = this.activeGroup;
        }
        const location = (0,_gridview__WEBPACK_IMPORTED_MODULE_1__.getGridLocation)(options.group.element);
        const next = (_a = this.gridview.next(location)) === null || _a === void 0 ? void 0 : _a.view;
        this.doSetGroupActive(next);
    }
    moveToPrevious(options) {
        var _a;
        if (!options) {
            options = {};
        }
        if (!options.group) {
            if (!this.activeGroup) {
                return;
            }
            options.group = this.activeGroup;
        }
        const location = (0,_gridview__WEBPACK_IMPORTED_MODULE_1__.getGridLocation)(options.group.element);
        const next = (_a = this.gridview.previous(location)) === null || _a === void 0 ? void 0 : _a.view;
        this.doSetGroupActive(next);
    }
    layout(width, height, forceResize) {
        const different = forceResize || width !== this.width || height !== this.height;
        if (!different) {
            return;
        }
        this.gridview.element.style.height = `${height}px`;
        this.gridview.element.style.width = `${width}px`;
        this.gridview.layout(width, height);
    }
    dispose() {
        this._onDidActiveChange.dispose();
        this._onDidAdd.dispose();
        this._onDidRemove.dispose();
        for (const group of this.groups) {
            group.dispose();
        }
        this.gridview.dispose();
        super.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/gridview/basePanelView.js":
/*!***********************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/gridview/basePanelView.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BasePanelView: () => (/* binding */ BasePanelView)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _api_panelApi__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../api/panelApi */ "./node_modules/dockview-core/dist/esm/api/panelApi.js");



class BasePanelView extends _lifecycle__WEBPACK_IMPORTED_MODULE_1__.CompositeDisposable {
    get element() {
        return this._element;
    }
    get width() {
        return this._width;
    }
    get height() {
        return this._height;
    }
    get params() {
        var _a;
        return (_a = this._params) === null || _a === void 0 ? void 0 : _a.params;
    }
    constructor(id, component, api) {
        super();
        this.id = id;
        this.component = component;
        this.api = api;
        this._height = 0;
        this._width = 0;
        this._element = document.createElement('div');
        this._element.tabIndex = -1;
        this._element.style.outline = 'none';
        this._element.style.height = '100%';
        this._element.style.width = '100%';
        this._element.style.overflow = 'hidden';
        const focusTracker = (0,_dom__WEBPACK_IMPORTED_MODULE_0__.trackFocus)(this._element);
        this.addDisposables(this.api, focusTracker.onDidFocus(() => {
            this.api._onDidChangeFocus.fire({ isFocused: true });
        }), focusTracker.onDidBlur(() => {
            this.api._onDidChangeFocus.fire({ isFocused: false });
        }), focusTracker);
    }
    focus() {
        const event = new _api_panelApi__WEBPACK_IMPORTED_MODULE_2__.WillFocusEvent();
        this.api._onWillFocus.fire(event);
        if (event.defaultPrevented) {
            return;
        }
        this._element.focus();
    }
    layout(width, height) {
        this._width = width;
        this._height = height;
        this.api._onDidDimensionChange.fire({ width, height });
        if (this.part) {
            if (this._params) {
                this.part.update(this._params.params);
            }
        }
    }
    init(parameters) {
        this._params = parameters;
        this.part = this.getComponent();
    }
    update(event) {
        var _a, _b;
        // merge the new parameters with the existing parameters
        this._params = Object.assign(Object.assign({}, this._params), { params: Object.assign(Object.assign({}, (_a = this._params) === null || _a === void 0 ? void 0 : _a.params), event.params) });
        /**
         * delete new keys that have a value of undefined,
         * allow values of null
         */
        for (const key of Object.keys(event.params)) {
            if (event.params[key] === undefined) {
                delete this._params.params[key];
            }
        }
        // update the view with the updated props
        (_b = this.part) === null || _b === void 0 ? void 0 : _b.update({ params: this._params.params });
    }
    toJSON() {
        var _a, _b;
        const params = (_b = (_a = this._params) === null || _a === void 0 ? void 0 : _a.params) !== null && _b !== void 0 ? _b : {};
        return {
            id: this.id,
            component: this.component,
            params: Object.keys(params).length > 0 ? params : undefined,
        };
    }
    dispose() {
        var _a;
        this.api.dispose();
        (_a = this.part) === null || _a === void 0 ? void 0 : _a.dispose();
        super.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/gridview/branchNode.js":
/*!********************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/gridview/branchNode.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BranchNode: () => (/* binding */ BranchNode)
/* harmony export */ });
/* harmony import */ var _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../splitview/splitview */ "./node_modules/dockview-core/dist/esm/splitview/splitview.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _leafNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./leafNode */ "./node_modules/dockview-core/dist/esm/gridview/leafNode.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/*---------------------------------------------------------------------------------------------
 * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:
 * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/grid
 *--------------------------------------------------------------------------------------------*/




class BranchNode extends _lifecycle__WEBPACK_IMPORTED_MODULE_3__.CompositeDisposable {
    get width() {
        return this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? this.size
            : this.orthogonalSize;
    }
    get height() {
        return this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? this.orthogonalSize
            : this.size;
    }
    get minimumSize() {
        return this.children.length === 0
            ? 0
            : Math.max(...this.children.map((c, index) => this.splitview.isViewVisible(index)
                ? c.minimumOrthogonalSize
                : 0));
    }
    get maximumSize() {
        return Math.min(...this.children.map((c, index) => this.splitview.isViewVisible(index)
            ? c.maximumOrthogonalSize
            : Number.POSITIVE_INFINITY));
    }
    get minimumOrthogonalSize() {
        return this.splitview.minimumSize;
    }
    get maximumOrthogonalSize() {
        return this.splitview.maximumSize;
    }
    get orthogonalSize() {
        return this._orthogonalSize;
    }
    get size() {
        return this._size;
    }
    get minimumWidth() {
        return this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? this.minimumOrthogonalSize
            : this.minimumSize;
    }
    get minimumHeight() {
        return this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? this.minimumSize
            : this.minimumOrthogonalSize;
    }
    get maximumWidth() {
        return this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? this.maximumOrthogonalSize
            : this.maximumSize;
    }
    get maximumHeight() {
        return this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? this.maximumSize
            : this.maximumOrthogonalSize;
    }
    get priority() {
        if (this.children.length === 0) {
            return _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.LayoutPriority.Normal;
        }
        const priorities = this.children.map((c) => typeof c.priority === 'undefined'
            ? _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.LayoutPriority.Normal
            : c.priority);
        if (priorities.some((p) => p === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.LayoutPriority.High)) {
            return _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.LayoutPriority.High;
        }
        else if (priorities.some((p) => p === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.LayoutPriority.Low)) {
            return _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.LayoutPriority.Low;
        }
        return _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.LayoutPriority.Normal;
    }
    get disabled() {
        return this.splitview.disabled;
    }
    set disabled(value) {
        this.splitview.disabled = value;
    }
    get margin() {
        return this.splitview.margin;
    }
    set margin(value) {
        this.splitview.margin = value;
        this.children.forEach((child) => {
            if (child instanceof BranchNode) {
                child.margin = value;
            }
        });
    }
    constructor(orientation, proportionalLayout, styles, size, orthogonalSize, disabled, margin, childDescriptors) {
        super();
        this.orientation = orientation;
        this.proportionalLayout = proportionalLayout;
        this.styles = styles;
        this._childrenDisposable = _lifecycle__WEBPACK_IMPORTED_MODULE_3__.Disposable.NONE;
        this.children = [];
        this._onDidChange = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidChange = this._onDidChange.event;
        this._onDidVisibilityChange = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidVisibilityChange = this._onDidVisibilityChange.event;
        this._orthogonalSize = orthogonalSize;
        this._size = size;
        this.element = document.createElement('div');
        this.element.className = 'dv-branch-node';
        if (!childDescriptors) {
            this.splitview = new _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Splitview(this.element, {
                orientation: this.orientation,
                proportionalLayout,
                styles,
                margin,
            });
            this.splitview.layout(this.size, this.orthogonalSize);
        }
        else {
            const descriptor = {
                views: childDescriptors.map((childDescriptor) => {
                    return {
                        view: childDescriptor.node,
                        size: childDescriptor.node.size,
                        visible: childDescriptor.node instanceof _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode &&
                            childDescriptor.visible !== undefined
                            ? childDescriptor.visible
                            : true,
                    };
                }),
                size: this.orthogonalSize,
            };
            this.children = childDescriptors.map((c) => c.node);
            this.splitview = new _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Splitview(this.element, {
                orientation: this.orientation,
                descriptor,
                proportionalLayout,
                styles,
                margin,
            });
        }
        this.disabled = disabled;
        this.addDisposables(this._onDidChange, this._onDidVisibilityChange, this.splitview.onDidSashEnd(() => {
            this._onDidChange.fire({});
        }));
        this.setupChildrenEvents();
    }
    setVisible(_visible) {
        // noop
    }
    isChildVisible(index) {
        if (index < 0 || index >= this.children.length) {
            throw new Error('Invalid index');
        }
        return this.splitview.isViewVisible(index);
    }
    setChildVisible(index, visible) {
        if (index < 0 || index >= this.children.length) {
            throw new Error('Invalid index');
        }
        if (this.splitview.isViewVisible(index) === visible) {
            return;
        }
        const wereAllChildrenHidden = this.splitview.contentSize === 0;
        this.splitview.setViewVisible(index, visible);
        // }
        const areAllChildrenHidden = this.splitview.contentSize === 0;
        // If all children are hidden then the parent should hide the entire splitview
        // If the entire splitview is hidden then the parent should show the splitview when a child is shown
        if ((visible && wereAllChildrenHidden) ||
            (!visible && areAllChildrenHidden)) {
            this._onDidVisibilityChange.fire({ visible });
        }
    }
    moveChild(from, to) {
        if (from === to) {
            return;
        }
        if (from < 0 || from >= this.children.length) {
            throw new Error('Invalid from index');
        }
        if (from < to) {
            to--;
        }
        this.splitview.moveView(from, to);
        const child = this._removeChild(from);
        this._addChild(child, to);
    }
    getChildSize(index) {
        if (index < 0 || index >= this.children.length) {
            throw new Error('Invalid index');
        }
        return this.splitview.getViewSize(index);
    }
    resizeChild(index, size) {
        if (index < 0 || index >= this.children.length) {
            throw new Error('Invalid index');
        }
        this.splitview.resizeView(index, size);
    }
    layout(size, orthogonalSize) {
        this._size = orthogonalSize;
        this._orthogonalSize = size;
        this.splitview.layout(orthogonalSize, size);
    }
    addChild(node, size, index, skipLayout) {
        if (index < 0 || index > this.children.length) {
            throw new Error('Invalid index');
        }
        this.splitview.addView(node, size, index, skipLayout);
        this._addChild(node, index);
    }
    getChildCachedVisibleSize(index) {
        if (index < 0 || index >= this.children.length) {
            throw new Error('Invalid index');
        }
        return this.splitview.getViewCachedVisibleSize(index);
    }
    removeChild(index, sizing) {
        if (index < 0 || index >= this.children.length) {
            throw new Error('Invalid index');
        }
        this.splitview.removeView(index, sizing);
        return this._removeChild(index);
    }
    _addChild(node, index) {
        this.children.splice(index, 0, node);
        this.setupChildrenEvents();
    }
    _removeChild(index) {
        const [child] = this.children.splice(index, 1);
        this.setupChildrenEvents();
        return child;
    }
    setupChildrenEvents() {
        this._childrenDisposable.dispose();
        this._childrenDisposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_3__.CompositeDisposable(_events__WEBPACK_IMPORTED_MODULE_1__.Event.any(...this.children.map((c) => c.onDidChange))((e) => {
            /**
             * indicate a change has occured to allows any re-rendering but don't bubble
             * event because that was specific to this branch
             */
            this._onDidChange.fire({ size: e.orthogonalSize });
        }), ...this.children.map((c, i) => {
            if (c instanceof BranchNode) {
                return c.onDidVisibilityChange(({ visible }) => {
                    this.setChildVisible(i, visible);
                });
            }
            return _lifecycle__WEBPACK_IMPORTED_MODULE_3__.Disposable.NONE;
        }));
    }
    dispose() {
        this._childrenDisposable.dispose();
        this.splitview.dispose();
        this.children.forEach((child) => child.dispose());
        super.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/gridview/gridview.js":
/*!******************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/gridview/gridview.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Gridview: () => (/* binding */ Gridview),
/* harmony export */   getDirectionOrientation: () => (/* binding */ getDirectionOrientation),
/* harmony export */   getGridLocation: () => (/* binding */ getGridLocation),
/* harmony export */   getLocationOrientation: () => (/* binding */ getLocationOrientation),
/* harmony export */   getRelativeLocation: () => (/* binding */ getRelativeLocation),
/* harmony export */   indexInParent: () => (/* binding */ indexInParent),
/* harmony export */   isGridBranchNode: () => (/* binding */ isGridBranchNode),
/* harmony export */   orthogonal: () => (/* binding */ orthogonal)
/* harmony export */ });
/* harmony import */ var _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../splitview/splitview */ "./node_modules/dockview-core/dist/esm/splitview/splitview.js");
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../array */ "./node_modules/dockview-core/dist/esm/array.js");
/* harmony import */ var _leafNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./leafNode */ "./node_modules/dockview-core/dist/esm/gridview/leafNode.js");
/* harmony import */ var _branchNode__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./branchNode */ "./node_modules/dockview-core/dist/esm/gridview/branchNode.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/*---------------------------------------------------------------------------------------------
 * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:
 * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/grid
 *--------------------------------------------------------------------------------------------*/






function findLeaf(candiateNode, last) {
    if (candiateNode instanceof _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode) {
        return candiateNode;
    }
    if (candiateNode instanceof _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode) {
        return findLeaf(candiateNode.children[last ? candiateNode.children.length - 1 : 0], last);
    }
    throw new Error('invalid node');
}
function cloneNode(node, size, orthogonalSize) {
    if (node instanceof _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode) {
        const result = new _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode(node.orientation, node.proportionalLayout, node.styles, size, orthogonalSize, node.disabled, node.margin);
        for (let i = node.children.length - 1; i >= 0; i--) {
            const child = node.children[i];
            result.addChild(cloneNode(child, child.size, child.orthogonalSize), child.size, 0, true);
        }
        return result;
    }
    else {
        return new _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode(node.view, node.orientation, orthogonalSize);
    }
}
function flipNode(node, size, orthogonalSize) {
    if (node instanceof _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode) {
        const result = new _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode(orthogonal(node.orientation), node.proportionalLayout, node.styles, size, orthogonalSize, node.disabled, node.margin);
        let totalSize = 0;
        for (let i = node.children.length - 1; i >= 0; i--) {
            const child = node.children[i];
            const childSize = child instanceof _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode ? child.orthogonalSize : child.size;
            let newSize = node.size === 0
                ? 0
                : Math.round((size * childSize) / node.size);
            totalSize += newSize;
            // The last view to add should adjust to rounding errors
            if (i === 0) {
                newSize += size - totalSize;
            }
            result.addChild(flipNode(child, orthogonalSize, newSize), newSize, 0, true);
        }
        return result;
    }
    else {
        return new _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode(node.view, orthogonal(node.orientation), orthogonalSize);
    }
}
function indexInParent(element) {
    const parentElement = element.parentElement;
    if (!parentElement) {
        throw new Error('Invalid grid element');
    }
    let el = parentElement.firstElementChild;
    let index = 0;
    while (el !== element && el !== parentElement.lastElementChild && el) {
        el = el.nextElementSibling;
        index++;
    }
    return index;
}
/**
 * Find the grid location of a specific DOM element by traversing the parent
 * chain and finding each child index on the way.
 *
 * This will break as soon as DOM structures of the Splitview or Gridview change.
 */
function getGridLocation(element) {
    const parentElement = element.parentElement;
    if (!parentElement) {
        throw new Error('Invalid grid element');
    }
    if (/\bdv-grid-view\b/.test(parentElement.className)) {
        return [];
    }
    const index = indexInParent(parentElement);
    const ancestor = parentElement.parentElement.parentElement.parentElement;
    return [...getGridLocation(ancestor), index];
}
function getRelativeLocation(rootOrientation, location, direction) {
    const orientation = getLocationOrientation(rootOrientation, location);
    const directionOrientation = getDirectionOrientation(direction);
    if (orientation === directionOrientation) {
        const [rest, _index] = (0,_array__WEBPACK_IMPORTED_MODULE_1__.tail)(location);
        let index = _index;
        if (direction === 'right' || direction === 'bottom') {
            index += 1;
        }
        return [...rest, index];
    }
    else {
        const index = direction === 'right' || direction === 'bottom' ? 1 : 0;
        return [...location, index];
    }
}
function getDirectionOrientation(direction) {
    return direction === 'top' || direction === 'bottom'
        ? _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.VERTICAL
        : _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL;
}
function getLocationOrientation(rootOrientation, location) {
    return location.length % 2 === 0
        ? orthogonal(rootOrientation)
        : rootOrientation;
}
const orthogonal = (orientation) => orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
    ? _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.VERTICAL
    : _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL;
function isGridBranchNode(node) {
    return !!node.children;
}
const serializeBranchNode = (node, orientation) => {
    const size = orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.VERTICAL ? node.box.width : node.box.height;
    if (!isGridBranchNode(node)) {
        if (typeof node.cachedVisibleSize === 'number') {
            return {
                type: 'leaf',
                data: node.view.toJSON(),
                size: node.cachedVisibleSize,
                visible: false,
            };
        }
        return { type: 'leaf', data: node.view.toJSON(), size };
    }
    return {
        type: 'branch',
        data: node.children.map((c) => serializeBranchNode(c, orthogonal(orientation))),
        size,
    };
};
class Gridview {
    get length() {
        return this._root ? this._root.children.length : 0;
    }
    get orientation() {
        return this.root.orientation;
    }
    set orientation(orientation) {
        if (this.root.orientation === orientation) {
            return;
        }
        const { size, orthogonalSize } = this.root;
        this.root = flipNode(this.root, orthogonalSize, size);
        this.root.layout(size, orthogonalSize);
    }
    get width() {
        return this.root.width;
    }
    get height() {
        return this.root.height;
    }
    get minimumWidth() {
        return this.root.minimumWidth;
    }
    get minimumHeight() {
        return this.root.minimumHeight;
    }
    get maximumWidth() {
        return this.root.maximumHeight;
    }
    get maximumHeight() {
        return this.root.maximumHeight;
    }
    get locked() {
        return this._locked;
    }
    set locked(value) {
        this._locked = value;
        const branch = [this.root];
        /**
         * simple depth-first-search to cover all nodes
         *
         * @see https://en.wikipedia.org/wiki/Depth-first_search
         */
        while (branch.length > 0) {
            const node = branch.pop();
            if (node instanceof _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode) {
                node.disabled = value;
                branch.push(...node.children);
            }
        }
    }
    get margin() {
        return this._margin;
    }
    set margin(value) {
        this._margin = value;
        this.root.margin = value;
    }
    maximizedView() {
        var _a;
        return (_a = this._maximizedNode) === null || _a === void 0 ? void 0 : _a.leaf.view;
    }
    hasMaximizedView() {
        return this._maximizedNode !== undefined;
    }
    maximizeView(view) {
        var _a;
        const location = getGridLocation(view.element);
        const [_, node] = this.getNode(location);
        if (!(node instanceof _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode)) {
            return;
        }
        if (((_a = this._maximizedNode) === null || _a === void 0 ? void 0 : _a.leaf) === node) {
            return;
        }
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        serializeBranchNode(this.getView(), this.orientation);
        const hiddenOnMaximize = [];
        function hideAllViewsBut(parent, exclude) {
            for (let i = 0; i < parent.children.length; i++) {
                const child = parent.children[i];
                if (child instanceof _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode) {
                    if (child !== exclude) {
                        if (parent.isChildVisible(i)) {
                            parent.setChildVisible(i, false);
                        }
                        else {
                            hiddenOnMaximize.push(child);
                        }
                    }
                }
                else {
                    hideAllViewsBut(child, exclude);
                }
            }
        }
        hideAllViewsBut(this.root, node);
        this._maximizedNode = { leaf: node, hiddenOnMaximize };
        this._onDidMaximizedNodeChange.fire({
            view: node.view,
            isMaximized: true,
        });
    }
    exitMaximizedView() {
        if (!this._maximizedNode) {
            return;
        }
        const hiddenOnMaximize = this._maximizedNode.hiddenOnMaximize;
        function showViewsInReverseOrder(parent) {
            for (let index = parent.children.length - 1; index >= 0; index--) {
                const child = parent.children[index];
                if (child instanceof _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode) {
                    if (!hiddenOnMaximize.includes(child)) {
                        parent.setChildVisible(index, true);
                    }
                }
                else {
                    showViewsInReverseOrder(child);
                }
            }
        }
        showViewsInReverseOrder(this.root);
        const tmp = this._maximizedNode.leaf;
        this._maximizedNode = undefined;
        this._onDidMaximizedNodeChange.fire({
            view: tmp.view,
            isMaximized: false,
        });
    }
    serialize() {
        const maximizedView = this.maximizedView();
        let maxmizedViewLocation;
        if (maximizedView) {
            /**
             * The minimum information we can get away with in order to serialize a maxmized view is it's location within the grid
             * which is represented as a branch of indices
             */
            maxmizedViewLocation = getGridLocation(maximizedView.element);
        }
        if (this.hasMaximizedView()) {
            /**
             * the saved layout cannot be in its maxmized state otherwise all of the underlying
             * view dimensions will be wrong
             *
             * To counteract this we temporaily remove the maximized view to compute the serialized output
             * of the grid before adding back the maxmized view as to not alter the layout from the users
             * perspective when `.toJSON()` is called
             */
            this.exitMaximizedView();
        }
        const root = serializeBranchNode(this.getView(), this.orientation);
        const resullt = {
            root,
            width: this.width,
            height: this.height,
            orientation: this.orientation,
        };
        if (maxmizedViewLocation) {
            resullt.maximizedNode = {
                location: maxmizedViewLocation,
            };
        }
        if (maximizedView) {
            // replace any maximzied view that was removed for serialization purposes
            this.maximizeView(maximizedView);
        }
        return resullt;
    }
    dispose() {
        this.disposable.dispose();
        this._onDidChange.dispose();
        this._onDidMaximizedNodeChange.dispose();
        this._onDidViewVisibilityChange.dispose();
        this.root.dispose();
        this._maximizedNode = undefined;
        this.element.remove();
    }
    clear() {
        const orientation = this.root.orientation;
        this.root = new _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode(orientation, this.proportionalLayout, this.styles, this.root.size, this.root.orthogonalSize, this.locked, this.margin);
    }
    deserialize(json, deserializer) {
        const orientation = json.orientation;
        const height = orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.VERTICAL ? json.height : json.width;
        this._deserialize(json.root, orientation, deserializer, height);
        /**
         * The deserialied layout must be positioned through this.layout(...)
         * before any maximizedNode can be positioned
         */
        this.layout(json.width, json.height);
        if (json.maximizedNode) {
            const location = json.maximizedNode.location;
            const [_, node] = this.getNode(location);
            if (!(node instanceof _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode)) {
                return;
            }
            this.maximizeView(node.view);
        }
    }
    _deserialize(root, orientation, deserializer, orthogonalSize) {
        this.root = this._deserializeNode(root, orientation, deserializer, orthogonalSize);
    }
    _deserializeNode(node, orientation, deserializer, orthogonalSize) {
        var _a;
        let result;
        if (node.type === 'branch') {
            const serializedChildren = node.data;
            const children = serializedChildren.map((serializedChild) => {
                return {
                    node: this._deserializeNode(serializedChild, orthogonal(orientation), deserializer, node.size),
                    visible: serializedChild.visible,
                };
            });
            result = new _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode(orientation, this.proportionalLayout, this.styles, node.size, // <- orthogonal size - flips at each depth
            orthogonalSize, // <- size - flips at each depth,
            this.locked, this.margin, children);
        }
        else {
            const view = deserializer.fromJSON(node);
            if (typeof node.visible === 'boolean') {
                (_a = view.setVisible) === null || _a === void 0 ? void 0 : _a.call(view, node.visible);
            }
            result = new _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode(view, orientation, orthogonalSize, node.size);
        }
        return result;
    }
    get root() {
        return this._root;
    }
    set root(root) {
        const oldRoot = this._root;
        if (oldRoot) {
            oldRoot.dispose();
            this._maximizedNode = undefined;
            this.element.removeChild(oldRoot.element);
        }
        this._root = root;
        this.element.appendChild(this._root.element);
        this.disposable.value = this._root.onDidChange((e) => {
            this._onDidChange.fire(e);
        });
    }
    normalize() {
        if (!this._root) {
            return;
        }
        if (this._root.children.length !== 1) {
            return;
        }
        const oldRoot = this.root;
        // can remove one level of redundant branching if there is only a single child
        const childReference = oldRoot.children[0];
        if (childReference instanceof _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode) {
            return;
        }
        oldRoot.element.remove();
        const child = oldRoot.removeChild(0); // Remove child to prevent double disposal
        oldRoot.dispose(); // Dispose old root (won't dispose removed child)
        child.dispose(); // Dispose the removed child
        this._root = cloneNode(childReference, childReference.size, childReference.orthogonalSize);
        this.element.appendChild(this._root.element);
        this.disposable.value = this._root.onDidChange((e) => {
            this._onDidChange.fire(e);
        });
    }
    /**
     * If the root is orientated as a VERTICAL node then nest the existing root within a new HORIZIONTAL root node
     * If the root is orientated as a HORIZONTAL node then nest the existing root within a new VERITCAL root node
     */
    insertOrthogonalSplitviewAtRoot() {
        if (!this._root) {
            return;
        }
        const oldRoot = this.root;
        oldRoot.element.remove();
        this._root = new _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode(orthogonal(oldRoot.orientation), this.proportionalLayout, this.styles, this.root.orthogonalSize, this.root.size, this.locked, this.margin);
        if (oldRoot.children.length === 0) {
            // no data so no need to add anything back in
        }
        else if (oldRoot.children.length === 1) {
            // can remove one level of redundant branching if there is only a single child
            const childReference = oldRoot.children[0];
            const child = oldRoot.removeChild(0); // remove to prevent disposal when disposing of unwanted root
            child.dispose();
            oldRoot.dispose();
            this._root.addChild(
            /**
             * the child node will have the same orientation as the new root since
             * we are removing the inbetween node.
             * the entire 'tree' must be flipped recursively to ensure that the orientation
             * flips at each level
             */
            flipNode(childReference, childReference.orthogonalSize, childReference.size), _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Sizing.Distribute, 0);
        }
        else {
            this._root.addChild(oldRoot, _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Sizing.Distribute, 0);
        }
        this.element.appendChild(this._root.element);
        this.disposable.value = this._root.onDidChange((e) => {
            this._onDidChange.fire(e);
        });
    }
    next(location) {
        return this.progmaticSelect(location);
    }
    previous(location) {
        return this.progmaticSelect(location, true);
    }
    getView(location) {
        const node = location ? this.getNode(location)[1] : this.root;
        return this._getViews(node, this.orientation);
    }
    _getViews(node, orientation, cachedVisibleSize) {
        const box = { height: node.height, width: node.width };
        if (node instanceof _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode) {
            return { box, view: node.view, cachedVisibleSize };
        }
        const children = [];
        for (let i = 0; i < node.children.length; i++) {
            const child = node.children[i];
            const nodeCachedVisibleSize = node.getChildCachedVisibleSize(i);
            children.push(this._getViews(child, orthogonal(orientation), nodeCachedVisibleSize));
        }
        return { box, children };
    }
    progmaticSelect(location, reverse = false) {
        const [path, node] = this.getNode(location);
        if (!(node instanceof _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode)) {
            throw new Error('invalid location');
        }
        for (let i = path.length - 1; i > -1; i--) {
            const n = path[i];
            const l = location[i] || 0;
            const canProgressInCurrentLevel = reverse
                ? l - 1 > -1
                : l + 1 < n.children.length;
            if (canProgressInCurrentLevel) {
                return findLeaf(n.children[reverse ? l - 1 : l + 1], reverse);
            }
        }
        return findLeaf(this.root, reverse);
    }
    constructor(proportionalLayout, styles, orientation, locked, margin) {
        this.proportionalLayout = proportionalLayout;
        this.styles = styles;
        this._locked = false;
        this._margin = 0;
        this._maximizedNode = undefined;
        this.disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_5__.MutableDisposable();
        this._onDidChange = new _events__WEBPACK_IMPORTED_MODULE_4__.Emitter();
        this.onDidChange = this._onDidChange.event;
        this._onDidViewVisibilityChange = new _events__WEBPACK_IMPORTED_MODULE_4__.Emitter();
        this.onDidViewVisibilityChange = this._onDidViewVisibilityChange.event;
        this._onDidMaximizedNodeChange = new _events__WEBPACK_IMPORTED_MODULE_4__.Emitter();
        this.onDidMaximizedNodeChange = this._onDidMaximizedNodeChange.event;
        this.element = document.createElement('div');
        this.element.className = 'dv-grid-view';
        this._locked = locked !== null && locked !== void 0 ? locked : false;
        this._margin = margin !== null && margin !== void 0 ? margin : 0;
        this.root = new _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode(orientation, proportionalLayout, styles, 0, 0, this.locked, this.margin);
    }
    isViewVisible(location) {
        const [rest, index] = (0,_array__WEBPACK_IMPORTED_MODULE_1__.tail)(location);
        const [, parent] = this.getNode(rest);
        if (!(parent instanceof _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode)) {
            throw new Error('Invalid from location');
        }
        return parent.isChildVisible(index);
    }
    setViewVisible(location, visible) {
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        const [rest, index] = (0,_array__WEBPACK_IMPORTED_MODULE_1__.tail)(location);
        const [, parent] = this.getNode(rest);
        if (!(parent instanceof _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode)) {
            throw new Error('Invalid from location');
        }
        this._onDidViewVisibilityChange.fire();
        parent.setChildVisible(index, visible);
    }
    moveView(parentLocation, from, to) {
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        const [, parent] = this.getNode(parentLocation);
        if (!(parent instanceof _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode)) {
            throw new Error('Invalid location');
        }
        parent.moveChild(from, to);
    }
    addView(view, size, location) {
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        const [rest, index] = (0,_array__WEBPACK_IMPORTED_MODULE_1__.tail)(location);
        const [pathToParent, parent] = this.getNode(rest);
        if (parent instanceof _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode) {
            const node = new _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode(view, orthogonal(parent.orientation), parent.orthogonalSize);
            parent.addChild(node, size, index);
        }
        else {
            const [grandParent, ..._] = [...pathToParent].reverse();
            const [parentIndex, ...__] = [...rest].reverse();
            let newSiblingSize = 0;
            const newSiblingCachedVisibleSize = grandParent.getChildCachedVisibleSize(parentIndex);
            if (typeof newSiblingCachedVisibleSize === 'number') {
                newSiblingSize = _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Sizing.Invisible(newSiblingCachedVisibleSize);
            }
            const child = grandParent.removeChild(parentIndex);
            child.dispose();
            const newParent = new _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode(parent.orientation, this.proportionalLayout, this.styles, parent.size, parent.orthogonalSize, this.locked, this.margin);
            grandParent.addChild(newParent, parent.size, parentIndex);
            const newSibling = new _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode(parent.view, grandParent.orientation, parent.size);
            newParent.addChild(newSibling, newSiblingSize, 0);
            if (typeof size !== 'number' && size.type === 'split') {
                size = { type: 'split', index: 0 };
            }
            const node = new _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode(view, grandParent.orientation, parent.size);
            newParent.addChild(node, size, index);
        }
    }
    remove(view, sizing) {
        const location = getGridLocation(view.element);
        return this.removeView(location, sizing);
    }
    removeView(location, sizing) {
        if (this.hasMaximizedView()) {
            this.exitMaximizedView();
        }
        const [rest, index] = (0,_array__WEBPACK_IMPORTED_MODULE_1__.tail)(location);
        const [pathToParent, parent] = this.getNode(rest);
        if (!(parent instanceof _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode)) {
            throw new Error('Invalid location');
        }
        const nodeToRemove = parent.children[index];
        if (!(nodeToRemove instanceof _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode)) {
            throw new Error('Invalid location');
        }
        parent.removeChild(index, sizing);
        nodeToRemove.dispose();
        if (parent.children.length !== 1) {
            return nodeToRemove.view;
        }
        // if the parent has only one child and we know the parent is a BranchNode we can make the tree
        // more efficiently spaced by replacing the parent BranchNode with the child.
        // if that child is a LeafNode then we simply replace the BranchNode with the child otherwise if the child
        // is a BranchNode too we should spread it's children into the grandparent.
        // refer to the remaining child as the sibling
        const sibling = parent.children[0];
        if (pathToParent.length === 0) {
            // if the parent is root
            if (sibling instanceof _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode) {
                // if the sibling is a leaf node no action is required
                return nodeToRemove.view;
            }
            // otherwise the sibling is a branch node. since the parent is the root and the root has only one child
            // which is a branch node we can just set this branch node to be the new root node
            // for good housekeeping we'll removing the sibling from it's existing tree
            parent.removeChild(0, sizing);
            // and set that sibling node to be root
            this.root = sibling;
            return nodeToRemove.view;
        }
        // otherwise the parent is apart of a large sub-tree
        const [grandParent, ..._] = [...pathToParent].reverse();
        const [parentIndex, ...__] = [...rest].reverse();
        const isSiblingVisible = parent.isChildVisible(0);
        // either way we need to remove the sibling from it's existing tree
        parent.removeChild(0, sizing);
        // note the sizes of all of the grandparents children
        const sizes = grandParent.children.map((_size, i) => grandParent.getChildSize(i));
        // remove the parent from the grandparent since we are moving the sibling to take the parents place
        // this parent is no longer used and can be disposed of
        grandParent.removeChild(parentIndex, sizing).dispose();
        if (sibling instanceof _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode) {
            // replace the parent with the siblings children
            sizes.splice(parentIndex, 1, ...sibling.children.map((c) => c.size));
            // and add those siblings to the grandparent
            for (let i = 0; i < sibling.children.length; i++) {
                const child = sibling.children[i];
                grandParent.addChild(child, child.size, parentIndex + i);
            }
            /**
             * clean down the branch node since we need to dipose of it and
             * when .dispose() it called on a branch it will dispose of any
             * views it is holding onto.
             */
            while (sibling.children.length > 0) {
                sibling.removeChild(0);
            }
        }
        else {
            // otherwise create a new leaf node and add that to the grandparent
            const newSibling = new _leafNode__WEBPACK_IMPORTED_MODULE_2__.LeafNode(sibling.view, orthogonal(sibling.orientation), sibling.size);
            const siblingSizing = isSiblingVisible
                ? sibling.orthogonalSize
                : _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Sizing.Invisible(sibling.orthogonalSize);
            grandParent.addChild(newSibling, siblingSizing, parentIndex);
        }
        // the containing node of the sibling is no longer required and can be disposed of
        sibling.dispose();
        // resize everything
        for (let i = 0; i < sizes.length; i++) {
            grandParent.resizeChild(i, sizes[i]);
        }
        return nodeToRemove.view;
    }
    layout(width, height) {
        const [size, orthogonalSize] = this.root.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? [height, width]
            : [width, height];
        this.root.layout(size, orthogonalSize);
    }
    getNode(location, node = this.root, path = []) {
        if (location.length === 0) {
            return [path, node];
        }
        if (!(node instanceof _branchNode__WEBPACK_IMPORTED_MODULE_3__.BranchNode)) {
            throw new Error('Invalid location');
        }
        const [index, ...rest] = location;
        if (index < 0 || index >= node.children.length) {
            throw new Error('Invalid location');
        }
        const child = node.children[index];
        path.push(node);
        return this.getNode(rest, child, path);
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/gridview/gridviewComponent.js":
/*!***************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/gridview/gridviewComponent.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GridviewComponent: () => (/* binding */ GridviewComponent)
/* harmony export */ });
/* harmony import */ var _gridview__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gridview */ "./node_modules/dockview-core/dist/esm/gridview/gridview.js");
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../array */ "./node_modules/dockview-core/dist/esm/array.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _baseComponentGridview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./baseComponentGridview */ "./node_modules/dockview-core/dist/esm/gridview/baseComponentGridview.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");





class GridviewComponent extends _baseComponentGridview__WEBPACK_IMPORTED_MODULE_3__.BaseGrid {
    get orientation() {
        return this.gridview.orientation;
    }
    set orientation(value) {
        this.gridview.orientation = value;
    }
    get options() {
        return this._options;
    }
    get deserializer() {
        return this._deserializer;
    }
    set deserializer(value) {
        this._deserializer = value;
    }
    constructor(container, options) {
        var _a;
        super(container, {
            proportionalLayout: (_a = options.proportionalLayout) !== null && _a !== void 0 ? _a : true,
            orientation: options.orientation,
            styles: options.hideBorders
                ? { separatorBorder: 'transparent' }
                : undefined,
            disableAutoResizing: options.disableAutoResizing,
            className: options.className,
        });
        this._onDidLayoutfromJSON = new _events__WEBPACK_IMPORTED_MODULE_4__.Emitter();
        this.onDidLayoutFromJSON = this._onDidLayoutfromJSON.event;
        this._onDidRemoveGroup = new _events__WEBPACK_IMPORTED_MODULE_4__.Emitter();
        this.onDidRemoveGroup = this._onDidRemoveGroup.event;
        this._onDidAddGroup = new _events__WEBPACK_IMPORTED_MODULE_4__.Emitter();
        this.onDidAddGroup = this._onDidAddGroup.event;
        this._onDidActiveGroupChange = new _events__WEBPACK_IMPORTED_MODULE_4__.Emitter();
        this.onDidActiveGroupChange = this._onDidActiveGroupChange.event;
        this._options = options;
        this.addDisposables(this._onDidAddGroup, this._onDidRemoveGroup, this._onDidActiveGroupChange, this.onDidAdd((event) => {
            this._onDidAddGroup.fire(event);
        }), this.onDidRemove((event) => {
            this._onDidRemoveGroup.fire(event);
        }), this.onDidActiveChange((event) => {
            this._onDidActiveGroupChange.fire(event);
        }));
    }
    updateOptions(options) {
        super.updateOptions(options);
        const hasOrientationChanged = typeof options.orientation === 'string' &&
            this.gridview.orientation !== options.orientation;
        this._options = Object.assign(Object.assign({}, this.options), options);
        if (hasOrientationChanged) {
            this.gridview.orientation = options.orientation;
        }
        this.layout(this.gridview.width, this.gridview.height, true);
    }
    removePanel(panel) {
        this.removeGroup(panel);
    }
    /**
     * Serialize the current state of the layout
     *
     * @returns A JSON respresentation of the layout
     */
    toJSON() {
        var _a;
        const data = this.gridview.serialize();
        return {
            grid: data,
            activePanel: (_a = this.activeGroup) === null || _a === void 0 ? void 0 : _a.id,
        };
    }
    setVisible(panel, visible) {
        this.gridview.setViewVisible((0,_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(panel.element), visible);
    }
    setActive(panel) {
        this._groups.forEach((value, _key) => {
            value.value.setActive(panel === value.value);
        });
    }
    focus() {
        var _a;
        (_a = this.activeGroup) === null || _a === void 0 ? void 0 : _a.focus();
    }
    fromJSON(serializedGridview) {
        this.clear();
        const { grid, activePanel } = serializedGridview;
        try {
            const queue = [];
            // take note of the existing dimensions
            const width = this.width;
            const height = this.height;
            this.gridview.deserialize(grid, {
                fromJSON: (node) => {
                    const { data } = node;
                    const view = this.options.createComponent({
                        id: data.id,
                        name: data.component,
                    });
                    queue.push(() => view.init({
                        params: data.params,
                        minimumWidth: data.minimumWidth,
                        maximumWidth: data.maximumWidth,
                        minimumHeight: data.minimumHeight,
                        maximumHeight: data.maximumHeight,
                        priority: data.priority,
                        snap: !!data.snap,
                        accessor: this,
                        isVisible: node.visible,
                    }));
                    this._onDidAddGroup.fire(view);
                    this.registerPanel(view);
                    return view;
                },
            });
            this.layout(width, height, true);
            queue.forEach((f) => f());
            if (typeof activePanel === 'string') {
                const panel = this.getPanel(activePanel);
                if (panel) {
                    this.doSetGroupActive(panel);
                }
            }
        }
        catch (err) {
            /**
             * To remove a group we cannot call this.removeGroup(...) since this makes assumptions about
             * the underlying HTMLElement existing in the Gridview.
             */
            for (const group of this.groups) {
                group.dispose();
                this._groups.delete(group.id);
                this._onDidRemoveGroup.fire(group);
            }
            // fires clean-up events and clears the underlying HTML gridview.
            this.clear();
            /**
             * even though we have cleaned-up we still want to inform the caller of their error
             * and we'll do this through re-throwing the original error since afterall you would
             * expect trying to load a corrupted layout to result in an error and not silently fail...
             */
            throw err;
        }
        this._onDidLayoutfromJSON.fire();
    }
    clear() {
        const hasActiveGroup = this.activeGroup;
        const groups = Array.from(this._groups.values()); // reassign since group panels will mutate
        for (const group of groups) {
            group.disposable.dispose();
            this.doRemoveGroup(group.value, { skipActive: true });
        }
        if (hasActiveGroup) {
            this.doSetGroupActive(undefined);
        }
        this.gridview.clear();
    }
    movePanel(panel, options) {
        var _a;
        let relativeLocation;
        const removedPanel = this.gridview.remove(panel);
        const referenceGroup = (_a = this._groups.get(options.reference)) === null || _a === void 0 ? void 0 : _a.value;
        if (!referenceGroup) {
            throw new Error(`reference group ${options.reference} does not exist`);
        }
        const target = (0,_baseComponentGridview__WEBPACK_IMPORTED_MODULE_3__.toTarget)(options.direction);
        if (target === 'center') {
            throw new Error(`${target} not supported as an option`);
        }
        else {
            const location = (0,_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(referenceGroup.element);
            relativeLocation = (0,_gridview__WEBPACK_IMPORTED_MODULE_0__.getRelativeLocation)(this.gridview.orientation, location, target);
        }
        this.doAddGroup(removedPanel, relativeLocation, options.size);
    }
    addPanel(options) {
        var _a, _b, _c, _d;
        let relativeLocation = (_a = options.location) !== null && _a !== void 0 ? _a : [0];
        if ((_b = options.position) === null || _b === void 0 ? void 0 : _b.referencePanel) {
            const referenceGroup = (_c = this._groups.get(options.position.referencePanel)) === null || _c === void 0 ? void 0 : _c.value;
            if (!referenceGroup) {
                throw new Error(`reference group ${options.position.referencePanel} does not exist`);
            }
            const target = (0,_baseComponentGridview__WEBPACK_IMPORTED_MODULE_3__.toTarget)(options.position.direction);
            if (target === 'center') {
                throw new Error(`${target} not supported as an option`);
            }
            else {
                const location = (0,_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(referenceGroup.element);
                relativeLocation = (0,_gridview__WEBPACK_IMPORTED_MODULE_0__.getRelativeLocation)(this.gridview.orientation, location, target);
            }
        }
        const view = this.options.createComponent({
            id: options.id,
            name: options.component,
        });
        view.init({
            params: (_d = options.params) !== null && _d !== void 0 ? _d : {},
            minimumWidth: options.minimumWidth,
            maximumWidth: options.maximumWidth,
            minimumHeight: options.minimumHeight,
            maximumHeight: options.maximumHeight,
            priority: options.priority,
            snap: !!options.snap,
            accessor: this,
            isVisible: true,
        });
        this.registerPanel(view);
        this.doAddGroup(view, relativeLocation, options.size);
        this.doSetGroupActive(view);
        return view;
    }
    registerPanel(panel) {
        const disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable(panel.api.onDidFocusChange((event) => {
            if (!event.isFocused) {
                return;
            }
            this._groups.forEach((groupItem) => {
                const group = groupItem.value;
                if (group !== panel) {
                    group.setActive(false);
                }
                else {
                    group.setActive(true);
                }
            });
        }));
        this._groups.set(panel.id, {
            value: panel,
            disposable,
        });
    }
    moveGroup(referenceGroup, groupId, target) {
        const sourceGroup = this.getPanel(groupId);
        if (!sourceGroup) {
            throw new Error('invalid operation');
        }
        const referenceLocation = (0,_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(referenceGroup.element);
        const targetLocation = (0,_gridview__WEBPACK_IMPORTED_MODULE_0__.getRelativeLocation)(this.gridview.orientation, referenceLocation, target);
        const [targetParentLocation, to] = (0,_array__WEBPACK_IMPORTED_MODULE_1__.tail)(targetLocation);
        const sourceLocation = (0,_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(sourceGroup.element);
        const [sourceParentLocation, from] = (0,_array__WEBPACK_IMPORTED_MODULE_1__.tail)(sourceLocation);
        if ((0,_array__WEBPACK_IMPORTED_MODULE_1__.sequenceEquals)(sourceParentLocation, targetParentLocation)) {
            // special case when 'swapping' two views within same grid location
            // if a group has one tab - we are essentially moving the 'group'
            // which is equivalent to swapping two views in this case
            this.gridview.moveView(sourceParentLocation, from, to);
            return;
        }
        // source group will become empty so delete the group
        const targetGroup = this.doRemoveGroup(sourceGroup, {
            skipActive: true,
            skipDispose: true,
        });
        // after deleting the group we need to re-evaulate the ref location
        const updatedReferenceLocation = (0,_gridview__WEBPACK_IMPORTED_MODULE_0__.getGridLocation)(referenceGroup.element);
        const location = (0,_gridview__WEBPACK_IMPORTED_MODULE_0__.getRelativeLocation)(this.gridview.orientation, updatedReferenceLocation, target);
        this.doAddGroup(targetGroup, location);
    }
    removeGroup(group) {
        super.removeGroup(group);
    }
    dispose() {
        super.dispose();
        this._onDidLayoutfromJSON.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/gridview/gridviewPanel.js":
/*!***********************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/gridview/gridviewPanel.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GridviewPanel: () => (/* binding */ GridviewPanel)
/* harmony export */ });
/* harmony import */ var _basePanelView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePanelView */ "./node_modules/dockview-core/dist/esm/gridview/basePanelView.js");
/* harmony import */ var _api_gridviewPanelApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api/gridviewPanelApi */ "./node_modules/dockview-core/dist/esm/api/gridviewPanelApi.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");



class GridviewPanel extends _basePanelView__WEBPACK_IMPORTED_MODULE_0__.BasePanelView {
    get priority() {
        return this._priority;
    }
    get snap() {
        return this._snap;
    }
    get minimumWidth() {
        /**
         * defer to protected function to allow subclasses to override easily.
         * see https://github.com/microsoft/TypeScript/issues/338
         */
        return this.__minimumWidth();
    }
    get minimumHeight() {
        /**
         * defer to protected function to allow subclasses to override easily.
         * see https://github.com/microsoft/TypeScript/issues/338
         */
        return this.__minimumHeight();
    }
    get maximumHeight() {
        /**
         * defer to protected function to allow subclasses to override easily.
         * see https://github.com/microsoft/TypeScript/issues/338
         */
        return this.__maximumHeight();
    }
    get maximumWidth() {
        /**
         * defer to protected function to allow subclasses to override easily.
         * see https://github.com/microsoft/TypeScript/issues/338
         */
        return this.__maximumWidth();
    }
    __minimumWidth() {
        const width = typeof this._minimumWidth === 'function'
            ? this._minimumWidth()
            : this._minimumWidth;
        if (width !== this._evaluatedMinimumWidth) {
            this._evaluatedMinimumWidth = width;
            this.updateConstraints();
        }
        return width;
    }
    __maximumWidth() {
        const width = typeof this._maximumWidth === 'function'
            ? this._maximumWidth()
            : this._maximumWidth;
        if (width !== this._evaluatedMaximumWidth) {
            this._evaluatedMaximumWidth = width;
            this.updateConstraints();
        }
        return width;
    }
    __minimumHeight() {
        const height = typeof this._minimumHeight === 'function'
            ? this._minimumHeight()
            : this._minimumHeight;
        if (height !== this._evaluatedMinimumHeight) {
            this._evaluatedMinimumHeight = height;
            this.updateConstraints();
        }
        return height;
    }
    __maximumHeight() {
        const height = typeof this._maximumHeight === 'function'
            ? this._maximumHeight()
            : this._maximumHeight;
        if (height !== this._evaluatedMaximumHeight) {
            this._evaluatedMaximumHeight = height;
            this.updateConstraints();
        }
        return height;
    }
    get isActive() {
        return this.api.isActive;
    }
    get isVisible() {
        return this.api.isVisible;
    }
    constructor(id, component, options, api) {
        super(id, component, api !== null && api !== void 0 ? api : new _api_gridviewPanelApi__WEBPACK_IMPORTED_MODULE_1__.GridviewPanelApiImpl(id, component));
        this._evaluatedMinimumWidth = 0;
        this._evaluatedMaximumWidth = Number.MAX_SAFE_INTEGER;
        this._evaluatedMinimumHeight = 0;
        this._evaluatedMaximumHeight = Number.MAX_SAFE_INTEGER;
        this._minimumWidth = 0;
        this._minimumHeight = 0;
        this._maximumWidth = Number.MAX_SAFE_INTEGER;
        this._maximumHeight = Number.MAX_SAFE_INTEGER;
        this._snap = false;
        this._onDidChange = new _events__WEBPACK_IMPORTED_MODULE_2__.Emitter();
        this.onDidChange = this._onDidChange.event;
        if (typeof (options === null || options === void 0 ? void 0 : options.minimumWidth) === 'number') {
            this._minimumWidth = options.minimumWidth;
        }
        if (typeof (options === null || options === void 0 ? void 0 : options.maximumWidth) === 'number') {
            this._maximumWidth = options.maximumWidth;
        }
        if (typeof (options === null || options === void 0 ? void 0 : options.minimumHeight) === 'number') {
            this._minimumHeight = options.minimumHeight;
        }
        if (typeof (options === null || options === void 0 ? void 0 : options.maximumHeight) === 'number') {
            this._maximumHeight = options.maximumHeight;
        }
        this.api.initialize(this); // TODO: required to by-pass 'super before this' requirement
        this.addDisposables(this.api.onWillVisibilityChange((event) => {
            const { isVisible } = event;
            const { accessor } = this._params;
            accessor.setVisible(this, isVisible);
        }), this.api.onActiveChange(() => {
            const { accessor } = this._params;
            accessor.doSetGroupActive(this);
        }), this.api.onDidConstraintsChangeInternal((event) => {
            if (typeof event.minimumWidth === 'number' ||
                typeof event.minimumWidth === 'function') {
                this._minimumWidth = event.minimumWidth;
            }
            if (typeof event.minimumHeight === 'number' ||
                typeof event.minimumHeight === 'function') {
                this._minimumHeight = event.minimumHeight;
            }
            if (typeof event.maximumWidth === 'number' ||
                typeof event.maximumWidth === 'function') {
                this._maximumWidth = event.maximumWidth;
            }
            if (typeof event.maximumHeight === 'number' ||
                typeof event.maximumHeight === 'function') {
                this._maximumHeight = event.maximumHeight;
            }
        }), this.api.onDidSizeChange((event) => {
            this._onDidChange.fire({
                height: event.height,
                width: event.width,
            });
        }), this._onDidChange);
    }
    setVisible(isVisible) {
        this.api._onDidVisibilityChange.fire({ isVisible });
    }
    setActive(isActive) {
        this.api._onDidActiveChange.fire({ isActive });
    }
    init(parameters) {
        if (parameters.maximumHeight) {
            this._maximumHeight = parameters.maximumHeight;
        }
        if (parameters.minimumHeight) {
            this._minimumHeight = parameters.minimumHeight;
        }
        if (parameters.maximumWidth) {
            this._maximumWidth = parameters.maximumWidth;
        }
        if (parameters.minimumWidth) {
            this._minimumWidth = parameters.minimumWidth;
        }
        this._priority = parameters.priority;
        this._snap = !!parameters.snap;
        super.init(parameters);
        if (typeof parameters.isVisible === 'boolean') {
            this.setVisible(parameters.isVisible);
        }
    }
    updateConstraints() {
        this.api._onDidConstraintsChange.fire({
            minimumWidth: this._evaluatedMinimumWidth,
            maximumWidth: this._evaluatedMaximumWidth,
            minimumHeight: this._evaluatedMinimumHeight,
            maximumHeight: this._evaluatedMaximumHeight,
        });
    }
    toJSON() {
        const state = super.toJSON();
        const maximum = (value) => value === Number.MAX_SAFE_INTEGER ? undefined : value;
        const minimum = (value) => (value <= 0 ? undefined : value);
        return Object.assign(Object.assign({}, state), { minimumHeight: minimum(this.minimumHeight), maximumHeight: maximum(this.maximumHeight), minimumWidth: minimum(this.minimumWidth), maximumWidth: maximum(this.maximumWidth), snap: this.snap, priority: this.priority });
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/gridview/leafNode.js":
/*!******************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/gridview/leafNode.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LeafNode: () => (/* binding */ LeafNode)
/* harmony export */ });
/* harmony import */ var _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../splitview/splitview */ "./node_modules/dockview-core/dist/esm/splitview/splitview.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/*---------------------------------------------------------------------------------------------
 * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:
 * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/grid
 *--------------------------------------------------------------------------------------------*/


class LeafNode {
    get minimumWidth() {
        return this.view.minimumWidth;
    }
    get maximumWidth() {
        return this.view.maximumWidth;
    }
    get minimumHeight() {
        return this.view.minimumHeight;
    }
    get maximumHeight() {
        return this.view.maximumHeight;
    }
    get priority() {
        return this.view.priority;
    }
    get snap() {
        return this.view.snap;
    }
    get minimumSize() {
        return this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? this.minimumHeight
            : this.minimumWidth;
    }
    get maximumSize() {
        return this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? this.maximumHeight
            : this.maximumWidth;
    }
    get minimumOrthogonalSize() {
        return this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? this.minimumWidth
            : this.minimumHeight;
    }
    get maximumOrthogonalSize() {
        return this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? this.maximumWidth
            : this.maximumHeight;
    }
    get orthogonalSize() {
        return this._orthogonalSize;
    }
    get size() {
        return this._size;
    }
    get element() {
        return this.view.element;
    }
    get width() {
        return this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? this.orthogonalSize
            : this.size;
    }
    get height() {
        return this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.HORIZONTAL
            ? this.size
            : this.orthogonalSize;
    }
    constructor(view, orientation, orthogonalSize, size = 0) {
        this.view = view;
        this.orientation = orientation;
        this._onDidChange = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidChange = this._onDidChange.event;
        this._orthogonalSize = orthogonalSize;
        this._size = size;
        this._disposable = this.view.onDidChange((event) => {
            if (event) {
                this._onDidChange.fire({
                    size: this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.VERTICAL
                        ? event.width
                        : event.height,
                    orthogonalSize: this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.VERTICAL
                        ? event.height
                        : event.width,
                });
            }
            else {
                this._onDidChange.fire({});
            }
        });
    }
    setVisible(visible) {
        if (this.view.setVisible) {
            this.view.setVisible(visible);
        }
    }
    layout(size, orthogonalSize) {
        this._size = size;
        this._orthogonalSize = orthogonalSize;
        this.view.layout(this.width, this.height);
    }
    dispose() {
        this._onDidChange.dispose();
        this._disposable.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/gridview/options.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/gridview/options.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PROPERTY_KEYS_GRIDVIEW: () => (/* binding */ PROPERTY_KEYS_GRIDVIEW)
/* harmony export */ });
const PROPERTY_KEYS_GRIDVIEW = (() => {
    /**
     * by readong the keys from an empty value object TypeScript will error
     * when we add or remove new properties to `DockviewOptions`
     */
    const properties = {
        disableAutoResizing: undefined,
        proportionalLayout: undefined,
        orientation: undefined,
        hideBorders: undefined,
        className: undefined,
    };
    return Object.keys(properties);
})();


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/index.js":
/*!******************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BaseGrid: () => (/* reexport safe */ _gridview_baseComponentGridview__WEBPACK_IMPORTED_MODULE_9__.BaseGrid),
/* harmony export */   ContentContainer: () => (/* reexport safe */ _dockview_components_panel_content__WEBPACK_IMPORTED_MODULE_11__.ContentContainer),
/* harmony export */   DefaultDockviewDeserialzier: () => (/* reexport safe */ _dockview_deserializer__WEBPACK_IMPORTED_MODULE_20__.DefaultDockviewDeserialzier),
/* harmony export */   DefaultTab: () => (/* reexport safe */ _dockview_components_tab_defaultTab__WEBPACK_IMPORTED_MODULE_19__.DefaultTab),
/* harmony export */   DockviewApi: () => (/* reexport safe */ _api_component_api__WEBPACK_IMPORTED_MODULE_30__.DockviewApi),
/* harmony export */   DockviewComponent: () => (/* reexport safe */ _dockview_dockviewComponent__WEBPACK_IMPORTED_MODULE_21__.DockviewComponent),
/* harmony export */   DockviewCompositeDisposable: () => (/* reexport safe */ _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable),
/* harmony export */   DockviewDidDropEvent: () => (/* reexport safe */ _dockview_dockviewGroupPanelModel__WEBPACK_IMPORTED_MODULE_13__.DockviewDidDropEvent),
/* harmony export */   DockviewDisposable: () => (/* reexport safe */ _lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable),
/* harmony export */   DockviewEmitter: () => (/* reexport safe */ _events__WEBPACK_IMPORTED_MODULE_1__.Emitter),
/* harmony export */   DockviewEvent: () => (/* reexport safe */ _events__WEBPACK_IMPORTED_MODULE_1__.Event),
/* harmony export */   DockviewGroupPanel: () => (/* reexport safe */ _dockview_dockviewGroupPanel__WEBPACK_IMPORTED_MODULE_15__.DockviewGroupPanel),
/* harmony export */   DockviewGroupPanelModel: () => (/* reexport safe */ _dockview_dockviewGroupPanelModel__WEBPACK_IMPORTED_MODULE_13__.DockviewGroupPanelModel),
/* harmony export */   DockviewMutableDisposable: () => (/* reexport safe */ _lifecycle__WEBPACK_IMPORTED_MODULE_2__.MutableDisposable),
/* harmony export */   DockviewPanel: () => (/* reexport safe */ _dockview_dockviewPanel__WEBPACK_IMPORTED_MODULE_18__.DockviewPanel),
/* harmony export */   DockviewUnhandledDragOverEvent: () => (/* reexport safe */ _dockview_options__WEBPACK_IMPORTED_MODULE_16__.DockviewUnhandledDragOverEvent),
/* harmony export */   DockviewWillDropEvent: () => (/* reexport safe */ _dockview_dockviewGroupPanelModel__WEBPACK_IMPORTED_MODULE_13__.DockviewWillDropEvent),
/* harmony export */   DraggablePaneviewPanel: () => (/* reexport safe */ _paneview_draggablePaneviewPanel__WEBPACK_IMPORTED_MODULE_10__.DraggablePaneviewPanel),
/* harmony export */   Gridview: () => (/* reexport safe */ _gridview_gridview__WEBPACK_IMPORTED_MODULE_7__.Gridview),
/* harmony export */   GridviewApi: () => (/* reexport safe */ _api_component_api__WEBPACK_IMPORTED_MODULE_30__.GridviewApi),
/* harmony export */   GridviewComponent: () => (/* reexport safe */ _gridview_gridviewComponent__WEBPACK_IMPORTED_MODULE_22__.GridviewComponent),
/* harmony export */   GridviewPanel: () => (/* reexport safe */ _gridview_gridviewPanel__WEBPACK_IMPORTED_MODULE_26__.GridviewPanel),
/* harmony export */   LayoutPriority: () => (/* reexport safe */ _splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.LayoutPriority),
/* harmony export */   Orientation: () => (/* reexport safe */ _splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.Orientation),
/* harmony export */   PROPERTY_KEYS_DOCKVIEW: () => (/* reexport safe */ _dockview_options__WEBPACK_IMPORTED_MODULE_16__.PROPERTY_KEYS_DOCKVIEW),
/* harmony export */   PROPERTY_KEYS_GRIDVIEW: () => (/* reexport safe */ _gridview_options__WEBPACK_IMPORTED_MODULE_8__.PROPERTY_KEYS_GRIDVIEW),
/* harmony export */   PROPERTY_KEYS_PANEVIEW: () => (/* reexport safe */ _paneview_options__WEBPACK_IMPORTED_MODULE_25__.PROPERTY_KEYS_PANEVIEW),
/* harmony export */   PROPERTY_KEYS_SPLITVIEW: () => (/* reexport safe */ _splitview_options__WEBPACK_IMPORTED_MODULE_5__.PROPERTY_KEYS_SPLITVIEW),
/* harmony export */   PaneFramework: () => (/* reexport safe */ _paneview_paneviewComponent__WEBPACK_IMPORTED_MODULE_24__.PaneFramework),
/* harmony export */   PaneTransfer: () => (/* reexport safe */ _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_0__.PaneTransfer),
/* harmony export */   PanelTransfer: () => (/* reexport safe */ _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_0__.PanelTransfer),
/* harmony export */   Paneview: () => (/* reexport safe */ _paneview_paneview__WEBPACK_IMPORTED_MODULE_6__.Paneview),
/* harmony export */   PaneviewApi: () => (/* reexport safe */ _api_component_api__WEBPACK_IMPORTED_MODULE_30__.PaneviewApi),
/* harmony export */   PaneviewComponent: () => (/* reexport safe */ _paneview_paneviewComponent__WEBPACK_IMPORTED_MODULE_24__.PaneviewComponent),
/* harmony export */   PaneviewPanel: () => (/* reexport safe */ _paneview_paneviewPanel__WEBPACK_IMPORTED_MODULE_28__.PaneviewPanel),
/* harmony export */   PaneviewUnhandledDragOverEvent: () => (/* reexport safe */ _paneview_options__WEBPACK_IMPORTED_MODULE_25__.PaneviewUnhandledDragOverEvent),
/* harmony export */   SashState: () => (/* reexport safe */ _splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.SashState),
/* harmony export */   Sizing: () => (/* reexport safe */ _splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.Sizing),
/* harmony export */   Splitview: () => (/* reexport safe */ _splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.Splitview),
/* harmony export */   SplitviewApi: () => (/* reexport safe */ _api_component_api__WEBPACK_IMPORTED_MODULE_30__.SplitviewApi),
/* harmony export */   SplitviewComponent: () => (/* reexport safe */ _splitview_splitviewComponent__WEBPACK_IMPORTED_MODULE_23__.SplitviewComponent),
/* harmony export */   SplitviewPanel: () => (/* reexport safe */ _splitview_splitviewPanel__WEBPACK_IMPORTED_MODULE_27__.SplitviewPanel),
/* harmony export */   Tab: () => (/* reexport safe */ _dockview_components_tab_tab__WEBPACK_IMPORTED_MODULE_12__.Tab),
/* harmony export */   createDockview: () => (/* reexport safe */ _api_entryPoints__WEBPACK_IMPORTED_MODULE_31__.createDockview),
/* harmony export */   createGridview: () => (/* reexport safe */ _api_entryPoints__WEBPACK_IMPORTED_MODULE_31__.createGridview),
/* harmony export */   createPaneview: () => (/* reexport safe */ _api_entryPoints__WEBPACK_IMPORTED_MODULE_31__.createPaneview),
/* harmony export */   createSplitview: () => (/* reexport safe */ _api_entryPoints__WEBPACK_IMPORTED_MODULE_31__.createSplitview),
/* harmony export */   directionToPosition: () => (/* reexport safe */ _dnd_droptarget__WEBPACK_IMPORTED_MODULE_29__.directionToPosition),
/* harmony export */   getDirectionOrientation: () => (/* reexport safe */ _gridview_gridview__WEBPACK_IMPORTED_MODULE_7__.getDirectionOrientation),
/* harmony export */   getGridLocation: () => (/* reexport safe */ _gridview_gridview__WEBPACK_IMPORTED_MODULE_7__.getGridLocation),
/* harmony export */   getLocationOrientation: () => (/* reexport safe */ _gridview_gridview__WEBPACK_IMPORTED_MODULE_7__.getLocationOrientation),
/* harmony export */   getPaneData: () => (/* reexport safe */ _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_0__.getPaneData),
/* harmony export */   getPanelData: () => (/* reexport safe */ _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_0__.getPanelData),
/* harmony export */   getRelativeLocation: () => (/* reexport safe */ _gridview_gridview__WEBPACK_IMPORTED_MODULE_7__.getRelativeLocation),
/* harmony export */   indexInParent: () => (/* reexport safe */ _gridview_gridview__WEBPACK_IMPORTED_MODULE_7__.indexInParent),
/* harmony export */   isGridBranchNode: () => (/* reexport safe */ _gridview_gridview__WEBPACK_IMPORTED_MODULE_7__.isGridBranchNode),
/* harmony export */   isGroupOptionsWithGroup: () => (/* reexport safe */ _dockview_options__WEBPACK_IMPORTED_MODULE_16__.isGroupOptionsWithGroup),
/* harmony export */   isGroupOptionsWithPanel: () => (/* reexport safe */ _dockview_options__WEBPACK_IMPORTED_MODULE_16__.isGroupOptionsWithPanel),
/* harmony export */   isPanelOptionsWithGroup: () => (/* reexport safe */ _dockview_options__WEBPACK_IMPORTED_MODULE_16__.isPanelOptionsWithGroup),
/* harmony export */   isPanelOptionsWithPanel: () => (/* reexport safe */ _dockview_options__WEBPACK_IMPORTED_MODULE_16__.isPanelOptionsWithPanel),
/* harmony export */   orthogonal: () => (/* reexport safe */ _gridview_gridview__WEBPACK_IMPORTED_MODULE_7__.orthogonal),
/* harmony export */   positionToDirection: () => (/* reexport safe */ _dnd_droptarget__WEBPACK_IMPORTED_MODULE_29__.positionToDirection),
/* harmony export */   themeAbyss: () => (/* reexport safe */ _dockview_theme__WEBPACK_IMPORTED_MODULE_17__.themeAbyss),
/* harmony export */   themeAbyssSpaced: () => (/* reexport safe */ _dockview_theme__WEBPACK_IMPORTED_MODULE_17__.themeAbyssSpaced),
/* harmony export */   themeDark: () => (/* reexport safe */ _dockview_theme__WEBPACK_IMPORTED_MODULE_17__.themeDark),
/* harmony export */   themeDracula: () => (/* reexport safe */ _dockview_theme__WEBPACK_IMPORTED_MODULE_17__.themeDracula),
/* harmony export */   themeLight: () => (/* reexport safe */ _dockview_theme__WEBPACK_IMPORTED_MODULE_17__.themeLight),
/* harmony export */   themeLightSpaced: () => (/* reexport safe */ _dockview_theme__WEBPACK_IMPORTED_MODULE_17__.themeLightSpaced),
/* harmony export */   themeReplit: () => (/* reexport safe */ _dockview_theme__WEBPACK_IMPORTED_MODULE_17__.themeReplit),
/* harmony export */   themeVisualStudio: () => (/* reexport safe */ _dockview_theme__WEBPACK_IMPORTED_MODULE_17__.themeVisualStudio),
/* harmony export */   toTarget: () => (/* reexport safe */ _gridview_baseComponentGridview__WEBPACK_IMPORTED_MODULE_9__.toTarget)
/* harmony export */ });
/* harmony import */ var _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dnd/dataTransfer */ "./node_modules/dockview-core/dist/esm/dnd/dataTransfer.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _panel_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./panel/types */ "./node_modules/dockview-core/dist/esm/panel/types.js");
/* harmony import */ var _splitview_splitview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./splitview/splitview */ "./node_modules/dockview-core/dist/esm/splitview/splitview.js");
/* harmony import */ var _splitview_options__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./splitview/options */ "./node_modules/dockview-core/dist/esm/splitview/options.js");
/* harmony import */ var _paneview_paneview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./paneview/paneview */ "./node_modules/dockview-core/dist/esm/paneview/paneview.js");
/* harmony import */ var _gridview_gridview__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./gridview/gridview */ "./node_modules/dockview-core/dist/esm/gridview/gridview.js");
/* harmony import */ var _gridview_options__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./gridview/options */ "./node_modules/dockview-core/dist/esm/gridview/options.js");
/* harmony import */ var _gridview_baseComponentGridview__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./gridview/baseComponentGridview */ "./node_modules/dockview-core/dist/esm/gridview/baseComponentGridview.js");
/* harmony import */ var _paneview_draggablePaneviewPanel__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./paneview/draggablePaneviewPanel */ "./node_modules/dockview-core/dist/esm/paneview/draggablePaneviewPanel.js");
/* harmony import */ var _dockview_components_panel_content__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./dockview/components/panel/content */ "./node_modules/dockview-core/dist/esm/dockview/components/panel/content.js");
/* harmony import */ var _dockview_components_tab_tab__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./dockview/components/tab/tab */ "./node_modules/dockview-core/dist/esm/dockview/components/tab/tab.js");
/* harmony import */ var _dockview_dockviewGroupPanelModel__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./dockview/dockviewGroupPanelModel */ "./node_modules/dockview-core/dist/esm/dockview/dockviewGroupPanelModel.js");
/* harmony import */ var _dockview_types__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dockview/types */ "./node_modules/dockview-core/dist/esm/dockview/types.js");
/* harmony import */ var _dockview_dockviewGroupPanel__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dockview/dockviewGroupPanel */ "./node_modules/dockview-core/dist/esm/dockview/dockviewGroupPanel.js");
/* harmony import */ var _dockview_options__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./dockview/options */ "./node_modules/dockview-core/dist/esm/dockview/options.js");
/* harmony import */ var _dockview_theme__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./dockview/theme */ "./node_modules/dockview-core/dist/esm/dockview/theme.js");
/* harmony import */ var _dockview_dockviewPanel__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./dockview/dockviewPanel */ "./node_modules/dockview-core/dist/esm/dockview/dockviewPanel.js");
/* harmony import */ var _dockview_components_tab_defaultTab__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./dockview/components/tab/defaultTab */ "./node_modules/dockview-core/dist/esm/dockview/components/tab/defaultTab.js");
/* harmony import */ var _dockview_deserializer__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./dockview/deserializer */ "./node_modules/dockview-core/dist/esm/dockview/deserializer.js");
/* harmony import */ var _dockview_dockviewComponent__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./dockview/dockviewComponent */ "./node_modules/dockview-core/dist/esm/dockview/dockviewComponent.js");
/* harmony import */ var _gridview_gridviewComponent__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./gridview/gridviewComponent */ "./node_modules/dockview-core/dist/esm/gridview/gridviewComponent.js");
/* harmony import */ var _splitview_splitviewComponent__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./splitview/splitviewComponent */ "./node_modules/dockview-core/dist/esm/splitview/splitviewComponent.js");
/* harmony import */ var _paneview_paneviewComponent__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./paneview/paneviewComponent */ "./node_modules/dockview-core/dist/esm/paneview/paneviewComponent.js");
/* harmony import */ var _paneview_options__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./paneview/options */ "./node_modules/dockview-core/dist/esm/paneview/options.js");
/* harmony import */ var _gridview_gridviewPanel__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./gridview/gridviewPanel */ "./node_modules/dockview-core/dist/esm/gridview/gridviewPanel.js");
/* harmony import */ var _splitview_splitviewPanel__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./splitview/splitviewPanel */ "./node_modules/dockview-core/dist/esm/splitview/splitviewPanel.js");
/* harmony import */ var _paneview_paneviewPanel__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./paneview/paneviewPanel */ "./node_modules/dockview-core/dist/esm/paneview/paneviewPanel.js");
/* harmony import */ var _dnd_droptarget__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./dnd/droptarget */ "./node_modules/dockview-core/dist/esm/dnd/droptarget.js");
/* harmony import */ var _api_component_api__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./api/component.api */ "./node_modules/dockview-core/dist/esm/api/component.api.js");
/* harmony import */ var _api_entryPoints__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./api/entryPoints */ "./node_modules/dockview-core/dist/esm/api/entryPoints.js");

/**
 * Events, Emitters and Disposables are very common concepts that many codebases will contain, however we need
 * to export them for dockview framework packages to use.
 * To be a good citizen these are exported with a `Dockview` prefix to prevent accidental use by others.
 */


































/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/lifecycle.js":
/*!**********************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/lifecycle.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CompositeDisposable: () => (/* binding */ CompositeDisposable),
/* harmony export */   Disposable: () => (/* binding */ Disposable),
/* harmony export */   MutableDisposable: () => (/* binding */ MutableDisposable)
/* harmony export */ });
var Disposable;
(function (Disposable) {
    Disposable.NONE = {
        dispose: () => {
            // noop
        },
    };
    function from(func) {
        return {
            dispose: () => {
                func();
            },
        };
    }
    Disposable.from = from;
})(Disposable || (Disposable = {}));
class CompositeDisposable {
    get isDisposed() {
        return this._isDisposed;
    }
    constructor(...args) {
        this._isDisposed = false;
        this._disposables = args;
    }
    addDisposables(...args) {
        args.forEach((arg) => this._disposables.push(arg));
    }
    dispose() {
        if (this._isDisposed) {
            return;
        }
        this._isDisposed = true;
        this._disposables.forEach((arg) => arg.dispose());
        this._disposables = [];
    }
}
class MutableDisposable {
    constructor() {
        this._disposable = Disposable.NONE;
    }
    set value(disposable) {
        if (this._disposable) {
            this._disposable.dispose();
        }
        this._disposable = disposable;
    }
    dispose() {
        if (this._disposable) {
            this._disposable.dispose();
            this._disposable = Disposable.NONE;
        }
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/math.js":
/*!*****************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/math.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clamp: () => (/* binding */ clamp),
/* harmony export */   range: () => (/* binding */ range),
/* harmony export */   sequentialNumberGenerator: () => (/* binding */ sequentialNumberGenerator)
/* harmony export */ });
const clamp = (value, min, max) => {
    if (min > max) {
        /**
         * caveat: an error should be thrown here if this was a proper `clamp` function but we need to handle
         * cases where `min` > `max` and in those cases return `min`.
         */
        return min;
    }
    return Math.min(max, Math.max(value, min));
};
const sequentialNumberGenerator = () => {
    let value = 1;
    return { next: () => (value++).toString() };
};
const range = (from, to) => {
    const result = [];
    if (typeof to !== 'number') {
        to = from;
        from = 0;
    }
    if (from <= to) {
        for (let i = from; i < to; i++) {
            result.push(i);
        }
    }
    else {
        for (let i = from; i > to; i--) {
            result.push(i);
        }
    }
    return result;
};


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/overlay/overlay.js":
/*!****************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/overlay/overlay.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Overlay: () => (/* binding */ Overlay)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../math */ "./node_modules/dockview-core/dist/esm/math.js");




class AriaLevelTracker {
    constructor() {
        this._orderedList = [];
    }
    push(element) {
        this._orderedList = [
            ...this._orderedList.filter((item) => item !== element),
            element,
        ];
        this.update();
    }
    destroy(element) {
        this._orderedList = this._orderedList.filter((item) => item !== element);
        this.update();
    }
    update() {
        for (let i = 0; i < this._orderedList.length; i++) {
            this._orderedList[i].setAttribute('aria-level', `${i}`);
            this._orderedList[i].style.zIndex = `calc(var(--dv-overlay-z-index, 999) + ${i * 2})`;
        }
    }
}
const arialLevelTracker = new AriaLevelTracker();
class Overlay extends _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable {
    set minimumInViewportWidth(value) {
        this.options.minimumInViewportWidth = value;
    }
    set minimumInViewportHeight(value) {
        this.options.minimumInViewportHeight = value;
    }
    get element() {
        return this._element;
    }
    get isVisible() {
        return this._isVisible;
    }
    constructor(options) {
        super();
        this.options = options;
        this._element = document.createElement('div');
        this._onDidChange = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidChange = this._onDidChange.event;
        this._onDidChangeEnd = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidChangeEnd = this._onDidChangeEnd.event;
        this.addDisposables(this._onDidChange, this._onDidChangeEnd);
        this._element.className = 'dv-resize-container';
        this._isVisible = true;
        this.setupResize('top');
        this.setupResize('bottom');
        this.setupResize('left');
        this.setupResize('right');
        this.setupResize('topleft');
        this.setupResize('topright');
        this.setupResize('bottomleft');
        this.setupResize('bottomright');
        this._element.appendChild(this.options.content);
        this.options.container.appendChild(this._element);
        // if input bad resize within acceptable boundaries
        this.setBounds(Object.assign(Object.assign(Object.assign(Object.assign({ height: this.options.height, width: this.options.width }, ('top' in this.options && { top: this.options.top })), ('bottom' in this.options && { bottom: this.options.bottom })), ('left' in this.options && { left: this.options.left })), ('right' in this.options && { right: this.options.right })));
        arialLevelTracker.push(this._element);
    }
    setVisible(isVisible) {
        if (isVisible === this.isVisible) {
            return;
        }
        this._isVisible = isVisible;
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.element, 'dv-hidden', !this.isVisible);
    }
    bringToFront() {
        arialLevelTracker.push(this._element);
    }
    setBounds(bounds = {}) {
        if (typeof bounds.height === 'number') {
            this._element.style.height = `${bounds.height}px`;
        }
        if (typeof bounds.width === 'number') {
            this._element.style.width = `${bounds.width}px`;
        }
        if ('top' in bounds && typeof bounds.top === 'number') {
            this._element.style.top = `${bounds.top}px`;
            this._element.style.bottom = 'auto';
            this.verticalAlignment = 'top';
        }
        if ('bottom' in bounds && typeof bounds.bottom === 'number') {
            this._element.style.bottom = `${bounds.bottom}px`;
            this._element.style.top = 'auto';
            this.verticalAlignment = 'bottom';
        }
        if ('left' in bounds && typeof bounds.left === 'number') {
            this._element.style.left = `${bounds.left}px`;
            this._element.style.right = 'auto';
            this.horiziontalAlignment = 'left';
        }
        if ('right' in bounds && typeof bounds.right === 'number') {
            this._element.style.right = `${bounds.right}px`;
            this._element.style.left = 'auto';
            this.horiziontalAlignment = 'right';
        }
        const containerRect = this.options.container.getBoundingClientRect();
        const overlayRect = this._element.getBoundingClientRect();
        // region: ensure bounds within allowable limits
        // a minimum width of minimumViewportWidth must be inside the viewport
        const xOffset = Math.max(0, this.getMinimumWidth(overlayRect.width));
        // a minimum height of minimumViewportHeight must be inside the viewport
        const yOffset = Math.max(0, this.getMinimumHeight(overlayRect.height));
        if (this.verticalAlignment === 'top') {
            const top = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(overlayRect.top - containerRect.top, -yOffset, Math.max(0, containerRect.height - overlayRect.height + yOffset));
            this._element.style.top = `${top}px`;
            this._element.style.bottom = 'auto';
        }
        if (this.verticalAlignment === 'bottom') {
            const bottom = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(containerRect.bottom - overlayRect.bottom, -yOffset, Math.max(0, containerRect.height - overlayRect.height + yOffset));
            this._element.style.bottom = `${bottom}px`;
            this._element.style.top = 'auto';
        }
        if (this.horiziontalAlignment === 'left') {
            const left = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(overlayRect.left - containerRect.left, -xOffset, Math.max(0, containerRect.width - overlayRect.width + xOffset));
            this._element.style.left = `${left}px`;
            this._element.style.right = 'auto';
        }
        if (this.horiziontalAlignment === 'right') {
            const right = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(containerRect.right - overlayRect.right, -xOffset, Math.max(0, containerRect.width - overlayRect.width + xOffset));
            this._element.style.right = `${right}px`;
            this._element.style.left = 'auto';
        }
        this._onDidChange.fire();
    }
    toJSON() {
        const container = this.options.container.getBoundingClientRect();
        const element = this._element.getBoundingClientRect();
        const result = {};
        if (this.verticalAlignment === 'top') {
            result.top = parseFloat(this._element.style.top);
        }
        else if (this.verticalAlignment === 'bottom') {
            result.bottom = parseFloat(this._element.style.bottom);
        }
        else {
            result.top = element.top - container.top;
        }
        if (this.horiziontalAlignment === 'left') {
            result.left = parseFloat(this._element.style.left);
        }
        else if (this.horiziontalAlignment === 'right') {
            result.right = parseFloat(this._element.style.right);
        }
        else {
            result.left = element.left - container.left;
        }
        result.width = element.width;
        result.height = element.height;
        return result;
    }
    setupDrag(dragTarget, options = { inDragMode: false }) {
        const move = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.MutableDisposable();
        const track = () => {
            let offset = null;
            const iframes = (0,_dom__WEBPACK_IMPORTED_MODULE_0__.disableIframePointEvents)();
            move.value = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable({
                dispose: () => {
                    iframes.release();
                },
            }, (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(window, 'pointermove', (e) => {
                const containerRect = this.options.container.getBoundingClientRect();
                const x = e.clientX - containerRect.left;
                const y = e.clientY - containerRect.top;
                (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this._element, 'dv-resize-container-dragging', true);
                const overlayRect = this._element.getBoundingClientRect();
                if (offset === null) {
                    offset = {
                        x: e.clientX - overlayRect.left,
                        y: e.clientY - overlayRect.top,
                    };
                }
                const xOffset = Math.max(0, this.getMinimumWidth(overlayRect.width));
                const yOffset = Math.max(0, this.getMinimumHeight(overlayRect.height));
                const top = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(y - offset.y, -yOffset, Math.max(0, containerRect.height - overlayRect.height + yOffset));
                const bottom = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(offset.y -
                    y +
                    containerRect.height -
                    overlayRect.height, -yOffset, Math.max(0, containerRect.height - overlayRect.height + yOffset));
                const left = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(x - offset.x, -xOffset, Math.max(0, containerRect.width - overlayRect.width + xOffset));
                const right = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(offset.x - x + containerRect.width - overlayRect.width, -xOffset, Math.max(0, containerRect.width - overlayRect.width + xOffset));
                const bounds = {};
                // Anchor to top or to bottom depending on which one is closer
                if (top <= bottom) {
                    bounds.top = top;
                }
                else {
                    bounds.bottom = bottom;
                }
                // Anchor to left or to right depending on which one is closer
                if (left <= right) {
                    bounds.left = left;
                }
                else {
                    bounds.right = right;
                }
                this.setBounds(bounds);
            }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(window, 'pointerup', () => {
                (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this._element, 'dv-resize-container-dragging', false);
                move.dispose();
                this._onDidChangeEnd.fire();
            }));
        };
        this.addDisposables(move, (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(dragTarget, 'pointerdown', (event) => {
            if (event.defaultPrevented) {
                event.preventDefault();
                return;
            }
            // if somebody has marked this event then treat as a defaultPrevented
            // without actually calling event.preventDefault()
            if ((0,_dom__WEBPACK_IMPORTED_MODULE_0__.quasiDefaultPrevented)(event)) {
                return;
            }
            track();
        }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.options.content, 'pointerdown', (event) => {
            if (event.defaultPrevented) {
                return;
            }
            // if somebody has marked this event then treat as a defaultPrevented
            // without actually calling event.preventDefault()
            if ((0,_dom__WEBPACK_IMPORTED_MODULE_0__.quasiDefaultPrevented)(event)) {
                return;
            }
            if (event.shiftKey) {
                track();
            }
        }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.options.content, 'pointerdown', () => {
            arialLevelTracker.push(this._element);
        }, true));
        if (options.inDragMode) {
            track();
        }
    }
    setupResize(direction) {
        const resizeHandleElement = document.createElement('div');
        resizeHandleElement.className = `dv-resize-handle-${direction}`;
        this._element.appendChild(resizeHandleElement);
        const move = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.MutableDisposable();
        this.addDisposables(move, (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(resizeHandleElement, 'pointerdown', (e) => {
            e.preventDefault();
            let startPosition = null;
            const iframes = (0,_dom__WEBPACK_IMPORTED_MODULE_0__.disableIframePointEvents)();
            move.value = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable((0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(window, 'pointermove', (e) => {
                const containerRect = this.options.container.getBoundingClientRect();
                const overlayRect = this._element.getBoundingClientRect();
                const y = e.clientY - containerRect.top;
                const x = e.clientX - containerRect.left;
                if (startPosition === null) {
                    // record the initial dimensions since as all subsequence moves are relative to this
                    startPosition = {
                        originalY: y,
                        originalHeight: overlayRect.height,
                        originalX: x,
                        originalWidth: overlayRect.width,
                    };
                }
                let top = undefined;
                let bottom = undefined;
                let height = undefined;
                let left = undefined;
                let right = undefined;
                let width = undefined;
                const moveTop = () => {
                    top = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(y, -Number.MAX_VALUE, startPosition.originalY +
                        startPosition.originalHeight >
                        containerRect.height
                        ? this.getMinimumHeight(containerRect.height)
                        : Math.max(0, startPosition.originalY +
                            startPosition.originalHeight -
                            Overlay.MINIMUM_HEIGHT));
                    height =
                        startPosition.originalY +
                            startPosition.originalHeight -
                            top;
                    bottom = containerRect.height - top - height;
                };
                const moveBottom = () => {
                    top =
                        startPosition.originalY -
                            startPosition.originalHeight;
                    height = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(y - top, top < 0 &&
                        typeof this.options
                            .minimumInViewportHeight === 'number'
                        ? -top +
                            this.options.minimumInViewportHeight
                        : Overlay.MINIMUM_HEIGHT, Number.MAX_VALUE);
                    bottom = containerRect.height - top - height;
                };
                const moveLeft = () => {
                    left = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(x, -Number.MAX_VALUE, startPosition.originalX +
                        startPosition.originalWidth >
                        containerRect.width
                        ? this.getMinimumWidth(containerRect.width)
                        : Math.max(0, startPosition.originalX +
                            startPosition.originalWidth -
                            Overlay.MINIMUM_WIDTH));
                    width =
                        startPosition.originalX +
                            startPosition.originalWidth -
                            left;
                    right = containerRect.width - left - width;
                };
                const moveRight = () => {
                    left =
                        startPosition.originalX -
                            startPosition.originalWidth;
                    width = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(x - left, left < 0 &&
                        typeof this.options
                            .minimumInViewportWidth === 'number'
                        ? -left +
                            this.options.minimumInViewportWidth
                        : Overlay.MINIMUM_WIDTH, Number.MAX_VALUE);
                    right = containerRect.width - left - width;
                };
                switch (direction) {
                    case 'top':
                        moveTop();
                        break;
                    case 'bottom':
                        moveBottom();
                        break;
                    case 'left':
                        moveLeft();
                        break;
                    case 'right':
                        moveRight();
                        break;
                    case 'topleft':
                        moveTop();
                        moveLeft();
                        break;
                    case 'topright':
                        moveTop();
                        moveRight();
                        break;
                    case 'bottomleft':
                        moveBottom();
                        moveLeft();
                        break;
                    case 'bottomright':
                        moveBottom();
                        moveRight();
                        break;
                }
                const bounds = {};
                // Anchor to top or to bottom depending on which one is closer
                if (top <= bottom) {
                    bounds.top = top;
                }
                else {
                    bounds.bottom = bottom;
                }
                // Anchor to left or to right depending on which one is closer
                if (left <= right) {
                    bounds.left = left;
                }
                else {
                    bounds.right = right;
                }
                bounds.height = height;
                bounds.width = width;
                this.setBounds(bounds);
            }), {
                dispose: () => {
                    iframes.release();
                },
            }, (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(window, 'pointerup', () => {
                move.dispose();
                this._onDidChangeEnd.fire();
            }));
        }));
    }
    getMinimumWidth(width) {
        if (typeof this.options.minimumInViewportWidth === 'number') {
            return width - this.options.minimumInViewportWidth;
        }
        return 0;
    }
    getMinimumHeight(height) {
        if (typeof this.options.minimumInViewportHeight === 'number') {
            return height - this.options.minimumInViewportHeight;
        }
        return 0;
    }
    dispose() {
        arialLevelTracker.destroy(this._element);
        this._element.remove();
        super.dispose();
    }
}
Overlay.MINIMUM_HEIGHT = 20;
Overlay.MINIMUM_WIDTH = 20;


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/overlay/overlayRenderContainer.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/overlay/overlayRenderContainer.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverlayRenderContainer: () => (/* binding */ OverlayRenderContainer)
/* harmony export */ });
/* harmony import */ var _dnd_dnd__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dnd/dnd */ "./node_modules/dockview-core/dist/esm/dnd/dnd.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");



class PositionCache {
    constructor() {
        this.cache = new Map();
        this.currentFrameId = 0;
        this.rafId = null;
    }
    getPosition(element) {
        const cached = this.cache.get(element);
        if (cached && cached.frameId === this.currentFrameId) {
            return cached.rect;
        }
        this.scheduleFrameUpdate();
        const rect = (0,_dom__WEBPACK_IMPORTED_MODULE_1__.getDomNodePagePosition)(element);
        this.cache.set(element, { rect, frameId: this.currentFrameId });
        return rect;
    }
    invalidate() {
        this.currentFrameId++;
    }
    scheduleFrameUpdate() {
        if (this.rafId)
            return;
        this.rafId = requestAnimationFrame(() => {
            this.currentFrameId++;
            this.rafId = null;
        });
    }
}
function createFocusableElement() {
    const element = document.createElement('div');
    element.tabIndex = -1;
    return element;
}
class OverlayRenderContainer extends _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable {
    constructor(element, accessor) {
        super();
        this.element = element;
        this.accessor = accessor;
        this.map = {};
        this._disposed = false;
        this.positionCache = new PositionCache();
        this.pendingUpdates = new Set();
        this.addDisposables(_lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable.from(() => {
            for (const value of Object.values(this.map)) {
                value.disposable.dispose();
                value.destroy.dispose();
            }
            this._disposed = true;
        }));
    }
    updateAllPositions() {
        if (this._disposed) {
            return;
        }
        // Invalidate position cache to force recalculation
        this.positionCache.invalidate();
        // Call resize function directly for all visible panels
        for (const entry of Object.values(this.map)) {
            if (entry.panel.api.isVisible && entry.resize) {
                entry.resize();
            }
        }
    }
    detatch(panel) {
        if (this.map[panel.api.id]) {
            const { disposable, destroy } = this.map[panel.api.id];
            disposable.dispose();
            destroy.dispose();
            delete this.map[panel.api.id];
            return true;
        }
        return false;
    }
    attach(options) {
        const { panel, referenceContainer } = options;
        if (!this.map[panel.api.id]) {
            const element = createFocusableElement();
            element.className = 'dv-render-overlay';
            this.map[panel.api.id] = {
                panel,
                disposable: _lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable.NONE,
                destroy: _lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable.NONE,
                element,
            };
        }
        const focusContainer = this.map[panel.api.id].element;
        if (panel.view.content.element.parentElement !== focusContainer) {
            focusContainer.appendChild(panel.view.content.element);
        }
        if (focusContainer.parentElement !== this.element) {
            this.element.appendChild(focusContainer);
        }
        const resize = () => {
            const panelId = panel.api.id;
            if (this.pendingUpdates.has(panelId)) {
                return; // Update already scheduled
            }
            this.pendingUpdates.add(panelId);
            requestAnimationFrame(() => {
                this.pendingUpdates.delete(panelId);
                if (this.isDisposed || !this.map[panelId]) {
                    return;
                }
                const box = this.positionCache.getPosition(referenceContainer.element);
                const box2 = this.positionCache.getPosition(this.element);
                // Use traditional positioning for overlay containers
                const left = box.left - box2.left;
                const top = box.top - box2.top;
                const width = box.width;
                const height = box.height;
                focusContainer.style.left = `${left}px`;
                focusContainer.style.top = `${top}px`;
                focusContainer.style.width = `${width}px`;
                focusContainer.style.height = `${height}px`;
                (0,_dom__WEBPACK_IMPORTED_MODULE_1__.toggleClass)(focusContainer, 'dv-render-overlay-float', panel.group.api.location.type === 'floating');
            });
        };
        const visibilityChanged = () => {
            if (panel.api.isVisible) {
                this.positionCache.invalidate();
                resize();
            }
            focusContainer.style.display = panel.api.isVisible ? '' : 'none';
        };
        const observerDisposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.MutableDisposable();
        const correctLayerPosition = () => {
            if (panel.api.location.type === 'floating') {
                queueMicrotask(() => {
                    const floatingGroup = this.accessor.floatingGroups.find((group) => group.group === panel.api.group);
                    if (!floatingGroup) {
                        return;
                    }
                    const element = floatingGroup.overlay.element;
                    const update = () => {
                        const level = Number(element.getAttribute('aria-level'));
                        focusContainer.style.zIndex = `calc(var(--dv-overlay-z-index, 999) + ${level * 2 + 1})`;
                    };
                    const observer = new MutationObserver(() => {
                        update();
                    });
                    observerDisposable.value = _lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable.from(() => observer.disconnect());
                    observer.observe(element, {
                        attributeFilter: ['aria-level'],
                        attributes: true,
                    });
                    update();
                });
            }
            else {
                focusContainer.style.zIndex = ''; // reset the z-index, perhaps CSS will take over here
            }
        };
        const disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable(observerDisposable, 
        /**
         * since container is positioned absoutely we must explicitly forward
         * the dnd events for the expect behaviours to continue to occur in terms of dnd
         *
         * the dnd observer does not need to be conditional on whether the panel is visible since
         * non-visible panels are 'display: none' and in such case the dnd observer will not fire.
         */
        new _dnd_dnd__WEBPACK_IMPORTED_MODULE_0__.DragAndDropObserver(focusContainer, {
            onDragEnd: (e) => {
                referenceContainer.dropTarget.dnd.onDragEnd(e);
            },
            onDragEnter: (e) => {
                referenceContainer.dropTarget.dnd.onDragEnter(e);
            },
            onDragLeave: (e) => {
                referenceContainer.dropTarget.dnd.onDragLeave(e);
            },
            onDrop: (e) => {
                referenceContainer.dropTarget.dnd.onDrop(e);
            },
            onDragOver: (e) => {
                referenceContainer.dropTarget.dnd.onDragOver(e);
            },
        }), panel.api.onDidVisibilityChange(() => {
            /**
             * Control the visibility of the content, however even when not visible (display: none)
             * the content is still maintained within the DOM hence DOM specific attributes
             * such as scroll position are maintained when next made visible.
             */
            visibilityChanged();
        }), panel.api.onDidDimensionsChange(() => {
            if (!panel.api.isVisible) {
                return;
            }
            resize();
        }), panel.api.onDidLocationChange(() => {
            correctLayerPosition();
        }));
        this.map[panel.api.id].destroy = _lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable.from(() => {
            var _a;
            if (panel.view.content.element.parentElement === focusContainer) {
                focusContainer.removeChild(panel.view.content.element);
            }
            (_a = focusContainer.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(focusContainer);
        });
        correctLayerPosition();
        queueMicrotask(() => {
            if (this.isDisposed) {
                return;
            }
            /**
             * wait until everything has finished in the current stack-frame call before
             * calling the first resize as other size-altering events may still occur before
             * the end of the stack-frame.
             */
            visibilityChanged();
        });
        // dispose of logic asoccciated with previous reference-container
        this.map[panel.api.id].disposable.dispose();
        // and reset the disposable to the active reference-container
        this.map[panel.api.id].disposable = disposable;
        // store the resize function for direct access
        this.map[panel.api.id].resize = resize;
        return focusContainer;
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/panel/types.js":
/*!************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/panel/types.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/paneview/defaultPaneviewHeader.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/paneview/defaultPaneviewHeader.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DefaultHeader: () => (/* binding */ DefaultHeader)
/* harmony export */ });
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _svg__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../svg */ "./node_modules/dockview-core/dist/esm/svg.js");




class DefaultHeader extends _lifecycle__WEBPACK_IMPORTED_MODULE_1__.CompositeDisposable {
    get element() {
        return this._element;
    }
    constructor() {
        super();
        this._expandedIcon = (0,_svg__WEBPACK_IMPORTED_MODULE_3__.createExpandMoreButton)();
        this._collapsedIcon = (0,_svg__WEBPACK_IMPORTED_MODULE_3__.createChevronRightButton)();
        this.disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_1__.MutableDisposable();
        this.apiRef = {
            api: null,
        };
        this._element = document.createElement('div');
        this.element.className = 'dv-default-header';
        this._content = document.createElement('span');
        this._expander = document.createElement('div');
        this._expander.className = 'dv-pane-header-icon';
        this.element.appendChild(this._expander);
        this.element.appendChild(this._content);
        this.addDisposables((0,_events__WEBPACK_IMPORTED_MODULE_0__.addDisposableListener)(this._element, 'click', () => {
            var _a;
            (_a = this.apiRef.api) === null || _a === void 0 ? void 0 : _a.setExpanded(!this.apiRef.api.isExpanded);
        }));
    }
    init(params) {
        this.apiRef.api = params.api;
        this._content.textContent = params.title;
        this.updateIcon();
        this.disposable.value = params.api.onDidExpansionChange(() => {
            this.updateIcon();
        });
    }
    updateIcon() {
        var _a;
        const isExpanded = !!((_a = this.apiRef.api) === null || _a === void 0 ? void 0 : _a.isExpanded);
        (0,_dom__WEBPACK_IMPORTED_MODULE_2__.toggleClass)(this._expander, 'collapsed', !isExpanded);
        if (isExpanded) {
            if (this._expander.contains(this._collapsedIcon)) {
                this._collapsedIcon.remove();
            }
            if (!this._expander.contains(this._expandedIcon)) {
                this._expander.appendChild(this._expandedIcon);
            }
        }
        else {
            if (this._expander.contains(this._expandedIcon)) {
                this._expandedIcon.remove();
            }
            if (!this._expander.contains(this._collapsedIcon)) {
                this._expander.appendChild(this._collapsedIcon);
            }
        }
    }
    update(_params) {
        //
    }
    dispose() {
        this.disposable.dispose();
        super.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/paneview/draggablePaneviewPanel.js":
/*!********************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/paneview/draggablePaneviewPanel.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DraggablePaneviewPanel: () => (/* binding */ DraggablePaneviewPanel)
/* harmony export */ });
/* harmony import */ var _api_component_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/component.api */ "./node_modules/dockview-core/dist/esm/api/component.api.js");
/* harmony import */ var _dnd_abstractDragHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dnd/abstractDragHandler */ "./node_modules/dockview-core/dist/esm/dnd/abstractDragHandler.js");
/* harmony import */ var _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dnd/dataTransfer */ "./node_modules/dockview-core/dist/esm/dnd/dataTransfer.js");
/* harmony import */ var _dnd_droptarget__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dnd/droptarget */ "./node_modules/dockview-core/dist/esm/dnd/droptarget.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _options__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./options */ "./node_modules/dockview-core/dist/esm/paneview/options.js");
/* harmony import */ var _paneviewPanel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./paneviewPanel */ "./node_modules/dockview-core/dist/esm/paneview/paneviewPanel.js");







class DraggablePaneviewPanel extends _paneviewPanel__WEBPACK_IMPORTED_MODULE_6__.PaneviewPanel {
    constructor(options) {
        super({
            id: options.id,
            component: options.component,
            headerComponent: options.headerComponent,
            orientation: options.orientation,
            isExpanded: options.isExpanded,
            isHeaderVisible: true,
            headerSize: options.headerSize,
            minimumBodySize: options.minimumBodySize,
            maximumBodySize: options.maximumBodySize,
        });
        this._onDidDrop = new _events__WEBPACK_IMPORTED_MODULE_4__.Emitter();
        this.onDidDrop = this._onDidDrop.event;
        this._onUnhandledDragOverEvent = new _events__WEBPACK_IMPORTED_MODULE_4__.Emitter();
        this.onUnhandledDragOverEvent = this._onUnhandledDragOverEvent.event;
        this.accessor = options.accessor;
        this.addDisposables(this._onDidDrop, this._onUnhandledDragOverEvent);
        if (!options.disableDnd) {
            this.initDragFeatures();
        }
    }
    initDragFeatures() {
        if (!this.header) {
            return;
        }
        const id = this.id;
        const accessorId = this.accessor.id;
        this.header.draggable = true;
        this.handler = new (class PaneDragHandler extends _dnd_abstractDragHandler__WEBPACK_IMPORTED_MODULE_1__.DragHandler {
            getData() {
                _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.LocalSelectionTransfer.getInstance().setData([new _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.PaneTransfer(accessorId, id)], _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.PaneTransfer.prototype);
                return {
                    dispose: () => {
                        _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.LocalSelectionTransfer.getInstance().clearData(_dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.PaneTransfer.prototype);
                    },
                };
            }
        })(this.header);
        this.target = new _dnd_droptarget__WEBPACK_IMPORTED_MODULE_3__.Droptarget(this.element, {
            acceptedTargetZones: ['top', 'bottom'],
            overlayModel: {
                activationSize: { type: 'percentage', value: 50 },
            },
            canDisplayOverlay: (event, position) => {
                const data = (0,_dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.getPaneData)();
                if (data) {
                    if (data.paneId !== this.id &&
                        data.viewId === this.accessor.id) {
                        return true;
                    }
                }
                const firedEvent = new _options__WEBPACK_IMPORTED_MODULE_5__.PaneviewUnhandledDragOverEvent(event, position, _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.getPaneData, this);
                this._onUnhandledDragOverEvent.fire(firedEvent);
                return firedEvent.isAccepted;
            },
        });
        this.addDisposables(this._onDidDrop, this.handler, this.target, this.target.onDrop((event) => {
            this.onDrop(event);
        }));
    }
    onDrop(event) {
        const data = (0,_dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.getPaneData)();
        if (!data || data.viewId !== this.accessor.id) {
            // if there is no local drag event for this panel
            // or if the drag event was creating by another Paneview instance
            this._onDidDrop.fire(Object.assign(Object.assign({}, event), { panel: this, api: new _api_component_api__WEBPACK_IMPORTED_MODULE_0__.PaneviewApi(this.accessor), getData: _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.getPaneData }));
            return;
        }
        const containerApi = this._params
            .containerApi;
        const panelId = data.paneId;
        const existingPanel = containerApi.getPanel(panelId);
        if (!existingPanel) {
            // if the panel doesn't exist
            this._onDidDrop.fire(Object.assign(Object.assign({}, event), { panel: this, getData: _dnd_dataTransfer__WEBPACK_IMPORTED_MODULE_2__.getPaneData, api: new _api_component_api__WEBPACK_IMPORTED_MODULE_0__.PaneviewApi(this.accessor) }));
            return;
        }
        const allPanels = containerApi.panels;
        const fromIndex = allPanels.indexOf(existingPanel);
        let toIndex = containerApi.panels.indexOf(this);
        if (event.position === 'left' || event.position === 'top') {
            toIndex = Math.max(0, toIndex - 1);
        }
        if (event.position === 'right' || event.position === 'bottom') {
            if (fromIndex > toIndex) {
                toIndex++;
            }
            toIndex = Math.min(allPanels.length - 1, toIndex);
        }
        containerApi.movePanel(fromIndex, toIndex);
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/paneview/options.js":
/*!*****************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/paneview/options.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PROPERTY_KEYS_PANEVIEW: () => (/* binding */ PROPERTY_KEYS_PANEVIEW),
/* harmony export */   PaneviewUnhandledDragOverEvent: () => (/* binding */ PaneviewUnhandledDragOverEvent)
/* harmony export */ });
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");

const PROPERTY_KEYS_PANEVIEW = (() => {
    /**
     * by readong the keys from an empty value object TypeScript will error
     * when we add or remove new properties to `DockviewOptions`
     */
    const properties = {
        disableAutoResizing: undefined,
        disableDnd: undefined,
        className: undefined,
    };
    return Object.keys(properties);
})();
class PaneviewUnhandledDragOverEvent extends _events__WEBPACK_IMPORTED_MODULE_0__.AcceptableEvent {
    constructor(nativeEvent, position, getData, panel) {
        super();
        this.nativeEvent = nativeEvent;
        this.position = position;
        this.getData = getData;
        this.panel = panel;
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/paneview/paneview.js":
/*!******************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/paneview/paneview.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Paneview: () => (/* binding */ Paneview)
/* harmony export */ });
/* harmony import */ var _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../splitview/splitview */ "./node_modules/dockview-core/dist/esm/splitview/splitview.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");




class Paneview extends _lifecycle__WEBPACK_IMPORTED_MODULE_1__.CompositeDisposable {
    get onDidAddView() {
        return this.splitview.onDidAddView;
    }
    get onDidRemoveView() {
        return this.splitview.onDidRemoveView;
    }
    get minimumSize() {
        return this.splitview.minimumSize;
    }
    get maximumSize() {
        return this.splitview.maximumSize;
    }
    get orientation() {
        return this.splitview.orientation;
    }
    get size() {
        return this.splitview.size;
    }
    get orthogonalSize() {
        return this.splitview.orthogonalSize;
    }
    constructor(container, options) {
        var _a;
        super();
        this.paneItems = [];
        this.skipAnimation = false;
        this._onDidChange = new _events__WEBPACK_IMPORTED_MODULE_2__.Emitter();
        this.onDidChange = this._onDidChange.event;
        this._orientation = (_a = options.orientation) !== null && _a !== void 0 ? _a : _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Orientation.VERTICAL;
        this.element = document.createElement('div');
        this.element.className = 'dv-pane-container';
        container.appendChild(this.element);
        this.splitview = new _splitview_splitview__WEBPACK_IMPORTED_MODULE_0__.Splitview(this.element, {
            orientation: this._orientation,
            proportionalLayout: false,
            descriptor: options.descriptor,
        });
        // if we've added views from the descriptor we need to
        // add the panes to our Pane array and setup animation
        this.getPanes().forEach((pane) => {
            const disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_1__.CompositeDisposable(pane.onDidChangeExpansionState(() => {
                this.setupAnimation();
                this._onDidChange.fire(undefined);
            }));
            const paneItem = {
                pane,
                disposable: {
                    dispose: () => {
                        disposable.dispose();
                    },
                },
            };
            this.paneItems.push(paneItem);
            pane.orthogonalSize = this.splitview.orthogonalSize;
        });
        this.addDisposables(this._onDidChange, this.splitview.onDidSashEnd(() => {
            this._onDidChange.fire(undefined);
        }), this.splitview.onDidAddView(() => {
            this._onDidChange.fire();
        }), this.splitview.onDidRemoveView(() => {
            this._onDidChange.fire();
        }));
    }
    setViewVisible(index, visible) {
        this.splitview.setViewVisible(index, visible);
    }
    addPane(pane, size, index = this.splitview.length, skipLayout = false) {
        const disposable = pane.onDidChangeExpansionState(() => {
            this.setupAnimation();
            this._onDidChange.fire(undefined);
        });
        const paneItem = {
            pane,
            disposable: {
                dispose: () => {
                    disposable.dispose();
                },
            },
        };
        this.paneItems.splice(index, 0, paneItem);
        pane.orthogonalSize = this.splitview.orthogonalSize;
        this.splitview.addView(pane, size, index, skipLayout);
    }
    getViewSize(index) {
        return this.splitview.getViewSize(index);
    }
    getPanes() {
        return this.splitview.getViews();
    }
    removePane(index, options = { skipDispose: false }) {
        const paneItem = this.paneItems.splice(index, 1)[0];
        this.splitview.removeView(index);
        if (!options.skipDispose) {
            paneItem.disposable.dispose();
            paneItem.pane.dispose();
        }
        return paneItem;
    }
    moveView(from, to) {
        if (from === to) {
            return;
        }
        const view = this.removePane(from, { skipDispose: true });
        this.skipAnimation = true;
        try {
            this.addPane(view.pane, view.pane.size, to, false);
        }
        finally {
            this.skipAnimation = false;
        }
    }
    layout(size, orthogonalSize) {
        this.splitview.layout(size, orthogonalSize);
    }
    setupAnimation() {
        if (this.skipAnimation) {
            return;
        }
        if (this.animationTimer) {
            clearTimeout(this.animationTimer);
            this.animationTimer = undefined;
        }
        (0,_dom__WEBPACK_IMPORTED_MODULE_3__.addClasses)(this.element, 'dv-animated');
        this.animationTimer = setTimeout(() => {
            this.animationTimer = undefined;
            (0,_dom__WEBPACK_IMPORTED_MODULE_3__.removeClasses)(this.element, 'dv-animated');
        }, 200);
    }
    dispose() {
        super.dispose();
        if (this.animationTimer) {
            clearTimeout(this.animationTimer);
            this.animationTimer = undefined;
        }
        this.paneItems.forEach((paneItem) => {
            paneItem.disposable.dispose();
            paneItem.pane.dispose();
        });
        this.paneItems = [];
        this.splitview.dispose();
        this.element.remove();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/paneview/paneviewComponent.js":
/*!***************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/paneview/paneviewComponent.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PaneFramework: () => (/* binding */ PaneFramework),
/* harmony export */   PaneviewComponent: () => (/* binding */ PaneviewComponent)
/* harmony export */ });
/* harmony import */ var _api_component_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/component.api */ "./node_modules/dockview-core/dist/esm/api/component.api.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _splitview_splitview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../splitview/splitview */ "./node_modules/dockview-core/dist/esm/splitview/splitview.js");
/* harmony import */ var _paneview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./paneview */ "./node_modules/dockview-core/dist/esm/paneview/paneview.js");
/* harmony import */ var _draggablePaneviewPanel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./draggablePaneviewPanel */ "./node_modules/dockview-core/dist/esm/paneview/draggablePaneviewPanel.js");
/* harmony import */ var _defaultPaneviewHeader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./defaultPaneviewHeader */ "./node_modules/dockview-core/dist/esm/paneview/defaultPaneviewHeader.js");
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../math */ "./node_modules/dockview-core/dist/esm/math.js");
/* harmony import */ var _resizable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../resizable */ "./node_modules/dockview-core/dist/esm/resizable.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");










const nextLayoutId = (0,_math__WEBPACK_IMPORTED_MODULE_7__.sequentialNumberGenerator)();
const HEADER_SIZE = 22;
const MINIMUM_BODY_SIZE = 0;
const MAXIMUM_BODY_SIZE = Number.MAX_SAFE_INTEGER;
class PaneFramework extends _draggablePaneviewPanel__WEBPACK_IMPORTED_MODULE_5__.DraggablePaneviewPanel {
    constructor(options) {
        super({
            accessor: options.accessor,
            id: options.id,
            component: options.component,
            headerComponent: options.headerComponent,
            orientation: options.orientation,
            isExpanded: options.isExpanded,
            disableDnd: options.disableDnd,
            headerSize: options.headerSize,
            minimumBodySize: options.minimumBodySize,
            maximumBodySize: options.maximumBodySize,
        });
        this.options = options;
    }
    getBodyComponent() {
        return this.options.body;
    }
    getHeaderComponent() {
        return this.options.header;
    }
}
class PaneviewComponent extends _resizable__WEBPACK_IMPORTED_MODULE_8__.Resizable {
    get id() {
        return this._id;
    }
    get panels() {
        return this.paneview.getPanes();
    }
    set paneview(value) {
        this._paneview = value;
        this._disposable.value = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable(this._paneview.onDidChange(() => {
            this._onDidLayoutChange.fire(undefined);
        }), this._paneview.onDidAddView((e) => this._onDidAddView.fire(e)), this._paneview.onDidRemoveView((e) => this._onDidRemoveView.fire(e)));
    }
    get paneview() {
        return this._paneview;
    }
    get minimumSize() {
        return this.paneview.minimumSize;
    }
    get maximumSize() {
        return this.paneview.maximumSize;
    }
    get height() {
        return this.paneview.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_3__.Orientation.HORIZONTAL
            ? this.paneview.orthogonalSize
            : this.paneview.size;
    }
    get width() {
        return this.paneview.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_3__.Orientation.HORIZONTAL
            ? this.paneview.size
            : this.paneview.orthogonalSize;
    }
    get options() {
        return this._options;
    }
    constructor(container, options) {
        var _a;
        super(document.createElement('div'), options.disableAutoResizing);
        this._id = nextLayoutId.next();
        this._disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.MutableDisposable();
        this._viewDisposables = new Map();
        this._onDidLayoutfromJSON = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidLayoutFromJSON = this._onDidLayoutfromJSON.event;
        this._onDidLayoutChange = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidLayoutChange = this._onDidLayoutChange.event;
        this._onDidDrop = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidDrop = this._onDidDrop.event;
        this._onDidAddView = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidAddView = this._onDidAddView.event;
        this._onDidRemoveView = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidRemoveView = this._onDidRemoveView.event;
        this._onUnhandledDragOverEvent = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onUnhandledDragOverEvent = this._onUnhandledDragOverEvent.event;
        this.element.style.height = '100%';
        this.element.style.width = '100%';
        this.addDisposables(this._onDidLayoutChange, this._onDidLayoutfromJSON, this._onDidDrop, this._onDidAddView, this._onDidRemoveView, this._onUnhandledDragOverEvent);
        this._classNames = new _dom__WEBPACK_IMPORTED_MODULE_9__.Classnames(this.element);
        this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');
        // the container is owned by the third-party, do not modify/delete it
        container.appendChild(this.element);
        this._options = options;
        this.paneview = new _paneview__WEBPACK_IMPORTED_MODULE_4__.Paneview(this.element, {
            // only allow paneview in the vertical orientation for now
            orientation: _splitview_splitview__WEBPACK_IMPORTED_MODULE_3__.Orientation.VERTICAL,
        });
        this.addDisposables(this._disposable);
    }
    setVisible(panel, visible) {
        const index = this.panels.indexOf(panel);
        this.paneview.setViewVisible(index, visible);
    }
    focus() {
        //noop
    }
    updateOptions(options) {
        var _a, _b;
        if ('className' in options) {
            this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');
        }
        if ('disableResizing' in options) {
            this.disableResizing = (_b = options.disableAutoResizing) !== null && _b !== void 0 ? _b : false;
        }
        this._options = Object.assign(Object.assign({}, this.options), options);
    }
    addPanel(options) {
        var _a, _b;
        const body = this.options.createComponent({
            id: options.id,
            name: options.component,
        });
        let header;
        if (options.headerComponent && this.options.createHeaderComponent) {
            header = this.options.createHeaderComponent({
                id: options.id,
                name: options.headerComponent,
            });
        }
        if (!header) {
            header = new _defaultPaneviewHeader__WEBPACK_IMPORTED_MODULE_6__.DefaultHeader();
        }
        const view = new PaneFramework({
            id: options.id,
            component: options.component,
            headerComponent: options.headerComponent,
            header,
            body,
            orientation: _splitview_splitview__WEBPACK_IMPORTED_MODULE_3__.Orientation.VERTICAL,
            isExpanded: !!options.isExpanded,
            disableDnd: !!this.options.disableDnd,
            accessor: this,
            headerSize: (_a = options.headerSize) !== null && _a !== void 0 ? _a : HEADER_SIZE,
            minimumBodySize: MINIMUM_BODY_SIZE,
            maximumBodySize: MAXIMUM_BODY_SIZE,
        });
        this.doAddPanel(view);
        const size = typeof options.size === 'number' ? options.size : _splitview_splitview__WEBPACK_IMPORTED_MODULE_3__.Sizing.Distribute;
        const index = typeof options.index === 'number' ? options.index : undefined;
        view.init({
            params: (_b = options.params) !== null && _b !== void 0 ? _b : {},
            minimumBodySize: options.minimumBodySize,
            maximumBodySize: options.maximumBodySize,
            isExpanded: options.isExpanded,
            title: options.title,
            containerApi: new _api_component_api__WEBPACK_IMPORTED_MODULE_0__.PaneviewApi(this),
            accessor: this,
        });
        this.paneview.addPane(view, size, index);
        view.orientation = this.paneview.orientation;
        return view;
    }
    removePanel(panel) {
        const views = this.panels;
        const index = views.findIndex((_) => _ === panel);
        this.paneview.removePane(index);
        this.doRemovePanel(panel);
    }
    movePanel(from, to) {
        this.paneview.moveView(from, to);
    }
    getPanel(id) {
        return this.panels.find((view) => view.id === id);
    }
    layout(width, height) {
        const [size, orthogonalSize] = this.paneview.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_3__.Orientation.HORIZONTAL
            ? [width, height]
            : [height, width];
        this.paneview.layout(size, orthogonalSize);
    }
    toJSON() {
        const maximum = (value) => value === Number.MAX_SAFE_INTEGER ||
            value === Number.POSITIVE_INFINITY
            ? undefined
            : value;
        const minimum = (value) => (value <= 0 ? undefined : value);
        const views = this.paneview
            .getPanes()
            .map((view, i) => {
            const size = this.paneview.getViewSize(i);
            return {
                size,
                data: view.toJSON(),
                minimumSize: minimum(view.minimumBodySize),
                maximumSize: maximum(view.maximumBodySize),
                headerSize: view.headerSize,
                expanded: view.isExpanded(),
            };
        });
        return {
            views,
            size: this.paneview.size,
        };
    }
    fromJSON(serializedPaneview) {
        this.clear();
        const { views, size } = serializedPaneview;
        const queue = [];
        // take note of the existing dimensions
        const width = this.width;
        const height = this.height;
        this.paneview = new _paneview__WEBPACK_IMPORTED_MODULE_4__.Paneview(this.element, {
            orientation: _splitview_splitview__WEBPACK_IMPORTED_MODULE_3__.Orientation.VERTICAL,
            descriptor: {
                size,
                views: views.map((view) => {
                    var _a, _b, _c;
                    const data = view.data;
                    const body = this.options.createComponent({
                        id: data.id,
                        name: data.component,
                    });
                    let header;
                    if (data.headerComponent &&
                        this.options.createHeaderComponent) {
                        header = this.options.createHeaderComponent({
                            id: data.id,
                            name: data.headerComponent,
                        });
                    }
                    if (!header) {
                        header = new _defaultPaneviewHeader__WEBPACK_IMPORTED_MODULE_6__.DefaultHeader();
                    }
                    const panel = new PaneFramework({
                        id: data.id,
                        component: data.component,
                        headerComponent: data.headerComponent,
                        header,
                        body,
                        orientation: _splitview_splitview__WEBPACK_IMPORTED_MODULE_3__.Orientation.VERTICAL,
                        isExpanded: !!view.expanded,
                        disableDnd: !!this.options.disableDnd,
                        accessor: this,
                        headerSize: (_a = view.headerSize) !== null && _a !== void 0 ? _a : HEADER_SIZE,
                        minimumBodySize: (_b = view.minimumSize) !== null && _b !== void 0 ? _b : MINIMUM_BODY_SIZE,
                        maximumBodySize: (_c = view.maximumSize) !== null && _c !== void 0 ? _c : MAXIMUM_BODY_SIZE,
                    });
                    this.doAddPanel(panel);
                    queue.push(() => {
                        var _a;
                        panel.init({
                            params: (_a = data.params) !== null && _a !== void 0 ? _a : {},
                            minimumBodySize: view.minimumSize,
                            maximumBodySize: view.maximumSize,
                            title: data.title,
                            isExpanded: !!view.expanded,
                            containerApi: new _api_component_api__WEBPACK_IMPORTED_MODULE_0__.PaneviewApi(this),
                            accessor: this,
                        });
                        panel.orientation = this.paneview.orientation;
                    });
                    setTimeout(() => {
                        // the original onDidAddView events are missed since they are fired before we can subcribe to them
                        this._onDidAddView.fire(panel);
                    }, 0);
                    return { size: view.size, view: panel };
                }),
            },
        });
        this.layout(width, height);
        queue.forEach((f) => f());
        this._onDidLayoutfromJSON.fire();
    }
    clear() {
        for (const [_, value] of this._viewDisposables.entries()) {
            value.dispose();
        }
        this._viewDisposables.clear();
        this.paneview.dispose();
    }
    doAddPanel(panel) {
        const disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable(panel.onDidDrop((event) => {
            this._onDidDrop.fire(event);
        }), panel.onUnhandledDragOverEvent((event) => {
            this._onUnhandledDragOverEvent.fire(event);
        }));
        this._viewDisposables.set(panel.id, disposable);
    }
    doRemovePanel(panel) {
        const disposable = this._viewDisposables.get(panel.id);
        if (disposable) {
            disposable.dispose();
            this._viewDisposables.delete(panel.id);
        }
    }
    dispose() {
        super.dispose();
        for (const [_, value] of this._viewDisposables.entries()) {
            value.dispose();
        }
        this._viewDisposables.clear();
        this.element.remove();
        this.paneview.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/paneview/paneviewPanel.js":
/*!***********************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/paneview/paneviewPanel.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PaneviewPanel: () => (/* binding */ PaneviewPanel)
/* harmony export */ });
/* harmony import */ var _api_paneviewPanelApi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../api/paneviewPanelApi */ "./node_modules/dockview-core/dist/esm/api/paneviewPanelApi.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _gridview_basePanelView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../gridview/basePanelView */ "./node_modules/dockview-core/dist/esm/gridview/basePanelView.js");
/* harmony import */ var _splitview_splitview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../splitview/splitview */ "./node_modules/dockview-core/dist/esm/splitview/splitview.js");





class PaneviewPanel extends _gridview_basePanelView__WEBPACK_IMPORTED_MODULE_3__.BasePanelView {
    set orientation(value) {
        this._orientation = value;
    }
    get orientation() {
        return this._orientation;
    }
    get minimumSize() {
        const headerSize = this.headerSize;
        const expanded = this.isExpanded();
        const minimumBodySize = expanded ? this._minimumBodySize : 0;
        return headerSize + minimumBodySize;
    }
    get maximumSize() {
        const headerSize = this.headerSize;
        const expanded = this.isExpanded();
        const maximumBodySize = expanded ? this._maximumBodySize : 0;
        return headerSize + maximumBodySize;
    }
    get size() {
        return this._size;
    }
    get orthogonalSize() {
        return this._orthogonalSize;
    }
    set orthogonalSize(size) {
        this._orthogonalSize = size;
    }
    get minimumBodySize() {
        return this._minimumBodySize;
    }
    set minimumBodySize(value) {
        this._minimumBodySize = typeof value === 'number' ? value : 0;
    }
    get maximumBodySize() {
        return this._maximumBodySize;
    }
    set maximumBodySize(value) {
        this._maximumBodySize =
            typeof value === 'number' ? value : Number.POSITIVE_INFINITY;
    }
    get headerVisible() {
        return this._headerVisible;
    }
    set headerVisible(value) {
        this._headerVisible = value;
        this.header.style.display = value ? '' : 'none';
    }
    constructor(options) {
        super(options.id, options.component, new _api_paneviewPanelApi__WEBPACK_IMPORTED_MODULE_0__.PaneviewPanelApiImpl(options.id, options.component));
        this._onDidChangeExpansionState = new _events__WEBPACK_IMPORTED_MODULE_2__.Emitter({ replay: true });
        this.onDidChangeExpansionState = this._onDidChangeExpansionState.event;
        this._onDidChange = new _events__WEBPACK_IMPORTED_MODULE_2__.Emitter();
        this.onDidChange = this._onDidChange.event;
        this._orthogonalSize = 0;
        this._size = 0;
        this._isExpanded = false;
        this.api.pane = this; // TODO cannot use 'this' before 'super'
        this.api.initialize(this);
        this.headerSize = options.headerSize;
        this.headerComponent = options.headerComponent;
        this._minimumBodySize = options.minimumBodySize;
        this._maximumBodySize = options.maximumBodySize;
        this._isExpanded = options.isExpanded;
        this._headerVisible = options.isHeaderVisible;
        this._onDidChangeExpansionState.fire(this.isExpanded()); // initialize value
        this._orientation = options.orientation;
        this.element.classList.add('dv-pane');
        this.addDisposables(this.api.onWillVisibilityChange((event) => {
            const { isVisible } = event;
            const { accessor } = this._params;
            accessor.setVisible(this, isVisible);
        }), this.api.onDidSizeChange((event) => {
            this._onDidChange.fire({ size: event.size });
        }), (0,_events__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.element, 'mouseenter', (ev) => {
            this.api._onMouseEnter.fire(ev);
        }), (0,_events__WEBPACK_IMPORTED_MODULE_2__.addDisposableListener)(this.element, 'mouseleave', (ev) => {
            this.api._onMouseLeave.fire(ev);
        }));
        this.addDisposables(this._onDidChangeExpansionState, this.onDidChangeExpansionState((isPanelExpanded) => {
            this.api._onDidExpansionChange.fire({
                isExpanded: isPanelExpanded,
            });
        }), this.api.onDidFocusChange((e) => {
            if (!this.header) {
                return;
            }
            if (e.isFocused) {
                (0,_dom__WEBPACK_IMPORTED_MODULE_1__.addClasses)(this.header, 'focused');
            }
            else {
                (0,_dom__WEBPACK_IMPORTED_MODULE_1__.removeClasses)(this.header, 'focused');
            }
        }));
        this.renderOnce();
    }
    setVisible(isVisible) {
        this.api._onDidVisibilityChange.fire({ isVisible });
    }
    setActive(isActive) {
        this.api._onDidActiveChange.fire({ isActive });
    }
    isExpanded() {
        return this._isExpanded;
    }
    setExpanded(expanded) {
        if (this._isExpanded === expanded) {
            return;
        }
        this._isExpanded = expanded;
        if (expanded) {
            if (this.animationTimer) {
                clearTimeout(this.animationTimer);
            }
            if (this.body) {
                this.element.appendChild(this.body);
            }
        }
        else {
            this.animationTimer = setTimeout(() => {
                var _a;
                (_a = this.body) === null || _a === void 0 ? void 0 : _a.remove();
            }, 200);
        }
        this._onDidChange.fire(expanded ? { size: this.width } : {});
        this._onDidChangeExpansionState.fire(expanded);
    }
    layout(size, orthogonalSize) {
        this._size = size;
        this._orthogonalSize = orthogonalSize;
        const [width, height] = this.orientation === _splitview_splitview__WEBPACK_IMPORTED_MODULE_4__.Orientation.HORIZONTAL
            ? [size, orthogonalSize]
            : [orthogonalSize, size];
        super.layout(width, height);
    }
    init(parameters) {
        var _a, _b;
        super.init(parameters);
        if (typeof parameters.minimumBodySize === 'number') {
            this.minimumBodySize = parameters.minimumBodySize;
        }
        if (typeof parameters.maximumBodySize === 'number') {
            this.maximumBodySize = parameters.maximumBodySize;
        }
        this.bodyPart = this.getBodyComponent();
        this.headerPart = this.getHeaderComponent();
        this.bodyPart.init(Object.assign(Object.assign({}, parameters), { api: this.api }));
        this.headerPart.init(Object.assign(Object.assign({}, parameters), { api: this.api }));
        (_a = this.body) === null || _a === void 0 ? void 0 : _a.append(this.bodyPart.element);
        (_b = this.header) === null || _b === void 0 ? void 0 : _b.append(this.headerPart.element);
        if (typeof parameters.isExpanded === 'boolean') {
            this.setExpanded(parameters.isExpanded);
        }
    }
    toJSON() {
        const params = this._params;
        return Object.assign(Object.assign({}, super.toJSON()), { headerComponent: this.headerComponent, title: params.title });
    }
    renderOnce() {
        this.header = document.createElement('div');
        this.header.tabIndex = 0;
        this.header.className = 'dv-pane-header';
        this.header.style.height = `${this.headerSize}px`;
        this.header.style.lineHeight = `${this.headerSize}px`;
        this.header.style.minHeight = `${this.headerSize}px`;
        this.header.style.maxHeight = `${this.headerSize}px`;
        this.element.appendChild(this.header);
        this.body = document.createElement('div');
        this.body.className = 'dv-pane-body';
        this.element.appendChild(this.body);
    }
    // TODO slightly hacky by-pass of the component to create a body and header component
    getComponent() {
        return {
            update: (params) => {
                var _a, _b;
                (_a = this.bodyPart) === null || _a === void 0 ? void 0 : _a.update({ params });
                (_b = this.headerPart) === null || _b === void 0 ? void 0 : _b.update({ params });
            },
            dispose: () => {
                var _a, _b;
                (_a = this.bodyPart) === null || _a === void 0 ? void 0 : _a.dispose();
                (_b = this.headerPart) === null || _b === void 0 ? void 0 : _b.dispose();
            },
        };
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/popoutWindow.js":
/*!*************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/popoutWindow.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PopoutWindow: () => (/* binding */ PopoutWindow)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



class PopoutWindow extends _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable {
    get window() {
        var _a, _b;
        return (_b = (_a = this._window) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : null;
    }
    constructor(target, className, options) {
        super();
        this.target = target;
        this.className = className;
        this.options = options;
        this._onWillClose = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onWillClose = this._onWillClose.event;
        this._onDidClose = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidClose = this._onDidClose.event;
        this._window = null;
        this.addDisposables(this._onWillClose, this._onDidClose, {
            dispose: () => {
                this.close();
            },
        });
    }
    dimensions() {
        if (!this._window) {
            return null;
        }
        const left = this._window.value.screenX;
        const top = this._window.value.screenY;
        const width = this._window.value.innerWidth;
        const height = this._window.value.innerHeight;
        return { top, left, width, height };
    }
    close() {
        var _a, _b;
        if (this._window) {
            this._onWillClose.fire();
            (_b = (_a = this.options).onWillClose) === null || _b === void 0 ? void 0 : _b.call(_a, {
                id: this.target,
                window: this._window.value,
            });
            this._window.disposable.dispose();
            this._window = null;
            this._onDidClose.fire();
        }
    }
    open() {
        var _a, _b;
        return __awaiter(this, void 0, void 0, function* () {
            if (this._window) {
                throw new Error('instance of popout window is already open');
            }
            const url = `${this.options.url}`;
            const features = Object.entries({
                top: this.options.top,
                left: this.options.left,
                width: this.options.width,
                height: this.options.height,
            })
                .map(([key, value]) => `${key}=${value}`)
                .join(',');
            /**
             * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/open
             */
            const externalWindow = window.open(url, this.target, features);
            if (!externalWindow) {
                /**
                 * Popup blocked
                 */
                return null;
            }
            const disposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable();
            this._window = { value: externalWindow, disposable };
            disposable.addDisposables(_lifecycle__WEBPACK_IMPORTED_MODULE_2__.Disposable.from(() => {
                externalWindow.close();
            }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(window, 'beforeunload', () => {
                /**
                 * before the main window closes we should close this popup too
                 * to be good citizens
                 *
                 * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event
                 */
                this.close();
            }));
            const container = this.createPopoutWindowContainer();
            if (this.className) {
                container.classList.add(this.className);
            }
            (_b = (_a = this.options).onDidOpen) === null || _b === void 0 ? void 0 : _b.call(_a, {
                id: this.target,
                window: externalWindow,
            });
            return new Promise((resolve, reject) => {
                externalWindow.addEventListener('unload', (e) => {
                    // if page fails to load before unloading
                    // this.close();
                });
                externalWindow.addEventListener('load', () => {
                    /**
                     * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/load_event
                     */
                    try {
                        const externalDocument = externalWindow.document;
                        externalDocument.title = document.title;
                        externalDocument.body.appendChild(container);
                        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.addStyles)(externalDocument, window.document.styleSheets);
                        /**
                         * beforeunload must be registered after load for reasons I could not determine
                         * otherwise the beforeunload event will not fire when the window is closed
                         */
                        (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(externalWindow, 'beforeunload', () => {
                            /**
                             * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/beforeunload_event
                             */
                            this.close();
                        });
                        resolve(container);
                    }
                    catch (err) {
                        // only except this is the DOM isn't setup. e.g. in a in correctly configured test
                        reject(err);
                    }
                });
            });
        });
    }
    createPopoutWindowContainer() {
        const el = document.createElement('div');
        el.classList.add('dv-popout-window');
        el.id = 'dv-popout-window';
        el.style.position = 'absolute';
        el.style.width = '100%';
        el.style.height = '100%';
        el.style.top = '0px';
        el.style.left = '0px';
        return el;
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/resizable.js":
/*!**********************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/resizable.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Resizable: () => (/* binding */ Resizable)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");


class Resizable extends _lifecycle__WEBPACK_IMPORTED_MODULE_1__.CompositeDisposable {
    get element() {
        return this._element;
    }
    get disableResizing() {
        return this._disableResizing;
    }
    set disableResizing(value) {
        this._disableResizing = value;
    }
    constructor(parentElement, disableResizing = false) {
        super();
        this._disableResizing = disableResizing;
        this._element = parentElement;
        this.addDisposables((0,_dom__WEBPACK_IMPORTED_MODULE_0__.watchElementResize)(this._element, (entry) => {
            if (this.isDisposed) {
                /**
                 * resize is delayed through requestAnimationFrame so there is a small chance
                 * the component has already been disposed of
                 */
                return;
            }
            if (this.disableResizing) {
                return;
            }
            if (!this._element.offsetParent) {
                /**
                 * offsetParent === null is equivalent to display: none being set on the element or one
                 * of it's parents. In the display: none case the size will become (0, 0) which we do
                 * not want to propagate.
                 *
                 * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent
                 *
                 * You could use checkVisibility() but at the time of writing it's not supported across
                 * all Browsers
                 *
                 * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/checkVisibility
                 */
                return;
            }
            if (!(0,_dom__WEBPACK_IMPORTED_MODULE_0__.isInDocument)(this._element)) {
                /**
                 * since the event is dispatched through requestAnimationFrame there is a small chance
                 * the component is no longer attached to the DOM, if that is the case the dimensions
                 * are mostly likely all zero and meaningless. we should skip this case.
                 */
                return;
            }
            const { width, height } = entry.contentRect;
            this.layout(width, height);
        }));
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/scrollbar.js":
/*!**********************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/scrollbar.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Scrollbar: () => (/* binding */ Scrollbar)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./math */ "./node_modules/dockview-core/dist/esm/math.js");




class Scrollbar extends _lifecycle__WEBPACK_IMPORTED_MODULE_2__.CompositeDisposable {
    get element() {
        return this._element;
    }
    constructor(scrollableElement) {
        super();
        this.scrollableElement = scrollableElement;
        this._scrollLeft = 0;
        this._element = document.createElement('div');
        this._element.className = 'dv-scrollable';
        this._horizontalScrollbar = document.createElement('div');
        this._horizontalScrollbar.className = 'dv-scrollbar-horizontal';
        this.element.appendChild(scrollableElement);
        this.element.appendChild(this._horizontalScrollbar);
        this.addDisposables((0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.element, 'wheel', (event) => {
            this._scrollLeft += event.deltaY * Scrollbar.MouseWheelSpeed;
            this.calculateScrollbarStyles();
        }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this._horizontalScrollbar, 'pointerdown', (event) => {
            event.preventDefault();
            (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.element, 'dv-scrollable-scrolling', true);
            const originalClientX = event.clientX;
            const originalScrollLeft = this._scrollLeft;
            const onPointerMove = (event) => {
                const deltaX = event.clientX - originalClientX;
                const { clientWidth } = this.element;
                const { scrollWidth } = this.scrollableElement;
                const p = clientWidth / scrollWidth;
                this._scrollLeft = originalScrollLeft + deltaX / p;
                this.calculateScrollbarStyles();
            };
            const onEnd = () => {
                (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.element, 'dv-scrollable-scrolling', false);
                document.removeEventListener('pointermove', onPointerMove);
                document.removeEventListener('pointerup', onEnd);
                document.removeEventListener('pointercancel', onEnd);
            };
            document.addEventListener('pointermove', onPointerMove);
            document.addEventListener('pointerup', onEnd);
            document.addEventListener('pointercancel', onEnd);
        }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.element, 'scroll', () => {
            this.calculateScrollbarStyles();
        }), (0,_events__WEBPACK_IMPORTED_MODULE_1__.addDisposableListener)(this.scrollableElement, 'scroll', () => {
            this._scrollLeft = this.scrollableElement.scrollLeft;
            this.calculateScrollbarStyles();
        }), (0,_dom__WEBPACK_IMPORTED_MODULE_0__.watchElementResize)(this.element, () => {
            (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.element, 'dv-scrollable-resizing', true);
            if (this._animationTimer) {
                clearTimeout(this._animationTimer);
            }
            this._animationTimer = setTimeout(() => {
                clearTimeout(this._animationTimer);
                (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.element, 'dv-scrollable-resizing', false);
            }, 500);
            this.calculateScrollbarStyles();
        }));
    }
    calculateScrollbarStyles() {
        const { clientWidth } = this.element;
        const { scrollWidth } = this.scrollableElement;
        const hasScrollbar = scrollWidth > clientWidth;
        if (hasScrollbar) {
            const px = clientWidth * (clientWidth / scrollWidth);
            this._horizontalScrollbar.style.width = `${px}px`;
            this._scrollLeft = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(this._scrollLeft, 0, this.scrollableElement.scrollWidth - clientWidth);
            this.scrollableElement.scrollLeft = this._scrollLeft;
            const percentageComplete = this._scrollLeft / (scrollWidth - clientWidth);
            this._horizontalScrollbar.style.left = `${(clientWidth - px) * percentageComplete}px`;
        }
        else {
            this._horizontalScrollbar.style.width = `0px`;
            this._horizontalScrollbar.style.left = `0px`;
            this._scrollLeft = 0;
        }
    }
}
Scrollbar.MouseWheelSpeed = 1;


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/splitview/options.js":
/*!******************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/splitview/options.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PROPERTY_KEYS_SPLITVIEW: () => (/* binding */ PROPERTY_KEYS_SPLITVIEW)
/* harmony export */ });
const PROPERTY_KEYS_SPLITVIEW = (() => {
    /**
     * by readong the keys from an empty value object TypeScript will error
     * when we add or remove new properties to `DockviewOptions`
     */
    const properties = {
        orientation: undefined,
        descriptor: undefined,
        proportionalLayout: undefined,
        styles: undefined,
        margin: undefined,
        disableAutoResizing: undefined,
        className: undefined,
    };
    return Object.keys(properties);
})();


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/splitview/splitview.js":
/*!********************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/splitview/splitview.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LayoutPriority: () => (/* binding */ LayoutPriority),
/* harmony export */   Orientation: () => (/* binding */ Orientation),
/* harmony export */   SashState: () => (/* binding */ SashState),
/* harmony export */   Sizing: () => (/* binding */ Sizing),
/* harmony export */   Splitview: () => (/* binding */ Splitview)
/* harmony export */ });
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../array */ "./node_modules/dockview-core/dist/esm/array.js");
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../math */ "./node_modules/dockview-core/dist/esm/math.js");
/* harmony import */ var _viewItem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./viewItem */ "./node_modules/dockview-core/dist/esm/splitview/viewItem.js");
/*---------------------------------------------------------------------------------------------
 * Accreditation: This file is largly based upon the MIT licenced VSCode sourcecode found at:
 * https://github.com/microsoft/vscode/tree/main/src/vs/base/browser/ui/splitview
 *--------------------------------------------------------------------------------------------*/





var Orientation;
(function (Orientation) {
    Orientation["HORIZONTAL"] = "HORIZONTAL";
    Orientation["VERTICAL"] = "VERTICAL";
})(Orientation || (Orientation = {}));
var SashState;
(function (SashState) {
    SashState[SashState["MAXIMUM"] = 0] = "MAXIMUM";
    SashState[SashState["MINIMUM"] = 1] = "MINIMUM";
    SashState[SashState["DISABLED"] = 2] = "DISABLED";
    SashState[SashState["ENABLED"] = 3] = "ENABLED";
})(SashState || (SashState = {}));
var LayoutPriority;
(function (LayoutPriority) {
    LayoutPriority["Low"] = "low";
    LayoutPriority["High"] = "high";
    LayoutPriority["Normal"] = "normal";
})(LayoutPriority || (LayoutPriority = {}));
var Sizing;
(function (Sizing) {
    Sizing.Distribute = { type: 'distribute' };
    function Split(index) {
        return { type: 'split', index };
    }
    Sizing.Split = Split;
    function Invisible(cachedVisibleSize) {
        return { type: 'invisible', cachedVisibleSize };
    }
    Sizing.Invisible = Invisible;
})(Sizing || (Sizing = {}));
class Splitview {
    get contentSize() {
        return this._contentSize;
    }
    get size() {
        return this._size;
    }
    set size(value) {
        this._size = value;
    }
    get orthogonalSize() {
        return this._orthogonalSize;
    }
    set orthogonalSize(value) {
        this._orthogonalSize = value;
    }
    get length() {
        return this.viewItems.length;
    }
    get proportions() {
        return this._proportions ? [...this._proportions] : undefined;
    }
    get orientation() {
        return this._orientation;
    }
    set orientation(value) {
        this._orientation = value;
        const tmp = this.size;
        this.size = this.orthogonalSize;
        this.orthogonalSize = tmp;
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.removeClasses)(this.element, 'dv-horizontal', 'dv-vertical');
        this.element.classList.add(this.orientation == Orientation.HORIZONTAL
            ? 'dv-horizontal'
            : 'dv-vertical');
    }
    get minimumSize() {
        return this.viewItems.reduce((r, item) => r + item.minimumSize, 0);
    }
    get maximumSize() {
        return this.length === 0
            ? Number.POSITIVE_INFINITY
            : this.viewItems.reduce((r, item) => r + item.maximumSize, 0);
    }
    get startSnappingEnabled() {
        return this._startSnappingEnabled;
    }
    set startSnappingEnabled(startSnappingEnabled) {
        if (this._startSnappingEnabled === startSnappingEnabled) {
            return;
        }
        this._startSnappingEnabled = startSnappingEnabled;
        this.updateSashEnablement();
    }
    get endSnappingEnabled() {
        return this._endSnappingEnabled;
    }
    set endSnappingEnabled(endSnappingEnabled) {
        if (this._endSnappingEnabled === endSnappingEnabled) {
            return;
        }
        this._endSnappingEnabled = endSnappingEnabled;
        this.updateSashEnablement();
    }
    get disabled() {
        return this._disabled;
    }
    set disabled(value) {
        this._disabled = value;
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.element, 'dv-splitview-disabled', value);
    }
    get margin() {
        return this._margin;
    }
    set margin(value) {
        this._margin = value;
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(this.element, 'dv-splitview-has-margin', value !== 0);
    }
    constructor(container, options) {
        var _a, _b;
        this.container = container;
        this.viewItems = [];
        this.sashes = [];
        this._size = 0;
        this._orthogonalSize = 0;
        this._contentSize = 0;
        this._proportions = undefined;
        this._startSnappingEnabled = true;
        this._endSnappingEnabled = true;
        this._disabled = false;
        this._margin = 0;
        this._onDidSashEnd = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidSashEnd = this._onDidSashEnd.event;
        this._onDidAddView = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidAddView = this._onDidAddView.event;
        this._onDidRemoveView = new _events__WEBPACK_IMPORTED_MODULE_1__.Emitter();
        this.onDidRemoveView = this._onDidRemoveView.event;
        this.resize = (index, delta, sizes = this.viewItems.map((x) => x.size), lowPriorityIndexes, highPriorityIndexes, overloadMinDelta = Number.NEGATIVE_INFINITY, overloadMaxDelta = Number.POSITIVE_INFINITY, snapBefore, snapAfter) => {
            if (index < 0 || index > this.viewItems.length) {
                return 0;
            }
            const upIndexes = (0,_math__WEBPACK_IMPORTED_MODULE_3__.range)(index, -1);
            const downIndexes = (0,_math__WEBPACK_IMPORTED_MODULE_3__.range)(index + 1, this.viewItems.length);
            //
            if (highPriorityIndexes) {
                for (const i of highPriorityIndexes) {
                    (0,_array__WEBPACK_IMPORTED_MODULE_2__.pushToStart)(upIndexes, i);
                    (0,_array__WEBPACK_IMPORTED_MODULE_2__.pushToStart)(downIndexes, i);
                }
            }
            if (lowPriorityIndexes) {
                for (const i of lowPriorityIndexes) {
                    (0,_array__WEBPACK_IMPORTED_MODULE_2__.pushToEnd)(upIndexes, i);
                    (0,_array__WEBPACK_IMPORTED_MODULE_2__.pushToEnd)(downIndexes, i);
                }
            }
            //
            const upItems = upIndexes.map((i) => this.viewItems[i]);
            const upSizes = upIndexes.map((i) => sizes[i]);
            //
            const downItems = downIndexes.map((i) => this.viewItems[i]);
            const downSizes = downIndexes.map((i) => sizes[i]);
            //
            const minDeltaUp = upIndexes.reduce((_, i) => _ + this.viewItems[i].minimumSize - sizes[i], 0);
            const maxDeltaUp = upIndexes.reduce((_, i) => _ + this.viewItems[i].maximumSize - sizes[i], 0);
            //
            const maxDeltaDown = downIndexes.length === 0
                ? Number.POSITIVE_INFINITY
                : downIndexes.reduce((_, i) => _ + sizes[i] - this.viewItems[i].minimumSize, 0);
            const minDeltaDown = downIndexes.length === 0
                ? Number.NEGATIVE_INFINITY
                : downIndexes.reduce((_, i) => _ + sizes[i] - this.viewItems[i].maximumSize, 0);
            //
            const minDelta = Math.max(minDeltaUp, minDeltaDown);
            const maxDelta = Math.min(maxDeltaDown, maxDeltaUp);
            //
            let snapped = false;
            if (snapBefore) {
                const snapView = this.viewItems[snapBefore.index];
                const visible = delta >= snapBefore.limitDelta;
                snapped = visible !== snapView.visible;
                snapView.setVisible(visible, snapBefore.size);
            }
            if (!snapped && snapAfter) {
                const snapView = this.viewItems[snapAfter.index];
                const visible = delta < snapAfter.limitDelta;
                snapped = visible !== snapView.visible;
                snapView.setVisible(visible, snapAfter.size);
            }
            if (snapped) {
                return this.resize(index, delta, sizes, lowPriorityIndexes, highPriorityIndexes, overloadMinDelta, overloadMaxDelta);
            }
            //
            const tentativeDelta = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(delta, minDelta, maxDelta);
            let actualDelta = 0;
            //
            let deltaUp = tentativeDelta;
            for (let i = 0; i < upItems.length; i++) {
                const item = upItems[i];
                const size = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(upSizes[i] + deltaUp, item.minimumSize, item.maximumSize);
                const viewDelta = size - upSizes[i];
                actualDelta += viewDelta;
                deltaUp -= viewDelta;
                item.size = size;
            }
            //
            let deltaDown = actualDelta;
            for (let i = 0; i < downItems.length; i++) {
                const item = downItems[i];
                const size = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(downSizes[i] - deltaDown, item.minimumSize, item.maximumSize);
                const viewDelta = size - downSizes[i];
                deltaDown += viewDelta;
                item.size = size;
            }
            //
            return delta;
        };
        this._orientation = (_a = options.orientation) !== null && _a !== void 0 ? _a : Orientation.VERTICAL;
        this.element = this.createContainer();
        this.margin = (_b = options.margin) !== null && _b !== void 0 ? _b : 0;
        this.proportionalLayout =
            options.proportionalLayout === undefined
                ? true
                : !!options.proportionalLayout;
        this.viewContainer = this.createViewContainer();
        this.sashContainer = this.createSashContainer();
        this.element.appendChild(this.sashContainer);
        this.element.appendChild(this.viewContainer);
        this.container.appendChild(this.element);
        this.style(options.styles);
        // We have an existing set of view, add them now
        if (options.descriptor) {
            this._size = options.descriptor.size;
            options.descriptor.views.forEach((viewDescriptor, index) => {
                const sizing = viewDescriptor.visible === undefined ||
                    viewDescriptor.visible
                    ? viewDescriptor.size
                    : {
                        type: 'invisible',
                        cachedVisibleSize: viewDescriptor.size,
                    };
                const view = viewDescriptor.view;
                this.addView(view, sizing, index, true
                // true skip layout
                );
            });
            // Initialize content size and proportions for first layout
            this._contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);
            this.saveProportions();
        }
    }
    style(styles) {
        if ((styles === null || styles === void 0 ? void 0 : styles.separatorBorder) === 'transparent') {
            (0,_dom__WEBPACK_IMPORTED_MODULE_0__.removeClasses)(this.element, 'dv-separator-border');
            this.element.style.removeProperty('--dv-separator-border');
        }
        else {
            (0,_dom__WEBPACK_IMPORTED_MODULE_0__.addClasses)(this.element, 'dv-separator-border');
            if (styles === null || styles === void 0 ? void 0 : styles.separatorBorder) {
                this.element.style.setProperty('--dv-separator-border', styles.separatorBorder);
            }
        }
    }
    isViewVisible(index) {
        if (index < 0 || index >= this.viewItems.length) {
            throw new Error('Index out of bounds');
        }
        const viewItem = this.viewItems[index];
        return viewItem.visible;
    }
    setViewVisible(index, visible) {
        if (index < 0 || index >= this.viewItems.length) {
            throw new Error('Index out of bounds');
        }
        const viewItem = this.viewItems[index];
        viewItem.setVisible(visible, viewItem.size);
        this.distributeEmptySpace(index);
        this.layoutViews();
        this.saveProportions();
    }
    getViewSize(index) {
        if (index < 0 || index >= this.viewItems.length) {
            return -1;
        }
        return this.viewItems[index].size;
    }
    resizeView(index, size) {
        if (index < 0 || index >= this.viewItems.length) {
            return;
        }
        const indexes = (0,_math__WEBPACK_IMPORTED_MODULE_3__.range)(this.viewItems.length).filter((i) => i !== index);
        const lowPriorityIndexes = [
            ...indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low),
            index,
        ];
        const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);
        const item = this.viewItems[index];
        size = Math.round(size);
        size = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(size, item.minimumSize, Math.min(item.maximumSize, this._size));
        item.size = size;
        this.relayout(lowPriorityIndexes, highPriorityIndexes);
    }
    getViews() {
        return this.viewItems.map((x) => x.view);
    }
    onDidChange(item, size) {
        const index = this.viewItems.indexOf(item);
        if (index < 0 || index >= this.viewItems.length) {
            return;
        }
        size = typeof size === 'number' ? size : item.size;
        size = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(size, item.minimumSize, item.maximumSize);
        item.size = size;
        const indexes = (0,_math__WEBPACK_IMPORTED_MODULE_3__.range)(this.viewItems.length).filter((i) => i !== index);
        const lowPriorityIndexes = [
            ...indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low),
            index,
        ];
        const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);
        /**
         * add this view we are changing to the low-index list since we have determined the size
         * here and don't want it changed
         */
        this.relayout([...lowPriorityIndexes, index], highPriorityIndexes);
    }
    addView(view, size = { type: 'distribute' }, index = this.viewItems.length, skipLayout) {
        const container = document.createElement('div');
        container.className = 'dv-view';
        container.appendChild(view.element);
        let viewSize;
        if (typeof size === 'number') {
            viewSize = size;
        }
        else if (size.type === 'split') {
            viewSize = this.getViewSize(size.index) / 2;
        }
        else if (size.type === 'invisible') {
            viewSize = { cachedVisibleSize: size.cachedVisibleSize };
        }
        else {
            viewSize = view.minimumSize;
        }
        const disposable = view.onDidChange((newSize) => this.onDidChange(viewItem, newSize.size));
        const viewItem = new _viewItem__WEBPACK_IMPORTED_MODULE_4__.ViewItem(container, view, viewSize, {
            dispose: () => {
                disposable.dispose();
                this.viewContainer.removeChild(container);
            },
        });
        if (index === this.viewItems.length) {
            this.viewContainer.appendChild(container);
        }
        else {
            this.viewContainer.insertBefore(container, this.viewContainer.children.item(index));
        }
        this.viewItems.splice(index, 0, viewItem);
        if (this.viewItems.length > 1) {
            //add sash
            const sash = document.createElement('div');
            sash.className = 'dv-sash';
            const onPointerStart = (event) => {
                for (const item of this.viewItems) {
                    item.enabled = false;
                }
                const iframes = (0,_dom__WEBPACK_IMPORTED_MODULE_0__.disableIframePointEvents)();
                const start = this._orientation === Orientation.HORIZONTAL
                    ? event.clientX
                    : event.clientY;
                const sashIndex = (0,_array__WEBPACK_IMPORTED_MODULE_2__.firstIndex)(this.sashes, (s) => s.container === sash);
                //
                const sizes = this.viewItems.map((x) => x.size);
                //
                let snapBefore;
                let snapAfter;
                const upIndexes = (0,_math__WEBPACK_IMPORTED_MODULE_3__.range)(sashIndex, -1);
                const downIndexes = (0,_math__WEBPACK_IMPORTED_MODULE_3__.range)(sashIndex + 1, this.viewItems.length);
                const minDeltaUp = upIndexes.reduce((r, i) => r + (this.viewItems[i].minimumSize - sizes[i]), 0);
                const maxDeltaUp = upIndexes.reduce((r, i) => r + (this.viewItems[i].viewMaximumSize - sizes[i]), 0);
                const maxDeltaDown = downIndexes.length === 0
                    ? Number.POSITIVE_INFINITY
                    : downIndexes.reduce((r, i) => r +
                        (sizes[i] - this.viewItems[i].minimumSize), 0);
                const minDeltaDown = downIndexes.length === 0
                    ? Number.NEGATIVE_INFINITY
                    : downIndexes.reduce((r, i) => r +
                        (sizes[i] -
                            this.viewItems[i].viewMaximumSize), 0);
                const minDelta = Math.max(minDeltaUp, minDeltaDown);
                const maxDelta = Math.min(maxDeltaDown, maxDeltaUp);
                const snapBeforeIndex = this.findFirstSnapIndex(upIndexes);
                const snapAfterIndex = this.findFirstSnapIndex(downIndexes);
                if (typeof snapBeforeIndex === 'number') {
                    const snappedViewItem = this.viewItems[snapBeforeIndex];
                    const halfSize = Math.floor(snappedViewItem.viewMinimumSize / 2);
                    snapBefore = {
                        index: snapBeforeIndex,
                        limitDelta: snappedViewItem.visible
                            ? minDelta - halfSize
                            : minDelta + halfSize,
                        size: snappedViewItem.size,
                    };
                }
                if (typeof snapAfterIndex === 'number') {
                    const snappedViewItem = this.viewItems[snapAfterIndex];
                    const halfSize = Math.floor(snappedViewItem.viewMinimumSize / 2);
                    snapAfter = {
                        index: snapAfterIndex,
                        limitDelta: snappedViewItem.visible
                            ? maxDelta + halfSize
                            : maxDelta - halfSize,
                        size: snappedViewItem.size,
                    };
                }
                const onPointerMove = (event) => {
                    const current = this._orientation === Orientation.HORIZONTAL
                        ? event.clientX
                        : event.clientY;
                    const delta = current - start;
                    this.resize(sashIndex, delta, sizes, undefined, undefined, minDelta, maxDelta, snapBefore, snapAfter);
                    this.distributeEmptySpace();
                    this.layoutViews();
                };
                const end = () => {
                    for (const item of this.viewItems) {
                        item.enabled = true;
                    }
                    iframes.release();
                    this.saveProportions();
                    document.removeEventListener('pointermove', onPointerMove);
                    document.removeEventListener('pointerup', end);
                    document.removeEventListener('pointercancel', end);
                    this._onDidSashEnd.fire(undefined);
                };
                document.addEventListener('pointermove', onPointerMove);
                document.addEventListener('pointerup', end);
                document.addEventListener('pointercancel', end);
            };
            sash.addEventListener('pointerdown', onPointerStart);
            const sashItem = {
                container: sash,
                disposable: () => {
                    sash.removeEventListener('pointerdown', onPointerStart);
                    this.sashContainer.removeChild(sash);
                },
            };
            this.sashContainer.appendChild(sash);
            this.sashes.push(sashItem);
        }
        if (!skipLayout) {
            this.relayout([index]);
        }
        if (!skipLayout &&
            typeof size !== 'number' &&
            size.type === 'distribute') {
            this.distributeViewSizes();
        }
        this._onDidAddView.fire(view);
    }
    distributeViewSizes() {
        const flexibleViewItems = [];
        let flexibleSize = 0;
        for (const item of this.viewItems) {
            if (item.maximumSize - item.minimumSize > 0) {
                flexibleViewItems.push(item);
                flexibleSize += item.size;
            }
        }
        const size = Math.floor(flexibleSize / flexibleViewItems.length);
        for (const item of flexibleViewItems) {
            item.size = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(size, item.minimumSize, item.maximumSize);
        }
        const indexes = (0,_math__WEBPACK_IMPORTED_MODULE_3__.range)(this.viewItems.length);
        const lowPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low);
        const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);
        this.relayout(lowPriorityIndexes, highPriorityIndexes);
    }
    removeView(index, sizing, skipLayout = false) {
        // Remove view
        const viewItem = this.viewItems.splice(index, 1)[0];
        viewItem.dispose();
        // Remove sash
        if (this.viewItems.length >= 1) {
            const sashIndex = Math.max(index - 1, 0);
            const sashItem = this.sashes.splice(sashIndex, 1)[0];
            sashItem.disposable();
        }
        if (!skipLayout) {
            this.relayout();
        }
        if (sizing && sizing.type === 'distribute') {
            this.distributeViewSizes();
        }
        this._onDidRemoveView.fire(viewItem.view);
        return viewItem.view;
    }
    getViewCachedVisibleSize(index) {
        if (index < 0 || index >= this.viewItems.length) {
            throw new Error('Index out of bounds');
        }
        const viewItem = this.viewItems[index];
        return viewItem.cachedVisibleSize;
    }
    moveView(from, to) {
        const cachedVisibleSize = this.getViewCachedVisibleSize(from);
        const sizing = typeof cachedVisibleSize === 'undefined'
            ? this.getViewSize(from)
            : Sizing.Invisible(cachedVisibleSize);
        const view = this.removeView(from, undefined, true);
        this.addView(view, sizing, to);
    }
    layout(size, orthogonalSize) {
        const previousSize = Math.max(this.size, this._contentSize);
        this.size = size;
        this.orthogonalSize = orthogonalSize;
        if (!this.proportions) {
            const indexes = (0,_math__WEBPACK_IMPORTED_MODULE_3__.range)(this.viewItems.length);
            const lowPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low);
            const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);
            this.resize(this.viewItems.length - 1, size - previousSize, undefined, lowPriorityIndexes, highPriorityIndexes);
        }
        else {
            let total = 0;
            for (let i = 0; i < this.viewItems.length; i++) {
                const item = this.viewItems[i];
                const proportion = this.proportions[i];
                if (typeof proportion === 'number') {
                    total += proportion;
                }
                else {
                    size -= item.size;
                }
            }
            for (let i = 0; i < this.viewItems.length; i++) {
                const item = this.viewItems[i];
                const proportion = this.proportions[i];
                if (typeof proportion === 'number' && total > 0) {
                    item.size = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(Math.round((proportion * size) / total), item.minimumSize, item.maximumSize);
                }
            }
        }
        this.distributeEmptySpace();
        this.layoutViews();
    }
    relayout(lowPriorityIndexes, highPriorityIndexes) {
        const contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);
        this.resize(this.viewItems.length - 1, this._size - contentSize, undefined, lowPriorityIndexes, highPriorityIndexes);
        this.distributeEmptySpace();
        this.layoutViews();
        this.saveProportions();
    }
    distributeEmptySpace(lowPriorityIndex) {
        const contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);
        let emptyDelta = this.size - contentSize;
        const indexes = (0,_math__WEBPACK_IMPORTED_MODULE_3__.range)(this.viewItems.length - 1, -1);
        const lowPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.Low);
        const highPriorityIndexes = indexes.filter((i) => this.viewItems[i].priority === LayoutPriority.High);
        for (const index of highPriorityIndexes) {
            (0,_array__WEBPACK_IMPORTED_MODULE_2__.pushToStart)(indexes, index);
        }
        for (const index of lowPriorityIndexes) {
            (0,_array__WEBPACK_IMPORTED_MODULE_2__.pushToEnd)(indexes, index);
        }
        if (typeof lowPriorityIndex === 'number') {
            (0,_array__WEBPACK_IMPORTED_MODULE_2__.pushToEnd)(indexes, lowPriorityIndex);
        }
        for (let i = 0; emptyDelta !== 0 && i < indexes.length; i++) {
            const item = this.viewItems[indexes[i]];
            const size = (0,_math__WEBPACK_IMPORTED_MODULE_3__.clamp)(item.size + emptyDelta, item.minimumSize, item.maximumSize);
            const viewDelta = size - item.size;
            emptyDelta -= viewDelta;
            item.size = size;
        }
    }
    saveProportions() {
        if (this.proportionalLayout && this._contentSize > 0) {
            this._proportions = this.viewItems.map((i) => i.visible ? i.size / this._contentSize : undefined);
        }
    }
    /**
     * Margin explain:
     *
     * For `n` views in a splitview there will be `n-1` margins `m`.
     *
     * To fit the margins each view must reduce in size by `(m * (n - 1)) / n`.
     *
     * For each view `i` the offet must be adjusted by `m * i/(n - 1)`.
     */
    layoutViews() {
        this._contentSize = this.viewItems.reduce((r, i) => r + i.size, 0);
        this.updateSashEnablement();
        if (this.viewItems.length === 0) {
            return;
        }
        const visibleViewItems = this.viewItems.filter((i) => i.visible);
        const sashCount = Math.max(0, visibleViewItems.length - 1);
        const marginReducedSize = (this.margin * sashCount) / Math.max(1, visibleViewItems.length);
        let totalLeftOffset = 0;
        const viewLeftOffsets = [];
        const sashWidth = 4; // hardcoded in css
        const runningVisiblePanelCount = this.viewItems.reduce((arr, viewItem, i) => {
            const flag = viewItem.visible ? 1 : 0;
            if (i === 0) {
                arr.push(flag);
            }
            else {
                arr.push(arr[i - 1] + flag);
            }
            return arr;
        }, []);
        // calculate both view and cash positions
        this.viewItems.forEach((view, i) => {
            totalLeftOffset += this.viewItems[i].size;
            viewLeftOffsets.push(totalLeftOffset);
            const size = view.visible ? view.size - marginReducedSize : 0;
            const visiblePanelsBeforeThisView = Math.max(0, runningVisiblePanelCount[i] - 1);
            const offset = i === 0 || visiblePanelsBeforeThisView === 0
                ? 0
                : viewLeftOffsets[i - 1] +
                    (visiblePanelsBeforeThisView / sashCount) *
                        marginReducedSize;
            if (i < this.viewItems.length - 1) {
                // calculate sash position
                const newSize = view.visible
                    ? offset + size - sashWidth / 2 + this.margin / 2
                    : offset;
                if (this._orientation === Orientation.HORIZONTAL) {
                    this.sashes[i].container.style.left = `${newSize}px`;
                    this.sashes[i].container.style.top = `0px`;
                }
                if (this._orientation === Orientation.VERTICAL) {
                    this.sashes[i].container.style.left = `0px`;
                    this.sashes[i].container.style.top = `${newSize}px`;
                }
            }
            // calculate view position
            if (this._orientation === Orientation.HORIZONTAL) {
                view.container.style.width = `${size}px`;
                view.container.style.left = `${offset}px`;
                view.container.style.top = '';
                view.container.style.height = '';
            }
            if (this._orientation === Orientation.VERTICAL) {
                view.container.style.height = `${size}px`;
                view.container.style.top = `${offset}px`;
                view.container.style.width = '';
                view.container.style.left = '';
            }
            view.view.layout(view.size - marginReducedSize, this._orthogonalSize);
        });
    }
    findFirstSnapIndex(indexes) {
        // visible views first
        for (const index of indexes) {
            const viewItem = this.viewItems[index];
            if (!viewItem.visible) {
                continue;
            }
            if (viewItem.snap) {
                return index;
            }
        }
        // then, hidden views
        for (const index of indexes) {
            const viewItem = this.viewItems[index];
            if (viewItem.visible &&
                viewItem.maximumSize - viewItem.minimumSize > 0) {
                return undefined;
            }
            if (!viewItem.visible && viewItem.snap) {
                return index;
            }
        }
        return undefined;
    }
    updateSashEnablement() {
        let previous = false;
        const collapsesDown = this.viewItems.map((i) => (previous = i.size - i.minimumSize > 0 || previous));
        previous = false;
        const expandsDown = this.viewItems.map((i) => (previous = i.maximumSize - i.size > 0 || previous));
        const reverseViews = [...this.viewItems].reverse();
        previous = false;
        const collapsesUp = reverseViews
            .map((i) => (previous = i.size - i.minimumSize > 0 || previous))
            .reverse();
        previous = false;
        const expandsUp = reverseViews
            .map((i) => (previous = i.maximumSize - i.size > 0 || previous))
            .reverse();
        let position = 0;
        for (let index = 0; index < this.sashes.length; index++) {
            const sash = this.sashes[index];
            const viewItem = this.viewItems[index];
            position += viewItem.size;
            const min = !(collapsesDown[index] && expandsUp[index + 1]);
            const max = !(expandsDown[index] && collapsesUp[index + 1]);
            if (min && max) {
                const upIndexes = (0,_math__WEBPACK_IMPORTED_MODULE_3__.range)(index, -1);
                const downIndexes = (0,_math__WEBPACK_IMPORTED_MODULE_3__.range)(index + 1, this.viewItems.length);
                const snapBeforeIndex = this.findFirstSnapIndex(upIndexes);
                const snapAfterIndex = this.findFirstSnapIndex(downIndexes);
                const snappedBefore = typeof snapBeforeIndex === 'number' &&
                    !this.viewItems[snapBeforeIndex].visible;
                const snappedAfter = typeof snapAfterIndex === 'number' &&
                    !this.viewItems[snapAfterIndex].visible;
                if (snappedBefore &&
                    collapsesUp[index] &&
                    (position > 0 || this.startSnappingEnabled)) {
                    this.updateSash(sash, SashState.MINIMUM);
                }
                else if (snappedAfter &&
                    collapsesDown[index] &&
                    (position < this._contentSize || this.endSnappingEnabled)) {
                    this.updateSash(sash, SashState.MAXIMUM);
                }
                else {
                    this.updateSash(sash, SashState.DISABLED);
                }
            }
            else if (min && !max) {
                this.updateSash(sash, SashState.MINIMUM);
            }
            else if (!min && max) {
                this.updateSash(sash, SashState.MAXIMUM);
            }
            else {
                this.updateSash(sash, SashState.ENABLED);
            }
        }
    }
    updateSash(sash, state) {
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(sash.container, 'dv-disabled', state === SashState.DISABLED);
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(sash.container, 'dv-enabled', state === SashState.ENABLED);
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(sash.container, 'dv-maximum', state === SashState.MAXIMUM);
        (0,_dom__WEBPACK_IMPORTED_MODULE_0__.toggleClass)(sash.container, 'dv-minimum', state === SashState.MINIMUM);
    }
    createViewContainer() {
        const element = document.createElement('div');
        element.className = 'dv-view-container';
        return element;
    }
    createSashContainer() {
        const element = document.createElement('div');
        element.className = 'dv-sash-container';
        return element;
    }
    createContainer() {
        const element = document.createElement('div');
        const orientationClassname = this._orientation === Orientation.HORIZONTAL
            ? 'dv-horizontal'
            : 'dv-vertical';
        element.className = `dv-split-view-container ${orientationClassname}`;
        return element;
    }
    dispose() {
        this._onDidSashEnd.dispose();
        this._onDidAddView.dispose();
        this._onDidRemoveView.dispose();
        for (let i = 0; i < this.element.children.length; i++) {
            if (this.element.children.item(i) === this.element) {
                this.element.removeChild(this.element);
                break;
            }
        }
        for (const viewItem of this.viewItems) {
            viewItem.dispose();
        }
        this.element.remove();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/splitview/splitviewComponent.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/splitview/splitviewComponent.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SplitviewComponent: () => (/* binding */ SplitviewComponent)
/* harmony export */ });
/* harmony import */ var _lifecycle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lifecycle */ "./node_modules/dockview-core/dist/esm/lifecycle.js");
/* harmony import */ var _splitview__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./splitview */ "./node_modules/dockview-core/dist/esm/splitview/splitview.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");
/* harmony import */ var _resizable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../resizable */ "./node_modules/dockview-core/dist/esm/resizable.js");
/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../dom */ "./node_modules/dockview-core/dist/esm/dom.js");





/**
 * A high-level implementation of splitview that works using 'panels'
 */
class SplitviewComponent extends _resizable__WEBPACK_IMPORTED_MODULE_3__.Resizable {
    get panels() {
        return this.splitview.getViews();
    }
    get options() {
        return this._options;
    }
    get length() {
        return this._panels.size;
    }
    get orientation() {
        return this.splitview.orientation;
    }
    get splitview() {
        return this._splitview;
    }
    set splitview(value) {
        if (this._splitview) {
            this._splitview.dispose();
        }
        this._splitview = value;
        this._splitviewChangeDisposable.value = new _lifecycle__WEBPACK_IMPORTED_MODULE_0__.CompositeDisposable(this._splitview.onDidSashEnd(() => {
            this._onDidLayoutChange.fire(undefined);
        }), this._splitview.onDidAddView((e) => this._onDidAddView.fire(e)), this._splitview.onDidRemoveView((e) => this._onDidRemoveView.fire(e)));
    }
    get minimumSize() {
        return this.splitview.minimumSize;
    }
    get maximumSize() {
        return this.splitview.maximumSize;
    }
    get height() {
        return this.splitview.orientation === _splitview__WEBPACK_IMPORTED_MODULE_1__.Orientation.HORIZONTAL
            ? this.splitview.orthogonalSize
            : this.splitview.size;
    }
    get width() {
        return this.splitview.orientation === _splitview__WEBPACK_IMPORTED_MODULE_1__.Orientation.HORIZONTAL
            ? this.splitview.size
            : this.splitview.orthogonalSize;
    }
    constructor(container, options) {
        var _a;
        super(document.createElement('div'), options.disableAutoResizing);
        this._splitviewChangeDisposable = new _lifecycle__WEBPACK_IMPORTED_MODULE_0__.MutableDisposable();
        this._panels = new Map();
        this._onDidLayoutfromJSON = new _events__WEBPACK_IMPORTED_MODULE_2__.Emitter();
        this.onDidLayoutFromJSON = this._onDidLayoutfromJSON.event;
        this._onDidAddView = new _events__WEBPACK_IMPORTED_MODULE_2__.Emitter();
        this.onDidAddView = this._onDidAddView.event;
        this._onDidRemoveView = new _events__WEBPACK_IMPORTED_MODULE_2__.Emitter();
        this.onDidRemoveView = this._onDidRemoveView.event;
        this._onDidLayoutChange = new _events__WEBPACK_IMPORTED_MODULE_2__.Emitter();
        this.onDidLayoutChange = this._onDidLayoutChange.event;
        this.element.style.height = '100%';
        this.element.style.width = '100%';
        this._classNames = new _dom__WEBPACK_IMPORTED_MODULE_4__.Classnames(this.element);
        this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');
        // the container is owned by the third-party, do not modify/delete it
        container.appendChild(this.element);
        this._options = options;
        this.splitview = new _splitview__WEBPACK_IMPORTED_MODULE_1__.Splitview(this.element, options);
        this.addDisposables(this._onDidAddView, this._onDidLayoutfromJSON, this._onDidRemoveView, this._onDidLayoutChange);
    }
    updateOptions(options) {
        var _a, _b;
        if ('className' in options) {
            this._classNames.setClassNames((_a = options.className) !== null && _a !== void 0 ? _a : '');
        }
        if ('disableResizing' in options) {
            this.disableResizing = (_b = options.disableAutoResizing) !== null && _b !== void 0 ? _b : false;
        }
        if (typeof options.orientation === 'string') {
            this.splitview.orientation = options.orientation;
        }
        this._options = Object.assign(Object.assign({}, this.options), options);
        this.splitview.layout(this.splitview.size, this.splitview.orthogonalSize);
    }
    focus() {
        var _a;
        (_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.focus();
    }
    movePanel(from, to) {
        this.splitview.moveView(from, to);
    }
    setVisible(panel, visible) {
        const index = this.panels.indexOf(panel);
        this.splitview.setViewVisible(index, visible);
    }
    setActive(panel, skipFocus) {
        this._activePanel = panel;
        this.panels
            .filter((v) => v !== panel)
            .forEach((v) => {
            v.api._onDidActiveChange.fire({ isActive: false });
            if (!skipFocus) {
                v.focus();
            }
        });
        panel.api._onDidActiveChange.fire({ isActive: true });
        if (!skipFocus) {
            panel.focus();
        }
    }
    removePanel(panel, sizing) {
        const item = this._panels.get(panel.id);
        if (!item) {
            throw new Error(`unknown splitview panel ${panel.id}`);
        }
        item.dispose();
        this._panels.delete(panel.id);
        const index = this.panels.findIndex((_) => _ === panel);
        const removedView = this.splitview.removeView(index, sizing);
        removedView.dispose();
        const panels = this.panels;
        if (panels.length > 0) {
            this.setActive(panels[panels.length - 1]);
        }
    }
    getPanel(id) {
        return this.panels.find((view) => view.id === id);
    }
    addPanel(options) {
        var _a;
        if (this._panels.has(options.id)) {
            throw new Error(`panel ${options.id} already exists`);
        }
        const view = this.options.createComponent({
            id: options.id,
            name: options.component,
        });
        view.orientation = this.splitview.orientation;
        view.init({
            params: (_a = options.params) !== null && _a !== void 0 ? _a : {},
            minimumSize: options.minimumSize,
            maximumSize: options.maximumSize,
            snap: options.snap,
            priority: options.priority,
            accessor: this,
        });
        const size = typeof options.size === 'number' ? options.size : _splitview__WEBPACK_IMPORTED_MODULE_1__.Sizing.Distribute;
        const index = typeof options.index === 'number' ? options.index : undefined;
        this.splitview.addView(view, size, index);
        this.doAddView(view);
        this.setActive(view);
        return view;
    }
    layout(width, height) {
        const [size, orthogonalSize] = this.splitview.orientation === _splitview__WEBPACK_IMPORTED_MODULE_1__.Orientation.HORIZONTAL
            ? [width, height]
            : [height, width];
        this.splitview.layout(size, orthogonalSize);
    }
    doAddView(view) {
        const disposable = view.api.onDidFocusChange((event) => {
            if (!event.isFocused) {
                return;
            }
            this.setActive(view, true);
        });
        this._panels.set(view.id, disposable);
    }
    toJSON() {
        var _a;
        const views = this.splitview
            .getViews()
            .map((view, i) => {
            const size = this.splitview.getViewSize(i);
            return {
                size,
                data: view.toJSON(),
                snap: !!view.snap,
                priority: view.priority,
            };
        });
        return {
            views,
            activeView: (_a = this._activePanel) === null || _a === void 0 ? void 0 : _a.id,
            size: this.splitview.size,
            orientation: this.splitview.orientation,
        };
    }
    fromJSON(serializedSplitview) {
        this.clear();
        const { views, orientation, size, activeView } = serializedSplitview;
        const queue = [];
        // take note of the existing dimensions
        const width = this.width;
        const height = this.height;
        this.splitview = new _splitview__WEBPACK_IMPORTED_MODULE_1__.Splitview(this.element, {
            orientation,
            proportionalLayout: this.options.proportionalLayout,
            descriptor: {
                size,
                views: views.map((view) => {
                    const data = view.data;
                    if (this._panels.has(data.id)) {
                        throw new Error(`panel ${data.id} already exists`);
                    }
                    const panel = this.options.createComponent({
                        id: data.id,
                        name: data.component,
                    });
                    queue.push(() => {
                        var _a;
                        panel.init({
                            params: (_a = data.params) !== null && _a !== void 0 ? _a : {},
                            minimumSize: data.minimumSize,
                            maximumSize: data.maximumSize,
                            snap: view.snap,
                            priority: view.priority,
                            accessor: this,
                        });
                    });
                    panel.orientation = orientation;
                    this.doAddView(panel);
                    setTimeout(() => {
                        // the original onDidAddView events are missed since they are fired before we can subcribe to them
                        this._onDidAddView.fire(panel);
                    }, 0);
                    return { size: view.size, view: panel };
                }),
            },
        });
        this.layout(width, height);
        queue.forEach((f) => f());
        if (typeof activeView === 'string') {
            const panel = this.getPanel(activeView);
            if (panel) {
                this.setActive(panel);
            }
        }
        this._onDidLayoutfromJSON.fire();
    }
    clear() {
        for (const disposable of this._panels.values()) {
            disposable.dispose();
        }
        this._panels.clear();
        while (this.splitview.length > 0) {
            const view = this.splitview.removeView(0, _splitview__WEBPACK_IMPORTED_MODULE_1__.Sizing.Distribute, true);
            view.dispose();
        }
    }
    dispose() {
        for (const disposable of this._panels.values()) {
            disposable.dispose();
        }
        this._panels.clear();
        const views = this.splitview.getViews();
        this._splitviewChangeDisposable.dispose();
        this.splitview.dispose();
        for (const view of views) {
            view.dispose();
        }
        this.element.remove();
        super.dispose();
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/splitview/splitviewPanel.js":
/*!*************************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/splitview/splitviewPanel.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SplitviewPanel: () => (/* binding */ SplitviewPanel)
/* harmony export */ });
/* harmony import */ var _gridview_basePanelView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../gridview/basePanelView */ "./node_modules/dockview-core/dist/esm/gridview/basePanelView.js");
/* harmony import */ var _api_splitviewPanelApi__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../api/splitviewPanelApi */ "./node_modules/dockview-core/dist/esm/api/splitviewPanelApi.js");
/* harmony import */ var _splitview__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./splitview */ "./node_modules/dockview-core/dist/esm/splitview/splitview.js");
/* harmony import */ var _events__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../events */ "./node_modules/dockview-core/dist/esm/events.js");




class SplitviewPanel extends _gridview_basePanelView__WEBPACK_IMPORTED_MODULE_0__.BasePanelView {
    get priority() {
        return this._priority;
    }
    set orientation(value) {
        this._orientation = value;
    }
    get orientation() {
        return this._orientation;
    }
    get minimumSize() {
        const size = typeof this._minimumSize === 'function'
            ? this._minimumSize()
            : this._minimumSize;
        if (size !== this._evaluatedMinimumSize) {
            this._evaluatedMinimumSize = size;
            this.updateConstraints();
        }
        return size;
    }
    get maximumSize() {
        const size = typeof this._maximumSize === 'function'
            ? this._maximumSize()
            : this._maximumSize;
        if (size !== this._evaluatedMaximumSize) {
            this._evaluatedMaximumSize = size;
            this.updateConstraints();
        }
        return size;
    }
    get snap() {
        return this._snap;
    }
    constructor(id, componentName) {
        super(id, componentName, new _api_splitviewPanelApi__WEBPACK_IMPORTED_MODULE_1__.SplitviewPanelApiImpl(id, componentName));
        this._evaluatedMinimumSize = 0;
        this._evaluatedMaximumSize = Number.POSITIVE_INFINITY;
        this._minimumSize = 0;
        this._maximumSize = Number.POSITIVE_INFINITY;
        this._snap = false;
        this._onDidChange = new _events__WEBPACK_IMPORTED_MODULE_3__.Emitter();
        this.onDidChange = this._onDidChange.event;
        this.api.initialize(this);
        this.addDisposables(this._onDidChange, this.api.onWillVisibilityChange((event) => {
            const { isVisible } = event;
            const { accessor } = this._params;
            accessor.setVisible(this, isVisible);
        }), this.api.onActiveChange(() => {
            const { accessor } = this._params;
            accessor.setActive(this);
        }), this.api.onDidConstraintsChangeInternal((event) => {
            if (typeof event.minimumSize === 'number' ||
                typeof event.minimumSize === 'function') {
                this._minimumSize = event.minimumSize;
            }
            if (typeof event.maximumSize === 'number' ||
                typeof event.maximumSize === 'function') {
                this._maximumSize = event.maximumSize;
            }
            this.updateConstraints();
        }), this.api.onDidSizeChange((event) => {
            this._onDidChange.fire({ size: event.size });
        }));
    }
    setVisible(isVisible) {
        this.api._onDidVisibilityChange.fire({ isVisible });
    }
    setActive(isActive) {
        this.api._onDidActiveChange.fire({ isActive });
    }
    layout(size, orthogonalSize) {
        const [width, height] = this.orientation === _splitview__WEBPACK_IMPORTED_MODULE_2__.Orientation.HORIZONTAL
            ? [size, orthogonalSize]
            : [orthogonalSize, size];
        super.layout(width, height);
    }
    init(parameters) {
        super.init(parameters);
        this._priority = parameters.priority;
        if (parameters.minimumSize) {
            this._minimumSize = parameters.minimumSize;
        }
        if (parameters.maximumSize) {
            this._maximumSize = parameters.maximumSize;
        }
        if (parameters.snap) {
            this._snap = parameters.snap;
        }
    }
    toJSON() {
        const maximum = (value) => value === Number.MAX_SAFE_INTEGER ||
            value === Number.POSITIVE_INFINITY
            ? undefined
            : value;
        const minimum = (value) => (value <= 0 ? undefined : value);
        return Object.assign(Object.assign({}, super.toJSON()), { minimumSize: minimum(this.minimumSize), maximumSize: maximum(this.maximumSize) });
    }
    updateConstraints() {
        this.api._onDidConstraintsChange.fire({
            maximumSize: this._evaluatedMaximumSize,
            minimumSize: this._evaluatedMinimumSize,
        });
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/splitview/viewItem.js":
/*!*******************************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/splitview/viewItem.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ViewItem: () => (/* binding */ ViewItem)
/* harmony export */ });
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../math */ "./node_modules/dockview-core/dist/esm/math.js");

class ViewItem {
    set size(size) {
        this._size = size;
    }
    get size() {
        return this._size;
    }
    get cachedVisibleSize() {
        return this._cachedVisibleSize;
    }
    get visible() {
        return typeof this._cachedVisibleSize === 'undefined';
    }
    get minimumSize() {
        return this.visible ? this.view.minimumSize : 0;
    }
    get viewMinimumSize() {
        return this.view.minimumSize;
    }
    get maximumSize() {
        return this.visible ? this.view.maximumSize : 0;
    }
    get viewMaximumSize() {
        return this.view.maximumSize;
    }
    get priority() {
        return this.view.priority;
    }
    get snap() {
        return !!this.view.snap;
    }
    set enabled(enabled) {
        this.container.style.pointerEvents = enabled ? '' : 'none';
    }
    constructor(container, view, size, disposable) {
        this.container = container;
        this.view = view;
        this.disposable = disposable;
        this._cachedVisibleSize = undefined;
        if (typeof size === 'number') {
            this._size = size;
            this._cachedVisibleSize = undefined;
            container.classList.add('visible');
        }
        else {
            this._size = 0;
            this._cachedVisibleSize = size.cachedVisibleSize;
        }
    }
    setVisible(visible, size) {
        var _a;
        if (visible === this.visible) {
            return;
        }
        if (visible) {
            this.size = (0,_math__WEBPACK_IMPORTED_MODULE_0__.clamp)((_a = this._cachedVisibleSize) !== null && _a !== void 0 ? _a : 0, this.viewMinimumSize, this.viewMaximumSize);
            this._cachedVisibleSize = undefined;
        }
        else {
            this._cachedVisibleSize =
                typeof size === 'number' ? size : this.size;
            this.size = 0;
        }
        this.container.classList.toggle('visible', visible);
        if (this.view.setVisible) {
            this.view.setVisible(visible);
        }
    }
    dispose() {
        this.disposable.dispose();
        return this.view;
    }
}


/***/ }),

/***/ "./node_modules/dockview-core/dist/esm/svg.js":
/*!****************************************************!*\
  !*** ./node_modules/dockview-core/dist/esm/svg.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createChevronRightButton: () => (/* binding */ createChevronRightButton),
/* harmony export */   createCloseButton: () => (/* binding */ createCloseButton),
/* harmony export */   createExpandMoreButton: () => (/* binding */ createExpandMoreButton)
/* harmony export */ });
const createSvgElementFromPath = (params) => {
    const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    svg.setAttributeNS(null, 'height', params.height);
    svg.setAttributeNS(null, 'width', params.width);
    svg.setAttributeNS(null, 'viewBox', params.viewbox);
    svg.setAttributeNS(null, 'aria-hidden', 'false');
    svg.setAttributeNS(null, 'focusable', 'false');
    svg.classList.add('dv-svg');
    const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
    path.setAttributeNS(null, 'd', params.path);
    svg.appendChild(path);
    return svg;
};
const createCloseButton = () => createSvgElementFromPath({
    width: '11',
    height: '11',
    viewbox: '0 0 28 28',
    path: 'M2.1 27.3L0 25.2L11.55 13.65L0 2.1L2.1 0L13.65 11.55L25.2 0L27.3 2.1L15.75 13.65L27.3 25.2L25.2 27.3L13.65 15.75L2.1 27.3Z',
});
const createExpandMoreButton = () => createSvgElementFromPath({
    width: '11',
    height: '11',
    viewbox: '0 0 24 15',
    path: 'M12 14.15L0 2.15L2.15 0L12 9.9L21.85 0.0499992L24 2.2L12 14.15Z',
});
const createChevronRightButton = () => createSvgElementFromPath({
    width: '11',
    height: '11',
    viewbox: '0 0 15 25',
    path: 'M2.15 24.1L0 21.95L9.9 12.05L0 2.15L2.15 0L14.2 12.05L2.15 24.1Z',
});


/***/ }),

/***/ "./node_modules/dockview-core/dist/styles/dockview.css":
/*!*************************************************************!*\
  !*** ./node_modules/dockview-core/dist/styles/dockview.css ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _css_loader_dist_cjs_js_ruleSet_1_rules_0_use_1_dockview_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!./dockview.css */ "./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[0].use[1]!./node_modules/dockview-core/dist/styles/dockview.css");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());
options.insert = _style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
options.domAPI = (_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_css_loader_dist_cjs_js_ruleSet_1_rules_0_use_1_dockview_css__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_css_loader_dist_cjs_js_ruleSet_1_rules_0_use_1_dockview_css__WEBPACK_IMPORTED_MODULE_6__["default"] && _css_loader_dist_cjs_js_ruleSet_1_rules_0_use_1_dockview_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _css_loader_dist_cjs_js_ruleSet_1_rules_0_use_1_dockview_css__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {



var stylesInDOM = [];
function getIndexByIdentifier(identifier) {
  var result = -1;
  for (var i = 0; i < stylesInDOM.length; i++) {
    if (stylesInDOM[i].identifier === identifier) {
      result = i;
      break;
    }
  }
  return result;
}
function modulesToDom(list, options) {
  var idCountMap = {};
  var identifiers = [];
  for (var i = 0; i < list.length; i++) {
    var item = list[i];
    var id = options.base ? item[0] + options.base : item[0];
    var count = idCountMap[id] || 0;
    var identifier = "".concat(id, " ").concat(count);
    idCountMap[id] = count + 1;
    var indexByIdentifier = getIndexByIdentifier(identifier);
    var obj = {
      css: item[1],
      media: item[2],
      sourceMap: item[3],
      supports: item[4],
      layer: item[5]
    };
    if (indexByIdentifier !== -1) {
      stylesInDOM[indexByIdentifier].references++;
      stylesInDOM[indexByIdentifier].updater(obj);
    } else {
      var updater = addElementStyle(obj, options);
      options.byIndex = i;
      stylesInDOM.splice(i, 0, {
        identifier: identifier,
        updater: updater,
        references: 1
      });
    }
    identifiers.push(identifier);
  }
  return identifiers;
}
function addElementStyle(obj, options) {
  var api = options.domAPI(options);
  api.update(obj);
  var updater = function updater(newObj) {
    if (newObj) {
      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {
        return;
      }
      api.update(obj = newObj);
    } else {
      api.remove();
    }
  };
  return updater;
}
module.exports = function (list, options) {
  options = options || {};
  list = list || [];
  var lastIdentifiers = modulesToDom(list, options);
  return function update(newList) {
    newList = newList || [];
    for (var i = 0; i < lastIdentifiers.length; i++) {
      var identifier = lastIdentifiers[i];
      var index = getIndexByIdentifier(identifier);
      stylesInDOM[index].references--;
    }
    var newLastIdentifiers = modulesToDom(newList, options);
    for (var _i = 0; _i < lastIdentifiers.length; _i++) {
      var _identifier = lastIdentifiers[_i];
      var _index = getIndexByIdentifier(_identifier);
      if (stylesInDOM[_index].references === 0) {
        stylesInDOM[_index].updater();
        stylesInDOM.splice(_index, 1);
      }
    }
    lastIdentifiers = newLastIdentifiers;
  };
};

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {



var memo = {};

/* istanbul ignore next  */
function getTarget(target) {
  if (typeof memo[target] === "undefined") {
    var styleTarget = document.querySelector(target);

    // Special case to return head of iframe instead of iframe itself
    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
      try {
        // This will throw an exception if access to iframe is blocked
        // due to cross-origin restrictions
        styleTarget = styleTarget.contentDocument.head;
      } catch (e) {
        // istanbul ignore next
        styleTarget = null;
      }
    }
    memo[target] = styleTarget;
  }
  return memo[target];
}

/* istanbul ignore next  */
function insertBySelector(insert, style) {
  var target = getTarget(insert);
  if (!target) {
    throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
  }
  target.appendChild(style);
}
module.exports = insertBySelector;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function insertStyleElement(options) {
  var element = document.createElement("style");
  options.setAttributes(element, options.attributes);
  options.insert(element, options.options);
  return element;
}
module.exports = insertStyleElement;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {



/* istanbul ignore next  */
function setAttributesWithoutAttributes(styleElement) {
  var nonce =  true ? __webpack_require__.nc : 0;
  if (nonce) {
    styleElement.setAttribute("nonce", nonce);
  }
}
module.exports = setAttributesWithoutAttributes;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function apply(styleElement, options, obj) {
  var css = "";
  if (obj.supports) {
    css += "@supports (".concat(obj.supports, ") {");
  }
  if (obj.media) {
    css += "@media ".concat(obj.media, " {");
  }
  var needLayer = typeof obj.layer !== "undefined";
  if (needLayer) {
    css += "@layer".concat(obj.layer.length > 0 ? " ".concat(obj.layer) : "", " {");
  }
  css += obj.css;
  if (needLayer) {
    css += "}";
  }
  if (obj.media) {
    css += "}";
  }
  if (obj.supports) {
    css += "}";
  }
  var sourceMap = obj.sourceMap;
  if (sourceMap && typeof btoa !== "undefined") {
    css += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), " */");
  }

  // For old IE
  /* istanbul ignore if  */
  options.styleTagTransform(css, styleElement, options.options);
}
function removeStyleElement(styleElement) {
  // istanbul ignore if
  if (styleElement.parentNode === null) {
    return false;
  }
  styleElement.parentNode.removeChild(styleElement);
}

/* istanbul ignore next  */
function domAPI(options) {
  if (typeof document === "undefined") {
    return {
      update: function update() {},
      remove: function remove() {}
    };
  }
  var styleElement = options.insertStyleElement(options);
  return {
    update: function update(obj) {
      apply(styleElement, options, obj);
    },
    remove: function remove() {
      removeStyleElement(styleElement);
    }
  };
}
module.exports = domAPI;

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {



/* istanbul ignore next  */
function styleTagTransform(css, styleElement) {
  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css;
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild);
    }
    styleElement.appendChild(document.createTextNode(css));
  }
}
module.exports = styleTagTransform;

/***/ }),

/***/ "./srcjs/modules/components.js":
/*!*************************************!*\
  !*** ./srcjs/modules/components.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomTab: () => (/* binding */ CustomTab),
/* harmony export */   DefaultTab: () => (/* binding */ DefaultTab),
/* harmony export */   LeftHeader: () => (/* binding */ LeftHeader),
/* harmony export */   Panel: () => (/* binding */ Panel),
/* harmony export */   RightHeader: () => (/* binding */ RightHeader)
/* harmony export */ });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "./srcjs/modules/utils.js");

class Panel {
  get element() {
    return this._element
  }

  constructor() {
    this._element = document.createElement('div')
  }

  init(config) {
    let dockId = config.containerApi.component.gridview.element.closest('.dockview').attributes.id.textContent;
    this._element.id = dockId + '-' + config.api.id;
    this._element.innerHTML = config.params.content.html
    this._element.className = 'dockview-panel'
    this._element.style = config.params.style
  }
}

// Tab with custom remove button
class DefaultTab {
  constructor() {
    this._element = document.createElement('div');
    this._element.className = 'dv-default-tab';

    this._content = document.createElement('div');
    this._content.className = 'dv-default-tab-content';

    this.action = document.createElement('div');
    this.action.className = 'dv-default-tab-action';
    this.action.innerHTML = '<i class="fas fa-xmark" role="presentation" aria-label="close icon"></i>';

    this._element.appendChild(this._content);
    this._element.appendChild(this.action);
  }

  get element() {
    return this._element;
  }

  init(config) {
    let dockId = config.containerApi.component.gridview.element.closest('.dockview').attributes.id.textContent;
    this._element.id = dockId + '-tab-' + config.api.id;
    this._content.textContent = config.title;
    this.action.addEventListener('click', (e) => {
      // Send callback to Shiny for control from the server side
      Shiny.setInputValue(`${dockId}_panel-to-remove`, config.api.id, { priority: 'event' });
    })
  }
}

// Tab without remove button
class CustomTab {
  constructor() {
    this._element = document.createElement('div');
  }

  get element() {
    return this._element;
  }

  init(config) {
    let dockId = config.containerApi.component.gridview.element.closest('.dockview').attributes.id.textContent;
    this._element.id = dockId + '-tab-' + config.api.id;
    this.e1 = document.createElement('div');
    this.e1.textContent = config.title;
    this.e2 = document.createElement('span');

    this._element.append(this.e1, this.e2);
  }
}

class RightHeader {
  get element() {
    return this._element
  }

  constructor() {
    this._element = document.createElement('div')
  }

  init(config) {
    this._element.style = 'height: 100%; padding: 8px'
    this._element.innerHTML = '<i class="fas fa-expand" role="presentation" aria-label="expand icon"></i>'
    this._element.addEventListener('click', (e) => {
      if (!config.api.isMaximized()) {
        e.target.classList.remove('fa-expand');
        e.target.classList.add('fa-compress');
        config.api.maximize();
      } else {
        config.api.exitMaximized();
        e.target.classList.remove('fa-compress');
        e.target.classList.add('fa-expand');
      }
    });
  }
  dispose() {
    // Necessary to avoid a JS error when moving a panel
    // inside another one to get nested tabs
  }
}

class LeftHeader {
  get element() {
    return this._element
  }

  constructor() {
    this._element = document.createElement('div')
  }

  init(config) {
    // If addTab is false, we do not need to render this component
    if (!config.group._params.params.addTab.enable) return null;
    this._element.style = 'height: 100%; padding: 8px'
    this._element.innerHTML = '<i class="fas fa-plus" role="presentation" aria-label="plus icon"></i>'
    this._element.addEventListener('click', (e) => {
      config.group._params.addTab.callback(config);
    });
  }
  dispose() {
    // Necessary to avoid a JS error when moving a panel
    // inside another one to get nested tabs
  }
}



/***/ }),

/***/ "./srcjs/modules/utils.js":
/*!********************************!*\
  !*** ./srcjs/modules/utils.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addPanel: () => (/* binding */ addPanel),
/* harmony export */   defaultPanel: () => (/* binding */ defaultPanel),
/* harmony export */   matchTheme: () => (/* binding */ matchTheme),
/* harmony export */   moveGroup: () => (/* binding */ moveGroup),
/* harmony export */   moveGroup2: () => (/* binding */ moveGroup2),
/* harmony export */   movePanel: () => (/* binding */ movePanel),
/* harmony export */   removePanel: () => (/* binding */ removePanel),
/* harmony export */   saveDock: () => (/* binding */ saveDock),
/* harmony export */   selectPanel: () => (/* binding */ selectPanel)
/* harmony export */ });
/* harmony import */ var dockview_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! dockview-core */ "./node_modules/dockview-core/dist/esm/index.js");


const matchTheme = (theme) => {
  let res;
  switch (theme) {
    case 'light':
      res = dockview_core__WEBPACK_IMPORTED_MODULE_0__.themeLight
      break
    case 'light-spaced':
      res = dockview_core__WEBPACK_IMPORTED_MODULE_0__.themeLightSpaced
      break
    case 'abyss':
      res = dockview_core__WEBPACK_IMPORTED_MODULE_0__.themeAbyss
      break
    case 'abyss-spaced':
      res = dockview_core__WEBPACK_IMPORTED_MODULE_0__.themeAbyssSpaced
      break
    case 'vs':
      res = dockview_core__WEBPACK_IMPORTED_MODULE_0__.themeVisualStudio
      break
    case 'dark':
      res = dockview_core__WEBPACK_IMPORTED_MODULE_0__.themeDark
      break
    case 'dracula':
      res = dockview_core__WEBPACK_IMPORTED_MODULE_0__.themeDracula
      break
    case 'replit':
      res = dockview_core__WEBPACK_IMPORTED_MODULE_0__.themeReplit
      break
    default:
      res = dockview_core__WEBPACK_IMPORTED_MODULE_0__.themeLightSpaced
  }
  return (res)
}

const sendNotification = (message, type = "error", duration = null) => {
  if (HTMLWidgets.shinyMode) {
    Shiny.notifications.show({
      html: message,
      type: type,
      duration: duration
    });
  } else {
    alert(message);
  }
}

// Custom eval depending on dockViewR mode
const evalDockView = (callback, mode) => {
  switch (mode) {
    case 'dev':
      try {
        callback();
      } catch (error) {
        // Get the caller function name from stack trace
        const stack = new Error().stack;
        const callerMatch = stack.split('\n')[2]?.match(/at (\w+)/);
        const callerName = callerMatch ? callerMatch[1] : 'unknown';

        sendNotification(`Error in ${callerName}: ${error.message}`);
      }
      break;
    case 'prod':
      callback();
      break;
    default:
      break;
  }
}

const validatedDockElement = (api, id, type, context = '') => {
  let fun;
  switch (type) {
    case 'panel':
      fun = (id) => api.getPanel(id);
      break;
    case 'group':
      fun = (id) => api.getGroup(id);
    default:
      break;
  }
  const res = fun(id);
  if (!res) {
    throw new Error(`${context}${type} with ID '${id}' not found`);
  }
  return res;
};

const addPanel = (panel, mode, api) => {
  let internals = {
    component: 'default',
    params: {
      content: panel.content,
      style: panel.style
    }
  }

  // Handle removable option. If no,
  // use the default tab component without the close panel button.
  if (!panel.remove.enable) {
    internals.tabComponent = 'custom';
  } else {
    if (panel.remove.mode === 'manual') {
      internals.tabComponent = 'manual';
    }
  }
  let props = { ...panel, ...internals };
  evalDockView(() => api.addPanel(props), mode)
}

const removePanel = (id, mode, api) => {
  evalDockView(() => {
    let panel = validatedDockElement(api, id, 'panel');
    api.removePanel(panel);
  }, mode)
}

const selectPanel = (id, mode, api) => {
  evalDockView(() => {
    let panel = validatedDockElement(api, id, 'panel');
    panel.api.setActive();
  }, mode);
}

const movePanel = (m, mode, api) => {
  evalDockView(() => {
    let panel = validatedDockElement(api, m.id, 'panel');
    // Move relative to another group
    if (m.options.group !== undefined) {
      let groupTarget = validatedDockElement(
        api,
        m.options.group,
        'panel',
        'Target group '
      );
      panel.api.moveTo({
        group: groupTarget.api.group,
        position: m.options.position,
      })
      return null;
    }
    // Move panel inside the same group using 'index' only
    panel.api.moveTo(m.options);
  }, mode);
}

const moveGroup = (m, mode, api) => {
  evalDockView(() => {
    let from = validatedDockElement(api, m.id, 'group');
    // Move relative to another group
    let target = validatedDockElement(api, m.options.to, 'group');
    from.api.moveTo({
      group: target,
      position: m.options.position
    });
  }, mode)
}

const moveGroup2 = (m, mode, api) => {
  evalDockView(() => {
    let panel = validatedDockElement(api, m.id, 'panel');
    // Move relative to another group
    let groupTarget = validatedDockElement(
      api,
      m.options.to,
      'panel',
      'Target group'
    );
    panel.group.api.moveTo({
      group: groupTarget.api.group,
      position: m.options.position
    });
  }, mode)
}

const defaultPanel = (pnId) => {
  return (`
    <p>Exchange me by running:</p>
    <p>removeUI(<br>
      &nbsp;&nbsp;selector = "#${pnId} > *",<br>
      &nbsp;&nbsp;multiple = TRUE<br>
    )</p>
    <p>shiny::insertUI(<br>
          &nbsp;&nbsp;selector = "#${pnId}",<br>
          &nbsp;&nbsp;where = "beforeEnd",<br>
          &nbsp;&nbsp;ui = "your ui code here"<br>
    )</p>
  `)
}

const clean_dock_state = (state) => {
  // Strip out unecessary information (deps, head, singletons as they should be already inserted
  // in the DOM when the widget is created, so no need to keep them forever)
  state.panels = Object.fromEntries(
    Object.entries(state.panels).map(([key, value]) => [
      key,
      {
        ...value,
        params: {
          ...value.params,
          content: {
            html: value.params.content.html // only need the HTML content
          }
        }
      }
    ])
  );
  return (state)
}

const saveDock = (id, api) => {
  const state = clean_dock_state(api.toJSON())
  Shiny.setInputValue(id + "_state", state, { priority: 'event' });
}



/***/ }),

/***/ "widgets":
/*!******************************!*\
  !*** external "HTMLWidgets" ***!
  \******************************/
/***/ ((module) => {

module.exports = HTMLWidgets;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry needs to be wrapped in an IIFE because it needs to be isolated against other modules in the chunk.
(() => {
/*!***********************************!*\
  !*** ./srcjs/widgets/dockview.js ***!
  \***********************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var widgets__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! widgets */ "widgets");
/* harmony import */ var widgets__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(widgets__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var dockview_core_dist_styles_dockview_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dockview-core/dist/styles/dockview.css */ "./node_modules/dockview-core/dist/styles/dockview.css");
/* harmony import */ var dockview_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! dockview-core */ "./node_modules/dockview-core/dist/esm/index.js");
/* harmony import */ var _modules_components__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/components */ "./srcjs/modules/components.js");
/* harmony import */ var _modules_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../modules/utils */ "./srcjs/modules/utils.js");







HTMLWidgets.widget({

  name: 'dockview',

  type: 'output',

  factory: function (el, width, height) {

    let api;

    return {

      renderValue: function (x, id = el.id) {

        // Instantiate dockView
        api = (0,dockview_core__WEBPACK_IMPORTED_MODULE_2__.createDockview)(document.getElementById(id), {
          theme: (0,_modules_utils__WEBPACK_IMPORTED_MODULE_4__.matchTheme)(x.theme),
          createRightHeaderActionComponent: (options) => {
            return new _modules_components__WEBPACK_IMPORTED_MODULE_3__.RightHeader(options)
          },
          createLeftHeaderActionComponent: (options) => {
            options._params.params.addTab = x.addTab;
            return new _modules_components__WEBPACK_IMPORTED_MODULE_3__.LeftHeader(options)
          },
          createComponent: (options) => {
            switch (options.name) {
              case 'default':
                return new _modules_components__WEBPACK_IMPORTED_MODULE_3__.Panel(options)
            }
          },
          createTabComponent: (options) => {
            switch (options.name) {
              case 'manual':
                return new _modules_components__WEBPACK_IMPORTED_MODULE_3__.DefaultTab();
              case 'custom':
                return new _modules_components__WEBPACK_IMPORTED_MODULE_3__.CustomTab();
            }
          },
          // Spread operator to include all other options from x
          ...Object.keys(x).reduce((acc, key) => {
            if (!['theme', 'addTab'].includes(key)) {
              acc[key] = x[key];
            }
            return acc;
          }, {})
        })

        // Resize panel content on layout change
        // (useful so that plots or widgets resize correctly)
        // Also update the dock state.
        api.onDidLayoutChange(() => {
          window.dispatchEvent(new Event('resize'));
          if (HTMLWidgets.shinyMode) {
            (0,_modules_utils__WEBPACK_IMPORTED_MODULE_4__.saveDock)(id, api)
            api.panels.map((panel) => {
              let pane = `#${id}-${panel.id}`;
              Shiny.initializeInputs($(pane));
              Shiny.bindAll($(pane));
            })
          }
        })

        // When restored, we need to sync the new state for Shiny
        api.onDidLayoutFromJSON(() => {
          ;(0,_modules_utils__WEBPACK_IMPORTED_MODULE_4__.saveDock)(id, api)
        })

        api.onDidMaximizedGroupChange((e) => {
          window.dispatchEvent(new Event('resize'));
        })

        api.onDidAddPanel((e) => {
          if (HTMLWidgets.shinyMode) {
            Shiny.setInputValue(id + '_added-panel', e.id, { priority: 'event' });
          }
        })

        api.onDidRemovePanel((e) => {
          if (HTMLWidgets.shinyMode) {
            Shiny.setInputValue(id + '_removed-panel', e.id, { priority: 'event' });
          }
        })

        // Init panels
        x.panels.map((panel) => {
          ;(0,_modules_utils__WEBPACK_IMPORTED_MODULE_4__.addPanel)(panel, x.mode, api);
        });

        if (HTMLWidgets.shinyMode) {
          Shiny.addCustomMessageHandler(el.id + '_add-panel', (panel) => {
            (0,_modules_utils__WEBPACK_IMPORTED_MODULE_4__.addPanel)(panel, x.mode, api);
          });

          Shiny.addCustomMessageHandler(el.id + '_rm-panel', (id) => {
            (0,_modules_utils__WEBPACK_IMPORTED_MODULE_4__.removePanel)(id, x.mode, api);
          })

          Shiny.addCustomMessageHandler(el.id + '_move-panel', (m) => {
            ;(0,_modules_utils__WEBPACK_IMPORTED_MODULE_4__.movePanel)(m, x.mode, api)
          })

          Shiny.addCustomMessageHandler(el.id + '_select-panel', (id) => {
            ;(0,_modules_utils__WEBPACK_IMPORTED_MODULE_4__.selectPanel)(id, x.mode, api);
          })

          // Force save dock
          Shiny.addCustomMessageHandler(el.id + '_save-state', (m) => {
            ;(0,_modules_utils__WEBPACK_IMPORTED_MODULE_4__.saveDock)(id, api)
          })

          // Restore layout
          Shiny.addCustomMessageHandler(el.id + '_restore-state', (m) => {
            // Avoid duplicate input/output warning when rebinding
            Shiny.unbindAll($(`#${id} .dockview-panel`))
            api.fromJSON(m)
          })
          Shiny.addCustomMessageHandler(el.id + '_move-group2', (m) => {
            ;(0,_modules_utils__WEBPACK_IMPORTED_MODULE_4__.moveGroup2)(m, x.mode, api)
          })

          Shiny.addCustomMessageHandler(el.id + '_move-group', (m) => {
            ;(0,_modules_utils__WEBPACK_IMPORTED_MODULE_4__.moveGroup)(m, x.mode, api)
          })

          Shiny.addCustomMessageHandler(el.id + '_update-options', (m) => {
            if (m.hasOwnProperty('theme')) {
              m.theme = (0,_modules_utils__WEBPACK_IMPORTED_MODULE_4__.matchTheme)(m.theme);
            }
            api.updateOptions(m);
          })
        }

      },
      getWidget: function () {
        return api;
      },
      resize: function (width, height) {

        // TODO: code to re-render the widget with a new size

      }

    };
  }
});

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9ja3ZpZXcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDbUc7QUFDakI7QUFDbEYsOEJBQThCLHNFQUEyQixDQUFDLCtFQUFxQztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsT0FBTyxzSEFBc0gsWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksYUFBYSxXQUFXLFlBQVksV0FBVyxNQUFNLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sS0FBSyxVQUFVLFlBQVksT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sS0FBSyxVQUFVLFlBQVksT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxZQUFZLE1BQU0sS0FBSyxZQUFZLGFBQWEsTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksYUFBYSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsT0FBTyxLQUFLLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLFdBQVcsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLFlBQVksV0FBVyxNQUFNLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLFdBQVcsWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLFdBQVcsS0FBSyxLQUFLLFlBQVksYUFBYSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssVUFBVSxZQUFZLE1BQU0sS0FBSyxVQUFVLFVBQVUsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsVUFBVSxVQUFVLFlBQVksV0FBVyxVQUFVLFlBQVksYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxVQUFVLFVBQVUsVUFBVSxZQUFZLFdBQVcsVUFBVSxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsT0FBTyxLQUFLLE1BQU0sS0FBSyxNQUFNLEtBQUssTUFBTSxLQUFLLFlBQVksYUFBYSxPQUFPLEtBQUssTUFBTSxLQUFLLE1BQU0sS0FBSyxZQUFZLGFBQWEsYUFBYSxhQUFhLFdBQVcsWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxXQUFXLEtBQUssTUFBTSxZQUFZLGFBQWEsTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsVUFBVSxLQUFLLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsV0FBVyxZQUFZLGFBQWEsTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksV0FBVyxLQUFLLE1BQU0sWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxVQUFVLFVBQVUsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLGFBQWEsYUFBYSxXQUFXLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLGFBQWEsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLFlBQVksTUFBTSxLQUFLLFlBQVksYUFBYSxXQUFXLFVBQVUsWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLGFBQWEsV0FBVyxNQUFNLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLFVBQVUsS0FBSyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksYUFBYSxNQUFNLEtBQUssWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLGFBQWEsTUFBTSxLQUFLLFlBQVksYUFBYSxPQUFPLE9BQU8sS0FBSyxLQUFLLFlBQVksYUFBYSxNQUFNLEtBQUssVUFBVSxZQUFZLFdBQVcsWUFBWSxhQUFhLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLFVBQVUsVUFBVSxLQUFLLEtBQUssVUFBVSxVQUFVLEtBQUssTUFBTSxVQUFVLFVBQVUsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxRQUFRLFlBQVksT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLFlBQVksYUFBYSxNQUFNLEtBQUssVUFBVSxZQUFZLFdBQVcsVUFBVSxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxZQUFZLFdBQVcsVUFBVSxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssWUFBWSxhQUFhLFdBQVcsVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsTUFBTSxLQUFLLFVBQVUsVUFBVSxLQUFLLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLFdBQVcsWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLGFBQWEsV0FBVyxZQUFZLFdBQVcsTUFBTSxLQUFLLFVBQVUsWUFBWSxhQUFhLE1BQU0sS0FBSyxZQUFZLFdBQVcsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsWUFBWSxhQUFhLFdBQVcsS0FBSyxLQUFLLFlBQVksYUFBYSxhQUFhLFdBQVcsS0FBSyxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLGFBQWEsTUFBTSxLQUFLLFlBQVksYUFBYSxXQUFXLFlBQVksV0FBVyxLQUFLLEtBQUssWUFBWSxXQUFXLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxNQUFNLEtBQUssWUFBWSxPQUFPLEtBQUssWUFBWSxhQUFhLFdBQVcsVUFBVSxLQUFLLEtBQUssWUFBWSxNQUFNLE1BQU0sWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLFVBQVUsS0FBSyxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFlBQVksTUFBTSxLQUFLLFVBQVUsVUFBVSxLQUFLLEtBQUssVUFBVSxLQUFLLEtBQUssVUFBVSxVQUFVLEtBQUssS0FBSyxZQUFZLE1BQU0sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxVQUFVLEtBQUssS0FBSyxVQUFVLFVBQVUsS0FBSyxLQUFLLFVBQVUsVUFBVSxZQUFZLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxZQUFZLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxNQUFNLEtBQUssWUFBWSxhQUFhLGFBQWEsYUFBYSxhQUFhLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxLQUFLLEtBQUssVUFBVSxZQUFZLFdBQVcsWUFBWSxNQUFNLEtBQUssVUFBVSxZQUFZLFdBQVcsVUFBVSxVQUFVLFlBQVksYUFBYSxNQUFNLEtBQUssd0JBQXdCLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxXQUFXLEtBQUssS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FBSyxZQUFZLFdBQVcsVUFBVSxZQUFZLGFBQWEsYUFBYSxNQUFNLEtBQUssVUFBVSxZQUFZLE1BQU0sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLGFBQWEsTUFBTSxLQUFLLFlBQVksYUFBYSxNQUFNLEtBQUssVUFBVSxZQUFZLGFBQWEsV0FBVyxZQUFZLFdBQVcsWUFBWSxXQUFXLE1BQU0sS0FBSyxZQUFZLE1BQU0sS0FB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxvQkFBb0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNudEJ3RDtBQUNwQjtBQUNzQjtBQUMxRDtBQUNPLHdDQUF3Qyxt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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGlCQUFpQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsdURBQXVELGdCQUFnQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEs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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUM5TXNEO0FBQ0M7QUFDYjtBQUNVO0FBQ0o7QUFDUDtBQUNMO0FBQ3BDLHFCQUFxQixnRUFBeUI7QUFDdkM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUc7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksTUFBTSxlQUFlLE1BQU07QUFDdkMsWUFBWSxNQUFNO0FBQ2xCO0FBQ0E7QUFDQSxnQkFBZ0IsTUFBTSxlQUFlLEtBQUs7QUFDMUMsZ0JBQWdCLE1BQU07QUFDdEIsZ0JBQWdCLE1BQU07QUFDdEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4Q0FBOEMsbUJBQW1CO0FBQ2pFOzs7Ozs7Ozs7Ozs7QUM5TkE7Ozs7OztVQ0FBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7Ozs7O1dDdEJBO1dBQ0E7V0FDQTtXQUNBO1dBQ0E7V0FDQSxpQ0FBaUMsV0FBVztXQUM1QztXQUNBOzs7OztXQ1BBO1dBQ0E7V0FDQTtXQUNBO1dBQ0EseUNBQXlDLHdDQUF3QztXQUNqRjtXQUNBO1dBQ0E7Ozs7O1dDUEE7Ozs7O1dDQUE7V0FDQTtXQUNBO1dBQ0EsdURBQXVELGlCQUFpQjtXQUN4RTtXQUNBLGdEQUFnRCxhQUFhO1dBQzdEOzs7OztXQ05BOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0FpQjtBQUM4QjtBQUNBOztBQUU4QztBQUNpQzs7QUFFOUg7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQSxjQUFjLDZEQUFjO0FBQzVCLGlCQUFpQiwwREFBVTtBQUMzQjtBQUNBLHVCQUF1Qiw0REFBVztBQUNsQyxXQUFXO0FBQ1g7QUFDQTtBQUNBLHVCQUF1QiwyREFBVTtBQUNqQyxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHNEQUFLO0FBQ2hDO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwyREFBVTtBQUNyQztBQUNBLDJCQUEyQiwwREFBUztBQUNwQztBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLElBQUk7QUFDZixTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQVE7QUFDcEI7QUFDQSw2QkFBNkIsR0FBRyxHQUFHLFNBQVM7QUFDNUM7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLFVBQVUseURBQVE7QUFDbEIsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsNkRBQTZELG1CQUFtQjtBQUNoRjtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLCtEQUErRCxtQkFBbUI7QUFDbEY7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxVQUFVLHlEQUFRO0FBQ2xCLFNBQVM7O0FBRVQ7QUFDQTtBQUNBLFlBQVksd0RBQVE7QUFDcEIsV0FBVzs7QUFFWDtBQUNBLFlBQVksMkRBQVc7QUFDdkIsV0FBVzs7QUFFWDtBQUNBLFlBQVksMERBQVM7QUFDckIsV0FBVzs7QUFFWDtBQUNBLFlBQVksNERBQVc7QUFDdkIsV0FBVzs7QUFFWDtBQUNBO0FBQ0EsWUFBWSx5REFBUTtBQUNwQixXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxJQUFJO0FBQ3RDO0FBQ0EsV0FBVztBQUNYO0FBQ0EsWUFBWSwyREFBVTtBQUN0QixXQUFXOztBQUVYO0FBQ0EsWUFBWSwwREFBUztBQUNyQixXQUFXOztBQUVYO0FBQ0E7QUFDQSx3QkFBd0IsMERBQVU7QUFDbEM7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3Qvc3R5bGVzL2RvY2t2aWV3LmNzcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2FwaS9jb21wb25lbnQuYXBpLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2FwaS9kb2Nrdmlld0dyb3VwUGFuZWxBcGkuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vYXBpL2RvY2t2aWV3UGFuZWxBcGkuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vYXBpL2VudHJ5UG9pbnRzLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2FwaS9ncmlkdmlld1BhbmVsQXBpLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2FwaS9wYW5lbEFwaS5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9hcGkvcGFuZXZpZXdQYW5lbEFwaS5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9hcGkvc3BsaXR2aWV3UGFuZWxBcGkuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vYXJyYXkuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vY29uc3RhbnRzLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2RuZC9hYnN0cmFjdERyYWdIYW5kbGVyLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2RuZC9kYXRhVHJhbnNmZXIuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZG5kL2RuZC5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9kbmQvZHJvcFRhcmdldEFuY2hvckNvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9kbmQvZHJvcHRhcmdldC5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9kbmQvZ2hvc3QuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZG5kL2dyb3VwRHJhZ0hhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZG9ja3ZpZXcvY29tcG9uZW50cy9wYW5lbC9jb250ZW50LmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2RvY2t2aWV3L2NvbXBvbmVudHMvcG9wdXBTZXJ2aWNlLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2RvY2t2aWV3L2NvbXBvbmVudHMvdGFiL2RlZmF1bHRUYWIuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZG9ja3ZpZXcvY29tcG9uZW50cy90YWIvdGFiLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2RvY2t2aWV3L2NvbXBvbmVudHMvdGl0bGViYXIvdGFiT3ZlcmZsb3dDb250cm9sLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2RvY2t2aWV3L2NvbXBvbmVudHMvdGl0bGViYXIvdGFicy5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9kb2Nrdmlldy9jb21wb25lbnRzL3RpdGxlYmFyL3RhYnNDb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZG9ja3ZpZXcvY29tcG9uZW50cy90aXRsZWJhci92b2lkQ29udGFpbmVyLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2RvY2t2aWV3L2NvbXBvbmVudHMvd2F0ZXJtYXJrL3dhdGVybWFyay5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9kb2Nrdmlldy9kZXNlcmlhbGl6ZXIuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZG9ja3ZpZXcvZG9ja3ZpZXdDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZG9ja3ZpZXcvZG9ja3ZpZXdGbG9hdGluZ0dyb3VwUGFuZWwuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZG9ja3ZpZXcvZG9ja3ZpZXdHcm91cFBhbmVsLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2RvY2t2aWV3L2RvY2t2aWV3R3JvdXBQYW5lbE1vZGVsLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2RvY2t2aWV3L2RvY2t2aWV3UGFuZWwuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZG9ja3ZpZXcvZG9ja3ZpZXdQYW5lbE1vZGVsLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2RvY2t2aWV3L2V2ZW50cy5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9kb2Nrdmlldy9vcHRpb25zLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2RvY2t2aWV3L3N0cmljdEV2ZW50c1NlcXVlbmNpbmcuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZG9ja3ZpZXcvdGhlbWUuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZG9ja3ZpZXcvdHlwZXMuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZG9tLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9ncmlkdmlldy9iYXNlQ29tcG9uZW50R3JpZHZpZXcuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZ3JpZHZpZXcvYmFzZVBhbmVsVmlldy5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9ncmlkdmlldy9icmFuY2hOb2RlLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2dyaWR2aWV3L2dyaWR2aWV3LmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2dyaWR2aWV3L2dyaWR2aWV3Q29tcG9uZW50LmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL2dyaWR2aWV3L2dyaWR2aWV3UGFuZWwuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZ3JpZHZpZXcvbGVhZk5vZGUuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vZ3JpZHZpZXcvb3B0aW9ucy5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9saWZlY3ljbGUuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vbWF0aC5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9vdmVybGF5L292ZXJsYXkuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vb3ZlcmxheS9vdmVybGF5UmVuZGVyQ29udGFpbmVyLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL3BhbmVsL3R5cGVzLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL3BhbmV2aWV3L2RlZmF1bHRQYW5ldmlld0hlYWRlci5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9wYW5ldmlldy9kcmFnZ2FibGVQYW5ldmlld1BhbmVsLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL3BhbmV2aWV3L29wdGlvbnMuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vcGFuZXZpZXcvcGFuZXZpZXcuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vcGFuZXZpZXcvcGFuZXZpZXdDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vcGFuZXZpZXcvcGFuZXZpZXdQYW5lbC5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9wb3BvdXRXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vcmVzaXphYmxlLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL3Njcm9sbGJhci5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9zcGxpdHZpZXcvb3B0aW9ucy5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9zcGxpdHZpZXcvc3BsaXR2aWV3LmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL3NwbGl0dmlldy9zcGxpdHZpZXdDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9lc20vc3BsaXR2aWV3L3NwbGl0dmlld1BhbmVsLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3QvZXNtL3NwbGl0dmlldy92aWV3SXRlbS5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvZG9ja3ZpZXctY29yZS9kaXN0L2VzbS9zdmcuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL2RvY2t2aWV3LWNvcmUvZGlzdC9zdHlsZXMvZG9ja3ZpZXcuY3NzP2ViYzIiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2RvY2t2aWV3ci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9zcmNqcy9tb2R1bGVzL2NvbXBvbmVudHMuanMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyLy4vc3JjanMvbW9kdWxlcy91dGlscy5qcyIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvZXh0ZXJuYWwgdmFyIFwiSFRNTFdpZGdldHNcIiIsIndlYnBhY2s6Ly9kb2Nrdmlld3Ivd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2RvY2t2aWV3ci93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vZG9ja3ZpZXdyL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9kb2Nrdmlld3IvLi9zcmNqcy93aWRnZXRzL2RvY2t2aWV3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgLmR2LXNjcm9sbGFibGUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG92ZXJmbG93OiBoaWRkZW47XG59XG4uZHYtc2Nyb2xsYWJsZSAuZHYtc2Nyb2xsYmFyLWhvcml6b250YWwge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMHB4O1xuICBsZWZ0OiAwcHg7XG4gIGhlaWdodDogNHB4O1xuICBib3JkZXItcmFkaXVzOiAycHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAvKiBHUFUgb3B0aW1pemF0aW9ucyAqL1xuICB3aWxsLWNoYW5nZTogYmFja2dyb3VuZC1jb2xvciwgdHJhbnNmb3JtO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xuICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IGJhY2tncm91bmQtY29sb3I7XG4gIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dDtcbiAgdHJhbnNpdGlvbi1kdXJhdGlvbjogMXM7XG4gIHRyYW5zaXRpb24tZGVsYXk6IDBzO1xufVxuLmR2LXNjcm9sbGFibGU6aG92ZXIgLmR2LXNjcm9sbGJhci1ob3Jpem9udGFsLCAuZHYtc2Nyb2xsYWJsZS5kdi1zY3JvbGxhYmxlLXJlc2l6aW5nIC5kdi1zY3JvbGxiYXItaG9yaXpvbnRhbCwgLmR2LXNjcm9sbGFibGUuZHYtc2Nyb2xsYWJsZS1zY3JvbGxpbmcgLmR2LXNjcm9sbGJhci1ob3Jpem9udGFsIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtc2Nyb2xsYmFyLWJhY2tncm91bmQtY29sb3IsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yNSkpO1xufVxuLmR2LXN2ZyB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgZmlsbDogY3VycmVudGNvbG9yO1xuICBsaW5lLWhlaWdodDogMTtcbiAgc3Ryb2tlOiBjdXJyZW50Y29sb3I7XG4gIHN0cm9rZS13aWR0aDogMDtcbn1cbi5kb2Nrdmlldy10aGVtZS1kYXJrIHtcbiAgLS1kdi1wYW5ldmlldy1hY3RpdmUtb3V0bGluZS1jb2xvcjogZG9kZ2VyYmx1ZTtcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1mb250LXNpemU6IDEzcHg7XG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItaGVpZ2h0OiAzNXB4O1xuICAtLWR2LWRyYWctb3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDgzLCA4OSwgOTMsIDAuNSk7XG4gIC0tZHYtZHJhZy1vdmVyLWJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0tZHYtdGFicy1jb250YWluZXItc2Nyb2xsYmFyLWNvbG9yOiAjODg4O1xuICAtLWR2LWljb24taG92ZXItYmFja2dyb3VuZC1jb2xvcjogcmdiYSg5MCwgOTMsIDk0LCAwLjMxKTtcbiAgLS1kdi1mbG9hdGluZy1ib3gtc2hhZG93OiA4cHggOHB4IDhweCAwcHggcmdiYSg4MywgODksIDkzLCAwLjUpO1xuICAtLWR2LW92ZXJsYXktei1pbmRleDogOTk5O1xuICAtLWR2LXRhYi1mb250LXNpemU6IGluaGVyaXQ7XG4gIC0tZHYtYm9yZGVyLXJhZGl1czogMHB4O1xuICAtLWR2LXRhYi1tYXJnaW46IDA7XG4gIC0tZHYtc2FzaC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0tZHYtYWN0aXZlLXNhc2gtY29sb3I6IHRyYW5zcGFyZW50O1xuICAtLWR2LWFjdGl2ZS1zYXNoLXRyYW5zaXRpb24tZHVyYXRpb246IDAuMXM7XG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kZWxheTogMC41cztcbiAgLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItYmFja2dyb3VuZC1jb2xvcjogIzI1MjUyNjtcbiAgLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XG4gIC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICMyZDJkMmQ7XG4gIC0tZHYtaW5hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogIzJkMmQyZDtcbiAgLS1kdi10YWItZGl2aWRlci1jb2xvcjogIzFlMWUxZTtcbiAgLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWNvbG9yOiB3aGl0ZTtcbiAgLS1kdi1hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6ICM5Njk2OTY7XG4gIC0tZHYtaW5hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWNvbG9yOiAjOGY4ZjhmO1xuICAtLWR2LWluYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yOiAjNjI2MjYyO1xuICAtLWR2LXNlcGFyYXRvci1ib3JkZXI6IHJnYig2OCwgNjgsIDY4KTtcbiAgLS1kdi1wYW5ldmlldy1oZWFkZXItYm9yZGVyLWNvbG9yOiByZ2JhKDIwNCwgMjA0LCAyMDQsIDAuMik7XG59XG4uZG9ja3ZpZXctdGhlbWUtZGFyayAuZHYtZHJvcC10YXJnZXQtY29udGFpbmVyIC5kdi1kcm9wLXRhcmdldC1hbmNob3IuZHYtZHJvcC10YXJnZXQtYW5jaG9yLWNvbnRhaW5lci1jaGFuZ2VkIHtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogbm9uZTtcbn1cblxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0IHtcbiAgLS1kdi1wYW5ldmlldy1hY3RpdmUtb3V0bGluZS1jb2xvcjogZG9kZ2VyYmx1ZTtcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1mb250LXNpemU6IDEzcHg7XG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItaGVpZ2h0OiAzNXB4O1xuICAtLWR2LWRyYWctb3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDgzLCA4OSwgOTMsIDAuNSk7XG4gIC0tZHYtZHJhZy1vdmVyLWJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0tZHYtdGFicy1jb250YWluZXItc2Nyb2xsYmFyLWNvbG9yOiAjODg4O1xuICAtLWR2LWljb24taG92ZXItYmFja2dyb3VuZC1jb2xvcjogcmdiYSg5MCwgOTMsIDk0LCAwLjMxKTtcbiAgLS1kdi1mbG9hdGluZy1ib3gtc2hhZG93OiA4cHggOHB4IDhweCAwcHggcmdiYSg4MywgODksIDkzLCAwLjUpO1xuICAtLWR2LW92ZXJsYXktei1pbmRleDogOTk5O1xuICAtLWR2LXRhYi1mb250LXNpemU6IGluaGVyaXQ7XG4gIC0tZHYtYm9yZGVyLXJhZGl1czogMHB4O1xuICAtLWR2LXRhYi1tYXJnaW46IDA7XG4gIC0tZHYtc2FzaC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0tZHYtYWN0aXZlLXNhc2gtY29sb3I6IHRyYW5zcGFyZW50O1xuICAtLWR2LWFjdGl2ZS1zYXNoLXRyYW5zaXRpb24tZHVyYXRpb246IDAuMXM7XG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kZWxheTogMC41cztcbiAgLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7XG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgLS1kdi1hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogI2VjZWNlYztcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogI2VjZWNlYztcbiAgLS1kdi10YWItZGl2aWRlci1jb2xvcjogd2hpdGU7XG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcjogcmdiKDUxLCA1MSwgNTEpO1xuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcjogcmdiYSg1MSwgNTEsIDUxLCAwLjcpO1xuICAtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcjogcmdiYSg1MSwgNTEsIDUxLCAwLjcpO1xuICAtLWR2LWluYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yOiByZ2JhKDUxLCA1MSwgNTEsIDAuMzUpO1xuICAtLWR2LXNlcGFyYXRvci1ib3JkZXI6IHJnYmEoMTI4LCAxMjgsIDEyOCwgMC4zNSk7XG4gIC0tZHYtcGFuZXZpZXctaGVhZGVyLWJvcmRlci1jb2xvcjogcmdiKDUxLCA1MSwgNTEpO1xuICAtLWR2LXNjcm9sbGJhci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMjUpO1xufVxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0IC5kdi1kcm9wLXRhcmdldC1jb250YWluZXIgLmR2LWRyb3AtdGFyZ2V0LWFuY2hvci5kdi1kcm9wLXRhcmdldC1hbmNob3ItY29udGFpbmVyLWNoYW5nZWQge1xuICBvcGFjaXR5OiAwO1xuICB0cmFuc2l0aW9uOiBub25lO1xufVxuXG4uZG9ja3ZpZXctdGhlbWUtdnMge1xuICAtLWR2LXBhbmV2aWV3LWFjdGl2ZS1vdXRsaW5lLWNvbG9yOiBkb2RnZXJibHVlO1xuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWZvbnQtc2l6ZTogMTNweDtcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1oZWlnaHQ6IDM1cHg7XG4gIC0tZHYtZHJhZy1vdmVyLWJhY2tncm91bmQtY29sb3I6IHJnYmEoODMsIDg5LCA5MywgMC41KTtcbiAgLS1kdi1kcmFnLW92ZXItYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgLS1kdi10YWJzLWNvbnRhaW5lci1zY3JvbGxiYXItY29sb3I6ICM4ODg7XG4gIC0tZHYtaWNvbi1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkwLCA5MywgOTQsIDAuMzEpO1xuICAtLWR2LWZsb2F0aW5nLWJveC1zaGFkb3c6IDhweCA4cHggOHB4IDBweCByZ2JhKDgzLCA4OSwgOTMsIDAuNSk7XG4gIC0tZHYtb3ZlcmxheS16LWluZGV4OiA5OTk7XG4gIC0tZHYtdGFiLWZvbnQtc2l6ZTogaW5oZXJpdDtcbiAgLS1kdi1ib3JkZXItcmFkaXVzOiAwcHg7XG4gIC0tZHYtdGFiLW1hcmdpbjogMDtcbiAgLS1kdi1zYXNoLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgLS1kdi1hY3RpdmUtc2FzaC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4xcztcbiAgLS1kdi1hY3RpdmUtc2FzaC10cmFuc2l0aW9uLWRlbGF5OiAwLjVzO1xuICAtLWR2LWdyb3VwLXZpZXctYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yOiAjMjUyNTI2O1xuICAtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcbiAgLS1kdi1hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogIzJkMmQyZDtcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjMmQyZDJkO1xuICAtLWR2LXRhYi1kaXZpZGVyLWNvbG9yOiAjMWUxZTFlO1xuICAtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHdoaXRlO1xuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcjogIzk2OTY5NjtcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6ICM4ZjhmOGY7XG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6ICM2MjYyNjI7XG4gIC0tZHYtc2VwYXJhdG9yLWJvcmRlcjogcmdiKDY4LCA2OCwgNjgpO1xuICAtLWR2LXBhbmV2aWV3LWhlYWRlci1ib3JkZXItY29sb3I6IHJnYmEoMjA0LCAyMDQsIDIwNCwgMC4yKTtcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yOiAjMmQyZDMwO1xuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWhlaWdodDogMjBweDtcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1mb250LXNpemU6IDExcHg7XG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YWNjO1xuICAtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjM2YzZjQ2O1xuICAtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHdoaXRlO1xuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcjogd2hpdGU7XG4gIC0tZHYtaW5hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWNvbG9yOiB3aGl0ZTtcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcjogd2hpdGU7XG59XG4uZG9ja3ZpZXctdGhlbWUtdnMgLmR2LWRyb3AtdGFyZ2V0LWNvbnRhaW5lciAuZHYtZHJvcC10YXJnZXQtYW5jaG9yLmR2LWRyb3AtdGFyZ2V0LWFuY2hvci1jb250YWluZXItY2hhbmdlZCB7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IG5vbmU7XG59XG4uZG9ja3ZpZXctdGhlbWUtdnMgLmR2LWdyb3Vwdmlldy5kdi1hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIge1xuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcik7XG59XG4uZG9ja3ZpZXctdGhlbWUtdnMgLmR2LWdyb3Vwdmlldy5kdi1hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYi5kdi1hY3RpdmUtdGFiIHtcbiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIHZhcigtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcik7XG59XG4uZG9ja3ZpZXctdGhlbWUtdnMgLmR2LWdyb3Vwdmlldy5kdi1hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYi5kdi1pbmFjdGl2ZS10YWIge1xuICBib3JkZXItdG9wOiAycHggc29saWQgdmFyKC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3IpO1xufVxuLmRvY2t2aWV3LXRoZW1lLXZzIC5kdi1ncm91cHZpZXcuZHYtaW5hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIge1xuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yKTtcbn1cbi5kb2Nrdmlldy10aGVtZS12cyAuZHYtZ3JvdXB2aWV3LmR2LWluYWN0aXZlLWdyb3VwID4gLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyIC5kdi10YWIuZHYtYWN0aXZlLXRhYiB7XG4gIGJvcmRlci10b3A6IDJweCBzb2xpZCB2YXIoLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcik7XG59XG4uZG9ja3ZpZXctdGhlbWUtdnMgLmR2LWdyb3Vwdmlldy5kdi1pbmFjdGl2ZS1ncm91cCA+IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtdGFiLmR2LWluYWN0aXZlLXRhYiB7XG4gIGJvcmRlci10b3A6IDJweCBzb2xpZCB2YXIoLS1kdi1pbmFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yKTtcbn1cblxuLmRvY2t2aWV3LXRoZW1lLWFieXNzIHtcbiAgLS1kdi1wYW5ldmlldy1hY3RpdmUtb3V0bGluZS1jb2xvcjogZG9kZ2VyYmx1ZTtcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1mb250LXNpemU6IDEzcHg7XG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItaGVpZ2h0OiAzNXB4O1xuICAtLWR2LWRyYWctb3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDgzLCA4OSwgOTMsIDAuNSk7XG4gIC0tZHYtZHJhZy1vdmVyLWJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0tZHYtdGFicy1jb250YWluZXItc2Nyb2xsYmFyLWNvbG9yOiAjODg4O1xuICAtLWR2LWljb24taG92ZXItYmFja2dyb3VuZC1jb2xvcjogcmdiYSg5MCwgOTMsIDk0LCAwLjMxKTtcbiAgLS1kdi1mbG9hdGluZy1ib3gtc2hhZG93OiA4cHggOHB4IDhweCAwcHggcmdiYSg4MywgODksIDkzLCAwLjUpO1xuICAtLWR2LW92ZXJsYXktei1pbmRleDogOTk5O1xuICAtLWR2LXRhYi1mb250LXNpemU6IGluaGVyaXQ7XG4gIC0tZHYtYm9yZGVyLXJhZGl1czogMHB4O1xuICAtLWR2LXRhYi1tYXJnaW46IDA7XG4gIC0tZHYtc2FzaC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0tZHYtYWN0aXZlLXNhc2gtY29sb3I6IHRyYW5zcGFyZW50O1xuICAtLWR2LWFjdGl2ZS1zYXNoLXRyYW5zaXRpb24tZHVyYXRpb246IDAuMXM7XG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kZWxheTogMC41cztcbiAgLS1kdi1jb2xvci1hYnlzcy1kYXJrOiAjMDAwYzE4O1xuICAtLWR2LWNvbG9yLWFieXNzOiAjMTAxOTJjO1xuICAtLWR2LWNvbG9yLWFieXNzLWxpZ2h0OiAjMWMxYzJhO1xuICAtLWR2LWNvbG9yLWFieXNzLWxpZ2h0ZXI6ICMyYjJiNGE7XG4gIC0tZHYtY29sb3ItYWJ5c3MtYWNjZW50OiByZ2IoOTEsIDMwLCAyMDcpO1xuICAtLWR2LWNvbG9yLWFieXNzLXByaW1hcnktdGV4dDogd2hpdGU7XG4gIC0tZHYtY29sb3ItYWJ5c3Mtc2Vjb25kYXJ5LXRleHQ6IHJnYigxNDgsIDE1MSwgMTY5KTtcbiAgLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWNvbG9yLWFieXNzLWRhcmspO1xuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I6IHZhcihcbiAgICAgIC0tZHYtY29sb3ItYWJ5c3MtbGlnaHRcbiAgKTtcbiAgLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6IHZhcihcbiAgICAgIC0tZHYtY29sb3ItYWJ5c3MtZGFya1xuICApO1xuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1jb2xvci1hYnlzcyk7XG4gIC0tZHYtaW5hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6IHZhcihcbiAgICAgIC0tZHYtY29sb3ItYWJ5c3MtZGFya1xuICApO1xuICAtLWR2LWluYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWNvbG9yLWFieXNzKTtcbiAgLS1kdi10YWItZGl2aWRlci1jb2xvcjogdmFyKC0tZHYtY29sb3ItYWJ5c3MtbGlnaHRlcik7XG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcjogd2hpdGU7XG4gIC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XG4gIC0tZHYtaW5hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yNSk7XG4gIC0tZHYtc2VwYXJhdG9yLWJvcmRlcjogdmFyKC0tZHYtY29sb3ItYWJ5c3MtbGlnaHRlcik7XG4gIC0tZHYtcGFuZXZpZXctaGVhZGVyLWJvcmRlci1jb2xvcjogdmFyKC0tZHYtY29sb3ItYWJ5c3MtbGlnaHRlcik7XG4gIC0tZHYtcGFuZXZpZXctYWN0aXZlLW91dGxpbmUtY29sb3I6ICM1OTZmOTk7XG59XG4uZG9ja3ZpZXctdGhlbWUtYWJ5c3MgLmR2LWRyb3AtdGFyZ2V0LWNvbnRhaW5lciAuZHYtZHJvcC10YXJnZXQtYW5jaG9yLmR2LWRyb3AtdGFyZ2V0LWFuY2hvci1jb250YWluZXItY2hhbmdlZCB7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IG5vbmU7XG59XG5cbi5kb2Nrdmlldy10aGVtZS1kcmFjdWxhIHtcbiAgLS1kdi1wYW5ldmlldy1hY3RpdmUtb3V0bGluZS1jb2xvcjogZG9kZ2VyYmx1ZTtcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1mb250LXNpemU6IDEzcHg7XG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItaGVpZ2h0OiAzNXB4O1xuICAtLWR2LWRyYWctb3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDgzLCA4OSwgOTMsIDAuNSk7XG4gIC0tZHYtZHJhZy1vdmVyLWJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0tZHYtdGFicy1jb250YWluZXItc2Nyb2xsYmFyLWNvbG9yOiAjODg4O1xuICAtLWR2LWljb24taG92ZXItYmFja2dyb3VuZC1jb2xvcjogcmdiYSg5MCwgOTMsIDk0LCAwLjMxKTtcbiAgLS1kdi1mbG9hdGluZy1ib3gtc2hhZG93OiA4cHggOHB4IDhweCAwcHggcmdiYSg4MywgODksIDkzLCAwLjUpO1xuICAtLWR2LW92ZXJsYXktei1pbmRleDogOTk5O1xuICAtLWR2LXRhYi1mb250LXNpemU6IGluaGVyaXQ7XG4gIC0tZHYtYm9yZGVyLXJhZGl1czogMHB4O1xuICAtLWR2LXRhYi1tYXJnaW46IDA7XG4gIC0tZHYtc2FzaC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0tZHYtYWN0aXZlLXNhc2gtY29sb3I6IHRyYW5zcGFyZW50O1xuICAtLWR2LWFjdGl2ZS1zYXNoLXRyYW5zaXRpb24tZHVyYXRpb246IDAuMXM7XG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kZWxheTogMC41cztcbiAgLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3I6ICMyODJhMzY7XG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItYmFja2dyb3VuZC1jb2xvcjogIzE5MWEyMTtcbiAgLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICMyODJhMzY7XG4gIC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICMyMTIyMmM7XG4gIC0tZHYtaW5hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICMyODJhMzY7XG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogIzIxMjIyYztcbiAgLS1kdi10YWItZGl2aWRlci1jb2xvcjogIzE5MWEyMTtcbiAgLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWNvbG9yOiByZ2IoMjQ4LCAyNDgsIDI0Mik7XG4gIC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yOiByZ2IoOTgsIDExNCwgMTY0KTtcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHJnYmEoMjQ4LCAyNDgsIDI0MiwgMC41KTtcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcjogcmdiYSg5OCwgMTE0LCAxNjQsIDAuNSk7XG4gIC0tZHYtc2VwYXJhdG9yLWJvcmRlcjogI2JkOTNmOTtcbiAgLS1kdi1wYW5ldmlldy1oZWFkZXItYm9yZGVyLWNvbG9yOiAjYmQ5M2Y5O1xuICAtLWR2LXBhbmV2aWV3LWFjdGl2ZS1vdXRsaW5lLWNvbG9yOiAjNjI3MmE0O1xufVxuLmRvY2t2aWV3LXRoZW1lLWRyYWN1bGEgLmR2LWRyb3AtdGFyZ2V0LWNvbnRhaW5lciAuZHYtZHJvcC10YXJnZXQtYW5jaG9yLmR2LWRyb3AtdGFyZ2V0LWFuY2hvci1jb250YWluZXItY2hhbmdlZCB7XG4gIG9wYWNpdHk6IDA7XG4gIHRyYW5zaXRpb246IG5vbmU7XG59XG4uZG9ja3ZpZXctdGhlbWUtZHJhY3VsYSAuZHYtZ3JvdXB2aWV3LmR2LWFjdGl2ZS1ncm91cCA+IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtdGFicy1jb250YWluZXIgPiAuZHYtdGFiLmR2LWFjdGl2ZS10YWIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4uZG9ja3ZpZXctdGhlbWUtZHJhY3VsYSAuZHYtZ3JvdXB2aWV3LmR2LWFjdGl2ZS1ncm91cCA+IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtdGFicy1jb250YWluZXIgPiAuZHYtdGFiLmR2LWFjdGl2ZS10YWI6OmFmdGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwcHg7XG4gIHRvcDogMHB4O1xuICBjb250ZW50OiBcIlwiO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICM5NDUyN2U7XG4gIHotaW5kZXg6IDk5OTtcbn1cbi5kb2Nrdmlldy10aGVtZS1kcmFjdWxhIC5kdi1ncm91cHZpZXcuZHYtaW5hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYnMtY29udGFpbmVyID4gLmR2LXRhYi5kdi1hY3RpdmUtdGFiIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuLmRvY2t2aWV3LXRoZW1lLWRyYWN1bGEgLmR2LWdyb3Vwdmlldy5kdi1pbmFjdGl2ZS1ncm91cCA+IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtdGFicy1jb250YWluZXIgPiAuZHYtdGFiLmR2LWFjdGl2ZS10YWI6OmFmdGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwcHg7XG4gIGJvdHRvbTogMHB4O1xuICBjb250ZW50OiBcIlwiO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICM1ZTNkNWE7XG4gIHotaW5kZXg6IDk5OTtcbn1cblxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCB7XG4gIC0tZHYtcGFuZXZpZXctYWN0aXZlLW91dGxpbmUtY29sb3I6IGRvZGdlcmJsdWU7XG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItZm9udC1zaXplOiAxM3B4O1xuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWhlaWdodDogMzVweDtcbiAgLS1kdi1kcmFnLW92ZXItYmFja2dyb3VuZC1jb2xvcjogcmdiYSg4MywgODksIDkzLCAwLjUpO1xuICAtLWR2LWRyYWctb3Zlci1ib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICAtLWR2LXRhYnMtY29udGFpbmVyLXNjcm9sbGJhci1jb2xvcjogIzg4ODtcbiAgLS1kdi1pY29uLWhvdmVyLWJhY2tncm91bmQtY29sb3I6IHJnYmEoOTAsIDkzLCA5NCwgMC4zMSk7XG4gIC0tZHYtZmxvYXRpbmctYm94LXNoYWRvdzogOHB4IDhweCA4cHggMHB4IHJnYmEoODMsIDg5LCA5MywgMC41KTtcbiAgLS1kdi1vdmVybGF5LXotaW5kZXg6IDk5OTtcbiAgLS1kdi10YWItZm9udC1zaXplOiBpbmhlcml0O1xuICAtLWR2LWJvcmRlci1yYWRpdXM6IDBweDtcbiAgLS1kdi10YWItbWFyZ2luOiAwO1xuICAtLWR2LXNhc2gtY29sb3I6IHRyYW5zcGFyZW50O1xuICAtLWR2LWFjdGl2ZS1zYXNoLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgLS1kdi1hY3RpdmUtc2FzaC10cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjFzO1xuICAtLWR2LWFjdGl2ZS1zYXNoLXRyYW5zaXRpb24tZGVsYXk6IDAuNXM7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlYmVjZWQ7XG4gIC0tZHYtZ3JvdXAtdmlldy1iYWNrZ3JvdW5kLWNvbG9yOiAjZWJlY2VkO1xuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I6ICNmY2ZjZmM7XG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMWYyO1xuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjZmNmY2ZjO1xuICAtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMWYyO1xuICAtLWR2LWluYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICNmY2ZjZmM7XG4gIC0tZHYtdGFiLWRpdmlkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICAtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHJnYig1MSwgNTEsIDUxKTtcbiAgLS1kdi1hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6IHJnYig1MSwgNTEsIDUxKTtcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHJnYig1MSwgNTEsIDUxKTtcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcjogcmdiKDUxLCA1MSwgNTEpO1xuICAtLWR2LXNlcGFyYXRvci1ib3JkZXI6IHRyYW5zcGFyZW50O1xuICAtLWR2LXBhbmV2aWV3LWhlYWRlci1ib3JkZXItY29sb3I6IHJnYig1MSwgNTEsIDUxKTtcbiAgLS1kdi1zYXNoLWNvbG9yOiAjY2ZkMWQzO1xuICAtLWR2LWFjdGl2ZS1zYXNoLWNvbG9yOiAjYmFiYmJiO1xufVxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtZHJvcC10YXJnZXQtY29udGFpbmVyIC5kdi1kcm9wLXRhcmdldC1hbmNob3IuZHYtZHJvcC10YXJnZXQtYW5jaG9yLWNvbnRhaW5lci1jaGFuZ2VkIHtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogbm9uZTtcbn1cbi5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LXJlc2l6ZS1jb250YWluZXI6aGFzKD4gLmR2LWdyb3Vwdmlldykge1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG59XG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1yZXNpemUtY29udGFpbmVyIHtcbiAgYm9yZGVyLXJhZGl1czogMTBweCAhaW1wb3J0YW50O1xuICBib3JkZXI6IG5vbmU7XG59XG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1ncm91cHZpZXcge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xufVxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtZ3JvdXB2aWV3IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2JhKDEyOCwgMTI4LCAxMjgsIDAuMzUpO1xufVxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtZ3JvdXB2aWV3IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtdGFiIHtcbiAgbWFyZ2luOiA0cHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbn1cbi5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LWdyb3VwdmlldyAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYiAuZHYtc3ZnIHtcbiAgaGVpZ2h0OiA4cHg7XG4gIHdpZHRoOiA4cHg7XG59XG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1ncm91cHZpZXcgLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyIC5kdi10YWI6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTRlNWU2ICFpbXBvcnRhbnQ7XG59XG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1ncm91cHZpZXcgLmR2LWNvbnRlbnQtY29udGFpbmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZjZmNmYztcbn1cbi5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LWdyb3Vwdmlldy5kdi1hY3RpdmUtZ3JvdXAge1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDEyOCwgMTI4LCAxMjgsIDAuMzUpO1xufVxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtZ3JvdXB2aWV3LmR2LWluYWN0aXZlLWdyb3VwIHtcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG59XG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi12ZXJ0aWNhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi12ZXJ0aWNhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoOm5vdCguZGlzYWJsZWQpOjphZnRlciB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIGhlaWdodDogNHB4O1xuICB3aWR0aDogNDBweDtcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtc2FzaC1jb2xvcik7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cbi5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LXZlcnRpY2FsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2g6bm90KC5kaXNhYmxlZCk6aG92ZXIsIC5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LXZlcnRpY2FsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2g6bm90KC5kaXNhYmxlZCk6YWN0aXZlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi12ZXJ0aWNhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoOm5vdCguZGlzYWJsZWQpOmhvdmVyOjphZnRlciwgLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtdmVydGljYWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaDpub3QoLmRpc2FibGVkKTphY3RpdmU6OmFmdGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtYWN0aXZlLXNhc2gtY29sb3IpO1xufVxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtaG9yaXpvbnRhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1ob3Jpem9udGFsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2g6bm90KC5kaXNhYmxlZCk6OmFmdGVyIHtcbiAgY29udGVudDogXCJcIjtcbiAgaGVpZ2h0OiA0MHB4O1xuICB3aWR0aDogNHB4O1xuICBib3JkZXItcmFkaXVzOiAycHg7XG4gIHRvcDogNTAlO1xuICBsZWZ0OiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1zYXNoLWNvbG9yKTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xufVxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtaG9yaXpvbnRhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoOm5vdCguZGlzYWJsZWQpOmhvdmVyLCAuZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1ob3Jpem9udGFsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2g6bm90KC5kaXNhYmxlZCk6YWN0aXZlIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG59XG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1ob3Jpem9udGFsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2g6bm90KC5kaXNhYmxlZCk6aG92ZXI6OmFmdGVyLCAuZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1ob3Jpem9udGFsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2g6bm90KC5kaXNhYmxlZCk6YWN0aXZlOjphZnRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWFjdGl2ZS1zYXNoLWNvbG9yKTtcbn1cblxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCB7XG4gIC0tZHYtcGFuZXZpZXctYWN0aXZlLW91dGxpbmUtY29sb3I6IGRvZGdlcmJsdWU7XG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItZm9udC1zaXplOiAxM3B4O1xuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWhlaWdodDogMzVweDtcbiAgLS1kdi1kcmFnLW92ZXItYmFja2dyb3VuZC1jb2xvcjogcmdiYSg4MywgODksIDkzLCAwLjUpO1xuICAtLWR2LWRyYWctb3Zlci1ib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICAtLWR2LXRhYnMtY29udGFpbmVyLXNjcm9sbGJhci1jb2xvcjogIzg4ODtcbiAgLS1kdi1pY29uLWhvdmVyLWJhY2tncm91bmQtY29sb3I6IHJnYmEoOTAsIDkzLCA5NCwgMC4zMSk7XG4gIC0tZHYtZmxvYXRpbmctYm94LXNoYWRvdzogOHB4IDhweCA4cHggMHB4IHJnYmEoODMsIDg5LCA5MywgMC41KTtcbiAgLS1kdi1vdmVybGF5LXotaW5kZXg6IDk5OTtcbiAgLS1kdi10YWItZm9udC1zaXplOiBpbmhlcml0O1xuICAtLWR2LWJvcmRlci1yYWRpdXM6IDBweDtcbiAgLS1kdi10YWItbWFyZ2luOiAwO1xuICAtLWR2LXNhc2gtY29sb3I6IHRyYW5zcGFyZW50O1xuICAtLWR2LWFjdGl2ZS1zYXNoLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgLS1kdi1hY3RpdmUtc2FzaC10cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjFzO1xuICAtLWR2LWFjdGl2ZS1zYXNoLXRyYW5zaXRpb24tZGVsYXk6IDAuNXM7XG4gIC0tZHYtdGFiLWZvbnQtc2l6ZTogMTJweDtcbiAgLS1kdi1ib3JkZXItcmFkaXVzOiAyMHB4O1xuICAtLWR2LXRhYi1tYXJnaW46IDAuNXJlbSAwLjI1cmVtO1xuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWhlaWdodDogNDRweDtcbiAgLS1kdi1ib3JkZXItcmFkaXVzOiAyMHB4O1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAtLWR2LWNvbG9yLWFieXNzLWRhcms6IHJnYigxMSwgNiwgMTcpO1xuICAtLWR2LWNvbG9yLWFieXNzOiAjMTYxMjFmO1xuICAtLWR2LWNvbG9yLWFieXNzLWxpZ2h0OiAjMjAxZDJiO1xuICAtLWR2LWNvbG9yLWFieXNzLWxpZ2h0ZXI6ICMyYTI4Mzc7XG4gIC0tZHYtY29sb3ItYWJ5c3MtYWNjZW50OiByZ2IoOTEsIDMwLCAyMDcpO1xuICAtLWR2LWNvbG9yLWFieXNzLXByaW1hcnktdGV4dDogd2hpdGU7XG4gIC0tZHYtY29sb3ItYWJ5c3Mtc2Vjb25kYXJ5LXRleHQ6IHJnYigxNDgsIDE1MSwgMTY5KTtcbiAgLS1kdi1kcmFnLW92ZXItYm9yZGVyOiAycHggc29saWQgdmFyKC0tZHYtY29sb3ItYWJ5c3MtYWNjZW50KTtcbiAgLS1kdi1kcmFnLW92ZXItYmFja2dyb3VuZC1jb2xvcjogXCJcIjtcbiAgLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWNvbG9yLWFieXNzLWRhcmspO1xuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWNvbG9yLWFieXNzKTtcbiAgLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6IHZhcihcbiAgICAgIC0tZHYtY29sb3ItYWJ5c3MtbGlnaHRlclxuICApO1xuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoXG4gICAgICAtLWR2LWNvbG9yLWFieXNzLWxpZ2h0XG4gICk7XG4gIC0tZHYtaW5hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6IHZhcihcbiAgICAgIC0tZHYtY29sb3ItYWJ5c3MtbGlnaHRlclxuICApO1xuICAtLWR2LWluYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6IHZhcihcbiAgICAgIC0tZHYtY29sb3ItYWJ5c3MtbGlnaHRcbiAgKTtcbiAgLS1kdi10YWItZGl2aWRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcjogdmFyKC0tZHYtY29sb3ItYWJ5c3MtcHJpbWFyeS10ZXh0KTtcbiAgLS1kdi1hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6IHZhcihcbiAgICAgIC0tZHYtY29sb3ItYWJ5c3Mtc2Vjb25kYXJ5LXRleHRcbiAgKTtcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHZhcihcbiAgICAgIC0tZHYtY29sb3ItYWJ5c3MtcHJpbWFyeS10ZXh0XG4gICk7XG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6IHZhcihcbiAgICAgIC0tZHYtY29sb3ItYWJ5c3Mtc2Vjb25kYXJ5LXRleHRcbiAgKTtcbiAgLS1kdi1zZXBhcmF0b3ItYm9yZGVyOiB0cmFuc3BhcmVudDtcbiAgLS1kdi1wYW5ldmlldy1oZWFkZXItYm9yZGVyLWNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7XG4gIC0tZHYtYWN0aXZlLXNhc2gtY29sb3I6IHZhcigtLWR2LWNvbG9yLWFieXNzLWFjY2VudCk7XG4gIC0tZHYtZmxvYXRpbmctYm94LXNoYWRvdzogOHB4IDhweCA4cHggMHB4IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgcGFkZGluZzogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtY29sb3ItYWJ5c3MtZGFyayk7XG59XG4uZG9ja3ZpZXctdGhlbWUtYWJ5c3Mtc3BhY2VkIC5kdi1yZXNpemUtY29udGFpbmVyOmhhcyg+IC5kdi1ncm91cHZpZXcpIHtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xufVxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCAuZHYtc2FzaCB7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbn1cbi5kb2Nrdmlldy10aGVtZS1hYnlzcy1zcGFjZWQgLmR2LWRyb3AtdGFyZ2V0LWFuY2hvciB7XG4gIGJvcmRlci1yYWRpdXM6IGNhbGModmFyKC0tZHYtYm9yZGVyLXJhZGl1cykgLyA0KTtcbn1cbi5kb2Nrdmlldy10aGVtZS1hYnlzcy1zcGFjZWQgLmR2LWRyb3AtdGFyZ2V0LWFuY2hvci5kdi1kcm9wLXRhcmdldC1jb250ZW50IHtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tZHYtYm9yZGVyLXJhZGl1cyk7XG59XG4uZG9ja3ZpZXctdGhlbWUtYWJ5c3Mtc3BhY2VkIC5kdi1yZXNpemUtY29udGFpbmVyIHtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tZHYtYm9yZGVyLXJhZGl1cykgIWltcG9ydGFudDtcbiAgYm9yZGVyOiBub25lO1xufVxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCAuZHYtdGFicy1vdmVyZmxvdy1jb250YWluZXIsXG4uZG9ja3ZpZXctdGhlbWUtYWJ5c3Mtc3BhY2VkIC5kdi10YWJzLW92ZXJmbG93LWRyb3Bkb3duLWRlZmF1bHQge1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG4gIGhlaWdodDogdW5zZXQgIWltcG9ydGFudDtcbn1cbi5kb2Nrdmlldy10aGVtZS1hYnlzcy1zcGFjZWQgLmR2LXRhYiB7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbn1cbi5kb2Nrdmlldy10aGVtZS1hYnlzcy1zcGFjZWQgLmR2LXRhYiAuZHYtc3ZnIHtcbiAgaGVpZ2h0OiA4cHg7XG4gIHdpZHRoOiA4cHg7XG59XG4uZG9ja3ZpZXctdGhlbWUtYWJ5c3Mtc3BhY2VkIC5kdi1ncm91cHZpZXcge1xuICBib3JkZXItcmFkaXVzOiB2YXIoLS1kdi1ib3JkZXItcmFkaXVzKTtcbn1cbi5kb2Nrdmlldy10aGVtZS1hYnlzcy1zcGFjZWQgLmR2LWdyb3VwdmlldyAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIge1xuICBwYWRkaW5nOiAwcHggY2FsYyh2YXIoLS1kdi1ib3JkZXItcmFkaXVzKSAvIDIpO1xufVxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCAuZHYtZ3JvdXB2aWV3IC5kdi1jb250ZW50LWNvbnRhaW5lciB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWJhY2tncm91bmQtY29sb3IpO1xufVxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCAuZHYtcmVzaXplLWNvbnRhaW5lciAuZHYtZ3JvdXB2aWV3IHtcbiAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tZHYtY29sb3ItYWJ5c3MtZGFyayk7XG59XG5cbi5kb2Nrdmlldy10aGVtZS1saWdodC1zcGFjZWQge1xuICAtLWR2LXBhbmV2aWV3LWFjdGl2ZS1vdXRsaW5lLWNvbG9yOiBkb2RnZXJibHVlO1xuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWZvbnQtc2l6ZTogMTNweDtcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1oZWlnaHQ6IDM1cHg7XG4gIC0tZHYtZHJhZy1vdmVyLWJhY2tncm91bmQtY29sb3I6IHJnYmEoODMsIDg5LCA5MywgMC41KTtcbiAgLS1kdi1kcmFnLW92ZXItYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgLS1kdi10YWJzLWNvbnRhaW5lci1zY3JvbGxiYXItY29sb3I6ICM4ODg7XG4gIC0tZHYtaWNvbi1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkwLCA5MywgOTQsIDAuMzEpO1xuICAtLWR2LWZsb2F0aW5nLWJveC1zaGFkb3c6IDhweCA4cHggOHB4IDBweCByZ2JhKDgzLCA4OSwgOTMsIDAuNSk7XG4gIC0tZHYtb3ZlcmxheS16LWluZGV4OiA5OTk7XG4gIC0tZHYtdGFiLWZvbnQtc2l6ZTogaW5oZXJpdDtcbiAgLS1kdi1ib3JkZXItcmFkaXVzOiAwcHg7XG4gIC0tZHYtdGFiLW1hcmdpbjogMDtcbiAgLS1kdi1zYXNoLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgLS1kdi1hY3RpdmUtc2FzaC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4xcztcbiAgLS1kdi1hY3RpdmUtc2FzaC10cmFuc2l0aW9uLWRlbGF5OiAwLjVzO1xuICAtLWR2LXRhYi1mb250LXNpemU6IDEycHg7XG4gIC0tZHYtYm9yZGVyLXJhZGl1czogMjBweDtcbiAgLS1kdi10YWItbWFyZ2luOiAwLjVyZW0gMC4yNXJlbTtcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1oZWlnaHQ6IDQ0cHg7XG4gIC0tZHYtYm9yZGVyLXJhZGl1czogMjBweDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgLS1kdi1kcmFnLW92ZXItYm9yZGVyOiAycHggc29saWQgcmdiKDkxLCAzMCwgMjA3KTtcbiAgLS1kdi1kcmFnLW92ZXItYmFja2dyb3VuZC1jb2xvcjogXCJcIjtcbiAgLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3I6ICNmNmY1Zjk7XG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjZWRlZGYwO1xuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWZhO1xuICAtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjZWRlZGYwO1xuICAtLWR2LWluYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICNmOWY5ZmE7XG4gIC0tZHYtdGFiLWRpdmlkZXItY29sb3I6IHRyYW5zcGFyZW50O1xuICAtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHJnYigxMDQsIDEwNywgMTMwKTtcbiAgLS1kdi1hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6IHJnYigxNDgsIDE1MSwgMTY5KTtcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHJnYigxMDQsIDEwNywgMTMwKTtcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcjogcmdiKDE0OCwgMTUxLCAxNjkpO1xuICAtLWR2LXNlcGFyYXRvci1ib3JkZXI6IHRyYW5zcGFyZW50O1xuICAtLWR2LXBhbmV2aWV3LWhlYWRlci1ib3JkZXItY29sb3I6IHJnYig1MSwgNTEsIDUxKTtcbiAgLS1kdi1hY3RpdmUtc2FzaC1jb2xvcjogcmdiKDkxLCAzMCwgMjA3KTtcbiAgLS1kdi1mbG9hdGluZy1ib3gtc2hhZG93OiA4cHggOHB4IDhweCAwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICBwYWRkaW5nOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjZmNWY5O1xuICAtLWR2LXNjcm9sbGJhci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMjUpO1xufVxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0LXNwYWNlZCAuZHYtcmVzaXplLWNvbnRhaW5lcjpoYXMoPiAuZHYtZ3JvdXB2aWV3KSB7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbn1cbi5kb2Nrdmlldy10aGVtZS1saWdodC1zcGFjZWQgLmR2LXNhc2gge1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG59XG4uZG9ja3ZpZXctdGhlbWUtbGlnaHQtc3BhY2VkIC5kdi1kcm9wLXRhcmdldC1hbmNob3Ige1xuICBib3JkZXItcmFkaXVzOiBjYWxjKHZhcigtLWR2LWJvcmRlci1yYWRpdXMpIC8gNCk7XG59XG4uZG9ja3ZpZXctdGhlbWUtbGlnaHQtc3BhY2VkIC5kdi1kcm9wLXRhcmdldC1hbmNob3IuZHYtZHJvcC10YXJnZXQtY29udGVudCB7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWR2LWJvcmRlci1yYWRpdXMpO1xufVxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0LXNwYWNlZCAuZHYtcmVzaXplLWNvbnRhaW5lciB7XG4gIGJvcmRlci1yYWRpdXM6IHZhcigtLWR2LWJvcmRlci1yYWRpdXMpICFpbXBvcnRhbnQ7XG4gIGJvcmRlcjogbm9uZTtcbn1cbi5kb2Nrdmlldy10aGVtZS1saWdodC1zcGFjZWQgLmR2LXRhYnMtb3ZlcmZsb3ctY29udGFpbmVyLFxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0LXNwYWNlZCAuZHYtdGFicy1vdmVyZmxvdy1kcm9wZG93bi1kZWZhdWx0IHtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICBoZWlnaHQ6IHVuc2V0ICFpbXBvcnRhbnQ7XG59XG4uZG9ja3ZpZXctdGhlbWUtbGlnaHQtc3BhY2VkIC5kdi10YWIge1xuICBib3JkZXItcmFkaXVzOiA4cHg7XG59XG4uZG9ja3ZpZXctdGhlbWUtbGlnaHQtc3BhY2VkIC5kdi10YWIgLmR2LXN2ZyB7XG4gIGhlaWdodDogOHB4O1xuICB3aWR0aDogOHB4O1xufVxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0LXNwYWNlZCAuZHYtZ3JvdXB2aWV3IHtcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tZHYtYm9yZGVyLXJhZGl1cyk7XG59XG4uZG9ja3ZpZXctdGhlbWUtbGlnaHQtc3BhY2VkIC5kdi1ncm91cHZpZXcgLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyIHtcbiAgcGFkZGluZzogMHB4IGNhbGModmFyKC0tZHYtYm9yZGVyLXJhZGl1cykgLyAyKTtcbn1cbi5kb2Nrdmlldy10aGVtZS1saWdodC1zcGFjZWQgLmR2LWdyb3VwdmlldyAuZHYtY29udGVudC1jb250YWluZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yKTtcbn1cbi5kb2Nrdmlldy10aGVtZS1saWdodC1zcGFjZWQgLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LWdyb3VwdmlldyB7XG4gIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbn1cbi5kdi1kcm9wLXRhcmdldC1jb250YWluZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDk5OTk7XG4gIHRvcDogMHB4O1xuICBsZWZ0OiAwcHg7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICAtLWR2LXRyYW5zaXRpb24tZHVyYXRpb246IDMwMG1zO1xufVxuLmR2LWRyb3AtdGFyZ2V0LWNvbnRhaW5lciAuZHYtZHJvcC10YXJnZXQtYW5jaG9yIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBib3JkZXI6IHZhcigtLWR2LWRyYWctb3Zlci1ib3JkZXIpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1kcmFnLW92ZXItYmFja2dyb3VuZC1jb2xvcik7XG4gIG9wYWNpdHk6IDE7XG4gIC8qIEdQVSBvcHRpbWl6YXRpb25zICovXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm0sIG9wYWNpdHk7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XG4gIGJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcbiAgY29udGFpbjogbGF5b3V0IHBhaW50O1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IHZhcigtLWR2LXRyYW5zaXRpb24tZHVyYXRpb24pIGVhc2UtaW4sIHRyYW5zZm9ybSB2YXIoLS1kdi10cmFuc2l0aW9uLWR1cmF0aW9uKSBlYXNlLW91dDtcbn1cbi5kdi1kcm9wLXRhcmdldCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgLS1kdi10cmFuc2l0aW9uLWR1cmF0aW9uOiA3MG1zO1xufVxuLmR2LWRyb3AtdGFyZ2V0ID4gLmR2LWRyb3AtdGFyZ2V0LWRyb3B6b25lIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAwcHg7XG4gIHRvcDogMHB4O1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICB6LWluZGV4OiAxMDAwO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cbi5kdi1kcm9wLXRhcmdldCA+IC5kdi1kcm9wLXRhcmdldC1kcm9wem9uZSA+IC5kdi1kcm9wLXRhcmdldC1zZWxlY3Rpb24ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIGJvcmRlcjogdmFyKC0tZHYtZHJhZy1vdmVyLWJvcmRlcik7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWRyYWctb3Zlci1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgdHJhbnNpdGlvbjogdG9wIHZhcigtLWR2LXRyYW5zaXRpb24tZHVyYXRpb24pIGVhc2Utb3V0LCBsZWZ0IHZhcigtLWR2LXRyYW5zaXRpb24tZHVyYXRpb24pIGVhc2Utb3V0LCB3aWR0aCB2YXIoLS1kdi10cmFuc2l0aW9uLWR1cmF0aW9uKSBlYXNlLW91dCwgaGVpZ2h0IHZhcigtLWR2LXRyYW5zaXRpb24tZHVyYXRpb24pIGVhc2Utb3V0LCBvcGFjaXR5IHZhcigtLWR2LXRyYW5zaXRpb24tZHVyYXRpb24pIGVhc2Utb3V0O1xuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cbi5kdi1kcm9wLXRhcmdldCA+IC5kdi1kcm9wLXRhcmdldC1kcm9wem9uZSA+IC5kdi1kcm9wLXRhcmdldC1zZWxlY3Rpb24uZHYtZHJvcC10YXJnZXQtdG9wLmR2LWRyb3AtdGFyZ2V0LXNtYWxsLXZlcnRpY2FsIHtcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWR2LWRyYWctb3Zlci1ib3JkZXItY29sb3IpO1xufVxuLmR2LWRyb3AtdGFyZ2V0ID4gLmR2LWRyb3AtdGFyZ2V0LWRyb3B6b25lID4gLmR2LWRyb3AtdGFyZ2V0LXNlbGVjdGlvbi5kdi1kcm9wLXRhcmdldC1ib3R0b20uZHYtZHJvcC10YXJnZXQtc21hbGwtdmVydGljYWwge1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tZHYtZHJhZy1vdmVyLWJvcmRlci1jb2xvcik7XG59XG4uZHYtZHJvcC10YXJnZXQgPiAuZHYtZHJvcC10YXJnZXQtZHJvcHpvbmUgPiAuZHYtZHJvcC10YXJnZXQtc2VsZWN0aW9uLmR2LWRyb3AtdGFyZ2V0LWxlZnQuZHYtZHJvcC10YXJnZXQtc21hbGwtaG9yaXpvbnRhbCB7XG4gIGJvcmRlci1sZWZ0OiAxcHggc29saWQgdmFyKC0tZHYtZHJhZy1vdmVyLWJvcmRlci1jb2xvcik7XG59XG4uZHYtZHJvcC10YXJnZXQgPiAuZHYtZHJvcC10YXJnZXQtZHJvcHpvbmUgPiAuZHYtZHJvcC10YXJnZXQtc2VsZWN0aW9uLmR2LWRyb3AtdGFyZ2V0LXJpZ2h0LmR2LWRyb3AtdGFyZ2V0LXNtYWxsLWhvcml6b250YWwge1xuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCB2YXIoLS1kdi1kcmFnLW92ZXItYm9yZGVyLWNvbG9yKTtcbn1cbi5kdi1kb2NrdmlldyB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtZ3JvdXAtdmlldy1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgY29udGFpbjogbGF5b3V0O1xufVxuLmR2LWRvY2t2aWV3IC5kdi13YXRlcm1hcmstY29udGFpbmVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDBweDtcbiAgbGVmdDogMHB4O1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICB6LWluZGV4OiAxO1xufVxuLmR2LWRvY2t2aWV3IC5kdi1vdmVybGF5LXJlbmRlci1jb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbi5kdi1ncm91cHZpZXcuZHYtYWN0aXZlLWdyb3VwID4gLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyIC5kdi10YWJzLWNvbnRhaW5lciA+IC5kdi10YWIuZHYtYWN0aXZlLXRhYiB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcik7XG4gIGNvbG9yOiB2YXIoLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWNvbG9yKTtcbn1cbi5kdi1ncm91cHZpZXcuZHYtYWN0aXZlLWdyb3VwID4gLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyIC5kdi10YWJzLWNvbnRhaW5lciA+IC5kdi10YWIuZHYtaW5hY3RpdmUtdGFiIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3IpO1xuICBjb2xvcjogdmFyKC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yKTtcbn1cbi5kdi1ncm91cHZpZXcuZHYtaW5hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYnMtY29udGFpbmVyID4gLmR2LXRhYi5kdi1hY3RpdmUtdGFiIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtaW5hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3IpO1xuICBjb2xvcjogdmFyKC0tZHYtaW5hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWNvbG9yKTtcbn1cbi5kdi1ncm91cHZpZXcuZHYtaW5hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYnMtY29udGFpbmVyID4gLmR2LXRhYi5kdi1pbmFjdGl2ZS10YWIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1pbmFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgY29sb3I6IHZhcigtLWR2LWluYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yKTtcbn1cblxuLyoqXG4gKiB3aGVuIGEgdGFiIGlzIGRyYWdnZWQgd2UgbG9zZSB0aGUgYWJvdmUgc3R5bGluZ3MgYmVjYXVzZSB0aGV5IGFyZSBjb25kaXRpb25hbCBvbiBwYXJlbnQgZWxlbWVudHNcbiAqIHRoZXJlZm9yZSB3ZSBhbHNvIHNldCBzb21lIHN0eWxpbmdzIGZvciB0aGUgZHJhZ2dpbmcgZXZlbnRcbiAqKi9cbi5kdi10YWIuZHYtdGFiLWRyYWdnaW5nIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgY29sb3I6IHZhcigtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3IpO1xufVxuLmR2LWdyb3VwdmlldyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtZ3JvdXAtdmlldy1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cbi5kdi1ncm91cHZpZXc6Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xufVxuLmR2LWdyb3VwdmlldyA+IC5kdi1jb250ZW50LWNvbnRhaW5lciB7XG4gIGZsZXgtZ3JvdzogMTtcbiAgbWluLWhlaWdodDogMDtcbiAgb3V0bGluZTogbm9uZTtcbn1cbi5kdi1yb290LXdyYXBwZXIge1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xufVxuLmR2LWdyaWQtdmlldyxcbi5kdi1icmFuY2gtbm9kZSB7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG59XG4uZHYtZGVidWcgLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtdG9wIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xufVxuLmR2LWRlYnVnIC5kdi1yZXNpemUtY29udGFpbmVyIC5kdi1yZXNpemUtaGFuZGxlLWJvdHRvbSB7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xufVxuLmR2LWRlYnVnIC5kdi1yZXNpemUtY29udGFpbmVyIC5kdi1yZXNpemUtaGFuZGxlLWxlZnQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3c7XG59XG4uZHYtZGVidWcgLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtcmlnaHQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlO1xufVxuLmR2LWRlYnVnIC5kdi1yZXNpemUtY29udGFpbmVyIC5kdi1yZXNpemUtaGFuZGxlLXRvcGxlZnQsXG4uZHYtZGVidWcgLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtdG9wcmlnaHQsXG4uZHYtZGVidWcgLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtYm90dG9tbGVmdCxcbi5kdi1kZWJ1ZyAuZHYtcmVzaXplLWNvbnRhaW5lciAuZHYtcmVzaXplLWhhbmRsZS1ib3R0b21yaWdodCB7XG4gIGJhY2tncm91bmQtY29sb3I6IGN5YW47XG59XG5cbi5kdi1yZXNpemUtY29udGFpbmVyIHtcbiAgLS1kdi1vdmVybGF5LXotaW5kZXg6IHZhcigtLWR2LW92ZXJsYXktei1pbmRleCwgOTk5KTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiBjYWxjKHZhcigtLWR2LW92ZXJsYXktei1pbmRleCkgLSAyKTtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZHYtdGFiLWRpdmlkZXItY29sb3IpO1xuICBib3gtc2hhZG93OiB2YXIoLS1kdi1mbG9hdGluZy1ib3gtc2hhZG93KTtcbiAgLyogR1BVIG9wdGltaXphdGlvbnMgZm9yIGZsb2F0aW5nIGdyb3VwIG1vdmVtZW50ICovXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm0sIG9wYWNpdHk7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XG4gIGJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcbn1cbi5kdi1yZXNpemUtY29udGFpbmVyLmR2LWhpZGRlbiB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4uZHYtcmVzaXplLWNvbnRhaW5lci5kdi1yZXNpemUtY29udGFpbmVyLWRyYWdnaW5nIHtcbiAgb3BhY2l0eTogMC41O1xuICAvKiBFbmhhbmNlZCBHUFUgYWNjZWxlcmF0aW9uIGR1cmluZyBkcmFnICovXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm0sIG9wYWNpdHk7XG59XG4uZHYtcmVzaXplLWNvbnRhaW5lciAuZHYtcmVzaXplLWhhbmRsZS10b3Age1xuICBoZWlnaHQ6IDRweDtcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDhweCk7XG4gIGxlZnQ6IDRweDtcbiAgdG9wOiAtMnB4O1xuICB6LWluZGV4OiB2YXIoLS1kdi1vdmVybGF5LXotaW5kZXgpO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGN1cnNvcjogbnMtcmVzaXplO1xufVxuLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtYm90dG9tIHtcbiAgaGVpZ2h0OiA0cHg7XG4gIHdpZHRoOiBjYWxjKDEwMCUgLSA4cHgpO1xuICBsZWZ0OiA0cHg7XG4gIGJvdHRvbTogLTJweDtcbiAgei1pbmRleDogdmFyKC0tZHYtb3ZlcmxheS16LWluZGV4KTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBjdXJzb3I6IG5zLXJlc2l6ZTtcbn1cbi5kdi1yZXNpemUtY29udGFpbmVyIC5kdi1yZXNpemUtaGFuZGxlLWxlZnQge1xuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDhweCk7XG4gIHdpZHRoOiA0cHg7XG4gIGxlZnQ6IC0ycHg7XG4gIHRvcDogNHB4O1xuICB6LWluZGV4OiB2YXIoLS1kdi1vdmVybGF5LXotaW5kZXgpO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGN1cnNvcjogZXctcmVzaXplO1xufVxuLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtcmlnaHQge1xuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDhweCk7XG4gIHdpZHRoOiA0cHg7XG4gIHJpZ2h0OiAtMnB4O1xuICB0b3A6IDRweDtcbiAgei1pbmRleDogdmFyKC0tZHYtb3ZlcmxheS16LWluZGV4KTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBjdXJzb3I6IGV3LXJlc2l6ZTtcbn1cbi5kdi1yZXNpemUtY29udGFpbmVyIC5kdi1yZXNpemUtaGFuZGxlLXRvcGxlZnQge1xuICBoZWlnaHQ6IDRweDtcbiAgd2lkdGg6IDRweDtcbiAgdG9wOiAtMnB4O1xuICBsZWZ0OiAtMnB4O1xuICB6LWluZGV4OiB2YXIoLS1kdi1vdmVybGF5LXotaW5kZXgpO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGN1cnNvcjogbnctcmVzaXplO1xufVxuLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtdG9wcmlnaHQge1xuICBoZWlnaHQ6IDRweDtcbiAgd2lkdGg6IDRweDtcbiAgcmlnaHQ6IC0ycHg7XG4gIHRvcDogLTJweDtcbiAgei1pbmRleDogdmFyKC0tZHYtb3ZlcmxheS16LWluZGV4KTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBjdXJzb3I6IG5lLXJlc2l6ZTtcbn1cbi5kdi1yZXNpemUtY29udGFpbmVyIC5kdi1yZXNpemUtaGFuZGxlLWJvdHRvbWxlZnQge1xuICBoZWlnaHQ6IDRweDtcbiAgd2lkdGg6IDRweDtcbiAgbGVmdDogLTJweDtcbiAgYm90dG9tOiAtMnB4O1xuICB6LWluZGV4OiB2YXIoLS1kdi1vdmVybGF5LXotaW5kZXgpO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGN1cnNvcjogc3ctcmVzaXplO1xufVxuLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtYm90dG9tcmlnaHQge1xuICBoZWlnaHQ6IDRweDtcbiAgd2lkdGg6IDRweDtcbiAgcmlnaHQ6IC0ycHg7XG4gIGJvdHRvbTogLTJweDtcbiAgei1pbmRleDogdmFyKC0tZHYtb3ZlcmxheS16LWluZGV4KTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBjdXJzb3I6IHNlLXJlc2l6ZTtcbn1cbi5kdi1yZW5kZXItb3ZlcmxheSB7XG4gIC0tZHYtb3ZlcmxheS16LWluZGV4OiB2YXIoLS1kdi1vdmVybGF5LXotaW5kZXgsIDk5OSk7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogMTtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgY29udGFpbjogbGF5b3V0IHBhaW50O1xuICBpc29sYXRpb246IGlzb2xhdGU7XG4gIC8qIEdQVSBvcHRpbWl6YXRpb25zICovXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XG4gIGJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcbn1cbi5kdi1yZW5kZXItb3ZlcmxheS5kdi1yZW5kZXItb3ZlcmxheS1mbG9hdCB7XG4gIHotaW5kZXg6IGNhbGModmFyKC0tZHYtb3ZlcmxheS16LWluZGV4KSAtIDEpO1xufVxuXG4uZHYtZGVidWcgLmR2LXJlbmRlci1vdmVybGF5IHtcbiAgb3V0bGluZTogMXB4IHNvbGlkIHJlZDtcbiAgb3V0bGluZS1vZmZzZXQ6IC0xO1xufVxuLmR2LXBhbmUtY29udGFpbmVyIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMTAwJTtcbn1cbi5kdi1wYW5lLWNvbnRhaW5lci5kdi1hbmltYXRlZCAuZHYtdmlldyB7XG4gIC8qIEdQVSBvcHRpbWl6YXRpb25zIGZvciBzbW9vdGggcGFuZSBhbmltYXRpb25zICovXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XG4gIGJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMTVzIGVhc2Utb3V0O1xufVxuLmR2LXBhbmUtY29udGFpbmVyIC5kdi12aWV3IHtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgcGFkZGluZzogMHB4ICFpbXBvcnRhbnQ7XG59XG4uZHYtcGFuZS1jb250YWluZXIgLmR2LXZpZXc6bm90KDpmaXJzdC1jaGlsZCk6OmJlZm9yZSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG59XG4uZHYtcGFuZS1jb250YWluZXIgLmR2LXZpZXc6bm90KDpmaXJzdC1jaGlsZCkgLmR2LXBhbmUgPiAuZHYtcGFuZS1oZWFkZXIge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tZHYtcGFuZXZpZXctaGVhZGVyLWJvcmRlci1jb2xvcik7XG59XG4uZHYtcGFuZS1jb250YWluZXIgLmR2LXZpZXcgLmR2LWRlZmF1bHQtaGVhZGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtZ3JvdXAtdmlldy1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgY29sb3I6IHZhcigtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3IpO1xuICBkaXNwbGF5OiBmbGV4O1xuICBwYWRkaW5nOiAwcHggOHB4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG4uZHYtcGFuZS1jb250YWluZXIgLmR2LXZpZXcgLmR2LWRlZmF1bHQtaGVhZGVyIC5kdi1wYW5lLWhlYWRlci1pY29uIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4uZHYtcGFuZS1jb250YWluZXIgLmR2LXZpZXcgLmR2LWRlZmF1bHQtaGVhZGVyID4gc3BhbiB7XG4gIHBhZGRpbmctbGVmdDogOHB4O1xuICBmbGV4LWdyb3c6IDE7XG59XG4uZHYtcGFuZS1jb250YWluZXI6Zmlyc3Qtb2YtdHlwZSA+IC5kdi1wYW5lID4gLmR2LXBhbmUtaGVhZGVyIHtcbiAgYm9yZGVyLXRvcDogbm9uZSAhaW1wb3J0YW50O1xufVxuLmR2LXBhbmUtY29udGFpbmVyIC5kdi1wYW5lIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuLmR2LXBhbmUtY29udGFpbmVyIC5kdi1wYW5lIC5kdi1wYW5lLWhlYWRlciB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHVzZXItc2VsZWN0OiBub25lO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG91dGxpbmU6IG5vbmU7XG59XG4uZHYtcGFuZS1jb250YWluZXIgLmR2LXBhbmUgLmR2LXBhbmUtaGVhZGVyLmR2LXBhbmUtZHJhZ2dhYmxlIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuLmR2LXBhbmUtY29udGFpbmVyIC5kdi1wYW5lIC5kdi1wYW5lLWhlYWRlcjpmb2N1czpiZWZvcmUsIC5kdi1wYW5lLWNvbnRhaW5lciAuZHYtcGFuZSAuZHYtcGFuZS1oZWFkZXI6Zm9jdXMtd2l0aGluOmJlZm9yZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICB6LWluZGV4OiA1O1xuICBjb250ZW50OiBcIlwiO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgb3V0bGluZTogMXB4IHNvbGlkO1xuICBvdXRsaW5lLXdpZHRoOiAtMXB4O1xuICBvdXRsaW5lLXN0eWxlOiBzb2xpZDtcbiAgb3V0bGluZS1vZmZzZXQ6IC0xcHg7XG4gIG91dGxpbmUtY29sb3I6IHZhcigtLWR2LXBhbmV2aWV3LWFjdGl2ZS1vdXRsaW5lLWNvbG9yKTtcbn1cbi5kdi1wYW5lLWNvbnRhaW5lciAuZHYtcGFuZSAuZHYtcGFuZS1ib2R5IHtcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xuICBmbGV4LWdyb3c6IDE7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgb3V0bGluZTogbm9uZTtcbn1cbi5kdi1wYW5lLWNvbnRhaW5lciAuZHYtcGFuZSAuZHYtcGFuZS1ib2R5OmZvY3VzOmJlZm9yZSwgLmR2LXBhbmUtY29udGFpbmVyIC5kdi1wYW5lIC5kdi1wYW5lLWJvZHk6Zm9jdXMtd2l0aGluOmJlZm9yZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICB6LWluZGV4OiA1O1xuICBjb250ZW50OiBcIlwiO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgb3V0bGluZTogMXB4IHNvbGlkO1xuICBvdXRsaW5lLXdpZHRoOiAtMXB4O1xuICBvdXRsaW5lLXN0eWxlOiBzb2xpZDtcbiAgb3V0bGluZS1vZmZzZXQ6IC0xcHg7XG4gIG91dGxpbmUtY29sb3I6IHZhcigtLWR2LXBhbmV2aWV3LWFjdGl2ZS1vdXRsaW5lLWNvbG9yKTtcbn1cbi5kdi1kZWJ1ZyAuZHYtc3BsaXQtdmlldy1jb250YWluZXIgLmR2LXNhc2gtY29udGFpbmVyIC5kdi1zYXNoLmR2LWVuYWJsZWQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbn1cbi5kdi1kZWJ1ZyAuZHYtc3BsaXQtdmlldy1jb250YWluZXIgLmR2LXNhc2gtY29udGFpbmVyIC5kdi1zYXNoLmR2LWRpc2FibGVkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogb3JhbmdlO1xufVxuLmR2LWRlYnVnIC5kdi1zcGxpdC12aWV3LWNvbnRhaW5lciAuZHYtc2FzaC1jb250YWluZXIgLmR2LXNhc2guZHYtbWF4aW11bSB7XG4gIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xufVxuLmR2LWRlYnVnIC5kdi1zcGxpdC12aWV3LWNvbnRhaW5lciAuZHYtc2FzaC1jb250YWluZXIgLmR2LXNhc2guZHYtbWluaW11bSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbn1cblxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xufVxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyLmR2LXNwbGl0dmlldy1kaXNhYmxlZCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoIHtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG59XG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIuZHYtYW5pbWF0aW9uIC5kdi12aWV3LFxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyLmR2LWFuaW1hdGlvbiAuZHYtc2FzaCB7XG4gIC8qIEdQVSBvcHRpbWl6YXRpb25zIGZvciBzbW9vdGggYW5pbWF0aW9ucyAqL1xuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xuICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjE1cyBlYXNlLW91dDtcbn1cbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi1ob3Jpem9udGFsIHtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyLmR2LWhvcml6b250YWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaCB7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDRweDtcbn1cbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi1ob3Jpem9udGFsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2guZHYtZW5hYmxlZCB7XG4gIGN1cnNvcjogZXctcmVzaXplO1xufVxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyLmR2LWhvcml6b250YWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaC5kdi1kaXNhYmxlZCB7XG4gIGN1cnNvcjogZGVmYXVsdDtcbn1cbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi1ob3Jpem9udGFsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2guZHYtbWF4aW11bSB7XG4gIGN1cnNvcjogdy1yZXNpemU7XG59XG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIuZHYtaG9yaXpvbnRhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoLmR2LW1pbmltdW0ge1xuICBjdXJzb3I6IGUtcmVzaXplO1xufVxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyLmR2LWhvcml6b250YWwgPiAuZHYtdmlldy1jb250YWluZXIgPiAuZHYtdmlldzpub3QoOmZpcnN0LWNoaWxkKTo6YmVmb3JlIHtcbiAgaGVpZ2h0OiAxMDAlO1xuICB3aWR0aDogMXB4O1xufVxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyLmR2LXZlcnRpY2FsIHtcbiAgd2lkdGg6IDEwMCU7XG59XG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIuZHYtdmVydGljYWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaCB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDRweDtcbn1cbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi12ZXJ0aWNhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoLmR2LWVuYWJsZWQge1xuICBjdXJzb3I6IG5zLXJlc2l6ZTtcbn1cbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi12ZXJ0aWNhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoLmR2LWRpc2FibGVkIHtcbiAgY3Vyc29yOiBkZWZhdWx0O1xufVxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyLmR2LXZlcnRpY2FsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2guZHYtbWF4aW11bSB7XG4gIGN1cnNvcjogbi1yZXNpemU7XG59XG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIuZHYtdmVydGljYWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaC5kdi1taW5pbXVtIHtcbiAgY3Vyc29yOiBzLXJlc2l6ZTtcbn1cbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi12ZXJ0aWNhbCA+IC5kdi12aWV3LWNvbnRhaW5lciA+IC5kdi12aWV3IHtcbiAgd2lkdGg6IDEwMCU7XG59XG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIuZHYtdmVydGljYWwgPiAuZHYtdmlldy1jb250YWluZXIgPiAuZHYtdmlldzpub3QoOmZpcnN0LWNoaWxkKTo6YmVmb3JlIHtcbiAgaGVpZ2h0OiAxcHg7XG4gIHdpZHRoOiAxMDAlO1xufVxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyIC5kdi1zYXNoLWNvbnRhaW5lciB7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lciAuZHYtc2FzaC1jb250YWluZXIgLmR2LXNhc2gge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDk5O1xuICBvdXRsaW5lOiBub25lO1xuICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICB0b3VjaC1hY3Rpb246IG5vbmU7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LXNhc2gtY29sb3IsIHRyYW5zcGFyZW50KTtcbn1cbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lciAuZHYtc2FzaC1jb250YWluZXIgLmR2LXNhc2g6bm90KC5kaXNhYmxlZCk6YWN0aXZlLCAuZHYtc3BsaXQtdmlldy1jb250YWluZXIgLmR2LXNhc2gtY29udGFpbmVyIC5kdi1zYXNoOm5vdCguZGlzYWJsZWQpOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtYWN0aXZlLXNhc2gtY29sb3IsIHRyYW5zcGFyZW50KTtcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogYmFja2dyb3VuZC1jb2xvcjtcbiAgdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0O1xuICB0cmFuc2l0aW9uLWR1cmF0aW9uOiB2YXIoLS1kdi1hY3RpdmUtc2FzaC10cmFuc2l0aW9uLWR1cmF0aW9uLCAwLjFzKTtcbiAgdHJhbnNpdGlvbi1kZWxheTogdmFyKC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kZWxheSwgMC41cyk7XG59XG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIgLmR2LXZpZXctY29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xufVxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyIC5kdi12aWV3LWNvbnRhaW5lciAuZHYtdmlldyB7XG4gIGhlaWdodDogMTAwJTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgb3ZlcmZsb3c6IGF1dG87XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi1zZXBhcmF0b3ItYm9yZGVyIC5kdi12aWV3Om5vdCg6Zmlyc3QtY2hpbGQpOjpiZWZvcmUge1xuICBjb250ZW50OiBcIiBcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHotaW5kZXg6IDU7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1zZXBhcmF0b3ItYm9yZGVyKTtcbn1cbi5kdi1kcmFnZ2VkIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwcHgsIDBweCwgMHB4KTsgLyogZm9yY2VzIHRhYiB0byBiZSBkcmF3biBvbiBhIHNlcGFyYXRlIGxheWVyIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC92c2NvZGUvaXNzdWVzLzE4NzMzKSAqL1xufVxuXG4uZHYtdGFiIHtcbiAgZmxleC1zaHJpbms6IDA7XG59XG4uZHYtdGFiOmZvY3VzLXdpdGhpbiwgLmR2LXRhYjpmb2N1cyB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cbi5kdi10YWI6Zm9jdXMtd2l0aGluOjphZnRlciwgLmR2LXRhYjpmb2N1czo6YWZ0ZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG4gIHRvcDogMHB4O1xuICBsZWZ0OiAwcHg7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBvdXRsaW5lOiAxcHggc29saWQgdmFyKC0tZHYtdGFiLWRpdmlkZXItY29sb3IpICFpbXBvcnRhbnQ7XG4gIG91dGxpbmUtb2Zmc2V0OiAtMXB4O1xuICB6LWluZGV4OiA1O1xufVxuLmR2LXRhYi5kdi10YWItZHJhZ2dpbmcgLmR2LWRlZmF1bHQtdGFiLWFjdGlvbiB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3IpO1xufVxuLmR2LXRhYi5kdi1hY3RpdmUtdGFiIC5kdi1kZWZhdWx0LXRhYiAuZHYtZGVmYXVsdC10YWItYWN0aW9uIHtcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbn1cbi5kdi10YWIuZHYtaW5hY3RpdmUtdGFiIC5kdi1kZWZhdWx0LXRhYiAuZHYtZGVmYXVsdC10YWItYWN0aW9uIHtcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xufVxuLmR2LXRhYi5kdi1pbmFjdGl2ZS10YWIgLmR2LWRlZmF1bHQtdGFiOmhvdmVyIC5kdi1kZWZhdWx0LXRhYi1hY3Rpb24ge1xuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xufVxuLmR2LXRhYiAuZHYtZGVmYXVsdC10YWIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGhlaWdodDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG59XG4uZHYtdGFiIC5kdi1kZWZhdWx0LXRhYiAuZHYtZGVmYXVsdC10YWItY29udGVudCB7XG4gIGZsZXgtZ3JvdzogMTtcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59XG4uZHYtdGFiIC5kdi1kZWZhdWx0LXRhYiAuZHYtZGVmYXVsdC10YWItYWN0aW9uIHtcbiAgcGFkZGluZzogNHB4O1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbn1cbi5kdi10YWIgLmR2LWRlZmF1bHQtdGFiIC5kdi1kZWZhdWx0LXRhYi1hY3Rpb246aG92ZXIge1xuICBib3JkZXItcmFkaXVzOiAycHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWljb24taG92ZXItYmFja2dyb3VuZC1jb2xvcik7XG59XG4uZHYtdGFicy1vdmVyZmxvdy1kcm9wZG93bi1kZWZhdWx0IHtcbiAgaGVpZ2h0OiAxMDAlO1xuICBjb2xvcjogdmFyKC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yKTtcbiAgbWFyZ2luOiB2YXIoLS1kdi10YWItbWFyZ2luKTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZmxleC1zaHJpbms6IDA7XG4gIHBhZGRpbmc6IDAuMjVyZW0gMC41cmVtO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG4uZHYtdGFicy1vdmVyZmxvdy1kcm9wZG93bi1kZWZhdWx0ID4gc3BhbiB7XG4gIHBhZGRpbmctbGVmdDogMC4yNXJlbTtcbn1cbi5kdi10YWJzLW92ZXJmbG93LWRyb3Bkb3duLWRlZmF1bHQgPiBzdmcge1xuICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XG59XG4uZHYtdGFicy1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBoZWlnaHQ6IDEwMCU7XG4gIG92ZXJmbG93OiBhdXRvO1xuICBzY3JvbGxiYXItd2lkdGg6IHRoaW47XG4gIC8qIEdQVSBvcHRpbWl6YXRpb25zIGZvciBzbW9vdGggc2Nyb2xsaW5nICovXG4gIHdpbGwtY2hhbmdlOiBzY3JvbGwtcG9zaXRpb247XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XG4gIC8qIFRyYWNrICovXG4gIC8qIEhhbmRsZSAqL1xufVxuLmR2LXRhYnMtY29udGFpbmVyLmR2LWhvcml6b250YWwgLmR2LXRhYjpub3QoOmZpcnN0LWNoaWxkKTo6YmVmb3JlIHtcbiAgY29udGVudDogXCIgXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB6LWluZGV4OiA1O1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtdGFiLWRpdmlkZXItY29sb3IpO1xuICB3aWR0aDogMXB4O1xuICBoZWlnaHQ6IDEwMCU7XG59XG4uZHYtdGFicy1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgaGVpZ2h0OiAzcHg7XG59XG4uZHYtdGFicy1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNrIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG4uZHYtdGFicy1jb250YWluZXI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tZHYtdGFicy1jb250YWluZXItc2Nyb2xsYmFyLWNvbG9yKTtcbn1cblxuLmR2LXNjcm9sbGFibGUgPiAuZHYtdGFicy1jb250YWluZXIge1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG4uZHYtdGFiIHtcbiAgLXdlYmtpdC11c2VyLWRyYWc6IGVsZW1lbnQ7XG4gIG91dGxpbmU6IG5vbmU7XG4gIHBhZGRpbmc6IDAuMjVyZW0gMC41cmVtO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgZm9udC1zaXplOiB2YXIoLS1kdi10YWItZm9udC1zaXplKTtcbiAgbWFyZ2luOiB2YXIoLS1kdi10YWItbWFyZ2luKTtcbn1cblxuLmR2LXRhYnMtb3ZlcmZsb3ctY29udGFpbmVyIHtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgaGVpZ2h0OiB1bnNldDtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZHYtdGFiLWRpdmlkZXItY29sb3IpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3IpO1xufVxuLmR2LXRhYnMtb3ZlcmZsb3ctY29udGFpbmVyIC5kdi10YWI6bm90KDpsYXN0LWNoaWxkKSB7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1kdi10YWItZGl2aWRlci1jb2xvcik7XG59XG4uZHYtdGFicy1vdmVyZmxvdy1jb250YWluZXIgLmR2LWFjdGl2ZS10YWIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3IpO1xuICBjb2xvcjogdmFyKC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcik7XG59XG4uZHYtdGFicy1vdmVyZmxvdy1jb250YWluZXIgLmR2LWluYWN0aXZlLXRhYiB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgY29sb3I6IHZhcigtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcik7XG59XG4uZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgZmxleC1zaHJpbms6IDA7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGhlaWdodDogdmFyKC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItaGVpZ2h0KTtcbiAgZm9udC1zaXplOiB2YXIoLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1mb250LXNpemUpO1xufVxuLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLmR2LXNpbmdsZS10YWIuZHYtZnVsbC13aWR0aC1zaW5nbGUtdGFiIC5kdi1zY3JvbGxhYmxlIHtcbiAgZmxleC1ncm93OiAxO1xufVxuLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLmR2LXNpbmdsZS10YWIuZHYtZnVsbC13aWR0aC1zaW5nbGUtdGFiIC5kdi10YWJzLWNvbnRhaW5lciB7XG4gIGZsZXgtZ3JvdzogMTtcbn1cbi5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci5kdi1zaW5nbGUtdGFiLmR2LWZ1bGwtd2lkdGgtc2luZ2xlLXRhYiAuZHYtdGFicy1jb250YWluZXIgLmR2LXRhYiB7XG4gIGZsZXgtZ3JvdzogMTtcbiAgcGFkZGluZzogMHB4O1xufVxuLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLmR2LXNpbmdsZS10YWIuZHYtZnVsbC13aWR0aC1zaW5nbGUtdGFiIC5kdi12b2lkLWNvbnRhaW5lciB7XG4gIGZsZXgtZ3JvdzogMDtcbn1cbi5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtdm9pZC1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWdyb3c6IDE7XG59XG4uZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXZvaWQtY29udGFpbmVyLmR2LWRyYWdnYWJsZSB7XG4gIGN1cnNvcjogZ3JhYjtcbn1cbi5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtcmlnaHQtYWN0aW9ucy1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xufVxuLmR2LXdhdGVybWFyayB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGhlaWdodDogMTAwJTtcbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL25vZGVfbW9kdWxlcy9kb2Nrdmlldy1jb3JlL2Rpc3Qvc3R5bGVzL2RvY2t2aWV3LmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLGtCQUFrQjtFQUNsQixnQkFBZ0I7QUFDbEI7QUFDQTtFQUNFLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsU0FBUztFQUNULFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsNkJBQTZCO0VBQzdCLHNCQUFzQjtFQUN0Qix3Q0FB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ICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG4uZHYtc2Nyb2xsYWJsZSAuZHYtc2Nyb2xsYmFyLWhvcml6b250YWwge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICBoZWlnaHQ6IDRweDtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgLyogR1BVIG9wdGltaXphdGlvbnMgKi9cXG4gIHdpbGwtY2hhbmdlOiBiYWNrZ3JvdW5kLWNvbG9yLCB0cmFuc2Zvcm07XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogYmFja2dyb3VuZC1jb2xvcjtcXG4gIHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dDtcXG4gIHRyYW5zaXRpb24tZHVyYXRpb246IDFzO1xcbiAgdHJhbnNpdGlvbi1kZWxheTogMHM7XFxufVxcbi5kdi1zY3JvbGxhYmxlOmhvdmVyIC5kdi1zY3JvbGxiYXItaG9yaXpvbnRhbCwgLmR2LXNjcm9sbGFibGUuZHYtc2Nyb2xsYWJsZS1yZXNpemluZyAuZHYtc2Nyb2xsYmFyLWhvcml6b250YWwsIC5kdi1zY3JvbGxhYmxlLmR2LXNjcm9sbGFibGUtc2Nyb2xsaW5nIC5kdi1zY3JvbGxiYXItaG9yaXpvbnRhbCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1zY3JvbGxiYXItYmFja2dyb3VuZC1jb2xvciwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjI1KSk7XFxufVxcbi5kdi1zdmcge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgZmlsbDogY3VycmVudGNvbG9yO1xcbiAgbGluZS1oZWlnaHQ6IDE7XFxuICBzdHJva2U6IGN1cnJlbnRjb2xvcjtcXG4gIHN0cm9rZS13aWR0aDogMDtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWRhcmsge1xcbiAgLS1kdi1wYW5ldmlldy1hY3RpdmUtb3V0bGluZS1jb2xvcjogZG9kZ2VyYmx1ZTtcXG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItZm9udC1zaXplOiAxM3B4O1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1oZWlnaHQ6IDM1cHg7XFxuICAtLWR2LWRyYWctb3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDgzLCA4OSwgOTMsIDAuNSk7XFxuICAtLWR2LWRyYWctb3Zlci1ib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgLS1kdi10YWJzLWNvbnRhaW5lci1zY3JvbGxiYXItY29sb3I6ICM4ODg7XFxuICAtLWR2LWljb24taG92ZXItYmFja2dyb3VuZC1jb2xvcjogcmdiYSg5MCwgOTMsIDk0LCAwLjMxKTtcXG4gIC0tZHYtZmxvYXRpbmctYm94LXNoYWRvdzogOHB4IDhweCA4cHggMHB4IHJnYmEoODMsIDg5LCA5MywgMC41KTtcXG4gIC0tZHYtb3ZlcmxheS16LWluZGV4OiA5OTk7XFxuICAtLWR2LXRhYi1mb250LXNpemU6IGluaGVyaXQ7XFxuICAtLWR2LWJvcmRlci1yYWRpdXM6IDBweDtcXG4gIC0tZHYtdGFiLW1hcmdpbjogMDtcXG4gIC0tZHYtc2FzaC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAtLWR2LWFjdGl2ZS1zYXNoLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4xcztcXG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kZWxheTogMC41cztcXG4gIC0tZHYtZ3JvdXAtdmlldy1iYWNrZ3JvdW5kLWNvbG9yOiAjMWUxZTFlO1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yOiAjMjUyNTI2O1xcbiAgLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjMmQyZDJkO1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcXG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogIzJkMmQyZDtcXG4gIC0tZHYtdGFiLWRpdmlkZXItY29sb3I6ICMxZTFlMWU7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHdoaXRlO1xcbiAgLS1kdi1hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6ICM5Njk2OTY7XFxuICAtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcjogIzhmOGY4ZjtcXG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6ICM2MjYyNjI7XFxuICAtLWR2LXNlcGFyYXRvci1ib3JkZXI6IHJnYig2OCwgNjgsIDY4KTtcXG4gIC0tZHYtcGFuZXZpZXctaGVhZGVyLWJvcmRlci1jb2xvcjogcmdiYSgyMDQsIDIwNCwgMjA0LCAwLjIpO1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtZGFyayAuZHYtZHJvcC10YXJnZXQtY29udGFpbmVyIC5kdi1kcm9wLXRhcmdldC1hbmNob3IuZHYtZHJvcC10YXJnZXQtYW5jaG9yLWNvbnRhaW5lci1jaGFuZ2VkIHtcXG4gIG9wYWNpdHk6IDA7XFxuICB0cmFuc2l0aW9uOiBub25lO1xcbn1cXG5cXG4uZG9ja3ZpZXctdGhlbWUtbGlnaHQge1xcbiAgLS1kdi1wYW5ldmlldy1hY3RpdmUtb3V0bGluZS1jb2xvcjogZG9kZ2VyYmx1ZTtcXG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItZm9udC1zaXplOiAxM3B4O1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1oZWlnaHQ6IDM1cHg7XFxuICAtLWR2LWRyYWctb3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDgzLCA4OSwgOTMsIDAuNSk7XFxuICAtLWR2LWRyYWctb3Zlci1ib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgLS1kdi10YWJzLWNvbnRhaW5lci1zY3JvbGxiYXItY29sb3I6ICM4ODg7XFxuICAtLWR2LWljb24taG92ZXItYmFja2dyb3VuZC1jb2xvcjogcmdiYSg5MCwgOTMsIDk0LCAwLjMxKTtcXG4gIC0tZHYtZmxvYXRpbmctYm94LXNoYWRvdzogOHB4IDhweCA4cHggMHB4IHJnYmEoODMsIDg5LCA5MywgMC41KTtcXG4gIC0tZHYtb3ZlcmxheS16LWluZGV4OiA5OTk7XFxuICAtLWR2LXRhYi1mb250LXNpemU6IGluaGVyaXQ7XFxuICAtLWR2LWJvcmRlci1yYWRpdXM6IDBweDtcXG4gIC0tZHYtdGFiLW1hcmdpbjogMDtcXG4gIC0tZHYtc2FzaC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAtLWR2LWFjdGl2ZS1zYXNoLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4xcztcXG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kZWxheTogMC41cztcXG4gIC0tZHYtZ3JvdXAtdmlldy1iYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItYmFja2dyb3VuZC1jb2xvcjogI2YzZjNmMztcXG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICNlY2VjZWM7XFxuICAtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogI2VjZWNlYztcXG4gIC0tZHYtdGFiLWRpdmlkZXItY29sb3I6IHdoaXRlO1xcbiAgLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcjogcmdiYSg1MSwgNTEsIDUxLCAwLjcpO1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHJnYmEoNTEsIDUxLCA1MSwgMC43KTtcXG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6IHJnYmEoNTEsIDUxLCA1MSwgMC4zNSk7XFxuICAtLWR2LXNlcGFyYXRvci1ib3JkZXI6IHJnYmEoMTI4LCAxMjgsIDEyOCwgMC4zNSk7XFxuICAtLWR2LXBhbmV2aWV3LWhlYWRlci1ib3JkZXItY29sb3I6IHJnYig1MSwgNTEsIDUxKTtcXG4gIC0tZHYtc2Nyb2xsYmFyLWJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1saWdodCAuZHYtZHJvcC10YXJnZXQtY29udGFpbmVyIC5kdi1kcm9wLXRhcmdldC1hbmNob3IuZHYtZHJvcC10YXJnZXQtYW5jaG9yLWNvbnRhaW5lci1jaGFuZ2VkIHtcXG4gIG9wYWNpdHk6IDA7XFxuICB0cmFuc2l0aW9uOiBub25lO1xcbn1cXG5cXG4uZG9ja3ZpZXctdGhlbWUtdnMge1xcbiAgLS1kdi1wYW5ldmlldy1hY3RpdmUtb3V0bGluZS1jb2xvcjogZG9kZ2VyYmx1ZTtcXG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItZm9udC1zaXplOiAxM3B4O1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1oZWlnaHQ6IDM1cHg7XFxuICAtLWR2LWRyYWctb3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDgzLCA4OSwgOTMsIDAuNSk7XFxuICAtLWR2LWRyYWctb3Zlci1ib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgLS1kdi10YWJzLWNvbnRhaW5lci1zY3JvbGxiYXItY29sb3I6ICM4ODg7XFxuICAtLWR2LWljb24taG92ZXItYmFja2dyb3VuZC1jb2xvcjogcmdiYSg5MCwgOTMsIDk0LCAwLjMxKTtcXG4gIC0tZHYtZmxvYXRpbmctYm94LXNoYWRvdzogOHB4IDhweCA4cHggMHB4IHJnYmEoODMsIDg5LCA5MywgMC41KTtcXG4gIC0tZHYtb3ZlcmxheS16LWluZGV4OiA5OTk7XFxuICAtLWR2LXRhYi1mb250LXNpemU6IGluaGVyaXQ7XFxuICAtLWR2LWJvcmRlci1yYWRpdXM6IDBweDtcXG4gIC0tZHYtdGFiLW1hcmdpbjogMDtcXG4gIC0tZHYtc2FzaC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAtLWR2LWFjdGl2ZS1zYXNoLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4xcztcXG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kZWxheTogMC41cztcXG4gIC0tZHYtZ3JvdXAtdmlldy1iYWNrZ3JvdW5kLWNvbG9yOiAjMWUxZTFlO1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yOiAjMjUyNTI2O1xcbiAgLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICMxZTFlMWU7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjMmQyZDJkO1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogIzFlMWUxZTtcXG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogIzJkMmQyZDtcXG4gIC0tZHYtdGFiLWRpdmlkZXItY29sb3I6ICMxZTFlMWU7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHdoaXRlO1xcbiAgLS1kdi1hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6ICM5Njk2OTY7XFxuICAtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcjogIzhmOGY4ZjtcXG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6ICM2MjYyNjI7XFxuICAtLWR2LXNlcGFyYXRvci1ib3JkZXI6IHJnYig2OCwgNjgsIDY4KTtcXG4gIC0tZHYtcGFuZXZpZXctaGVhZGVyLWJvcmRlci1jb2xvcjogcmdiYSgyMDQsIDIwNCwgMjA0LCAwLjIpO1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yOiAjMmQyZDMwO1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1oZWlnaHQ6IDIwcHg7XFxuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWZvbnQtc2l6ZTogMTFweDtcXG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YWNjO1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogIzNmM2Y0NjtcXG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcjogd2hpdGU7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcjogd2hpdGU7XFxuICAtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcjogd2hpdGU7XFxuICAtLWR2LWluYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yOiB3aGl0ZTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLXZzIC5kdi1kcm9wLXRhcmdldC1jb250YWluZXIgLmR2LWRyb3AtdGFyZ2V0LWFuY2hvci5kdi1kcm9wLXRhcmdldC1hbmNob3ItY29udGFpbmVyLWNoYW5nZWQge1xcbiAgb3BhY2l0eTogMDtcXG4gIHRyYW5zaXRpb246IG5vbmU7XFxufVxcbi5kb2Nrdmlldy10aGVtZS12cyAuZHYtZ3JvdXB2aWV3LmR2LWFjdGl2ZS1ncm91cCA+IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciB7XFxuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3IpO1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtdnMgLmR2LWdyb3Vwdmlldy5kdi1hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYi5kdi1hY3RpdmUtdGFiIHtcXG4gIGJvcmRlci10b3A6IDJweCBzb2xpZCB2YXIoLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3IpO1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtdnMgLmR2LWdyb3Vwdmlldy5kdi1hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYi5kdi1pbmFjdGl2ZS10YWIge1xcbiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIHZhcigtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yKTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLXZzIC5kdi1ncm91cHZpZXcuZHYtaW5hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIge1xcbiAgYm94LXNpemluZzogY29udGVudC1ib3g7XFxuICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tZHYtaW5hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3IpO1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtdnMgLmR2LWdyb3Vwdmlldy5kdi1pbmFjdGl2ZS1ncm91cCA+IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtdGFiLmR2LWFjdGl2ZS10YWIge1xcbiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIHZhcigtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yKTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLXZzIC5kdi1ncm91cHZpZXcuZHYtaW5hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYi5kdi1pbmFjdGl2ZS10YWIge1xcbiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIHZhcigtLWR2LWluYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3IpO1xcbn1cXG5cXG4uZG9ja3ZpZXctdGhlbWUtYWJ5c3Mge1xcbiAgLS1kdi1wYW5ldmlldy1hY3RpdmUtb3V0bGluZS1jb2xvcjogZG9kZ2VyYmx1ZTtcXG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItZm9udC1zaXplOiAxM3B4O1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1oZWlnaHQ6IDM1cHg7XFxuICAtLWR2LWRyYWctb3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDgzLCA4OSwgOTMsIDAuNSk7XFxuICAtLWR2LWRyYWctb3Zlci1ib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgLS1kdi10YWJzLWNvbnRhaW5lci1zY3JvbGxiYXItY29sb3I6ICM4ODg7XFxuICAtLWR2LWljb24taG92ZXItYmFja2dyb3VuZC1jb2xvcjogcmdiYSg5MCwgOTMsIDk0LCAwLjMxKTtcXG4gIC0tZHYtZmxvYXRpbmctYm94LXNoYWRvdzogOHB4IDhweCA4cHggMHB4IHJnYmEoODMsIDg5LCA5MywgMC41KTtcXG4gIC0tZHYtb3ZlcmxheS16LWluZGV4OiA5OTk7XFxuICAtLWR2LXRhYi1mb250LXNpemU6IGluaGVyaXQ7XFxuICAtLWR2LWJvcmRlci1yYWRpdXM6IDBweDtcXG4gIC0tZHYtdGFiLW1hcmdpbjogMDtcXG4gIC0tZHYtc2FzaC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAtLWR2LWFjdGl2ZS1zYXNoLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kdXJhdGlvbjogMC4xcztcXG4gIC0tZHYtYWN0aXZlLXNhc2gtdHJhbnNpdGlvbi1kZWxheTogMC41cztcXG4gIC0tZHYtY29sb3ItYWJ5c3MtZGFyazogIzAwMGMxODtcXG4gIC0tZHYtY29sb3ItYWJ5c3M6ICMxMDE5MmM7XFxuICAtLWR2LWNvbG9yLWFieXNzLWxpZ2h0OiAjMWMxYzJhO1xcbiAgLS1kdi1jb2xvci1hYnlzcy1saWdodGVyOiAjMmIyYjRhO1xcbiAgLS1kdi1jb2xvci1hYnlzcy1hY2NlbnQ6IHJnYig5MSwgMzAsIDIwNyk7XFxuICAtLWR2LWNvbG9yLWFieXNzLXByaW1hcnktdGV4dDogd2hpdGU7XFxuICAtLWR2LWNvbG9yLWFieXNzLXNlY29uZGFyeS10ZXh0OiByZ2IoMTQ4LCAxNTEsIDE2OSk7XFxuICAtLWR2LWdyb3VwLXZpZXctYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtY29sb3ItYWJ5c3MtZGFyayk7XFxuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I6IHZhcihcXG4gICAgICAtLWR2LWNvbG9yLWFieXNzLWxpZ2h0XFxuICApO1xcbiAgLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6IHZhcihcXG4gICAgICAtLWR2LWNvbG9yLWFieXNzLWRhcmtcXG4gICk7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1jb2xvci1hYnlzcyk7XFxuICAtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoXFxuICAgICAgLS1kdi1jb2xvci1hYnlzcy1kYXJrXFxuICApO1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1jb2xvci1hYnlzcyk7XFxuICAtLWR2LXRhYi1kaXZpZGVyLWNvbG9yOiB2YXIoLS1kdi1jb2xvci1hYnlzcy1saWdodGVyKTtcXG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcjogd2hpdGU7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpO1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTtcXG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yNSk7XFxuICAtLWR2LXNlcGFyYXRvci1ib3JkZXI6IHZhcigtLWR2LWNvbG9yLWFieXNzLWxpZ2h0ZXIpO1xcbiAgLS1kdi1wYW5ldmlldy1oZWFkZXItYm9yZGVyLWNvbG9yOiB2YXIoLS1kdi1jb2xvci1hYnlzcy1saWdodGVyKTtcXG4gIC0tZHYtcGFuZXZpZXctYWN0aXZlLW91dGxpbmUtY29sb3I6ICM1OTZmOTk7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1hYnlzcyAuZHYtZHJvcC10YXJnZXQtY29udGFpbmVyIC5kdi1kcm9wLXRhcmdldC1hbmNob3IuZHYtZHJvcC10YXJnZXQtYW5jaG9yLWNvbnRhaW5lci1jaGFuZ2VkIHtcXG4gIG9wYWNpdHk6IDA7XFxuICB0cmFuc2l0aW9uOiBub25lO1xcbn1cXG5cXG4uZG9ja3ZpZXctdGhlbWUtZHJhY3VsYSB7XFxuICAtLWR2LXBhbmV2aWV3LWFjdGl2ZS1vdXRsaW5lLWNvbG9yOiBkb2RnZXJibHVlO1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1mb250LXNpemU6IDEzcHg7XFxuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWhlaWdodDogMzVweDtcXG4gIC0tZHYtZHJhZy1vdmVyLWJhY2tncm91bmQtY29sb3I6IHJnYmEoODMsIDg5LCA5MywgMC41KTtcXG4gIC0tZHYtZHJhZy1vdmVyLWJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAtLWR2LXRhYnMtY29udGFpbmVyLXNjcm9sbGJhci1jb2xvcjogIzg4ODtcXG4gIC0tZHYtaWNvbi1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkwLCA5MywgOTQsIDAuMzEpO1xcbiAgLS1kdi1mbG9hdGluZy1ib3gtc2hhZG93OiA4cHggOHB4IDhweCAwcHggcmdiYSg4MywgODksIDkzLCAwLjUpO1xcbiAgLS1kdi1vdmVybGF5LXotaW5kZXg6IDk5OTtcXG4gIC0tZHYtdGFiLWZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIC0tZHYtYm9yZGVyLXJhZGl1czogMHB4O1xcbiAgLS1kdi10YWItbWFyZ2luOiAwO1xcbiAgLS1kdi1zYXNoLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIC0tZHYtYWN0aXZlLXNhc2gtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgLS1kdi1hY3RpdmUtc2FzaC10cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjFzO1xcbiAgLS1kdi1hY3RpdmUtc2FzaC10cmFuc2l0aW9uLWRlbGF5OiAwLjVzO1xcbiAgLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3I6ICMyODJhMzY7XFxuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I6ICMxOTFhMjE7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogIzI4MmEzNjtcXG4gIC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICMyMTIyMmM7XFxuICAtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjMjgyYTM2O1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjMjEyMjJjO1xcbiAgLS1kdi10YWItZGl2aWRlci1jb2xvcjogIzE5MWEyMTtcXG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcjogcmdiKDI0OCwgMjQ4LCAyNDIpO1xcbiAgLS1kdi1hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6IHJnYig5OCwgMTE0LCAxNjQpO1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHJnYmEoMjQ4LCAyNDgsIDI0MiwgMC41KTtcXG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6IHJnYmEoOTgsIDExNCwgMTY0LCAwLjUpO1xcbiAgLS1kdi1zZXBhcmF0b3ItYm9yZGVyOiAjYmQ5M2Y5O1xcbiAgLS1kdi1wYW5ldmlldy1oZWFkZXItYm9yZGVyLWNvbG9yOiAjYmQ5M2Y5O1xcbiAgLS1kdi1wYW5ldmlldy1hY3RpdmUtb3V0bGluZS1jb2xvcjogIzYyNzJhNDtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWRyYWN1bGEgLmR2LWRyb3AtdGFyZ2V0LWNvbnRhaW5lciAuZHYtZHJvcC10YXJnZXQtYW5jaG9yLmR2LWRyb3AtdGFyZ2V0LWFuY2hvci1jb250YWluZXItY2hhbmdlZCB7XFxuICBvcGFjaXR5OiAwO1xcbiAgdHJhbnNpdGlvbjogbm9uZTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWRyYWN1bGEgLmR2LWdyb3Vwdmlldy5kdi1hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYnMtY29udGFpbmVyID4gLmR2LXRhYi5kdi1hY3RpdmUtdGFiIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWRyYWN1bGEgLmR2LWdyb3Vwdmlldy5kdi1hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYnMtY29udGFpbmVyID4gLmR2LXRhYi5kdi1hY3RpdmUtdGFiOjphZnRlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwcHg7XFxuICB0b3A6IDBweDtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDFweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM5NDUyN2U7XFxuICB6LWluZGV4OiA5OTk7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1kcmFjdWxhIC5kdi1ncm91cHZpZXcuZHYtaW5hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYnMtY29udGFpbmVyID4gLmR2LXRhYi5kdi1hY3RpdmUtdGFiIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWRyYWN1bGEgLmR2LWdyb3Vwdmlldy5kdi1pbmFjdGl2ZS1ncm91cCA+IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtdGFicy1jb250YWluZXIgPiAuZHYtdGFiLmR2LWFjdGl2ZS10YWI6OmFmdGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDBweDtcXG4gIGJvdHRvbTogMHB4O1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMXB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzVlM2Q1YTtcXG4gIHotaW5kZXg6IDk5OTtcXG59XFxuXFxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCB7XFxuICAtLWR2LXBhbmV2aWV3LWFjdGl2ZS1vdXRsaW5lLWNvbG9yOiBkb2RnZXJibHVlO1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1mb250LXNpemU6IDEzcHg7XFxuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWhlaWdodDogMzVweDtcXG4gIC0tZHYtZHJhZy1vdmVyLWJhY2tncm91bmQtY29sb3I6IHJnYmEoODMsIDg5LCA5MywgMC41KTtcXG4gIC0tZHYtZHJhZy1vdmVyLWJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAtLWR2LXRhYnMtY29udGFpbmVyLXNjcm9sbGJhci1jb2xvcjogIzg4ODtcXG4gIC0tZHYtaWNvbi1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkwLCA5MywgOTQsIDAuMzEpO1xcbiAgLS1kdi1mbG9hdGluZy1ib3gtc2hhZG93OiA4cHggOHB4IDhweCAwcHggcmdiYSg4MywgODksIDkzLCAwLjUpO1xcbiAgLS1kdi1vdmVybGF5LXotaW5kZXg6IDk5OTtcXG4gIC0tZHYtdGFiLWZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIC0tZHYtYm9yZGVyLXJhZGl1czogMHB4O1xcbiAgLS1kdi10YWItbWFyZ2luOiAwO1xcbiAgLS1kdi1zYXNoLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIC0tZHYtYWN0aXZlLXNhc2gtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgLS1kdi1hY3RpdmUtc2FzaC10cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjFzO1xcbiAgLS1kdi1hY3RpdmUtc2FzaC10cmFuc2l0aW9uLWRlbGF5OiAwLjVzO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWJlY2VkO1xcbiAgLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3I6ICNlYmVjZWQ7XFxuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I6ICNmY2ZjZmM7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogI2YwZjFmMjtcXG4gIC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICNmY2ZjZmM7XFxuICAtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMWYyO1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjZmNmY2ZjO1xcbiAgLS1kdi10YWItZGl2aWRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHJnYig1MSwgNTEsIDUxKTtcXG4gIC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yOiByZ2IoNTEsIDUxLCA1MSk7XFxuICAtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcjogcmdiKDUxLCA1MSwgNTEpO1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcjogcmdiKDUxLCA1MSwgNTEpO1xcbiAgLS1kdi1zZXBhcmF0b3ItYm9yZGVyOiB0cmFuc3BhcmVudDtcXG4gIC0tZHYtcGFuZXZpZXctaGVhZGVyLWJvcmRlci1jb2xvcjogcmdiKDUxLCA1MSwgNTEpO1xcbiAgLS1kdi1zYXNoLWNvbG9yOiAjY2ZkMWQzO1xcbiAgLS1kdi1hY3RpdmUtc2FzaC1jb2xvcjogI2JhYmJiYjtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtZHJvcC10YXJnZXQtY29udGFpbmVyIC5kdi1kcm9wLXRhcmdldC1hbmNob3IuZHYtZHJvcC10YXJnZXQtYW5jaG9yLWNvbnRhaW5lci1jaGFuZ2VkIHtcXG4gIG9wYWNpdHk6IDA7XFxuICB0cmFuc2l0aW9uOiBub25lO1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1yZXNpemUtY29udGFpbmVyOmhhcyg+IC5kdi1ncm91cHZpZXcpIHtcXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtcmVzaXplLWNvbnRhaW5lciB7XFxuICBib3JkZXItcmFkaXVzOiAxMHB4ICFpbXBvcnRhbnQ7XFxuICBib3JkZXI6IG5vbmU7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LWdyb3VwdmlldyB7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtZ3JvdXB2aWV3IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciB7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgxMjgsIDEyOCwgMTI4LCAwLjM1KTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtZ3JvdXB2aWV3IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtdGFiIHtcXG4gIG1hcmdpbjogNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1ncm91cHZpZXcgLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyIC5kdi10YWIgLmR2LXN2ZyB7XFxuICBoZWlnaHQ6IDhweDtcXG4gIHdpZHRoOiA4cHg7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LWdyb3VwdmlldyAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTRlNWU2ICFpbXBvcnRhbnQ7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LWdyb3VwdmlldyAuZHYtY29udGVudC1jb250YWluZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZjZmNmYztcXG59XFxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtZ3JvdXB2aWV3LmR2LWFjdGl2ZS1ncm91cCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDEyOCwgMTI4LCAxMjgsIDAuMzUpO1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1ncm91cHZpZXcuZHYtaW5hY3RpdmUtZ3JvdXAge1xcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LXZlcnRpY2FsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2gge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LXZlcnRpY2FsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2g6bm90KC5kaXNhYmxlZCk6OmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgaGVpZ2h0OiA0cHg7XFxuICB3aWR0aDogNDBweDtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIHRvcDogNTAlO1xcbiAgbGVmdDogNTAlO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1zYXNoLWNvbG9yKTtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtdmVydGljYWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaDpub3QoLmRpc2FibGVkKTpob3ZlciwgLmRvY2t2aWV3LXRoZW1lLXJlcGxpdCAuZHYtdmVydGljYWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaDpub3QoLmRpc2FibGVkKTphY3RpdmUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LXZlcnRpY2FsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2g6bm90KC5kaXNhYmxlZCk6aG92ZXI6OmFmdGVyLCAuZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi12ZXJ0aWNhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoOm5vdCguZGlzYWJsZWQpOmFjdGl2ZTo6YWZ0ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtYWN0aXZlLXNhc2gtY29sb3IpO1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1ob3Jpem9udGFsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2gge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LWhvcml6b250YWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaDpub3QoLmRpc2FibGVkKTo6YWZ0ZXIge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBoZWlnaHQ6IDQwcHg7XFxuICB3aWR0aDogNHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgdG9wOiA1MCU7XFxuICBsZWZ0OiA1MCU7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LXNhc2gtY29sb3IpO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtcmVwbGl0IC5kdi1ob3Jpem9udGFsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2g6bm90KC5kaXNhYmxlZCk6aG92ZXIsIC5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LWhvcml6b250YWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaDpub3QoLmRpc2FibGVkKTphY3RpdmUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LWhvcml6b250YWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaDpub3QoLmRpc2FibGVkKTpob3Zlcjo6YWZ0ZXIsIC5kb2Nrdmlldy10aGVtZS1yZXBsaXQgLmR2LWhvcml6b250YWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaDpub3QoLmRpc2FibGVkKTphY3RpdmU6OmFmdGVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWFjdGl2ZS1zYXNoLWNvbG9yKTtcXG59XFxuXFxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCB7XFxuICAtLWR2LXBhbmV2aWV3LWFjdGl2ZS1vdXRsaW5lLWNvbG9yOiBkb2RnZXJibHVlO1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1mb250LXNpemU6IDEzcHg7XFxuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWhlaWdodDogMzVweDtcXG4gIC0tZHYtZHJhZy1vdmVyLWJhY2tncm91bmQtY29sb3I6IHJnYmEoODMsIDg5LCA5MywgMC41KTtcXG4gIC0tZHYtZHJhZy1vdmVyLWJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAtLWR2LXRhYnMtY29udGFpbmVyLXNjcm9sbGJhci1jb2xvcjogIzg4ODtcXG4gIC0tZHYtaWNvbi1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDkwLCA5MywgOTQsIDAuMzEpO1xcbiAgLS1kdi1mbG9hdGluZy1ib3gtc2hhZG93OiA4cHggOHB4IDhweCAwcHggcmdiYSg4MywgODksIDkzLCAwLjUpO1xcbiAgLS1kdi1vdmVybGF5LXotaW5kZXg6IDk5OTtcXG4gIC0tZHYtdGFiLWZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIC0tZHYtYm9yZGVyLXJhZGl1czogMHB4O1xcbiAgLS1kdi10YWItbWFyZ2luOiAwO1xcbiAgLS1kdi1zYXNoLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIC0tZHYtYWN0aXZlLXNhc2gtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgLS1kdi1hY3RpdmUtc2FzaC10cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjFzO1xcbiAgLS1kdi1hY3RpdmUtc2FzaC10cmFuc2l0aW9uLWRlbGF5OiAwLjVzO1xcbiAgLS1kdi10YWItZm9udC1zaXplOiAxMnB4O1xcbiAgLS1kdi1ib3JkZXItcmFkaXVzOiAyMHB4O1xcbiAgLS1kdi10YWItbWFyZ2luOiAwLjVyZW0gMC4yNXJlbTtcXG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItaGVpZ2h0OiA0NHB4O1xcbiAgLS1kdi1ib3JkZXItcmFkaXVzOiAyMHB4O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC0tZHYtY29sb3ItYWJ5c3MtZGFyazogcmdiKDExLCA2LCAxNyk7XFxuICAtLWR2LWNvbG9yLWFieXNzOiAjMTYxMjFmO1xcbiAgLS1kdi1jb2xvci1hYnlzcy1saWdodDogIzIwMWQyYjtcXG4gIC0tZHYtY29sb3ItYWJ5c3MtbGlnaHRlcjogIzJhMjgzNztcXG4gIC0tZHYtY29sb3ItYWJ5c3MtYWNjZW50OiByZ2IoOTEsIDMwLCAyMDcpO1xcbiAgLS1kdi1jb2xvci1hYnlzcy1wcmltYXJ5LXRleHQ6IHdoaXRlO1xcbiAgLS1kdi1jb2xvci1hYnlzcy1zZWNvbmRhcnktdGV4dDogcmdiKDE0OCwgMTUxLCAxNjkpO1xcbiAgLS1kdi1kcmFnLW92ZXItYm9yZGVyOiAycHggc29saWQgdmFyKC0tZHYtY29sb3ItYWJ5c3MtYWNjZW50KTtcXG4gIC0tZHYtZHJhZy1vdmVyLWJhY2tncm91bmQtY29sb3I6IFxcXCJcXFwiO1xcbiAgLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWNvbG9yLWFieXNzLWRhcmspO1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1jb2xvci1hYnlzcyk7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogdmFyKFxcbiAgICAgIC0tZHYtY29sb3ItYWJ5c3MtbGlnaHRlclxcbiAgKTtcXG4gIC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6IHZhcihcXG4gICAgICAtLWR2LWNvbG9yLWFieXNzLWxpZ2h0XFxuICApO1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogdmFyKFxcbiAgICAgIC0tZHYtY29sb3ItYWJ5c3MtbGlnaHRlclxcbiAgKTtcXG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogdmFyKFxcbiAgICAgIC0tZHYtY29sb3ItYWJ5c3MtbGlnaHRcXG4gICk7XFxuICAtLWR2LXRhYi1kaXZpZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcjogdmFyKC0tZHYtY29sb3ItYWJ5c3MtcHJpbWFyeS10ZXh0KTtcXG4gIC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yOiB2YXIoXFxuICAgICAgLS1kdi1jb2xvci1hYnlzcy1zZWNvbmRhcnktdGV4dFxcbiAgKTtcXG4gIC0tZHYtaW5hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWNvbG9yOiB2YXIoXFxuICAgICAgLS1kdi1jb2xvci1hYnlzcy1wcmltYXJ5LXRleHRcXG4gICk7XFxuICAtLWR2LWluYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yOiB2YXIoXFxuICAgICAgLS1kdi1jb2xvci1hYnlzcy1zZWNvbmRhcnktdGV4dFxcbiAgKTtcXG4gIC0tZHYtc2VwYXJhdG9yLWJvcmRlcjogdHJhbnNwYXJlbnQ7XFxuICAtLWR2LXBhbmV2aWV3LWhlYWRlci1ib3JkZXItY29sb3I6IHJnYig1MSwgNTEsIDUxKTtcXG4gIC0tZHYtYWN0aXZlLXNhc2gtY29sb3I6IHZhcigtLWR2LWNvbG9yLWFieXNzLWFjY2VudCk7XFxuICAtLWR2LWZsb2F0aW5nLWJveC1zaGFkb3c6IDhweCA4cHggOHB4IDBweCByZ2JhKDAsIDAsIDAsIDAuNSk7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtY29sb3ItYWJ5c3MtZGFyayk7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1hYnlzcy1zcGFjZWQgLmR2LXJlc2l6ZS1jb250YWluZXI6aGFzKD4gLmR2LWdyb3Vwdmlldykge1xcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtYWJ5c3Mtc3BhY2VkIC5kdi1zYXNoIHtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCAuZHYtZHJvcC10YXJnZXQtYW5jaG9yIHtcXG4gIGJvcmRlci1yYWRpdXM6IGNhbGModmFyKC0tZHYtYm9yZGVyLXJhZGl1cykgLyA0KTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCAuZHYtZHJvcC10YXJnZXQtYW5jaG9yLmR2LWRyb3AtdGFyZ2V0LWNvbnRlbnQge1xcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tZHYtYm9yZGVyLXJhZGl1cyk7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1hYnlzcy1zcGFjZWQgLmR2LXJlc2l6ZS1jb250YWluZXIge1xcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tZHYtYm9yZGVyLXJhZGl1cykgIWltcG9ydGFudDtcXG4gIGJvcmRlcjogbm9uZTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCAuZHYtdGFicy1vdmVyZmxvdy1jb250YWluZXIsXFxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCAuZHYtdGFicy1vdmVyZmxvdy1kcm9wZG93bi1kZWZhdWx0IHtcXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcXG4gIGhlaWdodDogdW5zZXQgIWltcG9ydGFudDtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCAuZHYtdGFiIHtcXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCAuZHYtdGFiIC5kdi1zdmcge1xcbiAgaGVpZ2h0OiA4cHg7XFxuICB3aWR0aDogOHB4O1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtYWJ5c3Mtc3BhY2VkIC5kdi1ncm91cHZpZXcge1xcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tZHYtYm9yZGVyLXJhZGl1cyk7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1hYnlzcy1zcGFjZWQgLmR2LWdyb3VwdmlldyAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIge1xcbiAgcGFkZGluZzogMHB4IGNhbGModmFyKC0tZHYtYm9yZGVyLXJhZGl1cykgLyAyKTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCAuZHYtZ3JvdXB2aWV3IC5kdi1jb250ZW50LWNvbnRhaW5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yKTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWFieXNzLXNwYWNlZCAuZHYtcmVzaXplLWNvbnRhaW5lciAuZHYtZ3JvdXB2aWV3IHtcXG4gIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWR2LWNvbG9yLWFieXNzLWRhcmspO1xcbn1cXG5cXG4uZG9ja3ZpZXctdGhlbWUtbGlnaHQtc3BhY2VkIHtcXG4gIC0tZHYtcGFuZXZpZXctYWN0aXZlLW91dGxpbmUtY29sb3I6IGRvZGdlcmJsdWU7XFxuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWZvbnQtc2l6ZTogMTNweDtcXG4gIC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItaGVpZ2h0OiAzNXB4O1xcbiAgLS1kdi1kcmFnLW92ZXItYmFja2dyb3VuZC1jb2xvcjogcmdiYSg4MywgODksIDkzLCAwLjUpO1xcbiAgLS1kdi1kcmFnLW92ZXItYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIC0tZHYtdGFicy1jb250YWluZXItc2Nyb2xsYmFyLWNvbG9yOiAjODg4O1xcbiAgLS1kdi1pY29uLWhvdmVyLWJhY2tncm91bmQtY29sb3I6IHJnYmEoOTAsIDkzLCA5NCwgMC4zMSk7XFxuICAtLWR2LWZsb2F0aW5nLWJveC1zaGFkb3c6IDhweCA4cHggOHB4IDBweCByZ2JhKDgzLCA4OSwgOTMsIDAuNSk7XFxuICAtLWR2LW92ZXJsYXktei1pbmRleDogOTk5O1xcbiAgLS1kdi10YWItZm9udC1zaXplOiBpbmhlcml0O1xcbiAgLS1kdi1ib3JkZXItcmFkaXVzOiAwcHg7XFxuICAtLWR2LXRhYi1tYXJnaW46IDA7XFxuICAtLWR2LXNhc2gtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgLS1kdi1hY3RpdmUtc2FzaC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAtLWR2LWFjdGl2ZS1zYXNoLXRyYW5zaXRpb24tZHVyYXRpb246IDAuMXM7XFxuICAtLWR2LWFjdGl2ZS1zYXNoLXRyYW5zaXRpb24tZGVsYXk6IDAuNXM7XFxuICAtLWR2LXRhYi1mb250LXNpemU6IDEycHg7XFxuICAtLWR2LWJvcmRlci1yYWRpdXM6IDIwcHg7XFxuICAtLWR2LXRhYi1tYXJnaW46IDAuNXJlbSAwLjI1cmVtO1xcbiAgLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1oZWlnaHQ6IDQ0cHg7XFxuICAtLWR2LWJvcmRlci1yYWRpdXM6IDIwcHg7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLS1kdi1kcmFnLW92ZXItYm9yZGVyOiAycHggc29saWQgcmdiKDkxLCAzMCwgMjA3KTtcXG4gIC0tZHYtZHJhZy1vdmVyLWJhY2tncm91bmQtY29sb3I6IFxcXCJcXFwiO1xcbiAgLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3I6ICNmNmY1Zjk7XFxuICAtLWR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLWJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xcbiAgLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3I6ICNlZGVkZjA7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWZhO1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogI2VkZWRmMDtcXG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmYTtcXG4gIC0tZHYtdGFiLWRpdmlkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWNvbG9yOiByZ2IoMTA0LCAxMDcsIDEzMCk7XFxuICAtLWR2LWFjdGl2ZWdyb3VwLWhpZGRlbnBhbmVsLXRhYi1jb2xvcjogcmdiKDE0OCwgMTUxLCAxNjkpO1xcbiAgLS1kdi1pbmFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3I6IHJnYigxMDQsIDEwNywgMTMwKTtcXG4gIC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3I6IHJnYigxNDgsIDE1MSwgMTY5KTtcXG4gIC0tZHYtc2VwYXJhdG9yLWJvcmRlcjogdHJhbnNwYXJlbnQ7XFxuICAtLWR2LXBhbmV2aWV3LWhlYWRlci1ib3JkZXItY29sb3I6IHJnYig1MSwgNTEsIDUxKTtcXG4gIC0tZHYtYWN0aXZlLXNhc2gtY29sb3I6IHJnYig5MSwgMzAsIDIwNyk7XFxuICAtLWR2LWZsb2F0aW5nLWJveC1zaGFkb3c6IDhweCA4cHggOHB4IDBweCByZ2JhKDAsIDAsIDAsIDAuMSk7XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y2ZjVmOTtcXG4gIC0tZHYtc2Nyb2xsYmFyLWJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1saWdodC1zcGFjZWQgLmR2LXJlc2l6ZS1jb250YWluZXI6aGFzKD4gLmR2LWdyb3Vwdmlldykge1xcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtbGlnaHQtc3BhY2VkIC5kdi1zYXNoIHtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0LXNwYWNlZCAuZHYtZHJvcC10YXJnZXQtYW5jaG9yIHtcXG4gIGJvcmRlci1yYWRpdXM6IGNhbGModmFyKC0tZHYtYm9yZGVyLXJhZGl1cykgLyA0KTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0LXNwYWNlZCAuZHYtZHJvcC10YXJnZXQtYW5jaG9yLmR2LWRyb3AtdGFyZ2V0LWNvbnRlbnQge1xcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tZHYtYm9yZGVyLXJhZGl1cyk7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1saWdodC1zcGFjZWQgLmR2LXJlc2l6ZS1jb250YWluZXIge1xcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tZHYtYm9yZGVyLXJhZGl1cykgIWltcG9ydGFudDtcXG4gIGJvcmRlcjogbm9uZTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0LXNwYWNlZCAuZHYtdGFicy1vdmVyZmxvdy1jb250YWluZXIsXFxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0LXNwYWNlZCAuZHYtdGFicy1vdmVyZmxvdy1kcm9wZG93bi1kZWZhdWx0IHtcXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcXG4gIGhlaWdodDogdW5zZXQgIWltcG9ydGFudDtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0LXNwYWNlZCAuZHYtdGFiIHtcXG4gIGJvcmRlci1yYWRpdXM6IDhweDtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0LXNwYWNlZCAuZHYtdGFiIC5kdi1zdmcge1xcbiAgaGVpZ2h0OiA4cHg7XFxuICB3aWR0aDogOHB4O1xcbn1cXG4uZG9ja3ZpZXctdGhlbWUtbGlnaHQtc3BhY2VkIC5kdi1ncm91cHZpZXcge1xcbiAgYm9yZGVyLXJhZGl1czogdmFyKC0tZHYtYm9yZGVyLXJhZGl1cyk7XFxufVxcbi5kb2Nrdmlldy10aGVtZS1saWdodC1zcGFjZWQgLmR2LWdyb3VwdmlldyAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIge1xcbiAgcGFkZGluZzogMHB4IGNhbGModmFyKC0tZHYtYm9yZGVyLXJhZGl1cykgLyAyKTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0LXNwYWNlZCAuZHYtZ3JvdXB2aWV3IC5kdi1jb250ZW50LWNvbnRhaW5lciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yKTtcXG59XFxuLmRvY2t2aWV3LXRoZW1lLWxpZ2h0LXNwYWNlZCAuZHYtcmVzaXplLWNvbnRhaW5lciAuZHYtZ3JvdXB2aWV3IHtcXG4gIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcXG59XFxuLmR2LWRyb3AtdGFyZ2V0LWNvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiA5OTk5O1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB3aWR0aDogMTAwJTtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIC0tZHYtdHJhbnNpdGlvbi1kdXJhdGlvbjogMzAwbXM7XFxufVxcbi5kdi1kcm9wLXRhcmdldC1jb250YWluZXIgLmR2LWRyb3AtdGFyZ2V0LWFuY2hvciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBib3JkZXI6IHZhcigtLWR2LWRyYWctb3Zlci1ib3JkZXIpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtZHJhZy1vdmVyLWJhY2tncm91bmQtY29sb3IpO1xcbiAgb3BhY2l0eTogMTtcXG4gIC8qIEdQVSBvcHRpbWl6YXRpb25zICovXFxuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtLCBvcGFjaXR5O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG4gIGJhY2tmYWNlLXZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIGNvbnRhaW46IGxheW91dCBwYWludDtcXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgdmFyKC0tZHYtdHJhbnNpdGlvbi1kdXJhdGlvbikgZWFzZS1pbiwgdHJhbnNmb3JtIHZhcigtLWR2LXRyYW5zaXRpb24tZHVyYXRpb24pIGVhc2Utb3V0O1xcbn1cXG4uZHYtZHJvcC10YXJnZXQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgLS1kdi10cmFuc2l0aW9uLWR1cmF0aW9uOiA3MG1zO1xcbn1cXG4uZHYtZHJvcC10YXJnZXQgPiAuZHYtZHJvcC10YXJnZXQtZHJvcHpvbmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMHB4O1xcbiAgdG9wOiAwcHg7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB3aWR0aDogMTAwJTtcXG4gIHotaW5kZXg6IDEwMDA7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuLmR2LWRyb3AtdGFyZ2V0ID4gLmR2LWRyb3AtdGFyZ2V0LWRyb3B6b25lID4gLmR2LWRyb3AtdGFyZ2V0LXNlbGVjdGlvbiB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBib3JkZXI6IHZhcigtLWR2LWRyYWctb3Zlci1ib3JkZXIpO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtZHJhZy1vdmVyLWJhY2tncm91bmQtY29sb3IpO1xcbiAgdHJhbnNpdGlvbjogdG9wIHZhcigtLWR2LXRyYW5zaXRpb24tZHVyYXRpb24pIGVhc2Utb3V0LCBsZWZ0IHZhcigtLWR2LXRyYW5zaXRpb24tZHVyYXRpb24pIGVhc2Utb3V0LCB3aWR0aCB2YXIoLS1kdi10cmFuc2l0aW9uLWR1cmF0aW9uKSBlYXNlLW91dCwgaGVpZ2h0IHZhcigtLWR2LXRyYW5zaXRpb24tZHVyYXRpb24pIGVhc2Utb3V0LCBvcGFjaXR5IHZhcigtLWR2LXRyYW5zaXRpb24tZHVyYXRpb24pIGVhc2Utb3V0O1xcbiAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG4uZHYtZHJvcC10YXJnZXQgPiAuZHYtZHJvcC10YXJnZXQtZHJvcHpvbmUgPiAuZHYtZHJvcC10YXJnZXQtc2VsZWN0aW9uLmR2LWRyb3AtdGFyZ2V0LXRvcC5kdi1kcm9wLXRhcmdldC1zbWFsbC12ZXJ0aWNhbCB7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tZHYtZHJhZy1vdmVyLWJvcmRlci1jb2xvcik7XFxufVxcbi5kdi1kcm9wLXRhcmdldCA+IC5kdi1kcm9wLXRhcmdldC1kcm9wem9uZSA+IC5kdi1kcm9wLXRhcmdldC1zZWxlY3Rpb24uZHYtZHJvcC10YXJnZXQtYm90dG9tLmR2LWRyb3AtdGFyZ2V0LXNtYWxsLXZlcnRpY2FsIHtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1kdi1kcmFnLW92ZXItYm9yZGVyLWNvbG9yKTtcXG59XFxuLmR2LWRyb3AtdGFyZ2V0ID4gLmR2LWRyb3AtdGFyZ2V0LWRyb3B6b25lID4gLmR2LWRyb3AtdGFyZ2V0LXNlbGVjdGlvbi5kdi1kcm9wLXRhcmdldC1sZWZ0LmR2LWRyb3AtdGFyZ2V0LXNtYWxsLWhvcml6b250YWwge1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB2YXIoLS1kdi1kcmFnLW92ZXItYm9yZGVyLWNvbG9yKTtcXG59XFxuLmR2LWRyb3AtdGFyZ2V0ID4gLmR2LWRyb3AtdGFyZ2V0LWRyb3B6b25lID4gLmR2LWRyb3AtdGFyZ2V0LXNlbGVjdGlvbi5kdi1kcm9wLXRhcmdldC1yaWdodC5kdi1kcm9wLXRhcmdldC1zbWFsbC1ob3Jpem9udGFsIHtcXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIHZhcigtLWR2LWRyYWctb3Zlci1ib3JkZXItY29sb3IpO1xcbn1cXG4uZHYtZG9ja3ZpZXcge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtZ3JvdXAtdmlldy1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gIGNvbnRhaW46IGxheW91dDtcXG59XFxuLmR2LWRvY2t2aWV3IC5kdi13YXRlcm1hcmstY29udGFpbmVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICB6LWluZGV4OiAxO1xcbn1cXG4uZHYtZG9ja3ZpZXcgLmR2LW92ZXJsYXktcmVuZGVyLWNvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5kdi1ncm91cHZpZXcuZHYtYWN0aXZlLWdyb3VwID4gLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyIC5kdi10YWJzLWNvbnRhaW5lciA+IC5kdi10YWIuZHYtYWN0aXZlLXRhYiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3IpO1xcbiAgY29sb3I6IHZhcigtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3IpO1xcbn1cXG4uZHYtZ3JvdXB2aWV3LmR2LWFjdGl2ZS1ncm91cCA+IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtdGFicy1jb250YWluZXIgPiAuZHYtdGFiLmR2LWluYWN0aXZlLXRhYiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcik7XFxuICBjb2xvcjogdmFyKC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yKTtcXG59XFxuLmR2LWdyb3Vwdmlldy5kdi1pbmFjdGl2ZS1ncm91cCA+IC5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtdGFicy1jb250YWluZXIgPiAuZHYtdGFiLmR2LWFjdGl2ZS10YWIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtaW5hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3IpO1xcbiAgY29sb3I6IHZhcigtLWR2LWluYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcik7XFxufVxcbi5kdi1ncm91cHZpZXcuZHYtaW5hY3RpdmUtZ3JvdXAgPiAuZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXRhYnMtY29udGFpbmVyID4gLmR2LXRhYi5kdi1pbmFjdGl2ZS10YWIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcik7XFxuICBjb2xvcjogdmFyKC0tZHYtaW5hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItY29sb3IpO1xcbn1cXG5cXG4vKipcXG4gKiB3aGVuIGEgdGFiIGlzIGRyYWdnZWQgd2UgbG9zZSB0aGUgYWJvdmUgc3R5bGluZ3MgYmVjYXVzZSB0aGV5IGFyZSBjb25kaXRpb25hbCBvbiBwYXJlbnQgZWxlbWVudHNcXG4gKiB0aGVyZWZvcmUgd2UgYWxzbyBzZXQgc29tZSBzdHlsaW5ncyBmb3IgdGhlIGRyYWdnaW5nIGV2ZW50XFxuICoqL1xcbi5kdi10YWIuZHYtdGFiLWRyYWdnaW5nIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcik7XFxuICBjb2xvcjogdmFyKC0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1jb2xvcik7XFxufVxcbi5kdi1ncm91cHZpZXcge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3IpO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLmR2LWdyb3Vwdmlldzpmb2N1cyB7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uZHYtZ3JvdXB2aWV3ID4gLmR2LWNvbnRlbnQtY29udGFpbmVyIHtcXG4gIGZsZXgtZ3JvdzogMTtcXG4gIG1pbi1oZWlnaHQ6IDA7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uZHYtcm9vdC13cmFwcGVyIHtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uZHYtZ3JpZC12aWV3LFxcbi5kdi1icmFuY2gtbm9kZSB7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB3aWR0aDogMTAwJTtcXG59XFxuLmR2LWRlYnVnIC5kdi1yZXNpemUtY29udGFpbmVyIC5kdi1yZXNpemUtaGFuZGxlLXRvcCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XFxufVxcbi5kdi1kZWJ1ZyAuZHYtcmVzaXplLWNvbnRhaW5lciAuZHYtcmVzaXplLWhhbmRsZS1ib3R0b20ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XFxufVxcbi5kdi1kZWJ1ZyAuZHYtcmVzaXplLWNvbnRhaW5lciAuZHYtcmVzaXplLWhhbmRsZS1sZWZ0IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHllbGxvdztcXG59XFxuLmR2LWRlYnVnIC5kdi1yZXNpemUtY29udGFpbmVyIC5kdi1yZXNpemUtaGFuZGxlLXJpZ2h0IHtcXG4gIGJhY2tncm91bmQtY29sb3I6IGJsdWU7XFxufVxcbi5kdi1kZWJ1ZyAuZHYtcmVzaXplLWNvbnRhaW5lciAuZHYtcmVzaXplLWhhbmRsZS10b3BsZWZ0LFxcbi5kdi1kZWJ1ZyAuZHYtcmVzaXplLWNvbnRhaW5lciAuZHYtcmVzaXplLWhhbmRsZS10b3ByaWdodCxcXG4uZHYtZGVidWcgLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtYm90dG9tbGVmdCxcXG4uZHYtZGVidWcgLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtYm90dG9tcmlnaHQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogY3lhbjtcXG59XFxuXFxuLmR2LXJlc2l6ZS1jb250YWluZXIge1xcbiAgLS1kdi1vdmVybGF5LXotaW5kZXg6IHZhcigtLWR2LW92ZXJsYXktei1pbmRleCwgOTk5KTtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IGNhbGModmFyKC0tZHYtb3ZlcmxheS16LWluZGV4KSAtIDIpO1xcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tZHYtdGFiLWRpdmlkZXItY29sb3IpO1xcbiAgYm94LXNoYWRvdzogdmFyKC0tZHYtZmxvYXRpbmctYm94LXNoYWRvdyk7XFxuICAvKiBHUFUgb3B0aW1pemF0aW9ucyBmb3IgZmxvYXRpbmcgZ3JvdXAgbW92ZW1lbnQgKi9cXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm0sIG9wYWNpdHk7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xcbn1cXG4uZHYtcmVzaXplLWNvbnRhaW5lci5kdi1oaWRkZW4ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmR2LXJlc2l6ZS1jb250YWluZXIuZHYtcmVzaXplLWNvbnRhaW5lci1kcmFnZ2luZyB7XFxuICBvcGFjaXR5OiAwLjU7XFxuICAvKiBFbmhhbmNlZCBHUFUgYWNjZWxlcmF0aW9uIGR1cmluZyBkcmFnICovXFxuICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtLCBvcGFjaXR5O1xcbn1cXG4uZHYtcmVzaXplLWNvbnRhaW5lciAuZHYtcmVzaXplLWhhbmRsZS10b3Age1xcbiAgaGVpZ2h0OiA0cHg7XFxuICB3aWR0aDogY2FsYygxMDAlIC0gOHB4KTtcXG4gIGxlZnQ6IDRweDtcXG4gIHRvcDogLTJweDtcXG4gIHotaW5kZXg6IHZhcigtLWR2LW92ZXJsYXktei1pbmRleCk7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBjdXJzb3I6IG5zLXJlc2l6ZTtcXG59XFxuLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtYm90dG9tIHtcXG4gIGhlaWdodDogNHB4O1xcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDhweCk7XFxuICBsZWZ0OiA0cHg7XFxuICBib3R0b206IC0ycHg7XFxuICB6LWluZGV4OiB2YXIoLS1kdi1vdmVybGF5LXotaW5kZXgpO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY3Vyc29yOiBucy1yZXNpemU7XFxufVxcbi5kdi1yZXNpemUtY29udGFpbmVyIC5kdi1yZXNpemUtaGFuZGxlLWxlZnQge1xcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA4cHgpO1xcbiAgd2lkdGg6IDRweDtcXG4gIGxlZnQ6IC0ycHg7XFxuICB0b3A6IDRweDtcXG4gIHotaW5kZXg6IHZhcigtLWR2LW92ZXJsYXktei1pbmRleCk7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBjdXJzb3I6IGV3LXJlc2l6ZTtcXG59XFxuLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtcmlnaHQge1xcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSA4cHgpO1xcbiAgd2lkdGg6IDRweDtcXG4gIHJpZ2h0OiAtMnB4O1xcbiAgdG9wOiA0cHg7XFxuICB6LWluZGV4OiB2YXIoLS1kdi1vdmVybGF5LXotaW5kZXgpO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY3Vyc29yOiBldy1yZXNpemU7XFxufVxcbi5kdi1yZXNpemUtY29udGFpbmVyIC5kdi1yZXNpemUtaGFuZGxlLXRvcGxlZnQge1xcbiAgaGVpZ2h0OiA0cHg7XFxuICB3aWR0aDogNHB4O1xcbiAgdG9wOiAtMnB4O1xcbiAgbGVmdDogLTJweDtcXG4gIHotaW5kZXg6IHZhcigtLWR2LW92ZXJsYXktei1pbmRleCk7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBjdXJzb3I6IG53LXJlc2l6ZTtcXG59XFxuLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtdG9wcmlnaHQge1xcbiAgaGVpZ2h0OiA0cHg7XFxuICB3aWR0aDogNHB4O1xcbiAgcmlnaHQ6IC0ycHg7XFxuICB0b3A6IC0ycHg7XFxuICB6LWluZGV4OiB2YXIoLS1kdi1vdmVybGF5LXotaW5kZXgpO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY3Vyc29yOiBuZS1yZXNpemU7XFxufVxcbi5kdi1yZXNpemUtY29udGFpbmVyIC5kdi1yZXNpemUtaGFuZGxlLWJvdHRvbWxlZnQge1xcbiAgaGVpZ2h0OiA0cHg7XFxuICB3aWR0aDogNHB4O1xcbiAgbGVmdDogLTJweDtcXG4gIGJvdHRvbTogLTJweDtcXG4gIHotaW5kZXg6IHZhcigtLWR2LW92ZXJsYXktei1pbmRleCk7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBjdXJzb3I6IHN3LXJlc2l6ZTtcXG59XFxuLmR2LXJlc2l6ZS1jb250YWluZXIgLmR2LXJlc2l6ZS1oYW5kbGUtYm90dG9tcmlnaHQge1xcbiAgaGVpZ2h0OiA0cHg7XFxuICB3aWR0aDogNHB4O1xcbiAgcmlnaHQ6IC0ycHg7XFxuICBib3R0b206IC0ycHg7XFxuICB6LWluZGV4OiB2YXIoLS1kdi1vdmVybGF5LXotaW5kZXgpO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY3Vyc29yOiBzZS1yZXNpemU7XFxufVxcbi5kdi1yZW5kZXItb3ZlcmxheSB7XFxuICAtLWR2LW92ZXJsYXktei1pbmRleDogdmFyKC0tZHYtb3ZlcmxheS16LWluZGV4LCA5OTkpO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgY29udGFpbjogbGF5b3V0IHBhaW50O1xcbiAgaXNvbGF0aW9uOiBpc29sYXRlO1xcbiAgLyogR1BVIG9wdGltaXphdGlvbnMgKi9cXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xcbn1cXG4uZHYtcmVuZGVyLW92ZXJsYXkuZHYtcmVuZGVyLW92ZXJsYXktZmxvYXQge1xcbiAgei1pbmRleDogY2FsYyh2YXIoLS1kdi1vdmVybGF5LXotaW5kZXgpIC0gMSk7XFxufVxcblxcbi5kdi1kZWJ1ZyAuZHYtcmVuZGVyLW92ZXJsYXkge1xcbiAgb3V0bGluZTogMXB4IHNvbGlkIHJlZDtcXG4gIG91dGxpbmUtb2Zmc2V0OiAtMTtcXG59XFxuLmR2LXBhbmUtY29udGFpbmVyIHtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uZHYtcGFuZS1jb250YWluZXIuZHYtYW5pbWF0ZWQgLmR2LXZpZXcge1xcbiAgLyogR1BVIG9wdGltaXphdGlvbnMgZm9yIHNtb290aCBwYW5lIGFuaW1hdGlvbnMgKi9cXG4gIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm07XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMTVzIGVhc2Utb3V0O1xcbn1cXG4uZHYtcGFuZS1jb250YWluZXIgLmR2LXZpZXcge1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgcGFkZGluZzogMHB4ICFpbXBvcnRhbnQ7XFxufVxcbi5kdi1wYW5lLWNvbnRhaW5lciAuZHYtdmlldzpub3QoOmZpcnN0LWNoaWxkKTo6YmVmb3JlIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XFxufVxcbi5kdi1wYW5lLWNvbnRhaW5lciAuZHYtdmlldzpub3QoOmZpcnN0LWNoaWxkKSAuZHYtcGFuZSA+IC5kdi1wYW5lLWhlYWRlciB7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tZHYtcGFuZXZpZXctaGVhZGVyLWJvcmRlci1jb2xvcik7XFxufVxcbi5kdi1wYW5lLWNvbnRhaW5lciAuZHYtdmlldyAuZHYtZGVmYXVsdC1oZWFkZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtZ3JvdXAtdmlldy1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gIGNvbG9yOiB2YXIoLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWNvbG9yKTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBwYWRkaW5nOiAwcHggOHB4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4uZHYtcGFuZS1jb250YWluZXIgLmR2LXZpZXcgLmR2LWRlZmF1bHQtaGVhZGVyIC5kdi1wYW5lLWhlYWRlci1pY29uIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcbi5kdi1wYW5lLWNvbnRhaW5lciAuZHYtdmlldyAuZHYtZGVmYXVsdC1oZWFkZXIgPiBzcGFuIHtcXG4gIHBhZGRpbmctbGVmdDogOHB4O1xcbiAgZmxleC1ncm93OiAxO1xcbn1cXG4uZHYtcGFuZS1jb250YWluZXI6Zmlyc3Qtb2YtdHlwZSA+IC5kdi1wYW5lID4gLmR2LXBhbmUtaGVhZGVyIHtcXG4gIGJvcmRlci10b3A6IG5vbmUgIWltcG9ydGFudDtcXG59XFxuLmR2LXBhbmUtY29udGFpbmVyIC5kdi1wYW5lIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuLmR2LXBhbmUtY29udGFpbmVyIC5kdi1wYW5lIC5kdi1wYW5lLWhlYWRlciB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBvdXRsaW5lOiBub25lO1xcbn1cXG4uZHYtcGFuZS1jb250YWluZXIgLmR2LXBhbmUgLmR2LXBhbmUtaGVhZGVyLmR2LXBhbmUtZHJhZ2dhYmxlIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLmR2LXBhbmUtY29udGFpbmVyIC5kdi1wYW5lIC5kdi1wYW5lLWhlYWRlcjpmb2N1czpiZWZvcmUsIC5kdi1wYW5lLWNvbnRhaW5lciAuZHYtcGFuZSAuZHYtcGFuZS1oZWFkZXI6Zm9jdXMtd2l0aGluOmJlZm9yZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB6LWluZGV4OiA1O1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4gIG91dGxpbmU6IDFweCBzb2xpZDtcXG4gIG91dGxpbmUtd2lkdGg6IC0xcHg7XFxuICBvdXRsaW5lLXN0eWxlOiBzb2xpZDtcXG4gIG91dGxpbmUtb2Zmc2V0OiAtMXB4O1xcbiAgb3V0bGluZS1jb2xvcjogdmFyKC0tZHYtcGFuZXZpZXctYWN0aXZlLW91dGxpbmUtY29sb3IpO1xcbn1cXG4uZHYtcGFuZS1jb250YWluZXIgLmR2LXBhbmUgLmR2LXBhbmUtYm9keSB7XFxuICBvdmVyZmxvdy15OiBhdXRvO1xcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xcbiAgZmxleC1ncm93OiAxO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLmR2LXBhbmUtY29udGFpbmVyIC5kdi1wYW5lIC5kdi1wYW5lLWJvZHk6Zm9jdXM6YmVmb3JlLCAuZHYtcGFuZS1jb250YWluZXIgLmR2LXBhbmUgLmR2LXBhbmUtYm9keTpmb2N1cy13aXRoaW46YmVmb3JlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHotaW5kZXg6IDU7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgb3V0bGluZTogMXB4IHNvbGlkO1xcbiAgb3V0bGluZS13aWR0aDogLTFweDtcXG4gIG91dGxpbmUtc3R5bGU6IHNvbGlkO1xcbiAgb3V0bGluZS1vZmZzZXQ6IC0xcHg7XFxuICBvdXRsaW5lLWNvbG9yOiB2YXIoLS1kdi1wYW5ldmlldy1hY3RpdmUtb3V0bGluZS1jb2xvcik7XFxufVxcbi5kdi1kZWJ1ZyAuZHYtc3BsaXQtdmlldy1jb250YWluZXIgLmR2LXNhc2gtY29udGFpbmVyIC5kdi1zYXNoLmR2LWVuYWJsZWQge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxufVxcbi5kdi1kZWJ1ZyAuZHYtc3BsaXQtdmlldy1jb250YWluZXIgLmR2LXNhc2gtY29udGFpbmVyIC5kdi1zYXNoLmR2LWRpc2FibGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IG9yYW5nZTtcXG59XFxuLmR2LWRlYnVnIC5kdi1zcGxpdC12aWV3LWNvbnRhaW5lciAuZHYtc2FzaC1jb250YWluZXIgLmR2LXNhc2guZHYtbWF4aW11bSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcXG59XFxuLmR2LWRlYnVnIC5kdi1zcGxpdC12aWV3LWNvbnRhaW5lciAuZHYtc2FzaC1jb250YWluZXIgLmR2LXNhc2guZHYtbWluaW11bSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XFxufVxcblxcbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi1zcGxpdHZpZXctZGlzYWJsZWQgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaCB7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyLmR2LWFuaW1hdGlvbiAuZHYtdmlldyxcXG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIuZHYtYW5pbWF0aW9uIC5kdi1zYXNoIHtcXG4gIC8qIEdQVSBvcHRpbWl6YXRpb25zIGZvciBzbW9vdGggYW5pbWF0aW9ucyAqL1xcbiAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XFxuICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XFxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4xNXMgZWFzZS1vdXQ7XFxufVxcbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi1ob3Jpem9udGFsIHtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyLmR2LWhvcml6b250YWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaCB7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB3aWR0aDogNHB4O1xcbn1cXG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIuZHYtaG9yaXpvbnRhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoLmR2LWVuYWJsZWQge1xcbiAgY3Vyc29yOiBldy1yZXNpemU7XFxufVxcbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi1ob3Jpem9udGFsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2guZHYtZGlzYWJsZWQge1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIuZHYtaG9yaXpvbnRhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoLmR2LW1heGltdW0ge1xcbiAgY3Vyc29yOiB3LXJlc2l6ZTtcXG59XFxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyLmR2LWhvcml6b250YWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaC5kdi1taW5pbXVtIHtcXG4gIGN1cnNvcjogZS1yZXNpemU7XFxufVxcbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi1ob3Jpem9udGFsID4gLmR2LXZpZXctY29udGFpbmVyID4gLmR2LXZpZXc6bm90KDpmaXJzdC1jaGlsZCk6OmJlZm9yZSB7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB3aWR0aDogMXB4O1xcbn1cXG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIuZHYtdmVydGljYWwge1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi12ZXJ0aWNhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiA0cHg7XFxufVxcbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi12ZXJ0aWNhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoLmR2LWVuYWJsZWQge1xcbiAgY3Vyc29yOiBucy1yZXNpemU7XFxufVxcbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi12ZXJ0aWNhbCA+IC5kdi1zYXNoLWNvbnRhaW5lciA+IC5kdi1zYXNoLmR2LWRpc2FibGVkIHtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyLmR2LXZlcnRpY2FsID4gLmR2LXNhc2gtY29udGFpbmVyID4gLmR2LXNhc2guZHYtbWF4aW11bSB7XFxuICBjdXJzb3I6IG4tcmVzaXplO1xcbn1cXG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIuZHYtdmVydGljYWwgPiAuZHYtc2FzaC1jb250YWluZXIgPiAuZHYtc2FzaC5kdi1taW5pbXVtIHtcXG4gIGN1cnNvcjogcy1yZXNpemU7XFxufVxcbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lci5kdi12ZXJ0aWNhbCA+IC5kdi12aWV3LWNvbnRhaW5lciA+IC5kdi12aWV3IHtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIuZHYtdmVydGljYWwgPiAuZHYtdmlldy1jb250YWluZXIgPiAuZHYtdmlldzpub3QoOmZpcnN0LWNoaWxkKTo6YmVmb3JlIHtcXG4gIGhlaWdodDogMXB4O1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lciAuZHYtc2FzaC1jb250YWluZXIge1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5kdi1zcGxpdC12aWV3LWNvbnRhaW5lciAuZHYtc2FzaC1jb250YWluZXIgLmR2LXNhc2gge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogOTk7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHRvdWNoLWFjdGlvbjogbm9uZTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LXNhc2gtY29sb3IsIHRyYW5zcGFyZW50KTtcXG59XFxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyIC5kdi1zYXNoLWNvbnRhaW5lciAuZHYtc2FzaDpub3QoLmRpc2FibGVkKTphY3RpdmUsIC5kdi1zcGxpdC12aWV3LWNvbnRhaW5lciAuZHYtc2FzaC1jb250YWluZXIgLmR2LXNhc2g6bm90KC5kaXNhYmxlZCk6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtYWN0aXZlLXNhc2gtY29sb3IsIHRyYW5zcGFyZW50KTtcXG4gIHRyYW5zaXRpb24tcHJvcGVydHk6IGJhY2tncm91bmQtY29sb3I7XFxuICB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7XFxuICB0cmFuc2l0aW9uLWR1cmF0aW9uOiB2YXIoLS1kdi1hY3RpdmUtc2FzaC10cmFuc2l0aW9uLWR1cmF0aW9uLCAwLjFzKTtcXG4gIHRyYW5zaXRpb24tZGVsYXk6IHZhcigtLWR2LWFjdGl2ZS1zYXNoLXRyYW5zaXRpb24tZGVsYXksIDAuNXMpO1xcbn1cXG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIgLmR2LXZpZXctY29udGFpbmVyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uZHYtc3BsaXQtdmlldy1jb250YWluZXIgLmR2LXZpZXctY29udGFpbmVyIC5kdi12aWV3IHtcXG4gIGhlaWdodDogMTAwJTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBvdmVyZmxvdzogYXV0bztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG59XFxuLmR2LXNwbGl0LXZpZXctY29udGFpbmVyLmR2LXNlcGFyYXRvci1ib3JkZXIgLmR2LXZpZXc6bm90KDpmaXJzdC1jaGlsZCk6OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiIFxcXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAwO1xcbiAgei1pbmRleDogNTtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtc2VwYXJhdG9yLWJvcmRlcik7XFxufVxcbi5kdi1kcmFnZ2VkIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMHB4LCAwcHgsIDBweCk7IC8qIGZvcmNlcyB0YWIgdG8gYmUgZHJhd24gb24gYSBzZXBhcmF0ZSBsYXllciAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL2lzc3Vlcy8xODczMykgKi9cXG59XFxuXFxuLmR2LXRhYiB7XFxuICBmbGV4LXNocmluazogMDtcXG59XFxuLmR2LXRhYjpmb2N1cy13aXRoaW4sIC5kdi10YWI6Zm9jdXMge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uZHYtdGFiOmZvY3VzLXdpdGhpbjo6YWZ0ZXIsIC5kdi10YWI6Zm9jdXM6OmFmdGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICB0b3A6IDBweDtcXG4gIGxlZnQ6IDBweDtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgb3V0bGluZTogMXB4IHNvbGlkIHZhcigtLWR2LXRhYi1kaXZpZGVyLWNvbG9yKSAhaW1wb3J0YW50O1xcbiAgb3V0bGluZS1vZmZzZXQ6IC0xcHg7XFxuICB6LWluZGV4OiA1O1xcbn1cXG4uZHYtdGFiLmR2LXRhYi1kcmFnZ2luZyAuZHYtZGVmYXVsdC10YWItYWN0aW9uIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3IpO1xcbn1cXG4uZHYtdGFiLmR2LWFjdGl2ZS10YWIgLmR2LWRlZmF1bHQtdGFiIC5kdi1kZWZhdWx0LXRhYi1hY3Rpb24ge1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG59XFxuLmR2LXRhYi5kdi1pbmFjdGl2ZS10YWIgLmR2LWRlZmF1bHQtdGFiIC5kdi1kZWZhdWx0LXRhYi1hY3Rpb24ge1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbn1cXG4uZHYtdGFiLmR2LWluYWN0aXZlLXRhYiAuZHYtZGVmYXVsdC10YWI6aG92ZXIgLmR2LWRlZmF1bHQtdGFiLWFjdGlvbiB7XFxuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbn1cXG4uZHYtdGFiIC5kdi1kZWZhdWx0LXRhYiB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG59XFxuLmR2LXRhYiAuZHYtZGVmYXVsdC10YWIgLmR2LWRlZmF1bHQtdGFiLWNvbnRlbnQge1xcbiAgZmxleC1ncm93OiAxO1xcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XFxufVxcbi5kdi10YWIgLmR2LWRlZmF1bHQtdGFiIC5kdi1kZWZhdWx0LXRhYi1hY3Rpb24ge1xcbiAgcGFkZGluZzogNHB4O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi5kdi10YWIgLmR2LWRlZmF1bHQtdGFiIC5kdi1kZWZhdWx0LXRhYi1hY3Rpb246aG92ZXIge1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtaWNvbi1ob3Zlci1iYWNrZ3JvdW5kLWNvbG9yKTtcXG59XFxuLmR2LXRhYnMtb3ZlcmZsb3ctZHJvcGRvd24tZGVmYXVsdCB7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBjb2xvcjogdmFyKC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yKTtcXG4gIG1hcmdpbjogdmFyKC0tZHYtdGFiLW1hcmdpbik7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbiAgcGFkZGluZzogMC4yNXJlbSAwLjVyZW07XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5kdi10YWJzLW92ZXJmbG93LWRyb3Bkb3duLWRlZmF1bHQgPiBzcGFuIHtcXG4gIHBhZGRpbmctbGVmdDogMC4yNXJlbTtcXG59XFxuLmR2LXRhYnMtb3ZlcmZsb3ctZHJvcGRvd24tZGVmYXVsdCA+IHN2ZyB7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XFxufVxcbi5kdi10YWJzLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxuICBzY3JvbGxiYXItd2lkdGg6IHRoaW47XFxuICAvKiBHUFUgb3B0aW1pemF0aW9ucyBmb3Igc21vb3RoIHNjcm9sbGluZyAqL1xcbiAgd2lsbC1jaGFuZ2U6IHNjcm9sbC1wb3NpdGlvbjtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCwgMCk7XFxuICAvKiBUcmFjayAqL1xcbiAgLyogSGFuZGxlICovXFxufVxcbi5kdi10YWJzLWNvbnRhaW5lci5kdi1ob3Jpem9udGFsIC5kdi10YWI6bm90KDpmaXJzdC1jaGlsZCk6OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiIFxcXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAwO1xcbiAgei1pbmRleDogNTtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZHYtdGFiLWRpdmlkZXItY29sb3IpO1xcbiAgd2lkdGg6IDFweDtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuLmR2LXRhYnMtY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhciB7XFxuICBoZWlnaHQ6IDNweDtcXG59XFxuLmR2LXRhYnMtY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XFxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcXG59XFxuLmR2LXRhYnMtY29udGFpbmVyOjotd2Via2l0LXNjcm9sbGJhci10aHVtYiB7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1kdi10YWJzLWNvbnRhaW5lci1zY3JvbGxiYXItY29sb3IpO1xcbn1cXG5cXG4uZHYtc2Nyb2xsYWJsZSA+IC5kdi10YWJzLWNvbnRhaW5lciB7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG5cXG4uZHYtdGFiIHtcXG4gIC13ZWJraXQtdXNlci1kcmFnOiBlbGVtZW50O1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIHBhZGRpbmc6IDAuMjVyZW0gMC41cmVtO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tZHYtdGFiLWZvbnQtc2l6ZSk7XFxuICBtYXJnaW46IHZhcigtLWR2LXRhYi1tYXJnaW4pO1xcbn1cXG5cXG4uZHYtdGFicy1vdmVyZmxvdy1jb250YWluZXIge1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGhlaWdodDogdW5zZXQ7XFxuICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1kdi10YWItZGl2aWRlci1jb2xvcik7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1ncm91cC12aWV3LWJhY2tncm91bmQtY29sb3IpO1xcbn1cXG4uZHYtdGFicy1vdmVyZmxvdy1jb250YWluZXIgLmR2LXRhYjpub3QoOmxhc3QtY2hpbGQpIHtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1kdi10YWItZGl2aWRlci1jb2xvcik7XFxufVxcbi5kdi10YWJzLW92ZXJmbG93LWNvbnRhaW5lciAuZHYtYWN0aXZlLXRhYiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWJhY2tncm91bmQtY29sb3IpO1xcbiAgY29sb3I6IHZhcigtLWR2LWFjdGl2ZWdyb3VwLXZpc2libGVwYW5lbC10YWItY29sb3IpO1xcbn1cXG4uZHYtdGFicy1vdmVyZmxvdy1jb250YWluZXIgLmR2LWluYWN0aXZlLXRhYiB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi1hY3RpdmVncm91cC1oaWRkZW5wYW5lbC10YWItYmFja2dyb3VuZC1jb2xvcik7XFxuICBjb2xvcjogdmFyKC0tZHYtYWN0aXZlZ3JvdXAtaGlkZGVucGFuZWwtdGFiLWNvbG9yKTtcXG59XFxuLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci1iYWNrZ3JvdW5kLWNvbG9yKTtcXG4gIGZsZXgtc2hyaW5rOiAwO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGhlaWdodDogdmFyKC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItaGVpZ2h0KTtcXG4gIGZvbnQtc2l6ZTogdmFyKC0tZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXItZm9udC1zaXplKTtcXG59XFxuLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLmR2LXNpbmdsZS10YWIuZHYtZnVsbC13aWR0aC1zaW5nbGUtdGFiIC5kdi1zY3JvbGxhYmxlIHtcXG4gIGZsZXgtZ3JvdzogMTtcXG59XFxuLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyLmR2LXNpbmdsZS10YWIuZHYtZnVsbC13aWR0aC1zaW5nbGUtdGFiIC5kdi10YWJzLWNvbnRhaW5lciB7XFxuICBmbGV4LWdyb3c6IDE7XFxufVxcbi5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci5kdi1zaW5nbGUtdGFiLmR2LWZ1bGwtd2lkdGgtc2luZ2xlLXRhYiAuZHYtdGFicy1jb250YWluZXIgLmR2LXRhYiB7XFxuICBmbGV4LWdyb3c6IDE7XFxuICBwYWRkaW5nOiAwcHg7XFxufVxcbi5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lci5kdi1zaW5nbGUtdGFiLmR2LWZ1bGwtd2lkdGgtc2luZ2xlLXRhYiAuZHYtdm9pZC1jb250YWluZXIge1xcbiAgZmxleC1ncm93OiAwO1xcbn1cXG4uZHYtdGFicy1hbmQtYWN0aW9ucy1jb250YWluZXIgLmR2LXZvaWQtY29udGFpbmVyIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWdyb3c6IDE7XFxufVxcbi5kdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lciAuZHYtdm9pZC1jb250YWluZXIuZHYtZHJhZ2dhYmxlIHtcXG4gIGN1cnNvcjogZ3JhYjtcXG59XFxuLmR2LXRhYnMtYW5kLWFjdGlvbnMtY29udGFpbmVyIC5kdi1yaWdodC1hY3Rpb25zLWNvbnRhaW5lciB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG4uZHYtd2F0ZXJtYXJrIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBoZWlnaHQ6IDEwMCU7XFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiZXhwb3J0IGNsYXNzIFNwbGl0dmlld0FwaSB7XG4gICAgLyoqXG4gICAgICogVGhlIG1pbmltdW0gc2l6ZSAgdGhlIGNvbXBvbmVudCBjYW4gcmVhY2ggd2hlcmUgc2l6ZSBpcyBtZWFzdXJlZCBpbiB0aGUgZGlyZWN0aW9uIG9mIG9yaWVudGF0aW9uIHByb3ZpZGVkLlxuICAgICAqL1xuICAgIGdldCBtaW5pbXVtU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm1pbmltdW1TaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBzaXplIHRoZSBjb21wb25lbnQgY2FuIHJlYWNoIHdoZXJlIHNpemUgaXMgbWVhc3VyZWQgaW4gdGhlIGRpcmVjdGlvbiBvZiBvcmllbnRhdGlvbiBwcm92aWRlZC5cbiAgICAgKi9cbiAgICBnZXQgbWF4aW11bVNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5tYXhpbXVtU2l6ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2lkdGggb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBnZXQgd2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC53aWR0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGVpZ2h0IG9mIHRoZSBjb21wb25lbnQuXG4gICAgICovXG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LmhlaWdodDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgbnVtYmVyIG9mIHBhbmVscy5cbiAgICAgKi9cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCBvcmllbnRhdGlvbiBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGdldCBvcmllbnRhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm9yaWVudGF0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBjdXJyZW50IHBhbmVscy5cbiAgICAgKi9cbiAgICBnZXQgcGFuZWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQucGFuZWxzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIGFmdGVyIGEgbGF5b3V0IGlzIGxvYWRlZCB0aHJvdWdoIHRoZSBgZnJvbUpTT05gIG1ldGhvZC5cbiAgICAgKi9cbiAgICBnZXQgb25EaWRMYXlvdXRGcm9tSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm9uRGlkTGF5b3V0RnJvbUpTT047XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbmV2ZXIgYW55IGFzcGVjdCBvZiB0aGUgbGF5b3V0IGNoYW5nZXMuXG4gICAgICogSWYgbGlzdGVuaW5nIHRvIHRoaXMgZXZlbnQgaXQgbWF5IGJlIHdvcnRoIGRlYm91bmNpbmcgb3VwdXRzLlxuICAgICAqL1xuICAgIGdldCBvbkRpZExheW91dENoYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm9uRGlkTGF5b3V0Q2hhbmdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gYSB2aWV3IGlzIGFkZGVkLlxuICAgICAqL1xuICAgIGdldCBvbkRpZEFkZFZpZXcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vbkRpZEFkZFZpZXc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiBhIHZpZXcgaXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBnZXQgb25EaWRSZW1vdmVWaWV3KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25EaWRSZW1vdmVWaWV3O1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gZXhpc3RpbmcgcGFuZWwgYW5kIG9wdGlvbmFsbHkgcHJvdmlkZSBhIGBTaXppbmdgIG1ldGhvZFxuICAgICAqIGZvciB0aGUgc3Vic2VxdWVudCByZXNpemUuXG4gICAgICovXG4gICAgcmVtb3ZlUGFuZWwocGFuZWwsIHNpemluZykge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC5yZW1vdmVQYW5lbChwYW5lbCwgc2l6aW5nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9jdXMgdGhlIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBmb2N1cygpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZm9jdXMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByZWZlcmVuY2UgdG8gYSBwYW5lbCBnaXZlbiBpdCdzIGBzdHJpbmdgIGlkLlxuICAgICAqL1xuICAgIGdldFBhbmVsKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5nZXRQYW5lbChpZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExheW91dCB0aGUgcGFuZWwgd2l0aCBhIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICovXG4gICAgbGF5b3V0KHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LmxheW91dCh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgbmV3IHBhbmVsIGFuZCByZXR1cm4gdGhlIGNyZWF0ZWQgaW5zdGFuY2UuXG4gICAgICovXG4gICAgYWRkUGFuZWwob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuYWRkUGFuZWwob3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmUgYSBwYW5lbCBnaXZlbiBpdCdzIGN1cnJlbnQgYW5kIGRlc2lyZWQgaW5kZXguXG4gICAgICovXG4gICAgbW92ZVBhbmVsKGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50Lm1vdmVQYW5lbChmcm9tLCB0byk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlc2VyaWFsaXplIGEgbGF5b3V0IHRvIGJ1aWx0IGEgc3BsaXRpdmV3LlxuICAgICAqL1xuICAgIGZyb21KU09OKGRhdGEpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZnJvbUpTT04oZGF0YSk7XG4gICAgfVxuICAgIC8qKiBTZXJpYWxpemUgYSBsYXlvdXQgKi9cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC50b0pTT04oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBwYW5lbHMgYW5kIGNsZWFyIHRoZSBjb21wb25lbnQuXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LmNsZWFyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBjb25maWd1cmF0YWJsZSBvcHRpb25zLlxuICAgICAqL1xuICAgIHVwZGF0ZU9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC51cGRhdGVPcHRpb25zKG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlIHJlc291cmNlcyBhbmQgdGVhcmRvd24gY29tcG9uZW50LiBEbyBub3QgY2FsbCB3aGVuIHVzaW5nIGZyYW1ld29yayB2ZXJzaW9ucyBvZiBkb2Nrdmlldy5cbiAgICAgKi9cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC5kaXNwb3NlKCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBhbmV2aWV3QXBpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgbWluaW11bSBzaXplICB0aGUgY29tcG9uZW50IGNhbiByZWFjaCB3aGVyZSBzaXplIGlzIG1lYXN1cmVkIGluIHRoZSBkaXJlY3Rpb24gb2Ygb3JpZW50YXRpb24gcHJvdmlkZWQuXG4gICAgICovXG4gICAgZ2V0IG1pbmltdW1TaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQubWluaW11bVNpemU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIHNpemUgdGhlIGNvbXBvbmVudCBjYW4gcmVhY2ggd2hlcmUgc2l6ZSBpcyBtZWFzdXJlZCBpbiB0aGUgZGlyZWN0aW9uIG9mIG9yaWVudGF0aW9uIHByb3ZpZGVkLlxuICAgICAqL1xuICAgIGdldCBtYXhpbXVtU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm1heGltdW1TaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXaWR0aCBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LndpZHRoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIZWlnaHQgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuaGVpZ2h0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGwgcGFuZWwgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBnZXQgcGFuZWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQucGFuZWxzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gYW55IGxheW91dCBjaGFuZ2Ugb2NjdXJlcywgYW4gYWdncmVnYXRpb24gb2YgbWFueSBldmVudHMuXG4gICAgICovXG4gICAgZ2V0IG9uRGlkTGF5b3V0Q2hhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25EaWRMYXlvdXRDaGFuZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgYWZ0ZXIgYSBsYXlvdXQgaXMgZGVzZXJpYWx6aWVkIHVzaW5nIHRoZSBgZnJvbUpTT05gIG1ldGhvZC5cbiAgICAgKi9cbiAgICBnZXQgb25EaWRMYXlvdXRGcm9tSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm9uRGlkTGF5b3V0RnJvbUpTT047XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiBhIHBhbmVsIGlzIGFkZGVkLiBNYXkgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHdoZW4gbW92aW5nIHBhbmVscy5cbiAgICAgKi9cbiAgICBnZXQgb25EaWRBZGRWaWV3KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25EaWRBZGRWaWV3O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gYSBwYW5lbCBpcyByZW1vdmVkLiBNYXkgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHdoZW4gbW92aW5nIHBhbmVscy5cbiAgICAgKi9cbiAgICBnZXQgb25EaWRSZW1vdmVWaWV3KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25EaWRSZW1vdmVWaWV3O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gYSBEcmFnJ24nRHJvcCBldmVudCBvY2N1cnMgdGhhdCB0aGUgY29tcG9uZW50IHdhcyB1bmFibGUgdG8gaGFuZGxlLiBFeHBvc2VkIGZvciBjdXN0b20gRHJhZyduJ0Ryb3AgZnVuY3Rpb25hbGl0eS5cbiAgICAgKi9cbiAgICBnZXQgb25EaWREcm9wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25EaWREcm9wO1xuICAgIH1cbiAgICBnZXQgb25VbmhhbmRsZWREcmFnT3ZlckV2ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25VbmhhbmRsZWREcmFnT3ZlckV2ZW50O1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihjb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIHBhbmVsIGdpdmVuIHRoZSBwYW5lbCBvYmplY3QuXG4gICAgICovXG4gICAgcmVtb3ZlUGFuZWwocGFuZWwpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQucmVtb3ZlUGFuZWwocGFuZWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBwYW5lbCBvYmplY3QgZ2l2ZW4gYSBgc3RyaW5nYCBpZC4gTWF5IHJldHVybiBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBnZXRQYW5lbChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuZ2V0UGFuZWwoaWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb3ZlIGEgcGFuZWwgZ2l2ZW4gaXQncyBjdXJyZW50IGFuZCBkZXNpcmVkIGluZGV4LlxuICAgICAqL1xuICAgIG1vdmVQYW5lbChmcm9tLCB0bykge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC5tb3ZlUGFuZWwoZnJvbSwgdG8pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAgRm9jdXMgdGhlIGNvbXBvbmVudC4gV2lsbCB0cnkgdG8gZm9jdXMgYW4gYWN0aXZlIHBhbmVsIGlmIG9uZSBleGlzdHMuXG4gICAgICovXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LmZvY3VzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvcmNlIHJlc2l6ZSB0aGUgY29tcG9uZW50IHRvIGFuIGV4YWN0IHdpZHRoIGFuZCBoZWlnaHQuIFJlYWQgYWJvdXQgYXV0by1yZXNpemluZyBiZWZvcmUgdXNpbmcuXG4gICAgICovXG4gICAgbGF5b3V0KHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQubGF5b3V0KHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBwYW5lbCBhbmQgcmV0dXJuIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKi9cbiAgICBhZGRQYW5lbChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5hZGRQYW5lbChvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgY29tcG9uZW50IGZyb20gYSBzZXJpYWxpemVkIG9iamVjdC5cbiAgICAgKi9cbiAgICBmcm9tSlNPTihkYXRhKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LmZyb21KU09OKGRhdGEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzZXJpYWxpemVkIG9iamVjdCBvZiB0aGUgY3VycmVudCBjb21wb25lbnQuXG4gICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQudG9KU09OKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBjb21wb25lbnQgYmFjayB0byBhbiBlbXB0eSBhbmQgZGVmYXVsdCBzdGF0ZS5cbiAgICAgKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuY2xlYXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIGNvbmZpZ3VyYXRhYmxlIG9wdGlvbnMuXG4gICAgICovXG4gICAgdXBkYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LnVwZGF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgcmVzb3VyY2VzIGFuZCB0ZWFyZG93biBjb21wb25lbnQuIERvIG5vdCBjYWxsIHdoZW4gdXNpbmcgZnJhbWV3b3JrIHZlcnNpb25zIG9mIGRvY2t2aWV3LlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LmRpc3Bvc2UoKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgR3JpZHZpZXdBcGkge1xuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICovXG4gICAgZ2V0IHdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQud2lkdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhlaWdodCBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5oZWlnaHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1pbmltdW0gaGVpZ2h0IG9mIHRoZSBjb21wb25lbnQuXG4gICAgICovXG4gICAgZ2V0IG1pbmltdW1IZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5taW5pbXVtSGVpZ2h0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXhpbXVtIGhlaWdodCBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGdldCBtYXhpbXVtSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQubWF4aW11bUhlaWdodDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWluaW11bSB3aWR0aCBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGdldCBtaW5pbXVtV2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5taW5pbXVtV2lkdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1heGltdW0gd2lkdGggb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBnZXQgbWF4aW11bVdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQubWF4aW11bVdpZHRoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gYW55IGxheW91dCBjaGFuZ2Ugb2NjdXJlcywgYW4gYWdncmVnYXRpb24gb2YgbWFueSBldmVudHMuXG4gICAgICovXG4gICAgZ2V0IG9uRGlkTGF5b3V0Q2hhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25EaWRMYXlvdXRDaGFuZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiBhIHBhbmVsIGlzIGFkZGVkLiBNYXkgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHdoZW4gbW92aW5nIHBhbmVscy5cbiAgICAgKi9cbiAgICBnZXQgb25EaWRBZGRQYW5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm9uRGlkQWRkR3JvdXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiBhIHBhbmVsIGlzIHJlbW92ZWQuIE1heSBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgd2hlbiBtb3ZpbmcgcGFuZWxzLlxuICAgICAqL1xuICAgIGdldCBvbkRpZFJlbW92ZVBhbmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25EaWRSZW1vdmVHcm91cDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBhY3RpdmUgcGFuZWwgY2hhbmdlcy4gTWF5IGJlIHVuZGVmaW5lZCBpZiBubyBwYW5lbCBpcyBhY3RpdmUuXG4gICAgICovXG4gICAgZ2V0IG9uRGlkQWN0aXZlUGFuZWxDaGFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vbkRpZEFjdGl2ZUdyb3VwQ2hhbmdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIGFmdGVyIGEgbGF5b3V0IGlzIGRlc2VyaWFsemllZCB1c2luZyB0aGUgYGZyb21KU09OYCBtZXRob2QuXG4gICAgICovXG4gICAgZ2V0IG9uRGlkTGF5b3V0RnJvbUpTT04oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vbkRpZExheW91dEZyb21KU09OO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGwgcGFuZWwgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBnZXQgcGFuZWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuZ3JvdXBzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IG9yaWVudGF0aW9uLiBDYW4gYmUgY2hhbmdlZCBhZnRlciBpbml0aWFsaXphdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgb3JpZW50YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vcmllbnRhdGlvbjtcbiAgICB9XG4gICAgc2V0IG9yaWVudGF0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LnVwZGF0ZU9wdGlvbnMoeyBvcmllbnRhdGlvbjogdmFsdWUgfSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogIEZvY3VzIHRoZSBjb21wb25lbnQuIFdpbGwgdHJ5IHRvIGZvY3VzIGFuIGFjdGl2ZSBwYW5lbCBpZiBvbmUgZXhpc3RzLlxuICAgICAqL1xuICAgIGZvY3VzKCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC5mb2N1cygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3JjZSByZXNpemUgdGhlIGNvbXBvbmVudCB0byBhbiBleGFjdCB3aWR0aCBhbmQgaGVpZ2h0LiBSZWFkIGFib3V0IGF1dG8tcmVzaXppbmcgYmVmb3JlIHVzaW5nLlxuICAgICAqL1xuICAgIGxheW91dCh3aWR0aCwgaGVpZ2h0LCBmb3JjZSA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LmxheW91dCh3aWR0aCwgaGVpZ2h0LCBmb3JjZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIHBhbmVsIGFuZCByZXR1cm4gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqL1xuICAgIGFkZFBhbmVsKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LmFkZFBhbmVsKG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBwYW5lbCBnaXZlbiB0aGUgcGFuZWwgb2JqZWN0LlxuICAgICAqL1xuICAgIHJlbW92ZVBhbmVsKHBhbmVsLCBzaXppbmcpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQucmVtb3ZlUGFuZWwocGFuZWwsIHNpemluZyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmUgYSBwYW5lbCBpbiBhIHBhcnRpY3VsYXIgZGlyZWN0aW9uIHJlbGF0aXZlIHRvIGFub3RoZXIgcGFuZWwuXG4gICAgICovXG4gICAgbW92ZVBhbmVsKHBhbmVsLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50Lm1vdmVQYW5lbChwYW5lbCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHBhbmVsIG9iamVjdCBnaXZlbiBhIGBzdHJpbmdgIGlkLiBNYXkgcmV0dXJuIGB1bmRlZmluZWRgLlxuICAgICAqL1xuICAgIGdldFBhbmVsKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5nZXRQYW5lbChpZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGNvbXBvbmVudCBmcm9tIGEgc2VyaWFsaXplZCBvYmplY3QuXG4gICAgICovXG4gICAgZnJvbUpTT04oZGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuZnJvbUpTT04oZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHNlcmlhbGl6ZWQgb2JqZWN0IG9mIHRoZSBjdXJyZW50IGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC50b0pTT04oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGNvbXBvbmVudCBiYWNrIHRvIGFuIGVtcHR5IGFuZCBkZWZhdWx0IHN0YXRlLlxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC5jbGVhcigpO1xuICAgIH1cbiAgICB1cGRhdGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQudXBkYXRlT3B0aW9ucyhvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVsZWFzZSByZXNvdXJjZXMgYW5kIHRlYXJkb3duIGNvbXBvbmVudC4gRG8gbm90IGNhbGwgd2hlbiB1c2luZyBmcmFtZXdvcmsgdmVyc2lvbnMgb2YgZG9ja3ZpZXcuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZGlzcG9zZSgpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBEb2Nrdmlld0FwaSB7XG4gICAgLyoqXG4gICAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGluc3RhbmNlLiBVc2VkIHRvIG1hbmFnZSBzY29wZSBvZiBEcmFnJ24nRHJvcCBldmVudHMuXG4gICAgICovXG4gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIHRoZSBjb21wb25lbnQuXG4gICAgICovXG4gICAgZ2V0IHdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQud2lkdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEhlaWdodCBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5oZWlnaHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1pbmltdW0gaGVpZ2h0IG9mIHRoZSBjb21wb25lbnQuXG4gICAgICovXG4gICAgZ2V0IG1pbmltdW1IZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5taW5pbXVtSGVpZ2h0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXhpbXVtIGhlaWdodCBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGdldCBtYXhpbXVtSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQubWF4aW11bUhlaWdodDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWluaW11bSB3aWR0aCBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqL1xuICAgIGdldCBtaW5pbXVtV2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5taW5pbXVtV2lkdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1heGltdW0gd2lkdGggb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICBnZXQgbWF4aW11bVdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQubWF4aW11bVdpZHRoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUb3RhbCBudW1iZXIgb2YgZ3JvdXBzLlxuICAgICAqL1xuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuc2l6ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVG90YWwgbnVtYmVyIG9mIHBhbmVscy5cbiAgICAgKi9cbiAgICBnZXQgdG90YWxQYW5lbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC50b3RhbFBhbmVscztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBhY3RpdmUgZ3JvdXAgY2hhbmdlcy4gTWF5IGJlIHVuZGVmaW5lZCBpZiBubyBncm91cCBpcyBhY3RpdmUuXG4gICAgICovXG4gICAgZ2V0IG9uRGlkQWN0aXZlR3JvdXBDaGFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vbkRpZEFjdGl2ZUdyb3VwQ2hhbmdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gYSBncm91cCBpcyBhZGRlZC4gTWF5IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB3aGVuIG1vdmluZyBncm91cHMuXG4gICAgICovXG4gICAgZ2V0IG9uRGlkQWRkR3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vbkRpZEFkZEdyb3VwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gYSBncm91cCBpcyByZW1vdmVkLiBNYXkgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHdoZW4gbW92aW5nIGdyb3Vwcy5cbiAgICAgKi9cbiAgICBnZXQgb25EaWRSZW1vdmVHcm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm9uRGlkUmVtb3ZlR3JvdXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgYWN0aXZlIHBhbmVsIGNoYW5nZXMuIE1heSBiZSB1bmRlZmluZWQgaWYgbm8gcGFuZWwgaXMgYWN0aXZlLlxuICAgICAqL1xuICAgIGdldCBvbkRpZEFjdGl2ZVBhbmVsQ2hhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25EaWRBY3RpdmVQYW5lbENoYW5nZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIGEgcGFuZWwgaXMgYWRkZWQuIE1heSBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgd2hlbiBtb3ZpbmcgcGFuZWxzLlxuICAgICAqL1xuICAgIGdldCBvbkRpZEFkZFBhbmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25EaWRBZGRQYW5lbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIGEgcGFuZWwgaXMgcmVtb3ZlZC4gTWF5IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB3aGVuIG1vdmluZyBwYW5lbHMuXG4gICAgICovXG4gICAgZ2V0IG9uRGlkUmVtb3ZlUGFuZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vbkRpZFJlbW92ZVBhbmVsO1xuICAgIH1cbiAgICBnZXQgb25EaWRNb3ZlUGFuZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vbkRpZE1vdmVQYW5lbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCBhZnRlciBhIGxheW91dCBpcyBkZXNlcmlhbHppZWQgdXNpbmcgdGhlIGBmcm9tSlNPTmAgbWV0aG9kLlxuICAgICAqL1xuICAgIGdldCBvbkRpZExheW91dEZyb21KU09OKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25EaWRMYXlvdXRGcm9tSlNPTjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIGFueSBsYXlvdXQgY2hhbmdlIG9jY3VyZXMsIGFuIGFnZ3JlZ2F0aW9uIG9mIG1hbnkgZXZlbnRzLlxuICAgICAqL1xuICAgIGdldCBvbkRpZExheW91dENoYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm9uRGlkTGF5b3V0Q2hhbmdlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gYSBEcmFnJ24nRHJvcCBldmVudCBvY2N1cnMgdGhhdCB0aGUgY29tcG9uZW50IHdhcyB1bmFibGUgdG8gaGFuZGxlLiBFeHBvc2VkIGZvciBjdXN0b20gRHJhZyduJ0Ryb3AgZnVuY3Rpb25hbGl0eS5cbiAgICAgKi9cbiAgICBnZXQgb25EaWREcm9wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25EaWREcm9wO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gYSBEcmFnJ24nRHJvcCBldmVudCBvY2N1cnMgYnV0IGJlZm9yZSBkb2NrdmlldyBoYW5kbGVzIGl0IGdpdmluZyB0aGUgdXNlciBhbiBvcHBvcnR1bml0eSB0byBpbnRlY2VwdCBhbmRcbiAgICAgKiBwcmV2ZW50IHRoZSBldmVudCBmcm9tIG9jY3VyaW5nIHVzaW5nIHRoZSBzdGFuZGFyZCBgcHJldmVudERlZmF1bHQoKWAgc3ludGF4LlxuICAgICAqXG4gICAgICogUHJldmVudGluZyBjZXJ0YWluIGV2ZW50cyBtYXkgY2F1c2VzIHVuZXhwZWN0ZWQgYmVoYXZpb3VycywgdXNlIGNhcmVmdWxseS5cbiAgICAgKi9cbiAgICBnZXQgb25XaWxsRHJvcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm9uV2lsbERyb3A7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgYmVmb3JlIGFuIG92ZXJsYXkgaXMgc2hvd24gaW5kaWNhdGluZyBhIGRyb3AgdGFyZ2V0LlxuICAgICAqXG4gICAgICogQ2FsbGluZyBgZXZlbnQucHJldmVudERlZmF1bHQoKWAgd2lsbCBwcmV2ZW50IHRoZSBvdmVybGF5IGJlaW5nIHNob3duIGFuZCBwcmV2ZW50XG4gICAgICogdGhlIGFueSBzdWJzZXF1ZW50IGRyb3AgZXZlbnQuXG4gICAgICovXG4gICAgZ2V0IG9uV2lsbFNob3dPdmVybGF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25XaWxsU2hvd092ZXJsYXk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgYmVmb3JlIGEgZ3JvdXAgaXMgZHJhZ2dlZC5cbiAgICAgKlxuICAgICAqIENhbGxpbmcgYGV2ZW50Lm5hdGl2ZUV2ZW50LnByZXZlbnREZWZhdWx0KClgIHdpbGwgcHJldmVudCB0aGUgZ3JvdXAgZHJhZyBzdGFydGluZy5cbiAgICAgKlxuICAgICAqL1xuICAgIGdldCBvbldpbGxEcmFnR3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vbldpbGxEcmFnR3JvdXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgYmVmb3JlIGEgcGFuZWwgaXMgZHJhZ2dlZC5cbiAgICAgKlxuICAgICAqIENhbGxpbmcgYGV2ZW50Lm5hdGl2ZUV2ZW50LnByZXZlbnREZWZhdWx0KClgIHdpbGwgcHJldmVudCB0aGUgcGFuZWwgZHJhZyBzdGFydGluZy5cbiAgICAgKi9cbiAgICBnZXQgb25XaWxsRHJhZ1BhbmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25XaWxsRHJhZ1BhbmVsO1xuICAgIH1cbiAgICBnZXQgb25VbmhhbmRsZWREcmFnT3ZlckV2ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25VbmhhbmRsZWREcmFnT3ZlckV2ZW50O1xuICAgIH1cbiAgICBnZXQgb25EaWRQb3BvdXRHcm91cFNpemVDaGFuZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vbkRpZFBvcG91dEdyb3VwU2l6ZUNoYW5nZTtcbiAgICB9XG4gICAgZ2V0IG9uRGlkUG9wb3V0R3JvdXBQb3NpdGlvbkNoYW5nZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm9uRGlkUG9wb3V0R3JvdXBQb3NpdGlvbkNoYW5nZTtcbiAgICB9XG4gICAgZ2V0IG9uRGlkT3BlblBvcG91dFdpbmRvd0ZhaWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5vbkRpZE9wZW5Qb3BvdXRXaW5kb3dGYWlsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGwgcGFuZWwgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBnZXQgcGFuZWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQucGFuZWxzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGwgZ3JvdXAgb2JqZWN0cy5cbiAgICAgKi9cbiAgICBnZXQgZ3JvdXBzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuZ3JvdXBzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAgQWN0aXZlIHBhbmVsIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZXQgYWN0aXZlUGFuZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5hY3RpdmVQYW5lbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWN0aXZlIGdyb3VwIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZXQgYWN0aXZlR3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5hY3RpdmVHcm91cDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAgRm9jdXMgdGhlIGNvbXBvbmVudC4gV2lsbCB0cnkgdG8gZm9jdXMgYW4gYWN0aXZlIHBhbmVsIGlmIG9uZSBleGlzdHMuXG4gICAgICovXG4gICAgZm9jdXMoKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LmZvY3VzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHBhbmVsIG9iamVjdCBnaXZlbiBhIGBzdHJpbmdgIGlkLiBNYXkgcmV0dXJuIGB1bmRlZmluZWRgLlxuICAgICAqL1xuICAgIGdldFBhbmVsKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5nZXRHcm91cFBhbmVsKGlkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRm9yY2UgcmVzaXplIHRoZSBjb21wb25lbnQgdG8gYW4gZXhhY3Qgd2lkdGggYW5kIGhlaWdodC4gUmVhZCBhYm91dCBhdXRvLXJlc2l6aW5nIGJlZm9yZSB1c2luZy5cbiAgICAgKi9cbiAgICBsYXlvdXQod2lkdGgsIGhlaWdodCwgZm9yY2UgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC5sYXlvdXQod2lkdGgsIGhlaWdodCwgZm9yY2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBwYW5lbCBhbmQgcmV0dXJuIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKi9cbiAgICBhZGRQYW5lbChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5hZGRQYW5lbChvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgcGFuZWwgZ2l2ZW4gdGhlIHBhbmVsIG9iamVjdC5cbiAgICAgKi9cbiAgICByZW1vdmVQYW5lbChwYW5lbCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC5yZW1vdmVQYW5lbChwYW5lbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIGdyb3VwIGFuZCByZXR1cm4gdGhlIGNyZWF0ZWQgb2JqZWN0LlxuICAgICAqL1xuICAgIGFkZEdyb3VwKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LmFkZEdyb3VwKG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZSBhbGwgZ3JvdXBzIGFuZCBwYW5lbHMuXG4gICAgICovXG4gICAgY2xvc2VBbGxHcm91cHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5jbG9zZUFsbEdyb3VwcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBncm91cCBhbmQgYW55IHBhbmVscyB3aXRoaW4gdGhlIGdyb3VwLlxuICAgICAqL1xuICAgIHJlbW92ZUdyb3VwKGdyb3VwKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LnJlbW92ZUdyb3VwKGdyb3VwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgZ3JvdXAgb2JqZWN0IGdpdmVuIGEgYHN0cmluZ2AgaWQuIE1heSByZXR1cm4gdW5kZWZpbmVkLlxuICAgICAqL1xuICAgIGdldEdyb3VwKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5nZXRQYW5lbChpZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIGZsb2F0aW5nIGdyb3VwXG4gICAgICovXG4gICAgYWRkRmxvYXRpbmdHcm91cChpdGVtLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5hZGRGbG9hdGluZ0dyb3VwKGl0ZW0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjb21wb25lbnQgZnJvbSBhIHNlcmlhbGl6ZWQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZyb21KU09OKGRhdGEpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZnJvbUpTT04oZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHNlcmlhbGl6ZWQgb2JqZWN0IG9mIHRoZSBjdXJyZW50IGNvbXBvbmVudC5cbiAgICAgKi9cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC50b0pTT04oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGNvbXBvbmVudCBiYWNrIHRvIGFuIGVtcHR5IGFuZCBkZWZhdWx0IHN0YXRlLlxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC5jbGVhcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSBmb2N1cyBwcm9nbWF0aWNhbGx5IHRvIHRoZSBuZXh0IHBhbmVsIG9yIGdyb3VwLlxuICAgICAqL1xuICAgIG1vdmVUb05leHQob3B0aW9ucykge1xuICAgICAgICB0aGlzLmNvbXBvbmVudC5tb3ZlVG9OZXh0KG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb3ZlIHRoZSBmb2N1cyBwcm9nbWF0aWNhbGx5IHRvIHRoZSBwcmV2aW91cyBwYW5lbCBvciBncm91cC5cbiAgICAgKi9cbiAgICBtb3ZlVG9QcmV2aW91cyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50Lm1vdmVUb1ByZXZpb3VzKG9wdGlvbnMpO1xuICAgIH1cbiAgICBtYXhpbWl6ZUdyb3VwKHBhbmVsKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50Lm1heGltaXplR3JvdXAocGFuZWwuZ3JvdXApO1xuICAgIH1cbiAgICBoYXNNYXhpbWl6ZWRHcm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lmhhc01heGltaXplZEdyb3VwKCk7XG4gICAgfVxuICAgIGV4aXRNYXhpbWl6ZWRHcm91cCgpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZXhpdE1heGltaXplZEdyb3VwKCk7XG4gICAgfVxuICAgIGdldCBvbkRpZE1heGltaXplZEdyb3VwQ2hhbmdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQub25EaWRNYXhpbWl6ZWRHcm91cENoYW5nZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgcG9wb3V0IGdyb3VwIGluIGEgbmV3IFdpbmRvd1xuICAgICAqL1xuICAgIGFkZFBvcG91dEdyb3VwKGl0ZW0sIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LmFkZFBvcG91dEdyb3VwKGl0ZW0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICB1cGRhdGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQudXBkYXRlT3B0aW9ucyhvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVsZWFzZSByZXNvdXJjZXMgYW5kIHRlYXJkb3duIGNvbXBvbmVudC4gRG8gbm90IGNhbGwgd2hlbiB1c2luZyBmcmFtZXdvcmsgdmVyc2lvbnMgb2YgZG9ja3ZpZXcuXG4gICAgICovXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZGlzcG9zZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHBvc2l0aW9uVG9EaXJlY3Rpb24gfSBmcm9tICcuLi9kbmQvZHJvcHRhcmdldCc7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IEdyaWR2aWV3UGFuZWxBcGlJbXBsIH0gZnJvbSAnLi9ncmlkdmlld1BhbmVsQXBpJztcbmNvbnN0IE5PVF9JTklUSUFMSVpFRF9NRVNTQUdFID0gJ2RvY2t2aWV3OiBEb2Nrdmlld0dyb3VwUGFuZWxBcGlJbXBsIG5vdCBpbml0aWFsaXplZCc7XG5leHBvcnQgY2xhc3MgRG9ja3ZpZXdHcm91cFBhbmVsQXBpSW1wbCBleHRlbmRzIEdyaWR2aWV3UGFuZWxBcGlJbXBsIHtcbiAgICBnZXQgbG9jYXRpb24oKSB7XG4gICAgICAgIGlmICghdGhpcy5fZ3JvdXApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihOT1RfSU5JVElBTElaRURfTUVTU0FHRSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyb3VwLm1vZGVsLmxvY2F0aW9uO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihpZCwgYWNjZXNzb3IpIHtcbiAgICAgICAgc3VwZXIoaWQsICdfX2RvY2t2aWV3Z3JvdXBfXycpO1xuICAgICAgICB0aGlzLmFjY2Vzc29yID0gYWNjZXNzb3I7XG4gICAgICAgIHRoaXMuX29uRGlkTG9jYXRpb25DaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkTG9jYXRpb25DaGFuZ2UgPSB0aGlzLl9vbkRpZExvY2F0aW9uQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZEFjdGl2ZVBhbmVsQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZEFjdGl2ZVBhbmVsQ2hhbmdlID0gdGhpcy5fb25EaWRBY3RpdmVQYW5lbENoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyh0aGlzLl9vbkRpZExvY2F0aW9uQ2hhbmdlLCB0aGlzLl9vbkRpZEFjdGl2ZVBhbmVsQ2hhbmdlKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZ3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5hY2Nlc3Nvci5yZW1vdmVHcm91cCh0aGlzLl9ncm91cCk7XG4gICAgfVxuICAgIGdldFdpbmRvdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb24udHlwZSA9PT0gJ3BvcG91dCdcbiAgICAgICAgICAgID8gdGhpcy5sb2NhdGlvbi5nZXRXaW5kb3coKVxuICAgICAgICAgICAgOiB3aW5kb3c7XG4gICAgfVxuICAgIG1vdmVUbyhvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgaWYgKCF0aGlzLl9ncm91cCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE5PVF9JTklUSUFMSVpFRF9NRVNTQUdFKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBncm91cCA9IChfYSA9IG9wdGlvbnMuZ3JvdXApICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuYWNjZXNzb3IuYWRkR3JvdXAoe1xuICAgICAgICAgICAgZGlyZWN0aW9uOiBwb3NpdGlvblRvRGlyZWN0aW9uKChfYiA9IG9wdGlvbnMucG9zaXRpb24pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICdyaWdodCcpLFxuICAgICAgICAgICAgc2tpcFNldEFjdGl2ZTogKF9jID0gb3B0aW9ucy5za2lwU2V0QWN0aXZlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWNjZXNzb3IubW92ZUdyb3VwT3JQYW5lbCh7XG4gICAgICAgICAgICBmcm9tOiB7IGdyb3VwSWQ6IHRoaXMuX2dyb3VwLmlkIH0sXG4gICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgIGdyb3VwLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zLmdyb3VwXG4gICAgICAgICAgICAgICAgICAgID8gKF9kID0gb3B0aW9ucy5wb3NpdGlvbikgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJ2NlbnRlcidcbiAgICAgICAgICAgICAgICAgICAgOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBpbmRleDogb3B0aW9ucy5pbmRleCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBza2lwU2V0QWN0aXZlOiBvcHRpb25zLnNraXBTZXRBY3RpdmUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtYXhpbWl6ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ncm91cCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKE5PVF9JTklUSUFMSVpFRF9NRVNTQUdFKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sb2NhdGlvbi50eXBlICE9PSAnZ3JpZCcpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgZ3JpZCBncm91cHMgY2FuIGJlIG1heGltaXplZFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWNjZXNzb3IubWF4aW1pemVHcm91cCh0aGlzLl9ncm91cCk7XG4gICAgfVxuICAgIGlzTWF4aW1pemVkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2dyb3VwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTk9UX0lOSVRJQUxJWkVEX01FU1NBR0UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFjY2Vzc29yLmlzTWF4aW1pemVkR3JvdXAodGhpcy5fZ3JvdXApO1xuICAgIH1cbiAgICBleGl0TWF4aW1pemVkKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2dyb3VwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTk9UX0lOSVRJQUxJWkVEX01FU1NBR0UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzTWF4aW1pemVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWNjZXNzb3IuZXhpdE1heGltaXplZEdyb3VwKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5pdGlhbGl6ZShncm91cCkge1xuICAgICAgICB0aGlzLl9ncm91cCA9IGdyb3VwO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgR3JpZHZpZXdQYW5lbEFwaUltcGwgfSBmcm9tICcuL2dyaWR2aWV3UGFuZWxBcGknO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSwgTXV0YWJsZURpc3Bvc2FibGUgfSBmcm9tICcuLi9saWZlY3ljbGUnO1xuZXhwb3J0IGNsYXNzIERvY2t2aWV3UGFuZWxBcGlJbXBsIGV4dGVuZHMgR3JpZHZpZXdQYW5lbEFwaUltcGwge1xuICAgIGdldCBsb2NhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JvdXAuYXBpLmxvY2F0aW9uO1xuICAgIH1cbiAgICBnZXQgdGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhbmVsLnRpdGxlO1xuICAgIH1cbiAgICBnZXQgaXNHcm91cEFjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JvdXAuaXNBY3RpdmU7XG4gICAgfVxuICAgIGdldCByZW5kZXJlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFuZWwucmVuZGVyZXI7XG4gICAgfVxuICAgIHNldCBncm91cCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBvbGRHcm91cCA9IHRoaXMuX2dyb3VwO1xuICAgICAgICBpZiAodGhpcy5fZ3JvdXAgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9ncm91cCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fb25EaWRHcm91cENoYW5nZS5maXJlKHt9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBHcm91cEV2ZW50TGlzdGVuZXJzKG9sZEdyb3VwKTtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkTG9jYXRpb25DaGFuZ2UuZmlyZSh7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHRoaXMuZ3JvdXAuYXBpLmxvY2F0aW9uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JvdXA7XG4gICAgfVxuICAgIGdldCB0YWJDb21wb25lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YWJDb21wb25lbnQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHBhbmVsLCBncm91cCwgYWNjZXNzb3IsIGNvbXBvbmVudCwgdGFiQ29tcG9uZW50KSB7XG4gICAgICAgIHN1cGVyKHBhbmVsLmlkLCBjb21wb25lbnQpO1xuICAgICAgICB0aGlzLnBhbmVsID0gcGFuZWw7XG4gICAgICAgIHRoaXMuYWNjZXNzb3IgPSBhY2Nlc3NvcjtcbiAgICAgICAgdGhpcy5fb25EaWRUaXRsZUNoYW5nZSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRUaXRsZUNoYW5nZSA9IHRoaXMuX29uRGlkVGl0bGVDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkQWN0aXZlR3JvdXBDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQWN0aXZlR3JvdXBDaGFuZ2UgPSB0aGlzLl9vbkRpZEFjdGl2ZUdyb3VwQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZEdyb3VwQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZEdyb3VwQ2hhbmdlID0gdGhpcy5fb25EaWRHcm91cENoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRSZW5kZXJlckNoYW5nZSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRSZW5kZXJlckNoYW5nZSA9IHRoaXMuX29uRGlkUmVuZGVyZXJDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkTG9jYXRpb25DaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkTG9jYXRpb25DaGFuZ2UgPSB0aGlzLl9vbkRpZExvY2F0aW9uQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLmdyb3VwRXZlbnRzRGlzcG9zYWJsZSA9IG5ldyBNdXRhYmxlRGlzcG9zYWJsZSgpO1xuICAgICAgICB0aGlzLl90YWJDb21wb25lbnQgPSB0YWJDb21wb25lbnQ7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZShwYW5lbCk7XG4gICAgICAgIHRoaXMuX2dyb3VwID0gZ3JvdXA7XG4gICAgICAgIHRoaXMuc2V0dXBHcm91cEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5ncm91cEV2ZW50c0Rpc3Bvc2FibGUsIHRoaXMuX29uRGlkUmVuZGVyZXJDaGFuZ2UsIHRoaXMuX29uRGlkVGl0bGVDaGFuZ2UsIHRoaXMuX29uRGlkR3JvdXBDaGFuZ2UsIHRoaXMuX29uRGlkQWN0aXZlR3JvdXBDaGFuZ2UsIHRoaXMuX29uRGlkTG9jYXRpb25DaGFuZ2UpO1xuICAgIH1cbiAgICBnZXRXaW5kb3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyb3VwLmFwaS5nZXRXaW5kb3coKTtcbiAgICB9XG4gICAgbW92ZVRvKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5hY2Nlc3Nvci5tb3ZlR3JvdXBPclBhbmVsKHtcbiAgICAgICAgICAgIGZyb206IHsgZ3JvdXBJZDogdGhpcy5fZ3JvdXAuaWQsIHBhbmVsSWQ6IHRoaXMucGFuZWwuaWQgfSxcbiAgICAgICAgICAgIHRvOiB7XG4gICAgICAgICAgICAgICAgZ3JvdXA6IChfYSA9IG9wdGlvbnMuZ3JvdXApICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuX2dyb3VwLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBvcHRpb25zLmdyb3VwXG4gICAgICAgICAgICAgICAgICAgID8gKF9iID0gb3B0aW9ucy5wb3NpdGlvbikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ2NlbnRlcidcbiAgICAgICAgICAgICAgICAgICAgOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICBpbmRleDogb3B0aW9ucy5pbmRleCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBza2lwU2V0QWN0aXZlOiBvcHRpb25zLnNraXBTZXRBY3RpdmUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRUaXRsZSh0aXRsZSkge1xuICAgICAgICB0aGlzLnBhbmVsLnNldFRpdGxlKHRpdGxlKTtcbiAgICB9XG4gICAgc2V0UmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgdGhpcy5wYW5lbC5zZXRSZW5kZXJlcihyZW5kZXJlcik7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmdyb3VwLm1vZGVsLmNsb3NlUGFuZWwodGhpcy5wYW5lbCk7XG4gICAgfVxuICAgIG1heGltaXplKCkge1xuICAgICAgICB0aGlzLmdyb3VwLmFwaS5tYXhpbWl6ZSgpO1xuICAgIH1cbiAgICBpc01heGltaXplZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JvdXAuYXBpLmlzTWF4aW1pemVkKCk7XG4gICAgfVxuICAgIGV4aXRNYXhpbWl6ZWQoKSB7XG4gICAgICAgIHRoaXMuZ3JvdXAuYXBpLmV4aXRNYXhpbWl6ZWQoKTtcbiAgICB9XG4gICAgc2V0dXBHcm91cEV2ZW50TGlzdGVuZXJzKHByZXZpb3VzR3JvdXApIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBsZXQgX3RyYWNrR3JvdXBBY3RpdmUgPSAoX2EgPSBwcmV2aW91c0dyb3VwID09PSBudWxsIHx8IHByZXZpb3VzR3JvdXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHByZXZpb3VzR3JvdXAuaXNBY3RpdmUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlOyAvLyBwcmV2ZW50IGR1cGxpY2F0ZSBldmVudHMgd2l0aCBzYW1lIHN0YXRlXG4gICAgICAgIHRoaXMuZ3JvdXBFdmVudHNEaXNwb3NhYmxlLnZhbHVlID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUodGhpcy5ncm91cC5hcGkub25EaWRWaXNpYmlsaXR5Q2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGFzQmVjb21lSGlkZGVuID0gIWV2ZW50LmlzVmlzaWJsZSAmJiB0aGlzLmlzVmlzaWJsZTtcbiAgICAgICAgICAgIGNvbnN0IGhhc0JlY29tZVZpc2libGUgPSBldmVudC5pc1Zpc2libGUgJiYgIXRoaXMuaXNWaXNpYmxlO1xuICAgICAgICAgICAgY29uc3QgaXNBY3RpdmVQYW5lbCA9IHRoaXMuZ3JvdXAubW9kZWwuaXNQYW5lbEFjdGl2ZSh0aGlzLnBhbmVsKTtcbiAgICAgICAgICAgIGlmIChoYXNCZWNvbWVIaWRkZW4gfHwgKGhhc0JlY29tZVZpc2libGUgJiYgaXNBY3RpdmVQYW5lbCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZFZpc2liaWxpdHlDaGFuZ2UuZmlyZShldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB0aGlzLmdyb3VwLmFwaS5vbkRpZExvY2F0aW9uQ2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXAgIT09IHRoaXMucGFuZWwuZ3JvdXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vbkRpZExvY2F0aW9uQ2hhbmdlLmZpcmUoZXZlbnQpO1xuICAgICAgICB9KSwgdGhpcy5ncm91cC5hcGkub25EaWRBY3RpdmVDaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZ3JvdXAgIT09IHRoaXMucGFuZWwuZ3JvdXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RyYWNrR3JvdXBBY3RpdmUgIT09IHRoaXMuaXNHcm91cEFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIF90cmFja0dyb3VwQWN0aXZlID0gdGhpcy5pc0dyb3VwQWN0aXZlO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkQWN0aXZlR3JvdXBDaGFuZ2UuZmlyZSh7XG4gICAgICAgICAgICAgICAgICAgIGlzQWN0aXZlOiB0aGlzLmlzR3JvdXBBY3RpdmUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBHcmlkdmlld0FwaSwgUGFuZXZpZXdBcGksIFNwbGl0dmlld0FwaSwgfSBmcm9tICcuLi9hcGkvY29tcG9uZW50LmFwaSc7XG5pbXBvcnQgeyBEb2Nrdmlld0NvbXBvbmVudCB9IGZyb20gJy4uL2RvY2t2aWV3L2RvY2t2aWV3Q29tcG9uZW50JztcbmltcG9ydCB7IEdyaWR2aWV3Q29tcG9uZW50IH0gZnJvbSAnLi4vZ3JpZHZpZXcvZ3JpZHZpZXdDb21wb25lbnQnO1xuaW1wb3J0IHsgUGFuZXZpZXdDb21wb25lbnQgfSBmcm9tICcuLi9wYW5ldmlldy9wYW5ldmlld0NvbXBvbmVudCc7XG5pbXBvcnQgeyBTcGxpdHZpZXdDb21wb25lbnQgfSBmcm9tICcuLi9zcGxpdHZpZXcvc3BsaXR2aWV3Q29tcG9uZW50JztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEb2NrdmlldyhlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gbmV3IERvY2t2aWV3Q29tcG9uZW50KGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIHJldHVybiBjb21wb25lbnQuYXBpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNwbGl0dmlldyhlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gbmV3IFNwbGl0dmlld0NvbXBvbmVudChlbGVtZW50LCBvcHRpb25zKTtcbiAgICByZXR1cm4gbmV3IFNwbGl0dmlld0FwaShjb21wb25lbnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdyaWR2aWV3KGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjb21wb25lbnQgPSBuZXcgR3JpZHZpZXdDb21wb25lbnQoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG5ldyBHcmlkdmlld0FwaShjb21wb25lbnQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVBhbmV2aWV3KGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBjb21wb25lbnQgPSBuZXcgUGFuZXZpZXdDb21wb25lbnQoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIG5ldyBQYW5ldmlld0FwaShjb21wb25lbnQpO1xufVxuIiwiaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBQYW5lbEFwaUltcGwgfSBmcm9tICcuL3BhbmVsQXBpJztcbmV4cG9ydCBjbGFzcyBHcmlkdmlld1BhbmVsQXBpSW1wbCBleHRlbmRzIFBhbmVsQXBpSW1wbCB7XG4gICAgY29uc3RydWN0b3IoaWQsIGNvbXBvbmVudCwgcGFuZWwpIHtcbiAgICAgICAgc3VwZXIoaWQsIGNvbXBvbmVudCk7XG4gICAgICAgIHRoaXMuX29uRGlkQ29uc3RyYWludHNDaGFuZ2VJbnRlcm5hbCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRDb25zdHJhaW50c0NoYW5nZUludGVybmFsID0gdGhpcy5fb25EaWRDb25zdHJhaW50c0NoYW5nZUludGVybmFsLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZENvbnN0cmFpbnRzQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZENvbnN0cmFpbnRzQ2hhbmdlID0gdGhpcy5fb25EaWRDb25zdHJhaW50c0NoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRTaXplQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZFNpemVDaGFuZ2UgPSB0aGlzLl9vbkRpZFNpemVDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fb25EaWRDb25zdHJhaW50c0NoYW5nZUludGVybmFsLCB0aGlzLl9vbkRpZENvbnN0cmFpbnRzQ2hhbmdlLCB0aGlzLl9vbkRpZFNpemVDaGFuZ2UpO1xuICAgICAgICBpZiAocGFuZWwpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZShwYW5lbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0Q29uc3RyYWludHModmFsdWUpIHtcbiAgICAgICAgdGhpcy5fb25EaWRDb25zdHJhaW50c0NoYW5nZUludGVybmFsLmZpcmUodmFsdWUpO1xuICAgIH1cbiAgICBzZXRTaXplKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX29uRGlkU2l6ZUNoYW5nZS5maXJlKGV2ZW50KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBEb2Nrdmlld0V2ZW50LCBFbWl0dGVyIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IENvbXBvc2l0ZURpc3Bvc2FibGUsIE11dGFibGVEaXNwb3NhYmxlIH0gZnJvbSAnLi4vbGlmZWN5Y2xlJztcbmV4cG9ydCBjbGFzcyBXaWxsRm9jdXNFdmVudCBleHRlbmRzIERvY2t2aWV3RXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cbn1cbi8qKlxuICogQSBjb3JlIGFwaSBpbXBsZW1lbnRhdGlvbiB0aGF0IHNob3VsZCBiZSB1c2VkIGFjcm9zcyBhbGwgcGFuZWwtbGlrZSBvYmplY3RzXG4gKi9cbmV4cG9ydCBjbGFzcyBQYW5lbEFwaUltcGwgZXh0ZW5kcyBDb21wb3NpdGVEaXNwb3NhYmxlIHtcbiAgICBnZXQgaXNGb2N1c2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNGb2N1c2VkO1xuICAgIH1cbiAgICBnZXQgaXNBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0FjdGl2ZTtcbiAgICB9XG4gICAgZ2V0IGlzVmlzaWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVmlzaWJsZTtcbiAgICB9XG4gICAgZ2V0IHdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgfVxuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlkLCBjb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudDtcbiAgICAgICAgdGhpcy5faXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2lzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5fcGFyYW1ldGVycyA9IHt9O1xuICAgICAgICB0aGlzLnBhbmVsVXBkYXRlc0Rpc3Bvc2FibGUgPSBuZXcgTXV0YWJsZURpc3Bvc2FibGUoKTtcbiAgICAgICAgdGhpcy5fb25EaWREaW1lbnNpb25DaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkRGltZW5zaW9uc0NoYW5nZSA9IHRoaXMuX29uRGlkRGltZW5zaW9uQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUZvY3VzID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZEZvY3VzQ2hhbmdlID0gdGhpcy5fb25EaWRDaGFuZ2VGb2N1cy5ldmVudDtcbiAgICAgICAgLy9cbiAgICAgICAgdGhpcy5fb25XaWxsRm9jdXMgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uV2lsbEZvY3VzID0gdGhpcy5fb25XaWxsRm9jdXMuZXZlbnQ7XG4gICAgICAgIC8vXG4gICAgICAgIHRoaXMuX29uRGlkVmlzaWJpbGl0eUNoYW5nZSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRWaXNpYmlsaXR5Q2hhbmdlID0gdGhpcy5fb25EaWRWaXNpYmlsaXR5Q2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbldpbGxWaXNpYmlsaXR5Q2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbldpbGxWaXNpYmlsaXR5Q2hhbmdlID0gdGhpcy5fb25XaWxsVmlzaWJpbGl0eUNoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRBY3RpdmVDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQWN0aXZlQ2hhbmdlID0gdGhpcy5fb25EaWRBY3RpdmVDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uQWN0aXZlQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkFjdGl2ZUNoYW5nZSA9IHRoaXMuX29uQWN0aXZlQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZFBhcmFtZXRlcnNDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkUGFyYW1ldGVyc0NoYW5nZSA9IHRoaXMuX29uRGlkUGFyYW1ldGVyc0NoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyh0aGlzLm9uRGlkRm9jdXNDaGFuZ2UoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pc0ZvY3VzZWQgPSBldmVudC5pc0ZvY3VzZWQ7XG4gICAgICAgIH0pLCB0aGlzLm9uRGlkQWN0aXZlQ2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faXNBY3RpdmUgPSBldmVudC5pc0FjdGl2ZTtcbiAgICAgICAgfSksIHRoaXMub25EaWRWaXNpYmlsaXR5Q2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5faXNWaXNpYmxlID0gZXZlbnQuaXNWaXNpYmxlO1xuICAgICAgICB9KSwgdGhpcy5vbkRpZERpbWVuc2lvbnNDaGFuZ2UoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IGV2ZW50LndpZHRoO1xuICAgICAgICAgICAgdGhpcy5faGVpZ2h0ID0gZXZlbnQuaGVpZ2h0O1xuICAgICAgICB9KSwgdGhpcy5wYW5lbFVwZGF0ZXNEaXNwb3NhYmxlLCB0aGlzLl9vbkRpZERpbWVuc2lvbkNoYW5nZSwgdGhpcy5fb25EaWRDaGFuZ2VGb2N1cywgdGhpcy5fb25EaWRWaXNpYmlsaXR5Q2hhbmdlLCB0aGlzLl9vbkRpZEFjdGl2ZUNoYW5nZSwgdGhpcy5fb25XaWxsRm9jdXMsIHRoaXMuX29uQWN0aXZlQ2hhbmdlLCB0aGlzLl9vbldpbGxGb2N1cywgdGhpcy5fb25XaWxsVmlzaWJpbGl0eUNoYW5nZSwgdGhpcy5fb25EaWRQYXJhbWV0ZXJzQ2hhbmdlKTtcbiAgICB9XG4gICAgZ2V0UGFyYW1ldGVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhcmFtZXRlcnM7XG4gICAgfVxuICAgIGluaXRpYWxpemUocGFuZWwpIHtcbiAgICAgICAgdGhpcy5wYW5lbFVwZGF0ZXNEaXNwb3NhYmxlLnZhbHVlID0gdGhpcy5fb25EaWRQYXJhbWV0ZXJzQ2hhbmdlLmV2ZW50KChwYXJhbWV0ZXJzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcbiAgICAgICAgICAgIHBhbmVsLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgcGFyYW1zOiBwYXJhbWV0ZXJzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRWaXNpYmxlKGlzVmlzaWJsZSkge1xuICAgICAgICB0aGlzLl9vbldpbGxWaXNpYmlsaXR5Q2hhbmdlLmZpcmUoeyBpc1Zpc2libGUgfSk7XG4gICAgfVxuICAgIHNldEFjdGl2ZSgpIHtcbiAgICAgICAgdGhpcy5fb25BY3RpdmVDaGFuZ2UuZmlyZSgpO1xuICAgIH1cbiAgICB1cGRhdGVQYXJhbWV0ZXJzKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgdGhpcy5fb25EaWRQYXJhbWV0ZXJzQ2hhbmdlLmZpcmUocGFyYW1ldGVycyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBTcGxpdHZpZXdQYW5lbEFwaUltcGwgfSBmcm9tICcuL3NwbGl0dmlld1BhbmVsQXBpJztcbmV4cG9ydCBjbGFzcyBQYW5ldmlld1BhbmVsQXBpSW1wbCBleHRlbmRzIFNwbGl0dmlld1BhbmVsQXBpSW1wbCB7XG4gICAgc2V0IHBhbmUocGFuZSkge1xuICAgICAgICB0aGlzLl9wYW5lID0gcGFuZTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaWQsIGNvbXBvbmVudCkge1xuICAgICAgICBzdXBlcihpZCwgY29tcG9uZW50KTtcbiAgICAgICAgdGhpcy5fb25EaWRFeHBhbnNpb25DaGFuZ2UgPSBuZXcgRW1pdHRlcih7XG4gICAgICAgICAgICByZXBsYXk6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uRGlkRXhwYW5zaW9uQ2hhbmdlID0gdGhpcy5fb25EaWRFeHBhbnNpb25DaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uTW91c2VFbnRlciA9IG5ldyBFbWl0dGVyKHt9KTtcbiAgICAgICAgdGhpcy5vbk1vdXNlRW50ZXIgPSB0aGlzLl9vbk1vdXNlRW50ZXIuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uTW91c2VMZWF2ZSA9IG5ldyBFbWl0dGVyKHt9KTtcbiAgICAgICAgdGhpcy5vbk1vdXNlTGVhdmUgPSB0aGlzLl9vbk1vdXNlTGVhdmUuZXZlbnQ7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fb25EaWRFeHBhbnNpb25DaGFuZ2UsIHRoaXMuX29uTW91c2VFbnRlciwgdGhpcy5fb25Nb3VzZUxlYXZlKTtcbiAgICB9XG4gICAgc2V0RXhwYW5kZWQoaXNFeHBhbmRlZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuX3BhbmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zZXRFeHBhbmRlZChpc0V4cGFuZGVkKTtcbiAgICB9XG4gICAgZ2V0IGlzRXhwYW5kZWQoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICEhKChfYSA9IHRoaXMuX3BhbmUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pc0V4cGFuZGVkKCkpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgUGFuZWxBcGlJbXBsIH0gZnJvbSAnLi9wYW5lbEFwaSc7XG5leHBvcnQgY2xhc3MgU3BsaXR2aWV3UGFuZWxBcGlJbXBsIGV4dGVuZHMgUGFuZWxBcGlJbXBsIHtcbiAgICAvL1xuICAgIGNvbnN0cnVjdG9yKGlkLCBjb21wb25lbnQpIHtcbiAgICAgICAgc3VwZXIoaWQsIGNvbXBvbmVudCk7XG4gICAgICAgIHRoaXMuX29uRGlkQ29uc3RyYWludHNDaGFuZ2VJbnRlcm5hbCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRDb25zdHJhaW50c0NoYW5nZUludGVybmFsID0gdGhpcy5fb25EaWRDb25zdHJhaW50c0NoYW5nZUludGVybmFsLmV2ZW50O1xuICAgICAgICAvL1xuICAgICAgICB0aGlzLl9vbkRpZENvbnN0cmFpbnRzQ2hhbmdlID0gbmV3IEVtaXR0ZXIoe1xuICAgICAgICAgICAgcmVwbGF5OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbkRpZENvbnN0cmFpbnRzQ2hhbmdlID0gdGhpcy5fb25EaWRDb25zdHJhaW50c0NoYW5nZS5ldmVudDtcbiAgICAgICAgLy9cbiAgICAgICAgdGhpcy5fb25EaWRTaXplQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZFNpemVDaGFuZ2UgPSB0aGlzLl9vbkRpZFNpemVDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fb25EaWRDb25zdHJhaW50c0NoYW5nZUludGVybmFsLCB0aGlzLl9vbkRpZENvbnN0cmFpbnRzQ2hhbmdlLCB0aGlzLl9vbkRpZFNpemVDaGFuZ2UpO1xuICAgIH1cbiAgICBzZXRDb25zdHJhaW50cyh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9vbkRpZENvbnN0cmFpbnRzQ2hhbmdlSW50ZXJuYWwuZmlyZSh2YWx1ZSk7XG4gICAgfVxuICAgIHNldFNpemUoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fb25EaWRTaXplQ2hhbmdlLmZpcmUoZXZlbnQpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiB0YWlsKGFycikge1xuICAgIGlmIChhcnIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0YWlsIGNhbGwnKTtcbiAgICB9XG4gICAgcmV0dXJuIFthcnIuc2xpY2UoMCwgYXJyLmxlbmd0aCAtIDEpLCBhcnJbYXJyLmxlbmd0aCAtIDFdXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBsYXN0KGFycikge1xuICAgIHJldHVybiBhcnIubGVuZ3RoID4gMCA/IGFyclthcnIubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gc2VxdWVuY2VFcXVhbHMoYXJyMSwgYXJyMikge1xuICAgIGlmIChhcnIxLmxlbmd0aCAhPT0gYXJyMi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycjEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFycjFbaV0gIT09IGFycjJbaV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogUHVzaGVzIGFuIGVsZW1lbnQgdG8gdGhlIHN0YXJ0IG9mIHRoZSBhcnJheSwgaWYgZm91bmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdXNoVG9TdGFydChhcnIsIHZhbHVlKSB7XG4gICAgY29uc3QgaW5kZXggPSBhcnIuaW5kZXhPZih2YWx1ZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGFyci51bnNoaWZ0KHZhbHVlKTtcbiAgICB9XG59XG4vKipcbiAqIFB1c2hlcyBhbiBlbGVtZW50IHRvIHRoZSBlbmQgb2YgdGhlIGFycmF5LCBpZiBmb3VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1c2hUb0VuZChhcnIsIHZhbHVlKSB7XG4gICAgY29uc3QgaW5kZXggPSBhcnIuaW5kZXhPZih2YWx1ZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgYXJyLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGFyci5wdXNoKHZhbHVlKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3RJbmRleChhcnJheSwgZm4pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBhcnJheVtpXTtcbiAgICAgICAgaWYgKGZuKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCB2YWx1ZSkge1xuICAgIGNvbnN0IGluZGV4ID0gYXJyYXkuZmluZEluZGV4KCh0KSA9PiB0ID09PSB2YWx1ZSk7XG4gICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsImV4cG9ydCBjb25zdCBERUZBVUxUX0ZMT0FUSU5HX0dST1VQX09WRVJGTE9XX1NJWkUgPSAxMDA7XG5leHBvcnQgY29uc3QgREVGQVVMVF9GTE9BVElOR19HUk9VUF9QT1NJVElPTiA9IHsgbGVmdDogMTAwLCB0b3A6IDEwMCwgd2lkdGg6IDMwMCwgaGVpZ2h0OiAzMDAgfTtcbmV4cG9ydCBjb25zdCBERVNFUklBTElaQVRJT05fUE9QT1VUX0RFTEFZX01TID0gMTAwO1xuIiwiaW1wb3J0IHsgZGlzYWJsZUlmcmFtZVBvaW50RXZlbnRzIH0gZnJvbSAnLi4vZG9tJztcbmltcG9ydCB7IGFkZERpc3Bvc2FibGVMaXN0ZW5lciwgRW1pdHRlciB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBDb21wb3NpdGVEaXNwb3NhYmxlLCBNdXRhYmxlRGlzcG9zYWJsZSwgfSBmcm9tICcuLi9saWZlY3ljbGUnO1xuZXhwb3J0IGNsYXNzIERyYWdIYW5kbGVyIGV4dGVuZHMgQ29tcG9zaXRlRGlzcG9zYWJsZSB7XG4gICAgY29uc3RydWN0b3IoZWwpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgICB0aGlzLmRhdGFEaXNwb3NhYmxlID0gbmV3IE11dGFibGVEaXNwb3NhYmxlKCk7XG4gICAgICAgIHRoaXMucG9pbnRlckV2ZW50c0Rpc3Bvc2FibGUgPSBuZXcgTXV0YWJsZURpc3Bvc2FibGUoKTtcbiAgICAgICAgdGhpcy5fb25EcmFnU3RhcnQgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRHJhZ1N0YXJ0ID0gdGhpcy5fb25EcmFnU3RhcnQuZXZlbnQ7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fb25EcmFnU3RhcnQsIHRoaXMuZGF0YURpc3Bvc2FibGUsIHRoaXMucG9pbnRlckV2ZW50c0Rpc3Bvc2FibGUpO1xuICAgICAgICB0aGlzLmNvbmZpZ3VyZSgpO1xuICAgIH1cbiAgICBpc0NhbmNlbGxlZChfZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25maWd1cmUoKSB7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fb25EcmFnU3RhcnQsIGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLmVsLCAnZHJhZ3N0YXJ0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCB8fCB0aGlzLmlzQ2FuY2VsbGVkKGV2ZW50KSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaWZyYW1lcyA9IGRpc2FibGVJZnJhbWVQb2ludEV2ZW50cygpO1xuICAgICAgICAgICAgdGhpcy5wb2ludGVyRXZlbnRzRGlzcG9zYWJsZS52YWx1ZSA9IHtcbiAgICAgICAgICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmcmFtZXMucmVsZWFzZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdkdi1kcmFnZ2VkJyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSgnZHYtZHJhZ2dlZCcpLCAwKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YURpc3Bvc2FibGUudmFsdWUgPSB0aGlzLmdldERhdGEoZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5fb25EcmFnU3RhcnQuZmlyZShldmVudCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFzRGF0YSA9IGV2ZW50LmRhdGFUcmFuc2Zlci5pdGVtcy5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICAgIGlmICghaGFzRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogQWx0aG91Z2ggdGhpcyBpcyBub3QgdXNlZCBieSBkb2NrdmlldyBtYW55IHRoaXJkIHBhcnR5IGRuZCBsaWJyYXJpZXMgd2lsbCBjaGVja1xuICAgICAgICAgICAgICAgICAgICAgKiBkYXRhVHJhbnNmZXIudHlwZXMgdG8gZGV0ZXJtaW5lIHZhbGlkIGRyYWcgZXZlbnRzLlxuICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgKiBGb3IgZXhhbXBsZTogaW4gcmVhY3QtZG5kIGlmIGRhdGFUcmFuc2Zlci50eXBlcyBpcyBub3Qgc2V0IHRoZW4gdGhlIGRyYWdTdGFydCBldmVudCB3aWxsIGJlIGNhbmNlbGxlZFxuICAgICAgICAgICAgICAgICAgICAgKiB0aHJvdWdoIC5wcmV2ZW50RGVmYXVsdCgpLiBTaW5jZSB0aGlzIGlzIGFwcGxpZWQgZ2xvYmFsbHkgdG8gYWxsIGRyYWcgZXZlbnRzIHRoaXMgd291bGQgYnJlYWsgZG9ja3ZpZXdzXG4gICAgICAgICAgICAgICAgICAgICAqIGRuZCBsb2dpYy4gWW91IGNhbiBzZWUgdGhlIGNvZGUgYXRcbiAgICAgICAgICAgICAgICAgUCAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1kbmQvcmVhY3QtZG5kL2Jsb2IvbWFpbi9wYWNrYWdlcy9iYWNrZW5kLWh0bWw1L3NyYy9IVE1MNUJhY2tlbmRJbXBsLnRzI0w1NDJcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLmVsLCAnZHJhZ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucG9pbnRlckV2ZW50c0Rpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhRGlzcG9zYWJsZS5kaXNwb3NlKCk7IC8vIGFsbG93IHRoZSBkYXRhIHRvIGJlIHJlYWQgYnkgb3RoZXIgaGFuZGxlcnMgYmVmb3JlIGRpc3Bvc2luZ1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG4iLCJjbGFzcyBUcmFuc2Zlck9iamVjdCB7XG59XG5leHBvcnQgY2xhc3MgUGFuZWxUcmFuc2ZlciBleHRlbmRzIFRyYW5zZmVyT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3SWQsIGdyb3VwSWQsIHBhbmVsSWQpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52aWV3SWQgPSB2aWV3SWQ7XG4gICAgICAgIHRoaXMuZ3JvdXBJZCA9IGdyb3VwSWQ7XG4gICAgICAgIHRoaXMucGFuZWxJZCA9IHBhbmVsSWQ7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBhbmVUcmFuc2ZlciBleHRlbmRzIFRyYW5zZmVyT2JqZWN0IHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3SWQsIHBhbmVJZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnZpZXdJZCA9IHZpZXdJZDtcbiAgICAgICAgdGhpcy5wYW5lSWQgPSBwYW5lSWQ7XG4gICAgfVxufVxuLyoqXG4gKiBBIHNpbmdsZXRvbiB0byBzdG9yZSB0cmFuc2ZlciBkYXRhIGR1cmluZyBkcmFnICYgZHJvcCBvcGVyYXRpb25zIHRoYXQgYXJlIG9ubHkgdmFsaWQgd2l0aGluIHRoZSBhcHBsaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIExvY2FsU2VsZWN0aW9uVHJhbnNmZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBwcm90ZWN0IGFnYWluc3QgZXh0ZXJuYWwgaW5zdGFudGlhdGlvblxuICAgIH1cbiAgICBzdGF0aWMgZ2V0SW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiBMb2NhbFNlbGVjdGlvblRyYW5zZmVyLklOU1RBTkNFO1xuICAgIH1cbiAgICBoYXNEYXRhKHByb3RvKSB7XG4gICAgICAgIHJldHVybiBwcm90byAmJiBwcm90byA9PT0gdGhpcy5wcm90bztcbiAgICB9XG4gICAgY2xlYXJEYXRhKHByb3RvKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0RhdGEocHJvdG8pKSB7XG4gICAgICAgICAgICB0aGlzLnByb3RvID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldERhdGEocHJvdG8pIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzRGF0YShwcm90bykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgc2V0RGF0YShkYXRhLCBwcm90bykge1xuICAgICAgICBpZiAocHJvdG8pIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLnByb3RvID0gcHJvdG87XG4gICAgICAgIH1cbiAgICB9XG59XG5Mb2NhbFNlbGVjdGlvblRyYW5zZmVyLklOU1RBTkNFID0gbmV3IExvY2FsU2VsZWN0aW9uVHJhbnNmZXIoKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRQYW5lbERhdGEoKSB7XG4gICAgY29uc3QgcGFuZWxUcmFuc2ZlciA9IExvY2FsU2VsZWN0aW9uVHJhbnNmZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBjb25zdCBpc1BhbmVsRXZlbnQgPSBwYW5lbFRyYW5zZmVyLmhhc0RhdGEoUGFuZWxUcmFuc2Zlci5wcm90b3R5cGUpO1xuICAgIGlmICghaXNQYW5lbEV2ZW50KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBwYW5lbFRyYW5zZmVyLmdldERhdGEoUGFuZWxUcmFuc2Zlci5wcm90b3R5cGUpWzBdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhbmVEYXRhKCkge1xuICAgIGNvbnN0IHBhbmVUcmFuc2ZlciA9IExvY2FsU2VsZWN0aW9uVHJhbnNmZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBjb25zdCBpc1BhbmVsRXZlbnQgPSBwYW5lVHJhbnNmZXIuaGFzRGF0YShQYW5lVHJhbnNmZXIucHJvdG90eXBlKTtcbiAgICBpZiAoIWlzUGFuZWxFdmVudCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gcGFuZVRyYW5zZmVyLmdldERhdGEoUGFuZVRyYW5zZmVyLnByb3RvdHlwZSlbMF07XG59XG4iLCJpbXBvcnQgeyBhZGREaXNwb3NhYmxlTGlzdGVuZXIgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5leHBvcnQgY2xhc3MgRHJhZ0FuZERyb3BPYnNlcnZlciBleHRlbmRzIENvbXBvc2l0ZURpc3Bvc2FibGUge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGNhbGxiYWNrcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcbiAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIG9uRHJhZ0VudGVyKGUpIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25EcmFnRW50ZXIoZSk7XG4gICAgfVxuICAgIG9uRHJhZ092ZXIoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIG5lZWRlZCBzbyB0aGF0IHRoZSBkcm9wIGV2ZW50IGZpcmVzIChodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMTMzOTkyNC9kcm9wLWV2ZW50LW5vdC1maXJpbmctaW4tY2hyb21lKVxuICAgICAgICBpZiAodGhpcy5jYWxsYmFja3Mub25EcmFnT3Zlcikge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3Mub25EcmFnT3ZlcihlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkRyYWdMZWF2ZShlKSB7XG4gICAgICAgIGlmICh0aGlzLnRhcmdldCA9PT0gZS50YXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uRHJhZ0xlYXZlKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uRHJhZ0VuZChlKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYWxsYmFja3Mub25EcmFnRW5kKGUpO1xuICAgIH1cbiAgICBvbkRyb3AoZSkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbkRyb3AoZSk7XG4gICAgfVxuICAgIHJlZ2lzdGVyTGlzdGVuZXJzKCkge1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLmVsZW1lbnQsICdkcmFnZW50ZXInLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbkRyYWdFbnRlcihlKTtcbiAgICAgICAgfSwgdHJ1ZSkpO1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLmVsZW1lbnQsICdkcmFnb3ZlcicsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRHJhZ092ZXIoZSk7XG4gICAgICAgIH0sIHRydWUpKTtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyhhZGREaXNwb3NhYmxlTGlzdGVuZXIodGhpcy5lbGVtZW50LCAnZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25EcmFnTGVhdmUoZSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyhhZGREaXNwb3NhYmxlTGlzdGVuZXIodGhpcy5lbGVtZW50LCAnZHJhZ2VuZCcsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRHJhZ0VuZChlKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLmVsZW1lbnQsICdkcm9wJywgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMub25Ecm9wKGUpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSwgRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5leHBvcnQgY2xhc3MgRHJvcFRhcmdldEFuY2hvckNvbnRhaW5lciBleHRlbmRzIENvbXBvc2l0ZURpc3Bvc2FibGUge1xuICAgIGdldCBkaXNhYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkO1xuICAgIH1cbiAgICBzZXQgZGlzYWJsZWQodmFsdWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5kaXNhYmxlZCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaXNhYmxlZCA9IHZhbHVlO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMubW9kZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBtb2RlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNsZWFyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLl9tb2RlbC5yb290LnBhcmVudEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZCh0aGlzLl9tb2RlbC5yb290KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9kZWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhpc3RzOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fbW9kZWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0RWxlbWVudHM6IChldmVudCwgb3V0bGluZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZWQgPSB0aGlzLl9vdXRsaW5lICE9PSBvdXRsaW5lO1xuICAgICAgICAgICAgICAgIHRoaXMuX291dGxpbmUgPSBvdXRsaW5lO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tb2RlbC5jaGFuZ2VkID0gY2hhbmdlZDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IHRoaXMuY3JlYXRlQW5jaG9yKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9kZWwgPSB7IHJvb3Q6IGNvbnRhaW5lciwgb3ZlcmxheTogYW5jaG9yLCBjaGFuZ2VkIH07XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGFuY2hvcik7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgaWYgKChldmVudCA9PT0gbnVsbCB8fCBldmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXZlbnQudGFyZ2V0KSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEJveCA9IGV2ZW50LnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm94ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICBhbmNob3Iuc3R5bGUubGVmdCA9IGAke3RhcmdldEJveC5sZWZ0IC0gYm94LmxlZnR9cHhgO1xuICAgICAgICAgICAgICAgICAgICBhbmNob3Iuc3R5bGUudG9wID0gYCR7dGFyZ2V0Qm94LnRvcCAtIGJveC50b3B9cHhgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbW9kZWw7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gb3B0aW9ucy5kaXNhYmxlZDtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyhEaXNwb3NhYmxlLmZyb20oKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5tb2RlbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsZWFyKCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlbC5jbGFzc05hbWUgPSAnZHYtZHJvcC10YXJnZXQtY29udGFpbmVyJztcbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH1cbiAgICBjcmVhdGVBbmNob3IoKSB7XG4gICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9ICdkdi1kcm9wLXRhcmdldC1hbmNob3InO1xuICAgICAgICBlbC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyB0b2dnbGVDbGFzcyB9IGZyb20gJy4uL2RvbSc7XG5pbXBvcnQgeyBEb2Nrdmlld0V2ZW50LCBFbWl0dGVyIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IENvbXBvc2l0ZURpc3Bvc2FibGUgfSBmcm9tICcuLi9saWZlY3ljbGUnO1xuaW1wb3J0IHsgRHJhZ0FuZERyb3BPYnNlcnZlciB9IGZyb20gJy4vZG5kJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi4vbWF0aCc7XG5mdW5jdGlvbiBzZXRHUFVPcHRpbWl6ZWRCb3VuZHMoZWxlbWVudCwgYm91bmRzKSB7XG4gICAgY29uc3QgeyB0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQgfSA9IGJvdW5kcztcbiAgICBjb25zdCB0b3BQeCA9IGAke01hdGgucm91bmQodG9wKX1weGA7XG4gICAgY29uc3QgbGVmdFB4ID0gYCR7TWF0aC5yb3VuZChsZWZ0KX1weGA7XG4gICAgY29uc3Qgd2lkdGhQeCA9IGAke01hdGgucm91bmQod2lkdGgpfXB4YDtcbiAgICBjb25zdCBoZWlnaHRQeCA9IGAke01hdGgucm91bmQoaGVpZ2h0KX1weGA7XG4gICAgLy8gVXNlIHRyYWRpdGlvbmFsIHBvc2l0aW9uaW5nIGJ1dCBtYWludGFpbiBHUFUgbGF5ZXJcbiAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHRvcFB4O1xuICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IGxlZnRQeDtcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gd2lkdGhQeDtcbiAgICBlbGVtZW50LnN0eWxlLmhlaWdodCA9IGhlaWdodFB4O1xuICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAvLyBFbnN1cmUgR1BVIGxheWVyIGlzIG1haW50YWluZWRcbiAgICBpZiAoIWVsZW1lbnQuc3R5bGUudHJhbnNmb3JtIHx8IGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID09PSAnJykge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUzZCgwLCAwLCAwKSc7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0R1BVT3B0aW1pemVkQm91bmRzRnJvbVN0cmluZ3MoZWxlbWVudCwgYm91bmRzKSB7XG4gICAgY29uc3QgeyB0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQgfSA9IGJvdW5kcztcbiAgICAvLyBVc2UgdHJhZGl0aW9uYWwgcG9zaXRpb25pbmcgYnV0IG1haW50YWluIEdQVSBsYXllclxuICAgIGVsZW1lbnQuc3R5bGUudG9wID0gdG9wO1xuICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgZWxlbWVudC5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAvLyBFbnN1cmUgR1BVIGxheWVyIGlzIG1haW50YWluZWRcbiAgICBpZiAoIWVsZW1lbnQuc3R5bGUudHJhbnNmb3JtIHx8IGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID09PSAnJykge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGUzZCgwLCAwLCAwKSc7XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tCb3VuZHNDaGFuZ2VkKGVsZW1lbnQsIGJvdW5kcykge1xuICAgIGNvbnN0IHsgdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0IH0gPSBib3VuZHM7XG4gICAgY29uc3QgdG9wUHggPSBgJHtNYXRoLnJvdW5kKHRvcCl9cHhgO1xuICAgIGNvbnN0IGxlZnRQeCA9IGAke01hdGgucm91bmQobGVmdCl9cHhgO1xuICAgIGNvbnN0IHdpZHRoUHggPSBgJHtNYXRoLnJvdW5kKHdpZHRoKX1weGA7XG4gICAgY29uc3QgaGVpZ2h0UHggPSBgJHtNYXRoLnJvdW5kKGhlaWdodCl9cHhgO1xuICAgIC8vIENoZWNrIGlmIHBvc2l0aW9uIG9yIHNpemUgY2hhbmdlZCAoYmFjayB0byB0cmFkaXRpb25hbCBtZXRob2QpXG4gICAgcmV0dXJuIGVsZW1lbnQuc3R5bGUudG9wICE9PSB0b3BQeCB8fFxuICAgICAgICBlbGVtZW50LnN0eWxlLmxlZnQgIT09IGxlZnRQeCB8fFxuICAgICAgICBlbGVtZW50LnN0eWxlLndpZHRoICE9PSB3aWR0aFB4IHx8XG4gICAgICAgIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ICE9PSBoZWlnaHRQeDtcbn1cbmV4cG9ydCBjbGFzcyBXaWxsU2hvd092ZXJsYXlFdmVudCBleHRlbmRzIERvY2t2aWV3RXZlbnQge1xuICAgIGdldCBuYXRpdmVFdmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5uYXRpdmVFdmVudDtcbiAgICB9XG4gICAgZ2V0IHBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnBvc2l0aW9uO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGRpcmVjdGlvblRvUG9zaXRpb24oZGlyZWN0aW9uKSB7XG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgY2FzZSAnYWJvdmUnOlxuICAgICAgICAgICAgcmV0dXJuICd0b3AnO1xuICAgICAgICBjYXNlICdiZWxvdyc6XG4gICAgICAgICAgICByZXR1cm4gJ2JvdHRvbSc7XG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgcmV0dXJuICdsZWZ0JztcbiAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgICAgIGNhc2UgJ3dpdGhpbic6XG4gICAgICAgICAgICByZXR1cm4gJ2NlbnRlcic7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgZGlyZWN0aW9uICcke2RpcmVjdGlvbn0nYCk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHBvc2l0aW9uVG9EaXJlY3Rpb24ocG9zaXRpb24pIHtcbiAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICAgICAgICByZXR1cm4gJ2Fib3ZlJztcbiAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgIHJldHVybiAnYmVsb3cnO1xuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIHJldHVybiAncmlnaHQnO1xuICAgICAgICBjYXNlICdjZW50ZXInOlxuICAgICAgICAgICAgcmV0dXJuICd3aXRoaW4nO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIHBvc2l0aW9uICcke3Bvc2l0aW9ufSdgKTtcbiAgICB9XG59XG5jb25zdCBERUZBVUxUX0FDVElWQVRJT05fU0laRSA9IHtcbiAgICB2YWx1ZTogMjAsXG4gICAgdHlwZTogJ3BlcmNlbnRhZ2UnLFxufTtcbmNvbnN0IERFRkFVTFRfU0laRSA9IHtcbiAgICB2YWx1ZTogNTAsXG4gICAgdHlwZTogJ3BlcmNlbnRhZ2UnLFxufTtcbmNvbnN0IFNNQUxMX1dJRFRIX0JPVU5EQVJZID0gMTAwO1xuY29uc3QgU01BTExfSEVJR0hUX0JPVU5EQVJZID0gMTAwO1xuZXhwb3J0IGNsYXNzIERyb3B0YXJnZXQgZXh0ZW5kcyBDb21wb3NpdGVEaXNwb3NhYmxlIHtcbiAgICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNhYmxlZDtcbiAgICB9XG4gICAgc2V0IGRpc2FibGVkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuX29uRHJvcCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25Ecm9wID0gdGhpcy5fb25Ecm9wLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbldpbGxTaG93T3ZlcmxheSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25XaWxsU2hvd092ZXJsYXkgPSB0aGlzLl9vbldpbGxTaG93T3ZlcmxheS5ldmVudDtcbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gdXNlIGEgc2V0IHRvIHRha2UgYWR2YW50YWdlIG9mICM8c2V0Pi5oYXNcbiAgICAgICAgdGhpcy5fYWNjZXB0ZWRUYXJnZXRab25lc1NldCA9IG5ldyBTZXQodGhpcy5vcHRpb25zLmFjY2VwdGVkVGFyZ2V0Wm9uZXMpO1xuICAgICAgICB0aGlzLmRuZCA9IG5ldyBEcmFnQW5kRHJvcE9ic2VydmVyKHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgb25EcmFnRW50ZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgICAgICAgICAoX2MgPSAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpLmdldE92ZXJyaWRlVGFyZ2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5nZXRFbGVtZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRHJhZ092ZXI6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgICAgICAgICAgICAgIERyb3B0YXJnZXQuQUNUVUFMX1RBUkdFVCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcnJpZGVUYXJnZXQgPSAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpLmdldE92ZXJyaWRlVGFyZ2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FjY2VwdGVkVGFyZ2V0Wm9uZXNTZXQuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcnJpZGVUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZURyb3BUYXJnZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSAoX2UgPSAoX2QgPSAoX2MgPSB0aGlzLm9wdGlvbnMpLmdldE92ZXJsYXlPdXRsaW5lKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChfYykpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRhcmdldC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0YXJnZXQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgIGlmICh3aWR0aCA9PT0gMCB8fCBoZWlnaHQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBhdm9pZCBkaXYhMFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gZS5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSAoKF9mID0gZS5jbGllbnRYKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAwKSAtIHJlY3QubGVmdDtcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gKChfZyA9IGUuY2xpZW50WSkgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogMCkgLSByZWN0LnRvcDtcbiAgICAgICAgICAgICAgICBjb25zdCBxdWFkcmFudCA9IHRoaXMuY2FsY3VsYXRlUXVhZHJhbnQodGhpcy5fYWNjZXB0ZWRUYXJnZXRab25lc1NldCwgeCwgeSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogSWYgdGhlIGV2ZW50IGhhcyBhbHJlYWR5IGJlZW4gdXNlZCBieSBhbm90aGVyIERyb3BUYXJnZXQgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgKiB0aGVuIGRvbid0IHNob3cgYSBzZWNvbmQgZHJvcCB0YXJnZXQsIG9ubHkgb25lIHRhcmdldCBzaG91bGQgYmVcbiAgICAgICAgICAgICAgICAgKiBhY3RpdmUgYXQgYW55IG9uZSB0aW1lXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNBbHJlYWR5VXNlZChlKSB8fCBxdWFkcmFudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBubyBkcm9wIHRhcmdldCBzaG91bGQgYmUgZGlzcGxheWVkXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRHJvcFRhcmdldCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNhbkRpc3BsYXlPdmVybGF5KGUsIHF1YWRyYW50KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcnJpZGVUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZURyb3BUYXJnZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB3aWxsU2hvd092ZXJsYXlFdmVudCA9IG5ldyBXaWxsU2hvd092ZXJsYXlFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50OiBlLFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcXVhZHJhbnQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUHJvdmlkZSBhbiBvcHBvcnR1bml0eSB0byBwcmV2ZW50IHRoZSBvdmVybGF5IGFwcGVhcmluZyBhbmQgaW4gdHVyblxuICAgICAgICAgICAgICAgICAqIGFueSBkbmQgYmVoYXZpb3Vyc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuX29uV2lsbFNob3dPdmVybGF5LmZpcmUod2lsbFNob3dPdmVybGF5RXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmICh3aWxsU2hvd092ZXJsYXlFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRHJvcFRhcmdldCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubWFya0FzVXNlZChlKTtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcnJpZGVUYXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMudGFyZ2V0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50LmNsYXNzTmFtZSA9ICdkdi1kcm9wLXRhcmdldC1kcm9wem9uZSc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3ZlcmxheUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vdmVybGF5RWxlbWVudC5jbGFzc05hbWUgPSAnZHYtZHJvcC10YXJnZXQtc2VsZWN0aW9uJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSAnY2VudGVyJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXRFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMub3ZlcmxheUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCgnZHYtZHJvcC10YXJnZXQnKTtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmFwcGVuZCh0aGlzLnRhcmdldEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLm92ZXJsYXlFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBpZiAodGhpcy5vdmVybGF5RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRoaXMub3ZlcmxheUVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVDbGFzc2VzKHF1YWRyYW50LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IHF1YWRyYW50O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRHJhZ0xlYXZlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpLmdldE92ZXJyaWRlVGFyZ2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRHJvcFRhcmdldCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRHJhZ0VuZDogKGUpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IChfYiA9IChfYSA9IHRoaXMub3B0aW9ucykuZ2V0T3ZlcnJpZGVUYXJnZXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICYmIERyb3B0YXJnZXQuQUNUVUFMX1RBUkdFVCA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgc3RvcCB0aGUgcHJvcGFnYXRpb24gb2YgdGhlIGV2ZW50IGlmIHdlIGFyZSBkZWFsaW5nIHdpdGggaXRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIGlzIG9ubHkgd2hlbiB0aGUgdGFyZ2V0IGhhcyBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRHJvcC5maXJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5fc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQ6IGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZURyb3BUYXJnZXQoKTtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YXJnZXQuY2xlYXIoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRyb3A6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fc3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVEcm9wVGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgKF9jID0gKF9iID0gKF9hID0gdGhpcy5vcHRpb25zKS5nZXRPdmVycmlkZVRhcmdldCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSBzdG9wIHRoZSBwcm9wYWdhdGlvbiBvZiB0aGUgZXZlbnQgaWYgd2UgYXJlIGRlYWxpbmcgd2l0aCBpdFxuICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBpcyBvbmx5IHdoZW4gdGhlIHRhcmdldCBoYXMgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25Ecm9wLmZpcmUoeyBwb3NpdGlvbjogc3RhdGUsIG5hdGl2ZUV2ZW50OiBlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKHRoaXMuX29uRHJvcCwgdGhpcy5fb25XaWxsU2hvd092ZXJsYXksIHRoaXMuZG5kKTtcbiAgICB9XG4gICAgc2V0VGFyZ2V0Wm9uZXMoYWNjZXB0ZWRUYXJnZXRab25lcykge1xuICAgICAgICB0aGlzLl9hY2NlcHRlZFRhcmdldFpvbmVzU2V0ID0gbmV3IFNldChhY2NlcHRlZFRhcmdldFpvbmVzKTtcbiAgICB9XG4gICAgc2V0T3ZlcmxheU1vZGVsKG1vZGVsKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5vdmVybGF5TW9kZWwgPSBtb2RlbDtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVEcm9wVGFyZ2V0KCk7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIGEgcHJvcGVydHkgdG8gdGhlIGV2ZW50IG9iamVjdCBmb3Igb3RoZXIgcG90ZW50aWFsIGxpc3RlbmVycyB0byBjaGVja1xuICAgICAqL1xuICAgIG1hcmtBc1VzZWQoZXZlbnQpIHtcbiAgICAgICAgZXZlbnRbRHJvcHRhcmdldC5VU0VEX0VWRU5UX0lEXSA9IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlzIHRoZSBldmVudCBoYXMgYWxyZWFkeSBiZWVuIHVzZWQgYnkgYW5vdGhlciBpbnN0YW5jZSBvZiBEcm9wVGFyZ2V0XG4gICAgICovXG4gICAgaXNBbHJlYWR5VXNlZChldmVudCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGV2ZW50W0Ryb3B0YXJnZXQuVVNFRF9FVkVOVF9JRF07XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyAmJiB2YWx1ZTtcbiAgICB9XG4gICAgdG9nZ2xlQ2xhc3NlcyhxdWFkcmFudCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IChfYiA9IChfYSA9IHRoaXMub3B0aW9ucykuZ2V0T3ZlcnJpZGVUYXJnZXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgaWYgKCF0YXJnZXQgJiYgIXRoaXMub3ZlcmxheUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1NtYWxsWCA9IHdpZHRoIDwgU01BTExfV0lEVEhfQk9VTkRBUlk7XG4gICAgICAgIGNvbnN0IGlzU21hbGxZID0gaGVpZ2h0IDwgU01BTExfSEVJR0hUX0JPVU5EQVJZO1xuICAgICAgICBjb25zdCBpc0xlZnQgPSBxdWFkcmFudCA9PT0gJ2xlZnQnO1xuICAgICAgICBjb25zdCBpc1JpZ2h0ID0gcXVhZHJhbnQgPT09ICdyaWdodCc7XG4gICAgICAgIGNvbnN0IGlzVG9wID0gcXVhZHJhbnQgPT09ICd0b3AnO1xuICAgICAgICBjb25zdCBpc0JvdHRvbSA9IHF1YWRyYW50ID09PSAnYm90dG9tJztcbiAgICAgICAgY29uc3QgcmlnaHRDbGFzcyA9ICFpc1NtYWxsWCAmJiBpc1JpZ2h0O1xuICAgICAgICBjb25zdCBsZWZ0Q2xhc3MgPSAhaXNTbWFsbFggJiYgaXNMZWZ0O1xuICAgICAgICBjb25zdCB0b3BDbGFzcyA9ICFpc1NtYWxsWSAmJiBpc1RvcDtcbiAgICAgICAgY29uc3QgYm90dG9tQ2xhc3MgPSAhaXNTbWFsbFkgJiYgaXNCb3R0b207XG4gICAgICAgIGxldCBzaXplID0gMTtcbiAgICAgICAgY29uc3Qgc2l6ZU9wdGlvbnMgPSAoX2QgPSAoX2MgPSB0aGlzLm9wdGlvbnMub3ZlcmxheU1vZGVsKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Muc2l6ZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogREVGQVVMVF9TSVpFO1xuICAgICAgICBpZiAoc2l6ZU9wdGlvbnMudHlwZSA9PT0gJ3BlcmNlbnRhZ2UnKSB7XG4gICAgICAgICAgICBzaXplID0gY2xhbXAoc2l6ZU9wdGlvbnMudmFsdWUsIDAsIDEwMCkgLyAxMDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocmlnaHRDbGFzcyB8fCBsZWZ0Q2xhc3MpIHtcbiAgICAgICAgICAgICAgICBzaXplID0gY2xhbXAoMCwgc2l6ZU9wdGlvbnMudmFsdWUsIHdpZHRoKSAvIHdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvcENsYXNzIHx8IGJvdHRvbUNsYXNzKSB7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IGNsYW1wKDAsIHNpemVPcHRpb25zLnZhbHVlLCBoZWlnaHQpIC8gaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dGxpbmVFbCA9IChfZyA9IChfZiA9IChfZSA9IHRoaXMub3B0aW9ucykuZ2V0T3ZlcmxheU91dGxpbmUpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKF9lKSkgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgZWxCb3ggPSBvdXRsaW5lRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBjb25zdCB0YSA9IHRhcmdldC5nZXRFbGVtZW50cyh1bmRlZmluZWQsIG91dGxpbmVFbCk7XG4gICAgICAgICAgICBjb25zdCBlbCA9IHRhLnJvb3Q7XG4gICAgICAgICAgICBjb25zdCBvdmVybGF5ID0gdGEub3ZlcmxheTtcbiAgICAgICAgICAgIGNvbnN0IGJpZ2JveCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3Qgcm9vdFRvcCA9IGVsQm94LnRvcCAtIGJpZ2JveC50b3A7XG4gICAgICAgICAgICBjb25zdCByb290TGVmdCA9IGVsQm94LmxlZnQgLSBiaWdib3gubGVmdDtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IHtcbiAgICAgICAgICAgICAgICB0b3A6IHJvb3RUb3AsXG4gICAgICAgICAgICAgICAgbGVmdDogcm9vdExlZnQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChyaWdodENsYXNzKSB7XG4gICAgICAgICAgICAgICAgYm94LmxlZnQgPSByb290TGVmdCArIHdpZHRoICogKDEgLSBzaXplKTtcbiAgICAgICAgICAgICAgICBib3gud2lkdGggPSB3aWR0aCAqIHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsZWZ0Q2xhc3MpIHtcbiAgICAgICAgICAgICAgICBib3gud2lkdGggPSB3aWR0aCAqIHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0b3BDbGFzcykge1xuICAgICAgICAgICAgICAgIGJveC5oZWlnaHQgPSBoZWlnaHQgKiBzaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYm90dG9tQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICBib3gudG9wID0gcm9vdFRvcCArIGhlaWdodCAqICgxIC0gc2l6ZSk7XG4gICAgICAgICAgICAgICAgYm94LmhlaWdodCA9IGhlaWdodCAqIHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNTbWFsbFggJiYgaXNMZWZ0KSB7XG4gICAgICAgICAgICAgICAgYm94LndpZHRoID0gNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1NtYWxsWCAmJiBpc1JpZ2h0KSB7XG4gICAgICAgICAgICAgICAgYm94LmxlZnQgPSByb290TGVmdCArIHdpZHRoIC0gNDtcbiAgICAgICAgICAgICAgICBib3gud2lkdGggPSA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXNlIEdQVS1vcHRpbWl6ZWQgYm91bmRzIGNoZWNraW5nIGFuZCBzZXR0aW5nXG4gICAgICAgICAgICBpZiAoIWNoZWNrQm91bmRzQ2hhbmdlZChvdmVybGF5LCBib3gpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0R1BVT3B0aW1pemVkQm91bmRzKG92ZXJsYXksIGJveCk7XG4gICAgICAgICAgICBvdmVybGF5LmNsYXNzTmFtZSA9IGBkdi1kcm9wLXRhcmdldC1hbmNob3Ike3RoaXMub3B0aW9ucy5jbGFzc05hbWUgPyBgICR7dGhpcy5vcHRpb25zLmNsYXNzTmFtZX1gIDogJyd9YDtcbiAgICAgICAgICAgIHRvZ2dsZUNsYXNzKG92ZXJsYXksICdkdi1kcm9wLXRhcmdldC1sZWZ0JywgaXNMZWZ0KTtcbiAgICAgICAgICAgIHRvZ2dsZUNsYXNzKG92ZXJsYXksICdkdi1kcm9wLXRhcmdldC1yaWdodCcsIGlzUmlnaHQpO1xuICAgICAgICAgICAgdG9nZ2xlQ2xhc3Mob3ZlcmxheSwgJ2R2LWRyb3AtdGFyZ2V0LXRvcCcsIGlzVG9wKTtcbiAgICAgICAgICAgIHRvZ2dsZUNsYXNzKG92ZXJsYXksICdkdi1kcm9wLXRhcmdldC1ib3R0b20nLCBpc0JvdHRvbSk7XG4gICAgICAgICAgICB0b2dnbGVDbGFzcyhvdmVybGF5LCAnZHYtZHJvcC10YXJnZXQtY2VudGVyJywgcXVhZHJhbnQgPT09ICdjZW50ZXInKTtcbiAgICAgICAgICAgIGlmICh0YS5jaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQ2xhc3Mob3ZlcmxheSwgJ2R2LWRyb3AtdGFyZ2V0LWFuY2hvci1jb250YWluZXItY2hhbmdlZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVDbGFzcyhvdmVybGF5LCAnZHYtZHJvcC10YXJnZXQtYW5jaG9yLWNvbnRhaW5lci1jaGFuZ2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMub3ZlcmxheUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBib3ggPSB7IHRvcDogJzBweCcsIGxlZnQ6ICcwcHgnLCB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICcxMDAlJyB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogWW91IGNhbiBhbHNvIGFjaGlldmUgdGhlIG92ZXJsYXkgcGxhY2VtZW50IHVzaW5nIHRoZSB0cmFuc2Zvcm0gQ1NTIHByb3BlcnR5XG4gICAgICAgICAqIHRvIHRyYW5zbGF0ZSBhbmQgc2NhbGUgdGhlIGVsZW1lbnQgaG93ZXZlciB0aGlzIGhhcyB0aGUgdW5kZXNpcmVkIGVmZmVjdCBvZlxuICAgICAgICAgKiAnc2tld2luZycgdGhlIGVsZW1lbnQuIENvbW1lbnQgbGVmdCBoZXJlIGZvciBhbnlib2R5IHRoYXQgZXZlciByZXZpc2l0cyB0aGlzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0NTUy90cmFuc2Zvcm1cbiAgICAgICAgICpcbiAgICAgICAgICogcmlnaHRcbiAgICAgICAgICogdHJhbnNsYXRlWCgkezEwMCAqICgxIC0gc2l6ZSkgLyAyfSUpIHNjYWxlWCgke3NjYWxlfSlcbiAgICAgICAgICpcbiAgICAgICAgICogbGVmdFxuICAgICAgICAgKiB0cmFuc2xhdGVYKC0kezEwMCAqICgxIC0gc2l6ZSkgLyAyfSUpIHNjYWxlWCgke3NjYWxlfSlcbiAgICAgICAgICpcbiAgICAgICAgICogdG9wXG4gICAgICAgICAqIHRyYW5zbGF0ZVkoLSR7MTAwICogKDEgLSBzaXplKSAvIDJ9JSkgc2NhbGVZKCR7c2NhbGV9KVxuICAgICAgICAgKlxuICAgICAgICAgKiBib3R0b21cbiAgICAgICAgICogdHJhbnNsYXRlWSgkezEwMCAqICgxIC0gc2l6ZSkgLyAyfSUpIHNjYWxlWSgke3NjYWxlfSlcbiAgICAgICAgICovXG4gICAgICAgIGlmIChyaWdodENsYXNzKSB7XG4gICAgICAgICAgICBib3gubGVmdCA9IGAkezEwMCAqICgxIC0gc2l6ZSl9JWA7XG4gICAgICAgICAgICBib3gud2lkdGggPSBgJHsxMDAgKiBzaXplfSVgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxlZnRDbGFzcykge1xuICAgICAgICAgICAgYm94LndpZHRoID0gYCR7MTAwICogc2l6ZX0lYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b3BDbGFzcykge1xuICAgICAgICAgICAgYm94LmhlaWdodCA9IGAkezEwMCAqIHNpemV9JWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYm90dG9tQ2xhc3MpIHtcbiAgICAgICAgICAgIGJveC50b3AgPSBgJHsxMDAgKiAoMSAtIHNpemUpfSVgO1xuICAgICAgICAgICAgYm94LmhlaWdodCA9IGAkezEwMCAqIHNpemV9JWA7XG4gICAgICAgIH1cbiAgICAgICAgc2V0R1BVT3B0aW1pemVkQm91bmRzRnJvbVN0cmluZ3ModGhpcy5vdmVybGF5RWxlbWVudCwgYm94KTtcbiAgICAgICAgdG9nZ2xlQ2xhc3ModGhpcy5vdmVybGF5RWxlbWVudCwgJ2R2LWRyb3AtdGFyZ2V0LXNtYWxsLXZlcnRpY2FsJywgaXNTbWFsbFkpO1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLm92ZXJsYXlFbGVtZW50LCAnZHYtZHJvcC10YXJnZXQtc21hbGwtaG9yaXpvbnRhbCcsIGlzU21hbGxYKTtcbiAgICAgICAgdG9nZ2xlQ2xhc3ModGhpcy5vdmVybGF5RWxlbWVudCwgJ2R2LWRyb3AtdGFyZ2V0LWxlZnQnLCBpc0xlZnQpO1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLm92ZXJsYXlFbGVtZW50LCAnZHYtZHJvcC10YXJnZXQtcmlnaHQnLCBpc1JpZ2h0KTtcbiAgICAgICAgdG9nZ2xlQ2xhc3ModGhpcy5vdmVybGF5RWxlbWVudCwgJ2R2LWRyb3AtdGFyZ2V0LXRvcCcsIGlzVG9wKTtcbiAgICAgICAgdG9nZ2xlQ2xhc3ModGhpcy5vdmVybGF5RWxlbWVudCwgJ2R2LWRyb3AtdGFyZ2V0LWJvdHRvbScsIGlzQm90dG9tKTtcbiAgICAgICAgdG9nZ2xlQ2xhc3ModGhpcy5vdmVybGF5RWxlbWVudCwgJ2R2LWRyb3AtdGFyZ2V0LWNlbnRlcicsIHF1YWRyYW50ID09PSAnY2VudGVyJyk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZVF1YWRyYW50KG92ZXJsYXlUeXBlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGFjdGl2YXRpb25TaXplT3B0aW9ucyA9IChfYiA9IChfYSA9IHRoaXMub3B0aW9ucy5vdmVybGF5TW9kZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hY3RpdmF0aW9uU2l6ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogREVGQVVMVF9BQ1RJVkFUSU9OX1NJWkU7XG4gICAgICAgIGNvbnN0IGlzUGVyY2VudGFnZSA9IGFjdGl2YXRpb25TaXplT3B0aW9ucy50eXBlID09PSAncGVyY2VudGFnZSc7XG4gICAgICAgIGlmIChpc1BlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVRdWFkcmFudEFzUGVyY2VudGFnZShvdmVybGF5VHlwZSwgeCwgeSwgd2lkdGgsIGhlaWdodCwgYWN0aXZhdGlvblNpemVPcHRpb25zLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2FsY3VsYXRlUXVhZHJhbnRBc1BpeGVscyhvdmVybGF5VHlwZSwgeCwgeSwgd2lkdGgsIGhlaWdodCwgYWN0aXZhdGlvblNpemVPcHRpb25zLnZhbHVlKTtcbiAgICB9XG4gICAgcmVtb3ZlRHJvcFRhcmdldCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy50YXJnZXRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIChfYSA9IHRoaXMudGFyZ2V0RWxlbWVudC5wYXJlbnRFbGVtZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LnJlbW92ZSgnZHYtZHJvcC10YXJnZXQnKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0RWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheUVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5Ecm9wdGFyZ2V0LlVTRURfRVZFTlRfSUQgPSAnX19kb2Nrdmlld19kcm9wdGFyZ2V0X2V2ZW50X2lzX3VzZWRfXyc7XG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlUXVhZHJhbnRBc1BlcmNlbnRhZ2Uob3ZlcmxheVR5cGUsIHgsIHksIHdpZHRoLCBoZWlnaHQsIHRocmVzaG9sZCkge1xuICAgIGNvbnN0IHhwID0gKDEwMCAqIHgpIC8gd2lkdGg7XG4gICAgY29uc3QgeXAgPSAoMTAwICogeSkgLyBoZWlnaHQ7XG4gICAgaWYgKG92ZXJsYXlUeXBlLmhhcygnbGVmdCcpICYmIHhwIDwgdGhyZXNob2xkKSB7XG4gICAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgfVxuICAgIGlmIChvdmVybGF5VHlwZS5oYXMoJ3JpZ2h0JykgJiYgeHAgPiAxMDAgLSB0aHJlc2hvbGQpIHtcbiAgICAgICAgcmV0dXJuICdyaWdodCc7XG4gICAgfVxuICAgIGlmIChvdmVybGF5VHlwZS5oYXMoJ3RvcCcpICYmIHlwIDwgdGhyZXNob2xkKSB7XG4gICAgICAgIHJldHVybiAndG9wJztcbiAgICB9XG4gICAgaWYgKG92ZXJsYXlUeXBlLmhhcygnYm90dG9tJykgJiYgeXAgPiAxMDAgLSB0aHJlc2hvbGQpIHtcbiAgICAgICAgcmV0dXJuICdib3R0b20nO1xuICAgIH1cbiAgICBpZiAoIW92ZXJsYXlUeXBlLmhhcygnY2VudGVyJykpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAnY2VudGVyJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVRdWFkcmFudEFzUGl4ZWxzKG92ZXJsYXlUeXBlLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCB0aHJlc2hvbGQpIHtcbiAgICBpZiAob3ZlcmxheVR5cGUuaGFzKCdsZWZ0JykgJiYgeCA8IHRocmVzaG9sZCkge1xuICAgICAgICByZXR1cm4gJ2xlZnQnO1xuICAgIH1cbiAgICBpZiAob3ZlcmxheVR5cGUuaGFzKCdyaWdodCcpICYmIHggPiB3aWR0aCAtIHRocmVzaG9sZCkge1xuICAgICAgICByZXR1cm4gJ3JpZ2h0JztcbiAgICB9XG4gICAgaWYgKG92ZXJsYXlUeXBlLmhhcygndG9wJykgJiYgeSA8IHRocmVzaG9sZCkge1xuICAgICAgICByZXR1cm4gJ3RvcCc7XG4gICAgfVxuICAgIGlmIChvdmVybGF5VHlwZS5oYXMoJ2JvdHRvbScpICYmIHkgPiBoZWlnaHQgLSB0aHJlc2hvbGQpIHtcbiAgICAgICAgcmV0dXJuICdib3R0b20nO1xuICAgIH1cbiAgICBpZiAoIW92ZXJsYXlUeXBlLmhhcygnY2VudGVyJykpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAnY2VudGVyJztcbn1cbiIsImltcG9ydCB7IGFkZENsYXNzZXMsIHJlbW92ZUNsYXNzZXMgfSBmcm9tICcuLi9kb20nO1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEdob3N0SW1hZ2UoZGF0YVRyYW5zZmVyLCBnaG9zdEVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIC8vIGNsYXNzIGRvY2t2aWV3IHByb3ZpZGVzIHRvIGZvcmNlIGdob3N0IGltYWdlIHRvIGJlIGRyYXduIG9uIGEgZGlmZmVyZW50IGxheWVyIGFuZCBwcmV2ZW50IHdlaXJkIHJlbmRlcmluZyBpc3N1ZXNcbiAgICBhZGRDbGFzc2VzKGdob3N0RWxlbWVudCwgJ2R2LWRyYWdnZWQnKTtcbiAgICAvLyBtb3ZlIHRoZSBlbGVtZW50IG9mZi1zY3JlZW4gaW5pdGlhbGx5IG90aGVyd2lzZSBpdCBtYXkgaW4gc29tZSBjYXNlcyBiZSByZW5kZXJlZCBhdCAoMCwwKSBtb21lbnRhcmlseVxuICAgIGdob3N0RWxlbWVudC5zdHlsZS50b3AgPSAnLTk5OTlweCc7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnaG9zdEVsZW1lbnQpO1xuICAgIGRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UoZ2hvc3RFbGVtZW50LCAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMueCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCwgKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDApO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZW1vdmVDbGFzc2VzKGdob3N0RWxlbWVudCwgJ2R2LWRyYWdnZWQnKTtcbiAgICAgICAgZ2hvc3RFbGVtZW50LnJlbW92ZSgpO1xuICAgIH0sIDApO1xufVxuIiwiaW1wb3J0IHsgcXVhc2lQcmV2ZW50RGVmYXVsdCB9IGZyb20gJy4uL2RvbSc7XG5pbXBvcnQgeyBhZGREaXNwb3NhYmxlTGlzdGVuZXIgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgRHJhZ0hhbmRsZXIgfSBmcm9tICcuL2Fic3RyYWN0RHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgTG9jYWxTZWxlY3Rpb25UcmFuc2ZlciwgUGFuZWxUcmFuc2ZlciB9IGZyb20gJy4vZGF0YVRyYW5zZmVyJztcbmltcG9ydCB7IGFkZEdob3N0SW1hZ2UgfSBmcm9tICcuL2dob3N0JztcbmV4cG9ydCBjbGFzcyBHcm91cERyYWdIYW5kbGVyIGV4dGVuZHMgRHJhZ0hhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGFjY2Vzc29yLCBncm91cCkge1xuICAgICAgICBzdXBlcihlbGVtZW50KTtcbiAgICAgICAgdGhpcy5hY2Nlc3NvciA9IGFjY2Vzc29yO1xuICAgICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIHRoaXMucGFuZWxUcmFuc2ZlciA9IExvY2FsU2VsZWN0aW9uVHJhbnNmZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyhhZGREaXNwb3NhYmxlTGlzdGVuZXIoZWxlbWVudCwgJ3BvaW50ZXJkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogWW91IGNhbm5vdCBjYWxsIGUucHJldmVudERlZmF1bHQoKSBiZWNhdXNlIHRoYXQgd2lsbCBwcmV2ZW50IGRyYWcgZXZlbnRzIGZyb20gZmlyaW5nXG4gICAgICAgICAgICAgICAgICogYnV0IHdlIGFsc28gbmVlZCB0byBzdG9wIGFueSBncm91cCBvdmVybGF5IGRyYWcgZXZlbnRzIGZyb20gb2NjdXJpbmdcbiAgICAgICAgICAgICAgICAgKiBVc2UgYSBjdXN0b20gZXZlbnQgbWFya2VyIHRoYXQgY2FuIGJlIGNoZWNrZWQgYnkgdGhlIG92ZXJsYXkgZHJhZyBldmVudHNcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBxdWFzaVByZXZlbnREZWZhdWx0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0cnVlKSk7XG4gICAgfVxuICAgIGlzQ2FuY2VsbGVkKF9ldmVudCkge1xuICAgICAgICBpZiAodGhpcy5ncm91cC5hcGkubG9jYXRpb24udHlwZSA9PT0gJ2Zsb2F0aW5nJyAmJiAhX2V2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGdldERhdGEoZHJhZ0V2ZW50KSB7XG4gICAgICAgIGNvbnN0IGRhdGFUcmFuc2ZlciA9IGRyYWdFdmVudC5kYXRhVHJhbnNmZXI7XG4gICAgICAgIHRoaXMucGFuZWxUcmFuc2Zlci5zZXREYXRhKFtuZXcgUGFuZWxUcmFuc2Zlcih0aGlzLmFjY2Vzc29yLmlkLCB0aGlzLmdyb3VwLmlkLCBudWxsKV0sIFBhbmVsVHJhbnNmZXIucHJvdG90eXBlKTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsKTtcbiAgICAgICAgY29uc3QgYmdDb2xvciA9IHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0tZHYtYWN0aXZlZ3JvdXAtdmlzaWJsZXBhbmVsLXRhYi1iYWNrZ3JvdW5kLWNvbG9yJyk7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLS1kdi1hY3RpdmVncm91cC12aXNpYmxlcGFuZWwtdGFiLWNvbG9yJyk7XG4gICAgICAgIGlmIChkYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGdob3N0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZ2hvc3RFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJnQ29sb3I7XG4gICAgICAgICAgICBnaG9zdEVsZW1lbnQuc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgIGdob3N0RWxlbWVudC5zdHlsZS5wYWRkaW5nID0gJzJweCA4cHgnO1xuICAgICAgICAgICAgZ2hvc3RFbGVtZW50LnN0eWxlLmhlaWdodCA9ICcyNHB4JztcbiAgICAgICAgICAgIGdob3N0RWxlbWVudC5zdHlsZS5mb250U2l6ZSA9ICcxMXB4JztcbiAgICAgICAgICAgIGdob3N0RWxlbWVudC5zdHlsZS5saW5lSGVpZ2h0ID0gJzIwcHgnO1xuICAgICAgICAgICAgZ2hvc3RFbGVtZW50LnN0eWxlLmJvcmRlclJhZGl1cyA9ICcxMnB4JztcbiAgICAgICAgICAgIGdob3N0RWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBnaG9zdEVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgICAgIGdob3N0RWxlbWVudC5zdHlsZS50b3AgPSAnLTk5OTlweCc7XG4gICAgICAgICAgICBnaG9zdEVsZW1lbnQudGV4dENvbnRlbnQgPSBgTXVsdGlwbGUgUGFuZWxzICgke3RoaXMuZ3JvdXAuc2l6ZX0pYDtcbiAgICAgICAgICAgIGFkZEdob3N0SW1hZ2UoZGF0YVRyYW5zZmVyLCBnaG9zdEVsZW1lbnQsIHsgeTogLTEwLCB4OiAzMCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucGFuZWxUcmFuc2Zlci5jbGVhckRhdGEoUGFuZWxUcmFuc2Zlci5wcm90b3R5cGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb3NpdGVEaXNwb3NhYmxlLCBNdXRhYmxlRGlzcG9zYWJsZSwgfSBmcm9tICcuLi8uLi8uLi9saWZlY3ljbGUnO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uLy4uLy4uL2V2ZW50cyc7XG5pbXBvcnQgeyB0cmFja0ZvY3VzIH0gZnJvbSAnLi4vLi4vLi4vZG9tJztcbmltcG9ydCB7IERyb3B0YXJnZXQgfSBmcm9tICcuLi8uLi8uLi9kbmQvZHJvcHRhcmdldCc7XG5pbXBvcnQgeyBnZXRQYW5lbERhdGEgfSBmcm9tICcuLi8uLi8uLi9kbmQvZGF0YVRyYW5zZmVyJztcbmV4cG9ydCBjbGFzcyBDb250ZW50Q29udGFpbmVyIGV4dGVuZHMgQ29tcG9zaXRlRGlzcG9zYWJsZSB7XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihhY2Nlc3NvciwgZ3JvdXApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hY2Nlc3NvciA9IGFjY2Vzc29yO1xuICAgICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZSA9IG5ldyBNdXRhYmxlRGlzcG9zYWJsZSgpO1xuICAgICAgICB0aGlzLl9vbkRpZEZvY3VzID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZEZvY3VzID0gdGhpcy5fb25EaWRGb2N1cy5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRCbHVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZEJsdXIgPSB0aGlzLl9vbkRpZEJsdXIuZXZlbnQ7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc05hbWUgPSAnZHYtY29udGVudC1jb250YWluZXInO1xuICAgICAgICB0aGlzLl9lbGVtZW50LnRhYkluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fb25EaWRGb2N1cywgdGhpcy5fb25EaWRCbHVyKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZ3JvdXAuZHJvcFRhcmdldENvbnRhaW5lcjtcbiAgICAgICAgdGhpcy5kcm9wVGFyZ2V0ID0gbmV3IERyb3B0YXJnZXQodGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBnZXRPdmVybGF5T3V0bGluZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKChfYSA9IGFjY2Vzc29yLm9wdGlvbnMudGhlbWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kbmRQYW5lbE92ZXJsYXkpID09PSAnZ3JvdXAnXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2R2LWRyb3AtdGFyZ2V0LWNvbnRlbnQnLFxuICAgICAgICAgICAgYWNjZXB0ZWRUYXJnZXRab25lczogWyd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnLCAnY2VudGVyJ10sXG4gICAgICAgICAgICBjYW5EaXNwbGF5T3ZlcmxheTogKGV2ZW50LCBwb3NpdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdyb3VwLmxvY2tlZCA9PT0gJ25vLWRyb3AtdGFyZ2V0JyB8fFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5ncm91cC5sb2NrZWQgJiYgcG9zaXRpb24gPT09ICdjZW50ZXInKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBnZXRQYW5lbERhdGEoKTtcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEgJiZcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc2hpZnRLZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncm91cC5sb2NhdGlvbi50eXBlICE9PSAnZmxvYXRpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS52aWV3SWQgPT09IHRoaXMuYWNjZXNzb3IuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyb3VwLmNhbkRpc3BsYXlPdmVybGF5KGV2ZW50LCBwb3NpdGlvbiwgJ2NvbnRlbnQnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRPdmVycmlkZVRhcmdldDogdGFyZ2V0ID8gKCkgPT4gdGFyZ2V0Lm1vZGVsIDogdW5kZWZpbmVkLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyh0aGlzLmRyb3BUYXJnZXQpO1xuICAgIH1cbiAgICBzaG93KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIH1cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgcmVuZGVyUGFuZWwocGFuZWwsIG9wdGlvbnMgPSB7IGFzQWN0aXZlOiB0cnVlIH0pIHtcbiAgICAgICAgY29uc3QgZG9SZW5kZXIgPSBvcHRpb25zLmFzQWN0aXZlIHx8XG4gICAgICAgICAgICAodGhpcy5wYW5lbCAmJiB0aGlzLmdyb3VwLmlzUGFuZWxBY3RpdmUodGhpcy5wYW5lbCkpO1xuICAgICAgICBpZiAodGhpcy5wYW5lbCAmJlxuICAgICAgICAgICAgdGhpcy5wYW5lbC52aWV3LmNvbnRlbnQuZWxlbWVudC5wYXJlbnRFbGVtZW50ID09PSB0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRoZSBjdXJyZW50bHkgYXR0YWNoZWQgcGFuZWwgaXMgbW91bnRlZCBkaXJlY3RseSB0byB0aGUgY29udGVudCB0aGVuIHJlbW92ZSBpdFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMucGFuZWwudmlldy5jb250ZW50LmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFuZWwgPSBwYW5lbDtcbiAgICAgICAgbGV0IGNvbnRhaW5lcjtcbiAgICAgICAgc3dpdGNoIChwYW5lbC5hcGkucmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGNhc2UgJ29ubHlXaGVuVmlzaWJsZSc6XG4gICAgICAgICAgICAgICAgdGhpcy5ncm91cC5yZW5kZXJDb250YWluZXIuZGV0YXRjaChwYW5lbCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFuZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMucGFuZWwudmlldy5jb250ZW50LmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IHRoaXMuX2VsZW1lbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdhbHdheXMnOlxuICAgICAgICAgICAgICAgIGlmIChwYW5lbC52aWV3LmNvbnRlbnQuZWxlbWVudC5wYXJlbnRFbGVtZW50ID09PSB0aGlzLl9lbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlQ2hpbGQocGFuZWwudmlldy5jb250ZW50LmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250YWluZXIgPSB0aGlzLmdyb3VwLnJlbmRlckNvbnRhaW5lci5hdHRhY2goe1xuICAgICAgICAgICAgICAgICAgICBwYW5lbCxcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlQ29udGFpbmVyOiB0aGlzLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGRvY2t2aWV3OiBpbnZhbGlkIHJlbmRlcmVyIHR5cGUgJyR7cGFuZWwuYXBpLnJlbmRlcmVyfSdgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9SZW5kZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGZvY3VzVHJhY2tlciA9IHRyYWNrRm9jdXMoY29udGFpbmVyKTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3Bvc2FibGUgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZSgpO1xuICAgICAgICAgICAgZGlzcG9zYWJsZS5hZGREaXNwb3NhYmxlcyhmb2N1c1RyYWNrZXIsIGZvY3VzVHJhY2tlci5vbkRpZEZvY3VzKCgpID0+IHRoaXMuX29uRGlkRm9jdXMuZmlyZSgpKSwgZm9jdXNUcmFja2VyLm9uRGlkQmx1cigoKSA9PiB0aGlzLl9vbkRpZEJsdXIuZmlyZSgpKSk7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2FibGUudmFsdWUgPSBkaXNwb3NhYmxlO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9wZW5QYW5lbChwYW5lbCkge1xuICAgICAgICBpZiAodGhpcy5wYW5lbCA9PT0gcGFuZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbmRlclBhbmVsKHBhbmVsKTtcbiAgICB9XG4gICAgbGF5b3V0KF93aWR0aCwgX2hlaWdodCkge1xuICAgICAgICAvLyBub29wXG4gICAgfVxuICAgIGNsb3NlUGFuZWwoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMucGFuZWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhbmVsLmFwaS5yZW5kZXJlciA9PT0gJ29ubHlXaGVuVmlzaWJsZScpIHtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLnBhbmVsLnZpZXcuY29udGVudC5lbGVtZW50LnBhcmVudEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZCh0aGlzLnBhbmVsLnZpZXcuY29udGVudC5lbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhbmVsID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgc2hpZnRBYnNvbHV0ZUVsZW1lbnRJbnRvVmlldyB9IGZyb20gJy4uLy4uL2RvbSc7XG5pbXBvcnQgeyBhZGREaXNwb3NhYmxlTGlzdGVuZXIgfSBmcm9tICcuLi8uLi9ldmVudHMnO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSwgRGlzcG9zYWJsZSwgTXV0YWJsZURpc3Bvc2FibGUsIH0gZnJvbSAnLi4vLi4vbGlmZWN5Y2xlJztcbmV4cG9ydCBjbGFzcyBQb3B1cFNlcnZpY2UgZXh0ZW5kcyBDb21wb3NpdGVEaXNwb3NhYmxlIHtcbiAgICBjb25zdHJ1Y3Rvcihyb290KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2ZURpc3Bvc2FibGUgPSBuZXcgTXV0YWJsZURpc3Bvc2FibGUoKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTmFtZSA9ICdkdi1wb3BvdmVyLWFuY2hvcic7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgICAgICB0aGlzLnJvb3QucHJlcGVuZCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyhEaXNwb3NhYmxlLmZyb20oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9KSwgdGhpcy5fYWN0aXZlRGlzcG9zYWJsZSk7XG4gICAgfVxuICAgIG9wZW5Qb3BvdmVyKGVsZW1lbnQsIHBvc2l0aW9uKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHdyYXBwZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICB3cmFwcGVyLnN0eWxlLnpJbmRleCA9IChfYSA9IHBvc2l0aW9uLnpJbmRleCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ3ZhcigtLWR2LW92ZXJsYXktei1pbmRleCknO1xuICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICBjb25zdCBhbmNob3JCb3ggPSB0aGlzLl9lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBvZmZzZXRYID0gYW5jaG9yQm94LmxlZnQ7XG4gICAgICAgIGNvbnN0IG9mZnNldFkgPSBhbmNob3JCb3gudG9wO1xuICAgICAgICB3cmFwcGVyLnN0eWxlLnRvcCA9IGAke3Bvc2l0aW9uLnkgLSBvZmZzZXRZfXB4YDtcbiAgICAgICAgd3JhcHBlci5zdHlsZS5sZWZ0ID0gYCR7cG9zaXRpb24ueCAtIG9mZnNldFh9cHhgO1xuICAgICAgICB0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSB3cmFwcGVyO1xuICAgICAgICB0aGlzLl9hY3RpdmVEaXNwb3NhYmxlLnZhbHVlID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUoYWRkRGlzcG9zYWJsZUxpc3RlbmVyKHdpbmRvdywgJ3BvaW50ZXJkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZWwgPSB0YXJnZXQ7XG4gICAgICAgICAgICB3aGlsZSAoZWwgJiYgZWwgIT09IHdyYXBwZXIpIHtcbiAgICAgICAgICAgICAgICBlbCA9IChfYSA9IGVsID09PSBudWxsIHx8IGVsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbC5wYXJlbnRFbGVtZW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBjbGlja2VkIHdpdGhpbiBwb3BvdmVyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHNoaWZ0QWJzb2x1dGVFbGVtZW50SW50b1ZpZXcod3JhcHBlciwgdGhpcy5yb290KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmUucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVEaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb3NpdGVEaXNwb3NhYmxlIH0gZnJvbSAnLi4vLi4vLi4vbGlmZWN5Y2xlJztcbmltcG9ydCB7IGFkZERpc3Bvc2FibGVMaXN0ZW5lciB9IGZyb20gJy4uLy4uLy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBjcmVhdGVDbG9zZUJ1dHRvbiB9IGZyb20gJy4uLy4uLy4uL3N2Zyc7XG5leHBvcnQgY2xhc3MgRGVmYXVsdFRhYiBleHRlbmRzIENvbXBvc2l0ZURpc3Bvc2FibGUge1xuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc05hbWUgPSAnZHYtZGVmYXVsdC10YWInO1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuX2NvbnRlbnQuY2xhc3NOYW1lID0gJ2R2LWRlZmF1bHQtdGFiLWNvbnRlbnQnO1xuICAgICAgICB0aGlzLmFjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmFjdGlvbi5jbGFzc05hbWUgPSAnZHYtZGVmYXVsdC10YWItYWN0aW9uJztcbiAgICAgICAgdGhpcy5hY3Rpb24uYXBwZW5kQ2hpbGQoY3JlYXRlQ2xvc2VCdXR0b24oKSk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fY29udGVudCk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5hY3Rpb24pO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgICBpbml0KHBhcmFtcykge1xuICAgICAgICB0aGlzLl90aXRsZSA9IHBhcmFtcy50aXRsZTtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyhwYXJhbXMuYXBpLm9uRGlkVGl0bGVDaGFuZ2UoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl90aXRsZSA9IGV2ZW50LnRpdGxlO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgfSksIGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLmFjdGlvbiwgJ3BvaW50ZXJkb3duJywgKGV2KSA9PiB7XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KSwgYWRkRGlzcG9zYWJsZUxpc3RlbmVyKHRoaXMuYWN0aW9uLCAnY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgIGlmIChldi5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHBhcmFtcy5hcGkuY2xvc2UoKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQudGV4dENvbnRlbnQgIT09IHRoaXMuX3RpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLl9jb250ZW50LnRleHRDb250ZW50ID0gKF9hID0gdGhpcy5fdGl0bGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgYWRkRGlzcG9zYWJsZUxpc3RlbmVyLCBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vZXZlbnRzJztcbmltcG9ydCB7IENvbXBvc2l0ZURpc3Bvc2FibGUgfSBmcm9tICcuLi8uLi8uLi9saWZlY3ljbGUnO1xuaW1wb3J0IHsgZ2V0UGFuZWxEYXRhLCBMb2NhbFNlbGVjdGlvblRyYW5zZmVyLCBQYW5lbFRyYW5zZmVyLCB9IGZyb20gJy4uLy4uLy4uL2RuZC9kYXRhVHJhbnNmZXInO1xuaW1wb3J0IHsgdG9nZ2xlQ2xhc3MgfSBmcm9tICcuLi8uLi8uLi9kb20nO1xuaW1wb3J0IHsgRHJvcHRhcmdldCwgfSBmcm9tICcuLi8uLi8uLi9kbmQvZHJvcHRhcmdldCc7XG5pbXBvcnQgeyBEcmFnSGFuZGxlciB9IGZyb20gJy4uLy4uLy4uL2RuZC9hYnN0cmFjdERyYWdIYW5kbGVyJztcbmltcG9ydCB7IGFkZEdob3N0SW1hZ2UgfSBmcm9tICcuLi8uLi8uLi9kbmQvZ2hvc3QnO1xuY2xhc3MgVGFiRHJhZ0hhbmRsZXIgZXh0ZW5kcyBEcmFnSGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgYWNjZXNzb3IsIGdyb3VwLCBwYW5lbCkge1xuICAgICAgICBzdXBlcihlbGVtZW50KTtcbiAgICAgICAgdGhpcy5hY2Nlc3NvciA9IGFjY2Vzc29yO1xuICAgICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIHRoaXMucGFuZWwgPSBwYW5lbDtcbiAgICAgICAgdGhpcy5wYW5lbFRyYW5zZmVyID0gTG9jYWxTZWxlY3Rpb25UcmFuc2Zlci5nZXRJbnN0YW5jZSgpO1xuICAgIH1cbiAgICBnZXREYXRhKGV2ZW50KSB7XG4gICAgICAgIHRoaXMucGFuZWxUcmFuc2Zlci5zZXREYXRhKFtuZXcgUGFuZWxUcmFuc2Zlcih0aGlzLmFjY2Vzc29yLmlkLCB0aGlzLmdyb3VwLmlkLCB0aGlzLnBhbmVsLmlkKV0sIFBhbmVsVHJhbnNmZXIucHJvdG90eXBlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc3Bvc2U6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhbmVsVHJhbnNmZXIuY2xlYXJEYXRhKFBhbmVsVHJhbnNmZXIucHJvdG90eXBlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRhYiBleHRlbmRzIENvbXBvc2l0ZURpc3Bvc2FibGUge1xuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocGFuZWwsIGFjY2Vzc29yLCBncm91cCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnBhbmVsID0gcGFuZWw7XG4gICAgICAgIHRoaXMuYWNjZXNzb3IgPSBhY2Nlc3NvcjtcbiAgICAgICAgdGhpcy5ncm91cCA9IGdyb3VwO1xuICAgICAgICB0aGlzLmNvbnRlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX29uUG9pbnREb3duID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vblBvaW50ZXJEb3duID0gdGhpcy5fb25Qb2ludERvd24uZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRHJvcHBlZCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25Ecm9wID0gdGhpcy5fb25Ecm9wcGVkLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRyYWdTdGFydCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EcmFnU3RhcnQgPSB0aGlzLl9vbkRyYWdTdGFydC5ldmVudDtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTmFtZSA9ICdkdi10YWInO1xuICAgICAgICB0aGlzLl9lbGVtZW50LnRhYkluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5kcmFnZ2FibGUgPSAhdGhpcy5hY2Nlc3Nvci5vcHRpb25zLmRpc2FibGVEbmQ7XG4gICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudCwgJ2R2LWluYWN0aXZlLXRhYicsIHRydWUpO1xuICAgICAgICBjb25zdCBkcmFnSGFuZGxlciA9IG5ldyBUYWJEcmFnSGFuZGxlcih0aGlzLl9lbGVtZW50LCB0aGlzLmFjY2Vzc29yLCB0aGlzLmdyb3VwLCB0aGlzLnBhbmVsKTtcbiAgICAgICAgdGhpcy5kcm9wVGFyZ2V0ID0gbmV3IERyb3B0YXJnZXQodGhpcy5fZWxlbWVudCwge1xuICAgICAgICAgICAgYWNjZXB0ZWRUYXJnZXRab25lczogWydsZWZ0JywgJ3JpZ2h0J10sXG4gICAgICAgICAgICBvdmVybGF5TW9kZWw6IHsgYWN0aXZhdGlvblNpemU6IHsgdmFsdWU6IDUwLCB0eXBlOiAncGVyY2VudGFnZScgfSB9LFxuICAgICAgICAgICAgY2FuRGlzcGxheU92ZXJsYXk6IChldmVudCwgcG9zaXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91cC5sb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZ2V0UGFuZWxEYXRhKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgdGhpcy5hY2Nlc3Nvci5pZCA9PT0gZGF0YS52aWV3SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyb3VwLm1vZGVsLmNhbkRpc3BsYXlPdmVybGF5KGV2ZW50LCBwb3NpdGlvbiwgJ3RhYicpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE92ZXJyaWRlVGFyZ2V0OiAoKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGdyb3VwLm1vZGVsLmRyb3BUYXJnZXRDb250YWluZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tb2RlbDsgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub25XaWxsU2hvd092ZXJsYXkgPSB0aGlzLmRyb3BUYXJnZXQub25XaWxsU2hvd092ZXJsYXk7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fb25Qb2ludERvd24sIHRoaXMuX29uRHJvcHBlZCwgdGhpcy5fb25EcmFnU3RhcnQsIGRyYWdIYW5kbGVyLm9uRHJhZ1N0YXJ0KChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSB0aGlzLmVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgICAgIEFycmF5LmZyb20oc3R5bGUpLmZvckVhY2goKGtleSkgPT4gbmV3Tm9kZS5zdHlsZS5zZXRQcm9wZXJ0eShrZXksIHN0eWxlLmdldFByb3BlcnR5VmFsdWUoa2V5KSwgc3R5bGUuZ2V0UHJvcGVydHlQcmlvcml0eShrZXkpKSk7XG4gICAgICAgICAgICAgICAgbmV3Tm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICAgICAgYWRkR2hvc3RJbWFnZShldmVudC5kYXRhVHJhbnNmZXIsIG5ld05vZGUsIHtcbiAgICAgICAgICAgICAgICAgICAgeTogLTEwLFxuICAgICAgICAgICAgICAgICAgICB4OiAzMCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX29uRHJhZ1N0YXJ0LmZpcmUoZXZlbnQpO1xuICAgICAgICB9KSwgZHJhZ0hhbmRsZXIsIGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLl9lbGVtZW50LCAncG9pbnRlcmRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uUG9pbnREb3duLmZpcmUoZXZlbnQpO1xuICAgICAgICB9KSwgdGhpcy5kcm9wVGFyZ2V0Lm9uRHJvcCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uRHJvcHBlZC5maXJlKGV2ZW50KTtcbiAgICAgICAgfSksIHRoaXMuZHJvcFRhcmdldCk7XG4gICAgfVxuICAgIHNldEFjdGl2ZShpc0FjdGl2ZSkge1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLmVsZW1lbnQsICdkdi1hY3RpdmUtdGFiJywgaXNBY3RpdmUpO1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLmVsZW1lbnQsICdkdi1pbmFjdGl2ZS10YWInLCAhaXNBY3RpdmUpO1xuICAgIH1cbiAgICBzZXRDb250ZW50KHBhcnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmNvbnRlbnQuZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250ZW50ID0gcGFydDtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmNvbnRlbnQuZWxlbWVudCk7XG4gICAgfVxuICAgIHVwZGF0ZURyYWdBbmREcm9wU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuZHJhZ2dhYmxlID0gIXRoaXMuYWNjZXNzb3Iub3B0aW9ucy5kaXNhYmxlRG5kO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlQ2hldnJvblJpZ2h0QnV0dG9uIH0gZnJvbSAnLi4vLi4vLi4vc3ZnJztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEcm9wZG93bkVsZW1lbnRIYW5kbGUoKSB7XG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBlbC5jbGFzc05hbWUgPSAnZHYtdGFicy1vdmVyZmxvdy1kcm9wZG93bi1kZWZhdWx0JztcbiAgICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgIHRleHQudGV4dENvbnRlbnQgPSBgYDtcbiAgICBjb25zdCBpY29uID0gY3JlYXRlQ2hldnJvblJpZ2h0QnV0dG9uKCk7XG4gICAgZWwuYXBwZW5kQ2hpbGQoaWNvbik7XG4gICAgZWwuYXBwZW5kQ2hpbGQodGV4dCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZWxlbWVudDogZWwsXG4gICAgICAgIHVwZGF0ZTogKHBhcmFtcykgPT4ge1xuICAgICAgICAgICAgdGV4dC50ZXh0Q29udGVudCA9IGAke3BhcmFtcy50YWJzfWA7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IGdldFBhbmVsRGF0YSB9IGZyb20gJy4uLy4uLy4uL2RuZC9kYXRhVHJhbnNmZXInO1xuaW1wb3J0IHsgaXNDaGlsZEVudGlyZWx5VmlzaWJsZVdpdGhpblBhcmVudCwgT3ZlcmZsb3dPYnNlcnZlciwgfSBmcm9tICcuLi8uLi8uLi9kb20nO1xuaW1wb3J0IHsgYWRkRGlzcG9zYWJsZUxpc3RlbmVyLCBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vZXZlbnRzJztcbmltcG9ydCB7IENvbXBvc2l0ZURpc3Bvc2FibGUsIERpc3Bvc2FibGUsIE11dGFibGVEaXNwb3NhYmxlLCB9IGZyb20gJy4uLy4uLy4uL2xpZmVjeWNsZSc7XG5pbXBvcnQgeyBTY3JvbGxiYXIgfSBmcm9tICcuLi8uLi8uLi9zY3JvbGxiYXInO1xuaW1wb3J0IHsgV2lsbFNob3dPdmVybGF5TG9jYXRpb25FdmVudCB9IGZyb20gJy4uLy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBUYWIgfSBmcm9tICcuLi90YWIvdGFiJztcbmV4cG9ydCBjbGFzcyBUYWJzIGV4dGVuZHMgQ29tcG9zaXRlRGlzcG9zYWJsZSB7XG4gICAgZ2V0IHNob3dUYWJzT3ZlcmZsb3dDb250cm9sKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2hvd1RhYnNPdmVyZmxvd0NvbnRyb2w7XG4gICAgfVxuICAgIHNldCBzaG93VGFic092ZXJmbG93Q29udHJvbCh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fc2hvd1RhYnNPdmVyZmxvd0NvbnRyb2wgPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zaG93VGFic092ZXJmbG93Q29udHJvbCA9IHZhbHVlO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE92ZXJmbG93T2JzZXJ2ZXIodGhpcy5fdGFic0xpc3QpO1xuICAgICAgICAgICAgdGhpcy5fb2JzZXJ2ZXJEaXNwb3NhYmxlLnZhbHVlID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUob2JzZXJ2ZXIsIG9ic2VydmVyLm9uRGlkQ2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc092ZXJmbG93ID0gZXZlbnQuaGFzU2Nyb2xsWCB8fCBldmVudC5oYXNTY3JvbGxZO1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlRHJvcGRvd24oeyByZXNldDogIWhhc092ZXJmbG93IH0pO1xuICAgICAgICAgICAgfSksIGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLl90YWJzTGlzdCwgJ3Njcm9sbCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZURyb3Bkb3duKHsgcmVzZXQ6IGZhbHNlIH0pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IHBhbmVscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhYnMubWFwKChfKSA9PiBfLnZhbHVlLnBhbmVsLmlkKTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YWJzLmxlbmd0aDtcbiAgICB9XG4gICAgZ2V0IHRhYnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YWJzLm1hcCgoXykgPT4gXy52YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGdyb3VwLCBhY2Nlc3Nvciwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIHRoaXMuYWNjZXNzb3IgPSBhY2Nlc3NvcjtcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJEaXNwb3NhYmxlID0gbmV3IE11dGFibGVEaXNwb3NhYmxlKCk7XG4gICAgICAgIHRoaXMuX3RhYnMgPSBbXTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuX3Nob3dUYWJzT3ZlcmZsb3dDb250cm9sID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX29uVGFiRHJhZ1N0YXJ0ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vblRhYkRyYWdTdGFydCA9IHRoaXMuX29uVGFiRHJhZ1N0YXJ0LmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRyb3AgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRHJvcCA9IHRoaXMuX29uRHJvcC5ldmVudDtcbiAgICAgICAgdGhpcy5fb25XaWxsU2hvd092ZXJsYXkgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uV2lsbFNob3dPdmVybGF5ID0gdGhpcy5fb25XaWxsU2hvd092ZXJsYXkuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uT3ZlcmZsb3dUYWJzQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbk92ZXJmbG93VGFic0NoYW5nZSA9IHRoaXMuX29uT3ZlcmZsb3dUYWJzQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl90YWJzTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLl90YWJzTGlzdC5jbGFzc05hbWUgPSAnZHYtdGFicy1jb250YWluZXIgZHYtaG9yaXpvbnRhbCc7XG4gICAgICAgIHRoaXMuc2hvd1RhYnNPdmVyZmxvd0NvbnRyb2wgPSBvcHRpb25zLnNob3dUYWJzT3ZlcmZsb3dDb250cm9sO1xuICAgICAgICBpZiAoYWNjZXNzb3Iub3B0aW9ucy5zY3JvbGxiYXJzID09PSAnbmF0aXZlJykge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX3RhYnNMaXN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsYmFyID0gbmV3IFNjcm9sbGJhcih0aGlzLl90YWJzTGlzdCk7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50ID0gc2Nyb2xsYmFyLmVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKHNjcm9sbGJhcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyh0aGlzLl9vbk92ZXJmbG93VGFic0NoYW5nZSwgdGhpcy5fb2JzZXJ2ZXJEaXNwb3NhYmxlLCB0aGlzLl9vbldpbGxTaG93T3ZlcmxheSwgdGhpcy5fb25Ecm9wLCB0aGlzLl9vblRhYkRyYWdTdGFydCwgYWRkRGlzcG9zYWJsZUxpc3RlbmVyKHRoaXMuZWxlbWVudCwgJ3BvaW50ZXJkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlzTGVmdENsaWNrID0gZXZlbnQuYnV0dG9uID09PSAwO1xuICAgICAgICAgICAgaWYgKGlzTGVmdENsaWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY2Nlc3Nvci5kb1NldEdyb3VwQWN0aXZlKHRoaXMuZ3JvdXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwgRGlzcG9zYWJsZS5mcm9tKCgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgeyB2YWx1ZSwgZGlzcG9zYWJsZSB9IG9mIHRoaXMuX3RhYnMpIHtcbiAgICAgICAgICAgICAgICBkaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB2YWx1ZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90YWJzID0gW107XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgaW5kZXhPZihpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFicy5maW5kSW5kZXgoKHRhYikgPT4gdGFiLnZhbHVlLnBhbmVsLmlkID09PSBpZCk7XG4gICAgfVxuICAgIGlzQWN0aXZlKHRhYikge1xuICAgICAgICByZXR1cm4gKHRoaXMuc2VsZWN0ZWRJbmRleCA+IC0xICYmXG4gICAgICAgICAgICB0aGlzLl90YWJzW3RoaXMuc2VsZWN0ZWRJbmRleF0udmFsdWUgPT09IHRhYik7XG4gICAgfVxuICAgIHNldEFjdGl2ZVBhbmVsKHBhbmVsKSB7XG4gICAgICAgIGxldCBydW5uaW5nV2lkdGggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHRhYiBvZiB0aGlzLl90YWJzKSB7XG4gICAgICAgICAgICBjb25zdCBpc0FjdGl2ZVBhbmVsID0gcGFuZWwuaWQgPT09IHRhYi52YWx1ZS5wYW5lbC5pZDtcbiAgICAgICAgICAgIHRhYi52YWx1ZS5zZXRBY3RpdmUoaXNBY3RpdmVQYW5lbCk7XG4gICAgICAgICAgICBpZiAoaXNBY3RpdmVQYW5lbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0YWIudmFsdWUuZWxlbWVudDtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRFbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmIChydW5uaW5nV2lkdGggPCBwYXJlbnRFbGVtZW50LnNjcm9sbExlZnQgfHxcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ1dpZHRoICsgZWxlbWVudC5jbGllbnRXaWR0aCA+XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRFbGVtZW50LnNjcm9sbExlZnQgKyBwYXJlbnRFbGVtZW50LmNsaWVudFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuc2Nyb2xsTGVmdCA9IHJ1bm5pbmdXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBydW5uaW5nV2lkdGggKz0gdGFiLnZhbHVlLmVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb3BlblBhbmVsKHBhbmVsLCBpbmRleCA9IHRoaXMuX3RhYnMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0aGlzLl90YWJzLmZpbmQoKHRhYikgPT4gdGFiLnZhbHVlLnBhbmVsLmlkID09PSBwYW5lbC5pZCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YWIgPSBuZXcgVGFiKHBhbmVsLCB0aGlzLmFjY2Vzc29yLCB0aGlzLmdyb3VwKTtcbiAgICAgICAgdGFiLnNldENvbnRlbnQocGFuZWwudmlldy50YWIpO1xuICAgICAgICBjb25zdCBkaXNwb3NhYmxlID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUodGFiLm9uRHJhZ1N0YXJ0KChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25UYWJEcmFnU3RhcnQuZmlyZSh7IG5hdGl2ZUV2ZW50OiBldmVudCwgcGFuZWwgfSk7XG4gICAgICAgIH0pLCB0YWIub25Qb2ludGVyRG93bigoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNGbG9hdGluZ0dyb3Vwc0VuYWJsZWQgPSAhdGhpcy5hY2Nlc3Nvci5vcHRpb25zLmRpc2FibGVGbG9hdGluZ0dyb3VwcztcbiAgICAgICAgICAgIGNvbnN0IGlzRmxvYXRpbmdXaXRoT25lUGFuZWwgPSB0aGlzLmdyb3VwLmFwaS5sb2NhdGlvbi50eXBlID09PSAnZmxvYXRpbmcnICYmXG4gICAgICAgICAgICAgICAgdGhpcy5zaXplID09PSAxO1xuICAgICAgICAgICAgaWYgKGlzRmxvYXRpbmdHcm91cHNFbmFibGVkICYmXG4gICAgICAgICAgICAgICAgIWlzRmxvYXRpbmdXaXRoT25lUGFuZWwgJiZcbiAgICAgICAgICAgICAgICBldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLmFjY2Vzc29yLmdldEdyb3VwUGFuZWwodGFiLnBhbmVsLmlkKTtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHRvcCwgbGVmdCB9ID0gdGFiLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0b3A6IHJvb3RUb3AsIGxlZnQ6IHJvb3RMZWZ0IH0gPSB0aGlzLmFjY2Vzc29yLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hY2Nlc3Nvci5hZGRGbG9hdGluZ0dyb3VwKHBhbmVsLCB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGxlZnQgLSByb290TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgeTogdG9wIC0gcm9vdFRvcCxcbiAgICAgICAgICAgICAgICAgICAgaW5EcmFnTW9kZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmJ1dHRvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogLy8gbGVmdCBjbGljayBvciB0b3VjaFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5ncm91cC5hY3RpdmVQYW5lbCAhPT0gcGFuZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXAubW9kZWwub3BlblBhbmVsKHBhbmVsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIHRhYi5vbkRyb3AoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkRyb3AuZmlyZSh7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50Lm5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLl90YWJzLmZpbmRJbmRleCgoeCkgPT4geC52YWx1ZSA9PT0gdGFiKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSwgdGFiLm9uV2lsbFNob3dPdmVybGF5KChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25XaWxsU2hvd092ZXJsYXkuZmlyZShuZXcgV2lsbFNob3dPdmVybGF5TG9jYXRpb25FdmVudChldmVudCwge1xuICAgICAgICAgICAgICAgIGtpbmQ6ICd0YWInLFxuICAgICAgICAgICAgICAgIHBhbmVsOiB0aGlzLmdyb3VwLmFjdGl2ZVBhbmVsLFxuICAgICAgICAgICAgICAgIGFwaTogdGhpcy5hY2Nlc3Nvci5hcGksXG4gICAgICAgICAgICAgICAgZ3JvdXA6IHRoaXMuZ3JvdXAsXG4gICAgICAgICAgICAgICAgZ2V0RGF0YTogZ2V0UGFuZWxEYXRhLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0geyB2YWx1ZTogdGFiLCBkaXNwb3NhYmxlIH07XG4gICAgICAgIHRoaXMuYWRkVGFiKHZhbHVlLCBpbmRleCk7XG4gICAgfVxuICAgIGRlbGV0ZShpZCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuaW5kZXhPZihpZCk7XG4gICAgICAgIGNvbnN0IHRhYlRvUmVtb3ZlID0gdGhpcy5fdGFicy5zcGxpY2UoaW5kZXgsIDEpWzBdO1xuICAgICAgICBjb25zdCB7IHZhbHVlLCBkaXNwb3NhYmxlIH0gPSB0YWJUb1JlbW92ZTtcbiAgICAgICAgZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgIHZhbHVlLmRpc3Bvc2UoKTtcbiAgICAgICAgdmFsdWUuZWxlbWVudC5yZW1vdmUoKTtcbiAgICB9XG4gICAgYWRkVGFiKHRhYiwgaW5kZXggPSB0aGlzLl90YWJzLmxlbmd0aCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5fdGFicy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBsb2NhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RhYnNMaXN0Lmluc2VydEJlZm9yZSh0YWIudmFsdWUuZWxlbWVudCwgdGhpcy5fdGFic0xpc3QuY2hpbGRyZW5baW5kZXhdKTtcbiAgICAgICAgdGhpcy5fdGFicyA9IFtcbiAgICAgICAgICAgIC4uLnRoaXMuX3RhYnMuc2xpY2UoMCwgaW5kZXgpLFxuICAgICAgICAgICAgdGFiLFxuICAgICAgICAgICAgLi4udGhpcy5fdGFicy5zbGljZShpbmRleCksXG4gICAgICAgIF07XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkSW5kZXggPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBpbmRleDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b2dnbGVEcm9wZG93bihvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHRhYnMgPSBvcHRpb25zLnJlc2V0XG4gICAgICAgICAgICA/IFtdXG4gICAgICAgICAgICA6IHRoaXMuX3RhYnNcbiAgICAgICAgICAgICAgICAuZmlsdGVyKCh0YWIpID0+ICFpc0NoaWxkRW50aXJlbHlWaXNpYmxlV2l0aGluUGFyZW50KHRhYi52YWx1ZS5lbGVtZW50LCB0aGlzLl90YWJzTGlzdCkpXG4gICAgICAgICAgICAgICAgLm1hcCgoeCkgPT4geC52YWx1ZS5wYW5lbC5pZCk7XG4gICAgICAgIHRoaXMuX29uT3ZlcmZsb3dUYWJzQ2hhbmdlLmZpcmUoeyB0YWJzLCByZXNldDogb3B0aW9ucy5yZXNldCB9KTtcbiAgICB9XG4gICAgdXBkYXRlRHJhZ0FuZERyb3BTdGF0ZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCB0YWIgb2YgdGhpcy5fdGFicykge1xuICAgICAgICAgICAgdGFiLnZhbHVlLnVwZGF0ZURyYWdBbmREcm9wU3RhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbXBvc2l0ZURpc3Bvc2FibGUsIERpc3Bvc2FibGUsIE11dGFibGVEaXNwb3NhYmxlLCB9IGZyb20gJy4uLy4uLy4uL2xpZmVjeWNsZSc7XG5pbXBvcnQgeyBhZGREaXNwb3NhYmxlTGlzdGVuZXIsIEVtaXR0ZXIgfSBmcm9tICcuLi8uLi8uLi9ldmVudHMnO1xuaW1wb3J0IHsgVm9pZENvbnRhaW5lciB9IGZyb20gJy4vdm9pZENvbnRhaW5lcic7XG5pbXBvcnQgeyBmaW5kUmVsYXRpdmVaSW5kZXhQYXJlbnQsIHRvZ2dsZUNsYXNzIH0gZnJvbSAnLi4vLi4vLi4vZG9tJztcbmltcG9ydCB7IFdpbGxTaG93T3ZlcmxheUxvY2F0aW9uRXZlbnQgfSBmcm9tICcuLi8uLi9ldmVudHMnO1xuaW1wb3J0IHsgZ2V0UGFuZWxEYXRhIH0gZnJvbSAnLi4vLi4vLi4vZG5kL2RhdGFUcmFuc2Zlcic7XG5pbXBvcnQgeyBUYWJzIH0gZnJvbSAnLi90YWJzJztcbmltcG9ydCB7IGNyZWF0ZURyb3Bkb3duRWxlbWVudEhhbmRsZSwgfSBmcm9tICcuL3RhYk92ZXJmbG93Q29udHJvbCc7XG5leHBvcnQgY2xhc3MgVGFic0NvbnRhaW5lciBleHRlbmRzIENvbXBvc2l0ZURpc3Bvc2FibGUge1xuICAgIGdldCBvblRhYkRyYWdTdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFicy5vblRhYkRyYWdTdGFydDtcbiAgICB9XG4gICAgZ2V0IHBhbmVscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFicy5wYW5lbHM7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YWJzLnNpemU7XG4gICAgfVxuICAgIGdldCBoaWRkZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oaWRkZW47XG4gICAgfVxuICAgIHNldCBoaWRkZW4odmFsdWUpIHtcbiAgICAgICAgdGhpcy5faGlkZGVuID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyAnbm9uZScgOiAnJztcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihhY2Nlc3NvciwgZ3JvdXApIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5hY2Nlc3NvciA9IGFjY2Vzc29yO1xuICAgICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIHRoaXMuX2hpZGRlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRyb3Bkb3duUGFydCA9IG51bGw7XG4gICAgICAgIHRoaXMuX292ZXJmbG93VGFicyA9IFtdO1xuICAgICAgICB0aGlzLl9kcm9wZG93bkRpc3Bvc2FibGUgPSBuZXcgTXV0YWJsZURpc3Bvc2FibGUoKTtcbiAgICAgICAgdGhpcy5fb25Ecm9wID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRyb3AgPSB0aGlzLl9vbkRyb3AuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uR3JvdXBEcmFnU3RhcnQgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uR3JvdXBEcmFnU3RhcnQgPSB0aGlzLl9vbkdyb3VwRHJhZ1N0YXJ0LmV2ZW50O1xuICAgICAgICB0aGlzLl9vbldpbGxTaG93T3ZlcmxheSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25XaWxsU2hvd092ZXJsYXkgPSB0aGlzLl9vbldpbGxTaG93T3ZlcmxheS5ldmVudDtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLl9lbGVtZW50LmNsYXNzTmFtZSA9ICdkdi10YWJzLWFuZC1hY3Rpb25zLWNvbnRhaW5lcic7XG4gICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuX2VsZW1lbnQsICdkdi1mdWxsLXdpZHRoLXNpbmdsZS10YWInLCB0aGlzLmFjY2Vzc29yLm9wdGlvbnMuc2luZ2xlVGFiTW9kZSA9PT0gJ2Z1bGx3aWR0aCcpO1xuICAgICAgICB0aGlzLnJpZ2h0QWN0aW9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLnJpZ2h0QWN0aW9uc0NvbnRhaW5lci5jbGFzc05hbWUgPSAnZHYtcmlnaHQtYWN0aW9ucy1jb250YWluZXInO1xuICAgICAgICB0aGlzLmxlZnRBY3Rpb25zQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMubGVmdEFjdGlvbnNDb250YWluZXIuY2xhc3NOYW1lID0gJ2R2LWxlZnQtYWN0aW9ucy1jb250YWluZXInO1xuICAgICAgICB0aGlzLnByZUFjdGlvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5wcmVBY3Rpb25zQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdkdi1wcmUtYWN0aW9ucy1jb250YWluZXInO1xuICAgICAgICB0aGlzLnRhYnMgPSBuZXcgVGFicyhncm91cCwgYWNjZXNzb3IsIHtcbiAgICAgICAgICAgIHNob3dUYWJzT3ZlcmZsb3dDb250cm9sOiAhYWNjZXNzb3Iub3B0aW9ucy5kaXNhYmxlVGFic092ZXJmbG93TGlzdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudm9pZENvbnRhaW5lciA9IG5ldyBWb2lkQ29udGFpbmVyKHRoaXMuYWNjZXNzb3IsIHRoaXMuZ3JvdXApO1xuICAgICAgICB0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMucHJlQWN0aW9uc0NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy50YWJzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMubGVmdEFjdGlvbnNDb250YWluZXIpO1xuICAgICAgICB0aGlzLl9lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudm9pZENvbnRhaW5lci5lbGVtZW50KTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnJpZ2h0QWN0aW9uc0NvbnRhaW5lcik7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy50YWJzLm9uRHJvcCgoZSkgPT4gdGhpcy5fb25Ecm9wLmZpcmUoZSkpLCB0aGlzLnRhYnMub25XaWxsU2hvd092ZXJsYXkoKGUpID0+IHRoaXMuX29uV2lsbFNob3dPdmVybGF5LmZpcmUoZSkpLCBhY2Nlc3Nvci5vbkRpZE9wdGlvbnNDaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50YWJzLnNob3dUYWJzT3ZlcmZsb3dDb250cm9sID1cbiAgICAgICAgICAgICAgICAhYWNjZXNzb3Iub3B0aW9ucy5kaXNhYmxlVGFic092ZXJmbG93TGlzdDtcbiAgICAgICAgfSksIHRoaXMudGFicy5vbk92ZXJmbG93VGFic0NoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlRHJvcGRvd24oZXZlbnQpO1xuICAgICAgICB9KSwgdGhpcy50YWJzLCB0aGlzLl9vbldpbGxTaG93T3ZlcmxheSwgdGhpcy5fb25Ecm9wLCB0aGlzLl9vbkdyb3VwRHJhZ1N0YXJ0LCB0aGlzLnZvaWRDb250YWluZXIsIHRoaXMudm9pZENvbnRhaW5lci5vbkRyYWdTdGFydCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uR3JvdXBEcmFnU3RhcnQuZmlyZSh7XG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgIGdyb3VwOiB0aGlzLmdyb3VwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLCB0aGlzLnZvaWRDb250YWluZXIub25Ecm9wKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25Ecm9wLmZpcmUoe1xuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudC5uYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICBpbmRleDogdGhpcy50YWJzLnNpemUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSksIHRoaXMudm9pZENvbnRhaW5lci5vbldpbGxTaG93T3ZlcmxheSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uV2lsbFNob3dPdmVybGF5LmZpcmUobmV3IFdpbGxTaG93T3ZlcmxheUxvY2F0aW9uRXZlbnQoZXZlbnQsIHtcbiAgICAgICAgICAgICAgICBraW5kOiAnaGVhZGVyX3NwYWNlJyxcbiAgICAgICAgICAgICAgICBwYW5lbDogdGhpcy5ncm91cC5hY3RpdmVQYW5lbCxcbiAgICAgICAgICAgICAgICBhcGk6IHRoaXMuYWNjZXNzb3IuYXBpLFxuICAgICAgICAgICAgICAgIGdyb3VwOiB0aGlzLmdyb3VwLFxuICAgICAgICAgICAgICAgIGdldERhdGE6IGdldFBhbmVsRGF0YSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSksIGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLnZvaWRDb250YWluZXIuZWxlbWVudCwgJ3BvaW50ZXJkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGlzRmxvYXRpbmdHcm91cHNFbmFibGVkID0gIXRoaXMuYWNjZXNzb3Iub3B0aW9ucy5kaXNhYmxlRmxvYXRpbmdHcm91cHM7XG4gICAgICAgICAgICBpZiAoaXNGbG9hdGluZ0dyb3Vwc0VuYWJsZWQgJiZcbiAgICAgICAgICAgICAgICBldmVudC5zaGlmdEtleSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuZ3JvdXAuYXBpLmxvY2F0aW9uLnR5cGUgIT09ICdmbG9hdGluZycpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdG9wLCBsZWZ0IH0gPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB0b3A6IHJvb3RUb3AsIGxlZnQ6IHJvb3RMZWZ0IH0gPSB0aGlzLmFjY2Vzc29yLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hY2Nlc3Nvci5hZGRGbG9hdGluZ0dyb3VwKHRoaXMuZ3JvdXAsIHtcbiAgICAgICAgICAgICAgICAgICAgeDogbGVmdCAtIHJvb3RMZWZ0ICsgMjAsXG4gICAgICAgICAgICAgICAgICAgIHk6IHRvcCAtIHJvb3RUb3AgKyAyMCxcbiAgICAgICAgICAgICAgICAgICAgaW5EcmFnTW9kZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzaG93KCkge1xuICAgICAgICBpZiAoIXRoaXMuaGlkZGVuKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgc2V0UmlnaHRBY3Rpb25zRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnJpZ2h0QWN0aW9ucyA9PT0gZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJpZ2h0QWN0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5yaWdodEFjdGlvbnMucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0QWN0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5yaWdodEFjdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLnJpZ2h0QWN0aW9ucyA9IGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0TGVmdEFjdGlvbnNFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMubGVmdEFjdGlvbnMgPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sZWZ0QWN0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5sZWZ0QWN0aW9ucy5yZW1vdmUoKTtcbiAgICAgICAgICAgIHRoaXMubGVmdEFjdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMubGVmdEFjdGlvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLmxlZnRBY3Rpb25zID0gZWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRQcmVmaXhBY3Rpb25zRWxlbWVudChlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnByZUFjdGlvbnMgPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcmVBY3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnByZUFjdGlvbnMucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aGlzLnByZUFjdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMucHJlQWN0aW9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgIHRoaXMucHJlQWN0aW9ucyA9IGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNBY3RpdmUodGFiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhYnMuaXNBY3RpdmUodGFiKTtcbiAgICB9XG4gICAgaW5kZXhPZihpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YWJzLmluZGV4T2YoaWQpO1xuICAgIH1cbiAgICBzZXRBY3RpdmUoX2lzR3JvdXBBY3RpdmUpIHtcbiAgICAgICAgLy8gbm9vcFxuICAgIH1cbiAgICBkZWxldGUoaWQpIHtcbiAgICAgICAgdGhpcy50YWJzLmRlbGV0ZShpZCk7XG4gICAgICAgIHRoaXMudXBkYXRlQ2xhc3NuYW1lcygpO1xuICAgIH1cbiAgICBzZXRBY3RpdmVQYW5lbChwYW5lbCkge1xuICAgICAgICB0aGlzLnRhYnMuc2V0QWN0aXZlUGFuZWwocGFuZWwpO1xuICAgIH1cbiAgICBvcGVuUGFuZWwocGFuZWwsIGluZGV4ID0gdGhpcy50YWJzLnNpemUpIHtcbiAgICAgICAgdGhpcy50YWJzLm9wZW5QYW5lbChwYW5lbCwgaW5kZXgpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNsYXNzbmFtZXMoKTtcbiAgICB9XG4gICAgY2xvc2VQYW5lbChwYW5lbCkge1xuICAgICAgICB0aGlzLmRlbGV0ZShwYW5lbC5pZCk7XG4gICAgfVxuICAgIHVwZGF0ZUNsYXNzbmFtZXMoKSB7XG4gICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuX2VsZW1lbnQsICdkdi1zaW5nbGUtdGFiJywgdGhpcy5zaXplID09PSAxKTtcbiAgICB9XG4gICAgdG9nZ2xlRHJvcGRvd24ob3B0aW9ucykge1xuICAgICAgICBjb25zdCB0YWJzID0gb3B0aW9ucy5yZXNldCA/IFtdIDogb3B0aW9ucy50YWJzO1xuICAgICAgICB0aGlzLl9vdmVyZmxvd1RhYnMgPSB0YWJzO1xuICAgICAgICBpZiAodGhpcy5fb3ZlcmZsb3dUYWJzLmxlbmd0aCA+IDAgJiYgdGhpcy5kcm9wZG93blBhcnQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJvcGRvd25QYXJ0LnVwZGF0ZSh7IHRhYnM6IHRhYnMubGVuZ3RoIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vdmVyZmxvd1RhYnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9kcm9wZG93bkRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgcm9vdC5jbGFzc05hbWUgPSAnZHYtdGFicy1vdmVyZmxvdy1kcm9wZG93bi1yb290JztcbiAgICAgICAgY29uc3QgcGFydCA9IGNyZWF0ZURyb3Bkb3duRWxlbWVudEhhbmRsZSgpO1xuICAgICAgICBwYXJ0LnVwZGF0ZSh7IHRhYnM6IHRhYnMubGVuZ3RoIH0pO1xuICAgICAgICB0aGlzLmRyb3Bkb3duUGFydCA9IHBhcnQ7XG4gICAgICAgIHJvb3QuYXBwZW5kQ2hpbGQocGFydC5lbGVtZW50KTtcbiAgICAgICAgdGhpcy5yaWdodEFjdGlvbnNDb250YWluZXIucHJlcGVuZChyb290KTtcbiAgICAgICAgdGhpcy5fZHJvcGRvd25EaXNwb3NhYmxlLnZhbHVlID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUoRGlzcG9zYWJsZS5mcm9tKCgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICByb290LnJlbW92ZSgpO1xuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy5kcm9wZG93blBhcnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNwb3NlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgICAgICB0aGlzLmRyb3Bkb3duUGFydCA9IG51bGw7XG4gICAgICAgIH0pLCBhZGREaXNwb3NhYmxlTGlzdGVuZXIocm9vdCwgJ3BvaW50ZXJkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9LCB7IGNhcHR1cmU6IHRydWUgfSksIGFkZERpc3Bvc2FibGVMaXN0ZW5lcihyb290LCAnY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBlbC5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9ICdkdi10YWJzLW92ZXJmbG93LWNvbnRhaW5lcic7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRhYiBvZiB0aGlzLnRhYnMudGFicy5maWx0ZXIoKHRhYikgPT4gdGhpcy5fb3ZlcmZsb3dUYWJzLmluY2x1ZGVzKHRhYi5wYW5lbC5pZCkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFuZWxPYmplY3QgPSB0aGlzLmdyb3VwLnBhbmVscy5maW5kKChwYW5lbCkgPT4gcGFuZWwgPT09IHRhYi5wYW5lbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFiQ29tcG9uZW50ID0gcGFuZWxPYmplY3Qudmlldy5jcmVhdGVUYWJSZW5kZXJlcignaGVhZGVyT3ZlcmZsb3cnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRhYkNvbXBvbmVudC5lbGVtZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVDbGFzcyh3cmFwcGVyLCAnZHYtdGFiJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQ2xhc3Mod3JhcHBlciwgJ2R2LWFjdGl2ZS10YWInLCBwYW5lbE9iamVjdC5hcGkuaXNBY3RpdmUpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUNsYXNzKHdyYXBwZXIsICdkdi1pbmFjdGl2ZS10YWInLCAhcGFuZWxPYmplY3QuYXBpLmlzQWN0aXZlKTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWNjZXNzb3IucG9wdXBTZXJ2aWNlLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGFiLmVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgICAgICAgICAgICAgdGFiLnBhbmVsLmFwaS5zZXRBY3RpdmUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgICAgICBlbC5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlUGFyZW50ID0gZmluZFJlbGF0aXZlWkluZGV4UGFyZW50KHJvb3QpO1xuICAgICAgICAgICAgdGhpcy5hY2Nlc3Nvci5wb3B1cFNlcnZpY2Uub3BlblBvcG92ZXIoZWwsIHtcbiAgICAgICAgICAgICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHk6IGV2ZW50LmNsaWVudFksXG4gICAgICAgICAgICAgICAgekluZGV4OiAocmVsYXRpdmVQYXJlbnQgPT09IG51bGwgfHwgcmVsYXRpdmVQYXJlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlbGF0aXZlUGFyZW50LnN0eWxlLnpJbmRleClcbiAgICAgICAgICAgICAgICAgICAgPyBgY2FsYygke3JlbGF0aXZlUGFyZW50LnN0eWxlLnpJbmRleH0gKiAyKWBcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB1cGRhdGVEcmFnQW5kRHJvcFN0YXRlKCkge1xuICAgICAgICB0aGlzLnRhYnMudXBkYXRlRHJhZ0FuZERyb3BTdGF0ZSgpO1xuICAgICAgICB0aGlzLnZvaWRDb250YWluZXIudXBkYXRlRHJhZ0FuZERyb3BTdGF0ZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFBhbmVsRGF0YSB9IGZyb20gJy4uLy4uLy4uL2RuZC9kYXRhVHJhbnNmZXInO1xuaW1wb3J0IHsgRHJvcHRhcmdldCwgfSBmcm9tICcuLi8uLi8uLi9kbmQvZHJvcHRhcmdldCc7XG5pbXBvcnQgeyBHcm91cERyYWdIYW5kbGVyIH0gZnJvbSAnLi4vLi4vLi4vZG5kL2dyb3VwRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgYWRkRGlzcG9zYWJsZUxpc3RlbmVyLCBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vLi4vZXZlbnRzJztcbmltcG9ydCB7IENvbXBvc2l0ZURpc3Bvc2FibGUgfSBmcm9tICcuLi8uLi8uLi9saWZlY3ljbGUnO1xuaW1wb3J0IHsgdG9nZ2xlQ2xhc3MgfSBmcm9tICcuLi8uLi8uLi9kb20nO1xuZXhwb3J0IGNsYXNzIFZvaWRDb250YWluZXIgZXh0ZW5kcyBDb21wb3NpdGVEaXNwb3NhYmxlIHtcbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGFjY2Vzc29yLCBncm91cCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmFjY2Vzc29yID0gYWNjZXNzb3I7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSBncm91cDtcbiAgICAgICAgdGhpcy5fb25Ecm9wID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRyb3AgPSB0aGlzLl9vbkRyb3AuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRHJhZ1N0YXJ0ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRyYWdTdGFydCA9IHRoaXMuX29uRHJhZ1N0YXJ0LmV2ZW50O1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NOYW1lID0gJ2R2LXZvaWQtY29udGFpbmVyJztcbiAgICAgICAgdGhpcy5fZWxlbWVudC5kcmFnZ2FibGUgPSAhdGhpcy5hY2Nlc3Nvci5vcHRpb25zLmRpc2FibGVEbmQ7XG4gICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuX2VsZW1lbnQsICdkdi1kcmFnZ2FibGUnLCAhdGhpcy5hY2Nlc3Nvci5vcHRpb25zLmRpc2FibGVEbmQpO1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKHRoaXMuX29uRHJvcCwgdGhpcy5fb25EcmFnU3RhcnQsIGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLl9lbGVtZW50LCAncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFjY2Vzc29yLmRvU2V0R3JvdXBBY3RpdmUodGhpcy5ncm91cCk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IG5ldyBHcm91cERyYWdIYW5kbGVyKHRoaXMuX2VsZW1lbnQsIGFjY2Vzc29yLCBncm91cCk7XG4gICAgICAgIHRoaXMuZHJvcFRhcmdldCA9IG5ldyBEcm9wdGFyZ2V0KHRoaXMuX2VsZW1lbnQsIHtcbiAgICAgICAgICAgIGFjY2VwdGVkVGFyZ2V0Wm9uZXM6IFsnY2VudGVyJ10sXG4gICAgICAgICAgICBjYW5EaXNwbGF5T3ZlcmxheTogKGV2ZW50LCBwb3NpdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBnZXRQYW5lbERhdGEoKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiB0aGlzLmFjY2Vzc29yLmlkID09PSBkYXRhLnZpZXdJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwLm1vZGVsLmNhbkRpc3BsYXlPdmVybGF5KGV2ZW50LCBwb3NpdGlvbiwgJ2hlYWRlcl9zcGFjZScpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE92ZXJyaWRlVGFyZ2V0OiAoKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGdyb3VwLm1vZGVsLmRyb3BUYXJnZXRDb250YWluZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tb2RlbDsgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub25XaWxsU2hvd092ZXJsYXkgPSB0aGlzLmRyb3BUYXJnZXQub25XaWxsU2hvd092ZXJsYXk7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXMoaGFuZGxlciwgaGFuZGxlci5vbkRyYWdTdGFydCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uRHJhZ1N0YXJ0LmZpcmUoZXZlbnQpO1xuICAgICAgICB9KSwgdGhpcy5kcm9wVGFyZ2V0Lm9uRHJvcCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uRHJvcC5maXJlKGV2ZW50KTtcbiAgICAgICAgfSksIHRoaXMuZHJvcFRhcmdldCk7XG4gICAgfVxuICAgIHVwZGF0ZURyYWdBbmREcm9wU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuZHJhZ2dhYmxlID0gIXRoaXMuYWNjZXNzb3Iub3B0aW9ucy5kaXNhYmxlRG5kO1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLl9lbGVtZW50LCAnZHYtZHJhZ2dhYmxlJywgIXRoaXMuYWNjZXNzb3Iub3B0aW9ucy5kaXNhYmxlRG5kKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb3NpdGVEaXNwb3NhYmxlIH0gZnJvbSAnLi4vLi4vLi4vbGlmZWN5Y2xlJztcbmV4cG9ydCBjbGFzcyBXYXRlcm1hcmsgZXh0ZW5kcyBDb21wb3NpdGVEaXNwb3NhYmxlIHtcbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NOYW1lID0gJ2R2LXdhdGVybWFyayc7XG4gICAgfVxuICAgIGluaXQoX3BhcmFtcykge1xuICAgICAgICAvLyBub29wXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRG9ja3ZpZXdQYW5lbCB9IGZyb20gJy4vZG9ja3ZpZXdQYW5lbCc7XG5pbXBvcnQgeyBEb2Nrdmlld1BhbmVsTW9kZWwgfSBmcm9tICcuL2RvY2t2aWV3UGFuZWxNb2RlbCc7XG5pbXBvcnQgeyBEb2Nrdmlld0FwaSB9IGZyb20gJy4uL2FwaS9jb21wb25lbnQuYXBpJztcbmV4cG9ydCBjbGFzcyBEZWZhdWx0RG9ja3ZpZXdEZXNlcmlhbHppZXIge1xuICAgIGNvbnN0cnVjdG9yKGFjY2Vzc29yKSB7XG4gICAgICAgIHRoaXMuYWNjZXNzb3IgPSBhY2Nlc3NvcjtcbiAgICB9XG4gICAgZnJvbUpTT04ocGFuZWxEYXRhLCBncm91cCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBwYW5lbElkID0gcGFuZWxEYXRhLmlkO1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBwYW5lbERhdGEucGFyYW1zO1xuICAgICAgICBjb25zdCB0aXRsZSA9IHBhbmVsRGF0YS50aXRsZTtcbiAgICAgICAgY29uc3Qgdmlld0RhdGEgPSBwYW5lbERhdGEudmlldztcbiAgICAgICAgY29uc3QgY29udGVudENvbXBvbmVudCA9IHZpZXdEYXRhXG4gICAgICAgICAgICA/IHZpZXdEYXRhLmNvbnRlbnQuaWRcbiAgICAgICAgICAgIDogKF9hID0gcGFuZWxEYXRhLmNvbnRlbnRDb21wb25lbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICd1bmtub3duJztcbiAgICAgICAgY29uc3QgdGFiQ29tcG9uZW50ID0gdmlld0RhdGFcbiAgICAgICAgICAgID8gKF9iID0gdmlld0RhdGEudGFiKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaWRcbiAgICAgICAgICAgIDogcGFuZWxEYXRhLnRhYkNvbXBvbmVudDtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEb2Nrdmlld1BhbmVsTW9kZWwodGhpcy5hY2Nlc3NvciwgcGFuZWxJZCwgY29udGVudENvbXBvbmVudCwgdGFiQ29tcG9uZW50KTtcbiAgICAgICAgY29uc3QgcGFuZWwgPSBuZXcgRG9ja3ZpZXdQYW5lbChwYW5lbElkLCBjb250ZW50Q29tcG9uZW50LCB0YWJDb21wb25lbnQsIHRoaXMuYWNjZXNzb3IsIG5ldyBEb2Nrdmlld0FwaSh0aGlzLmFjY2Vzc29yKSwgZ3JvdXAsIHZpZXcsIHtcbiAgICAgICAgICAgIHJlbmRlcmVyOiBwYW5lbERhdGEucmVuZGVyZXIsXG4gICAgICAgICAgICBtaW5pbXVtV2lkdGg6IHBhbmVsRGF0YS5taW5pbXVtV2lkdGgsXG4gICAgICAgICAgICBtaW5pbXVtSGVpZ2h0OiBwYW5lbERhdGEubWluaW11bUhlaWdodCxcbiAgICAgICAgICAgIG1heGltdW1XaWR0aDogcGFuZWxEYXRhLm1heGltdW1XaWR0aCxcbiAgICAgICAgICAgIG1heGltdW1IZWlnaHQ6IHBhbmVsRGF0YS5tYXhpbXVtSGVpZ2h0LFxuICAgICAgICB9KTtcbiAgICAgICAgcGFuZWwuaW5pdCh7XG4gICAgICAgICAgICB0aXRsZTogdGl0bGUgIT09IG51bGwgJiYgdGl0bGUgIT09IHZvaWQgMCA/IHRpdGxlIDogcGFuZWxJZCxcbiAgICAgICAgICAgIHBhcmFtczogcGFyYW1zICE9PSBudWxsICYmIHBhcmFtcyAhPT0gdm9pZCAwID8gcGFyYW1zIDoge30sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFuZWw7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZ2V0UmVsYXRpdmVMb2NhdGlvbiwgZ2V0R3JpZExvY2F0aW9uLCBvcnRob2dvbmFsLCB9IGZyb20gJy4uL2dyaWR2aWV3L2dyaWR2aWV3JztcbmltcG9ydCB7IGRpcmVjdGlvblRvUG9zaXRpb24sIERyb3B0YXJnZXQsIH0gZnJvbSAnLi4vZG5kL2Ryb3B0YXJnZXQnO1xuaW1wb3J0IHsgdGFpbCwgc2VxdWVuY2VFcXVhbHMsIHJlbW92ZSB9IGZyb20gJy4uL2FycmF5JztcbmltcG9ydCB7IERvY2t2aWV3UGFuZWwgfSBmcm9tICcuL2RvY2t2aWV3UGFuZWwnO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSwgRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5pbXBvcnQgeyBFdmVudCwgRW1pdHRlciwgYWRkRGlzcG9zYWJsZUxpc3RlbmVyIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IFdhdGVybWFyayB9IGZyb20gJy4vY29tcG9uZW50cy93YXRlcm1hcmsvd2F0ZXJtYXJrJztcbmltcG9ydCB7IHNlcXVlbnRpYWxOdW1iZXJHZW5lcmF0b3IgfSBmcm9tICcuLi9tYXRoJztcbmltcG9ydCB7IERlZmF1bHREb2Nrdmlld0Rlc2VyaWFsemllciB9IGZyb20gJy4vZGVzZXJpYWxpemVyJztcbmltcG9ydCB7IERvY2t2aWV3VW5oYW5kbGVkRHJhZ092ZXJFdmVudCwgaXNHcm91cE9wdGlvbnNXaXRoR3JvdXAsIGlzR3JvdXBPcHRpb25zV2l0aFBhbmVsLCBpc1BhbmVsT3B0aW9uc1dpdGhHcm91cCwgaXNQYW5lbE9wdGlvbnNXaXRoUGFuZWwsIH0gZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IEJhc2VHcmlkLCB0b1RhcmdldCwgfSBmcm9tICcuLi9ncmlkdmlldy9iYXNlQ29tcG9uZW50R3JpZHZpZXcnO1xuaW1wb3J0IHsgRG9ja3ZpZXdBcGkgfSBmcm9tICcuLi9hcGkvY29tcG9uZW50LmFwaSc7XG5pbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gJy4uL3NwbGl0dmlldy9zcGxpdHZpZXcnO1xuaW1wb3J0IHsgRG9ja3ZpZXdEaWREcm9wRXZlbnQsIERvY2t2aWV3V2lsbERyb3BFdmVudCwgfSBmcm9tICcuL2RvY2t2aWV3R3JvdXBQYW5lbE1vZGVsJztcbmltcG9ydCB7IFdpbGxTaG93T3ZlcmxheUxvY2F0aW9uRXZlbnQgfSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQgeyBEb2Nrdmlld0dyb3VwUGFuZWwgfSBmcm9tICcuL2RvY2t2aWV3R3JvdXBQYW5lbCc7XG5pbXBvcnQgeyBEb2Nrdmlld1BhbmVsTW9kZWwgfSBmcm9tICcuL2RvY2t2aWV3UGFuZWxNb2RlbCc7XG5pbXBvcnQgeyBnZXRQYW5lbERhdGEgfSBmcm9tICcuLi9kbmQvZGF0YVRyYW5zZmVyJztcbmltcG9ydCB7IE92ZXJsYXkgfSBmcm9tICcuLi9vdmVybGF5L292ZXJsYXknO1xuaW1wb3J0IHsgYWRkVGVzdElkLCBDbGFzc25hbWVzLCBnZXREb2Nrdmlld1RoZW1lLCBvbkRpZFdpbmRvd1Jlc2l6ZUVuZCwgb25EaWRXaW5kb3dNb3ZlRW5kLCB0b2dnbGVDbGFzcywgd2F0Y2hFbGVtZW50UmVzaXplLCB9IGZyb20gJy4uL2RvbSc7XG5pbXBvcnQgeyBEb2Nrdmlld0Zsb2F0aW5nR3JvdXBQYW5lbCB9IGZyb20gJy4vZG9ja3ZpZXdGbG9hdGluZ0dyb3VwUGFuZWwnO1xuaW1wb3J0IHsgREVGQVVMVF9GTE9BVElOR19HUk9VUF9PVkVSRkxPV19TSVpFLCBERUZBVUxUX0ZMT0FUSU5HX0dST1VQX1BPU0lUSU9OLCBERVNFUklBTElaQVRJT05fUE9QT1VUX0RFTEFZX01TLCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBPdmVybGF5UmVuZGVyQ29udGFpbmVyLCB9IGZyb20gJy4uL292ZXJsYXkvb3ZlcmxheVJlbmRlckNvbnRhaW5lcic7XG5pbXBvcnQgeyBQb3BvdXRXaW5kb3cgfSBmcm9tICcuLi9wb3BvdXRXaW5kb3cnO1xuaW1wb3J0IHsgU3RyaWN0RXZlbnRzU2VxdWVuY2luZyB9IGZyb20gJy4vc3RyaWN0RXZlbnRzU2VxdWVuY2luZyc7XG5pbXBvcnQgeyBQb3B1cFNlcnZpY2UgfSBmcm9tICcuL2NvbXBvbmVudHMvcG9wdXBTZXJ2aWNlJztcbmltcG9ydCB7IERyb3BUYXJnZXRBbmNob3JDb250YWluZXIgfSBmcm9tICcuLi9kbmQvZHJvcFRhcmdldEFuY2hvckNvbnRhaW5lcic7XG5pbXBvcnQgeyB0aGVtZUFieXNzIH0gZnJvbSAnLi90aGVtZSc7XG5jb25zdCBERUZBVUxUX1JPT1RfT1ZFUkxBWV9NT0RFTCA9IHtcbiAgICBhY3RpdmF0aW9uU2l6ZTogeyB0eXBlOiAncGl4ZWxzJywgdmFsdWU6IDEwIH0sXG4gICAgc2l6ZTogeyB0eXBlOiAncGl4ZWxzJywgdmFsdWU6IDIwIH0sXG59O1xuZnVuY3Rpb24gbW92ZUdyb3VwV2l0aG91dERlc3Ryb3lpbmcob3B0aW9ucykge1xuICAgIGNvbnN0IGFjdGl2ZVBhbmVsID0gb3B0aW9ucy5mcm9tLmFjdGl2ZVBhbmVsO1xuICAgIGNvbnN0IHBhbmVscyA9IFsuLi5vcHRpb25zLmZyb20ucGFuZWxzXS5tYXAoKHBhbmVsKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlbW92ZWRQYW5lbCA9IG9wdGlvbnMuZnJvbS5tb2RlbC5yZW1vdmVQYW5lbChwYW5lbCk7XG4gICAgICAgIG9wdGlvbnMuZnJvbS5tb2RlbC5yZW5kZXJDb250YWluZXIuZGV0YXRjaChwYW5lbCk7XG4gICAgICAgIHJldHVybiByZW1vdmVkUGFuZWw7XG4gICAgfSk7XG4gICAgcGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgIG9wdGlvbnMudG8ubW9kZWwub3BlblBhbmVsKHBhbmVsLCB7XG4gICAgICAgICAgICBza2lwU2V0QWN0aXZlOiBhY3RpdmVQYW5lbCAhPT0gcGFuZWwsXG4gICAgICAgICAgICBza2lwU2V0R3JvdXBBY3RpdmU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0IGNsYXNzIERvY2t2aWV3Q29tcG9uZW50IGV4dGVuZHMgQmFzZUdyaWQge1xuICAgIGdldCBvcmllbnRhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZHZpZXcub3JpZW50YXRpb247XG4gICAgfVxuICAgIGdldCB0b3RhbFBhbmVscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFuZWxzLmxlbmd0aDtcbiAgICB9XG4gICAgZ2V0IHBhbmVscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JvdXBzLmZsYXRNYXAoKGdyb3VwKSA9PiBncm91cC5wYW5lbHMpO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG4gICAgfVxuICAgIGdldCBhY3RpdmVQYW5lbCgpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlR3JvdXAgPSB0aGlzLmFjdGl2ZUdyb3VwO1xuICAgICAgICBpZiAoIWFjdGl2ZUdyb3VwKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY3RpdmVHcm91cC5hY3RpdmVQYW5lbDtcbiAgICB9XG4gICAgZ2V0IHJlbmRlcmVyKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLm9wdGlvbnMuZGVmYXVsdFJlbmRlcmVyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnb25seVdoZW5WaXNpYmxlJztcbiAgICB9XG4gICAgZ2V0IGFwaSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwaTtcbiAgICB9XG4gICAgZ2V0IGZsb2F0aW5nR3JvdXBzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmxvYXRpbmdHcm91cHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCBwb3BvdXQgZ3JvdXBzIGZyb20gdGhlIGxhc3QgZnJvbUpTT04gY2FsbCBhcmUgcmVzdG9yZWQuXG4gICAgICogVXNlZnVsIGZvciB0ZXN0cyB0aGF0IG5lZWQgdG8gd2FpdCBmb3IgZGVsYXllZCBwb3BvdXQgY3JlYXRpb24uXG4gICAgICovXG4gICAgZ2V0IHBvcG91dFJlc3RvcmF0aW9uUHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BvcG91dFJlc3RvcmF0aW9uUHJvbWlzZTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBzdXBlcihjb250YWluZXIsIHtcbiAgICAgICAgICAgIHByb3BvcnRpb25hbExheW91dDogdHJ1ZSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBPcmllbnRhdGlvbi5IT1JJWk9OVEFMLFxuICAgICAgICAgICAgc3R5bGVzOiBvcHRpb25zLmhpZGVCb3JkZXJzXG4gICAgICAgICAgICAgICAgPyB7IHNlcGFyYXRvckJvcmRlcjogJ3RyYW5zcGFyZW50JyB9XG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkaXNhYmxlQXV0b1Jlc2l6aW5nOiBvcHRpb25zLmRpc2FibGVBdXRvUmVzaXppbmcsXG4gICAgICAgICAgICBsb2NrZWQ6IG9wdGlvbnMubG9ja2VkLFxuICAgICAgICAgICAgbWFyZ2luOiAoX2IgPSAoX2EgPSBvcHRpb25zLnRoZW1lKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2FwKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25zLmNsYXNzTmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubmV4dEdyb3VwSWQgPSBzZXF1ZW50aWFsTnVtYmVyR2VuZXJhdG9yKCk7XG4gICAgICAgIHRoaXMuX2Rlc2VyaWFsaXplciA9IG5ldyBEZWZhdWx0RG9ja3ZpZXdEZXNlcmlhbHppZXIodGhpcyk7XG4gICAgICAgIHRoaXMuX3dhdGVybWFyayA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uV2lsbERyYWdQYW5lbCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25XaWxsRHJhZ1BhbmVsID0gdGhpcy5fb25XaWxsRHJhZ1BhbmVsLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbldpbGxEcmFnR3JvdXAgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uV2lsbERyYWdHcm91cCA9IHRoaXMuX29uV2lsbERyYWdHcm91cC5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWREcm9wID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZERyb3AgPSB0aGlzLl9vbkRpZERyb3AuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uV2lsbERyb3AgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uV2lsbERyb3AgPSB0aGlzLl9vbldpbGxEcm9wLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbldpbGxTaG93T3ZlcmxheSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25XaWxsU2hvd092ZXJsYXkgPSB0aGlzLl9vbldpbGxTaG93T3ZlcmxheS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25VbmhhbmRsZWREcmFnT3ZlckV2ZW50ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vblVuaGFuZGxlZERyYWdPdmVyRXZlbnQgPSB0aGlzLl9vblVuaGFuZGxlZERyYWdPdmVyRXZlbnQuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkUmVtb3ZlUGFuZWwgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkUmVtb3ZlUGFuZWwgPSB0aGlzLl9vbkRpZFJlbW92ZVBhbmVsLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZEFkZFBhbmVsID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZEFkZFBhbmVsID0gdGhpcy5fb25EaWRBZGRQYW5lbC5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRQb3BvdXRHcm91cFNpemVDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkUG9wb3V0R3JvdXBTaXplQ2hhbmdlID0gdGhpcy5fb25EaWRQb3BvdXRHcm91cFNpemVDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkUG9wb3V0R3JvdXBQb3NpdGlvbkNoYW5nZSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRQb3BvdXRHcm91cFBvc2l0aW9uQ2hhbmdlID0gdGhpcy5fb25EaWRQb3BvdXRHcm91cFBvc2l0aW9uQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZE9wZW5Qb3BvdXRXaW5kb3dGYWlsID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZE9wZW5Qb3BvdXRXaW5kb3dGYWlsID0gdGhpcy5fb25EaWRPcGVuUG9wb3V0V2luZG93RmFpbC5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRMYXlvdXRGcm9tSlNPTiA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRMYXlvdXRGcm9tSlNPTiA9IHRoaXMuX29uRGlkTGF5b3V0RnJvbUpTT04uZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkQWN0aXZlUGFuZWxDaGFuZ2UgPSBuZXcgRW1pdHRlcih7IHJlcGxheTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5vbkRpZEFjdGl2ZVBhbmVsQ2hhbmdlID0gdGhpcy5fb25EaWRBY3RpdmVQYW5lbENoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRNb3ZlUGFuZWwgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkTW92ZVBhbmVsID0gdGhpcy5fb25EaWRNb3ZlUGFuZWwuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkTWF4aW1pemVkR3JvdXBDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkTWF4aW1pemVkR3JvdXBDaGFuZ2UgPSB0aGlzLl9vbkRpZE1heGltaXplZEdyb3VwQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9mbG9hdGluZ0dyb3VwcyA9IFtdO1xuICAgICAgICB0aGlzLl9wb3BvdXRHcm91cHMgPSBbXTtcbiAgICAgICAgdGhpcy5fcG9wb3V0UmVzdG9yYXRpb25Qcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHRoaXMuX29uRGlkUmVtb3ZlR3JvdXAgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkUmVtb3ZlR3JvdXAgPSB0aGlzLl9vbkRpZFJlbW92ZUdyb3VwLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZEFkZEdyb3VwID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZEFkZEdyb3VwID0gdGhpcy5fb25EaWRBZGRHcm91cC5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRPcHRpb25zQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZE9wdGlvbnNDaGFuZ2UgPSB0aGlzLl9vbkRpZE9wdGlvbnNDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkQWN0aXZlR3JvdXBDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQWN0aXZlR3JvdXBDaGFuZ2UgPSB0aGlzLl9vbkRpZEFjdGl2ZUdyb3VwQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9tb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucG9wdXBTZXJ2aWNlID0gbmV3IFBvcHVwU2VydmljZSh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90aGVtZUNsYXNzbmFtZXMgPSBuZXcgQ2xhc3NuYW1lcyh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9hcGkgPSBuZXcgRG9ja3ZpZXdBcGkodGhpcyk7XG4gICAgICAgIHRoaXMucm9vdERyb3BUYXJnZXRDb250YWluZXIgPSBuZXcgRHJvcFRhcmdldEFuY2hvckNvbnRhaW5lcih0aGlzLmVsZW1lbnQsIHsgZGlzYWJsZWQ6IHRydWUgfSk7XG4gICAgICAgIHRoaXMub3ZlcmxheVJlbmRlckNvbnRhaW5lciA9IG5ldyBPdmVybGF5UmVuZGVyQ29udGFpbmVyKHRoaXMuZ3JpZHZpZXcuZWxlbWVudCwgdGhpcyk7XG4gICAgICAgIHRoaXMuX3Jvb3REcm9wVGFyZ2V0ID0gbmV3IERyb3B0YXJnZXQodGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBjbGFzc05hbWU6ICdkdi1kcm9wLXRhcmdldC1lZGdlJyxcbiAgICAgICAgICAgIGNhbkRpc3BsYXlPdmVybGF5OiAoZXZlbnQsIHBvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGdldFBhbmVsRGF0YSgpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnZpZXdJZCAhPT0gdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNlbnRlciBkcm9wIHRhcmdldCBpcyBvbmx5IGFsbG93ZWQgaWYgdGhlcmUgYXJlIG5vIHBhbmVscyBpbiB0aGUgZ3JpZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmxvYXRpbmcgcGFuZWxzIGFyZSBhbGxvd2VkXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmlkdmlldy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2NlbnRlcicgJiYgdGhpcy5ncmlkdmlldy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIGZvciBleHRlcm5hbCBldmVudHMgb25seSBzaG93IHRoZSBmb3VyLWNvcm5lciBkcmFnIG92ZXJsYXlzLCBkaXNhYmxlXG4gICAgICAgICAgICAgICAgICAgICAqIHRoZSBjZW50ZXIgcG9zaXRpb24gc28gdGhhdCBleHRlcm5hbCBkcmFnIGV2ZW50cyBjYW4gZmFsbCB0aHJvdWdoIHRvIHRoZSBncm91cFxuICAgICAgICAgICAgICAgICAgICAgKiBhbmQgcGFuZWwgZHJvcCB0YXJnZXQgaGFuZGxlcnNcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyZWRFdmVudCA9IG5ldyBEb2Nrdmlld1VuaGFuZGxlZERyYWdPdmVyRXZlbnQoZXZlbnQsICdlZGdlJywgcG9zaXRpb24sIGdldFBhbmVsRGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25VbmhhbmRsZWREcmFnT3ZlckV2ZW50LmZpcmUoZmlyZWRFdmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpcmVkRXZlbnQuaXNBY2NlcHRlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhY2NlcHRlZFRhcmdldFpvbmVzOiBbJ3RvcCcsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcsICdjZW50ZXInXSxcbiAgICAgICAgICAgIG92ZXJsYXlNb2RlbDogKF9jID0gb3B0aW9ucy5yb290T3ZlcmxheU1vZGVsKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBERUZBVUxUX1JPT1RfT1ZFUkxBWV9NT0RFTCxcbiAgICAgICAgICAgIGdldE92ZXJyaWRlVGFyZ2V0OiAoKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IHRoaXMucm9vdERyb3BUYXJnZXRDb250YWluZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tb2RlbDsgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlRHJvcFRhcmdldE1vZGVsKG9wdGlvbnMpO1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLmdyaWR2aWV3LmVsZW1lbnQsICdkdi1kb2NrdmlldycsIHRydWUpO1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLmVsZW1lbnQsICdkdi1kZWJ1ZycsICEhb3B0aW9ucy5kZWJ1Zyk7XG4gICAgICAgIHRoaXMudXBkYXRlVGhlbWUoKTtcbiAgICAgICAgdGhpcy51cGRhdGVXYXRlcm1hcmsoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGVidWcpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXMobmV3IFN0cmljdEV2ZW50c1NlcXVlbmNpbmcodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5yb290RHJvcFRhcmdldENvbnRhaW5lciwgdGhpcy5vdmVybGF5UmVuZGVyQ29udGFpbmVyLCB0aGlzLl9vbldpbGxEcmFnUGFuZWwsIHRoaXMuX29uV2lsbERyYWdHcm91cCwgdGhpcy5fb25XaWxsU2hvd092ZXJsYXksIHRoaXMuX29uRGlkQWN0aXZlUGFuZWxDaGFuZ2UsIHRoaXMuX29uRGlkQWRkUGFuZWwsIHRoaXMuX29uRGlkUmVtb3ZlUGFuZWwsIHRoaXMuX29uRGlkTGF5b3V0RnJvbUpTT04sIHRoaXMuX29uRGlkRHJvcCwgdGhpcy5fb25XaWxsRHJvcCwgdGhpcy5fb25EaWRNb3ZlUGFuZWwsIHRoaXMuX29uRGlkQWRkR3JvdXAsIHRoaXMuX29uRGlkUmVtb3ZlR3JvdXAsIHRoaXMuX29uRGlkQWN0aXZlR3JvdXBDaGFuZ2UsIHRoaXMuX29uVW5oYW5kbGVkRHJhZ092ZXJFdmVudCwgdGhpcy5fb25EaWRNYXhpbWl6ZWRHcm91cENoYW5nZSwgdGhpcy5fb25EaWRPcHRpb25zQ2hhbmdlLCB0aGlzLl9vbkRpZFBvcG91dEdyb3VwU2l6ZUNoYW5nZSwgdGhpcy5fb25EaWRQb3BvdXRHcm91cFBvc2l0aW9uQ2hhbmdlLCB0aGlzLl9vbkRpZE9wZW5Qb3BvdXRXaW5kb3dGYWlsLCB0aGlzLm9uRGlkVmlld1Zpc2liaWxpdHlDaGFuZ2VNaWNyb1Rhc2tRdWV1ZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVdhdGVybWFyaygpO1xuICAgICAgICB9KSwgdGhpcy5vbkRpZEFkZCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbW92aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25EaWRBZGRHcm91cC5maXJlKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIHRoaXMub25EaWRSZW1vdmUoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX21vdmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkUmVtb3ZlR3JvdXAuZmlyZShldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB0aGlzLm9uRGlkQWN0aXZlQ2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9tb3ZpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZEFjdGl2ZUdyb3VwQ2hhbmdlLmZpcmUoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwgdGhpcy5vbkRpZE1heGltaXplZENoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkTWF4aW1pemVkR3JvdXBDaGFuZ2UuZmlyZSh7XG4gICAgICAgICAgICAgICAgZ3JvdXA6IGV2ZW50LnBhbmVsLFxuICAgICAgICAgICAgICAgIGlzTWF4aW1pemVkOiBldmVudC5pc01heGltaXplZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSwgRXZlbnQuYW55KHRoaXMub25EaWRBZGQsIHRoaXMub25EaWRSZW1vdmUpKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlV2F0ZXJtYXJrKCk7XG4gICAgICAgIH0pLCBFdmVudC5hbnkodGhpcy5vbkRpZEFkZFBhbmVsLCB0aGlzLm9uRGlkUmVtb3ZlUGFuZWwsIHRoaXMub25EaWRBZGRHcm91cCwgdGhpcy5vbkRpZFJlbW92ZSwgdGhpcy5vbkRpZE1vdmVQYW5lbCwgdGhpcy5vbkRpZEFjdGl2ZVBhbmVsQ2hhbmdlLCB0aGlzLm9uRGlkUG9wb3V0R3JvdXBQb3NpdGlvbkNoYW5nZSwgdGhpcy5vbkRpZFBvcG91dEdyb3VwU2l6ZUNoYW5nZSkoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVyT25EaWRMYXlvdXRDaGFuZ2UuZmlyZSgpO1xuICAgICAgICB9KSwgRGlzcG9zYWJsZS5mcm9tKCgpID0+IHtcbiAgICAgICAgICAgIC8vIGl0ZXJhdGUgb3ZlciBhIGNvcHkgb2YgdGhlIGFycmF5IHNpbmNlIC5kaXNwb3NlKCkgbXV0YXRlcyB0aGUgb3JpZ2luYWwgYXJyYXlcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgWy4uLnRoaXMuX2Zsb2F0aW5nR3JvdXBzXSkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGl0ZXJhdGUgb3ZlciBhIGNvcHkgb2YgdGhlIGFycmF5IHNpbmNlIC5kaXNwb3NlKCkgbXV0YXRlcyB0aGUgb3JpZ2luYWwgYXJyYXlcbiAgICAgICAgICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgWy4uLnRoaXMuX3BvcG91dEdyb3Vwc10pIHtcbiAgICAgICAgICAgICAgICBncm91cC5kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIHRoaXMuX3Jvb3REcm9wVGFyZ2V0LCB0aGlzLl9yb290RHJvcFRhcmdldC5vbldpbGxTaG93T3ZlcmxheSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmdyaWR2aWV3Lmxlbmd0aCA+IDAgJiYgZXZlbnQucG9zaXRpb24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgLy8gb3B0aW9uIG9ubHkgYXZhaWxhYmxlIHdoZW4gbm8gcGFuZWxzIGluIHByaW1hcnkgZ3JpZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX29uV2lsbFNob3dPdmVybGF5LmZpcmUobmV3IFdpbGxTaG93T3ZlcmxheUxvY2F0aW9uRXZlbnQoZXZlbnQsIHtcbiAgICAgICAgICAgICAgICBraW5kOiAnZWRnZScsXG4gICAgICAgICAgICAgICAgcGFuZWw6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBhcGk6IHRoaXMuX2FwaSxcbiAgICAgICAgICAgICAgICBncm91cDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGdldERhdGE6IGdldFBhbmVsRGF0YSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSksIHRoaXMuX3Jvb3REcm9wVGFyZ2V0Lm9uRHJvcCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnN0IHdpbGxEcm9wRXZlbnQgPSBuZXcgRG9ja3ZpZXdXaWxsRHJvcEV2ZW50KHtcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudDogZXZlbnQubmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGV2ZW50LnBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHBhbmVsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgYXBpOiB0aGlzLl9hcGksXG4gICAgICAgICAgICAgICAgZ3JvdXA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBnZXREYXRhOiBnZXRQYW5lbERhdGEsXG4gICAgICAgICAgICAgICAga2luZDogJ2VkZ2UnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9vbldpbGxEcm9wLmZpcmUod2lsbERyb3BFdmVudCk7XG4gICAgICAgICAgICBpZiAod2lsbERyb3BFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGdldFBhbmVsRGF0YSgpO1xuICAgICAgICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVHcm91cE9yUGFuZWwoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cElkOiBkYXRhLmdyb3VwSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYW5lbElkOiAoX2EgPSBkYXRhLnBhbmVsSWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwOiB0aGlzLm9ydGhvZ29uYWxpemUoZXZlbnQucG9zaXRpb24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25EaWREcm9wLmZpcmUobmV3IERvY2t2aWV3RGlkRHJvcEV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQ6IGV2ZW50Lm5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogZXZlbnQucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHBhbmVsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGFwaTogdGhpcy5fYXBpLFxuICAgICAgICAgICAgICAgICAgICBncm91cDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBnZXREYXRhOiBnZXRQYW5lbERhdGEsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwgdGhpcy5fcm9vdERyb3BUYXJnZXQpO1xuICAgIH1cbiAgICBzZXRWaXNpYmxlKHBhbmVsLCB2aXNpYmxlKSB7XG4gICAgICAgIHN3aXRjaCAocGFuZWwuYXBpLmxvY2F0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2dyaWQnOlxuICAgICAgICAgICAgICAgIHN1cGVyLnNldFZpc2libGUocGFuZWwsIHZpc2libGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZmxvYXRpbmcnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuZmxvYXRpbmdHcm91cHMuZmluZCgoZmxvYXRpbmdHcm91cCkgPT4gZmxvYXRpbmdHcm91cC5ncm91cCA9PT0gcGFuZWwpO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0ub3ZlcmxheS5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICAgICAgICAgICAgICBwYW5lbC5hcGkuX29uRGlkVmlzaWJpbGl0eUNoYW5nZS5maXJlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogdmlzaWJsZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAncG9wb3V0JzpcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2RvY2t2aWV3OiBZb3UgY2Fubm90IGhpZGUgYSBncm91cCB0aGF0IGlzIGluIGEgcG9wb3V0IHdpbmRvdycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFBvcG91dEdyb3VwKGl0ZW1Ub1BvcG91dCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICBpZiAoaXRlbVRvUG9wb3V0IGluc3RhbmNlb2YgRG9ja3ZpZXdQYW5lbCAmJlxuICAgICAgICAgICAgaXRlbVRvUG9wb3V0Lmdyb3VwLnNpemUgPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZFBvcG91dEdyb3VwKGl0ZW1Ub1BvcG91dC5ncm91cCwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGhlbWUgPSBnZXREb2Nrdmlld1RoZW1lKHRoaXMuZ3JpZHZpZXcuZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgIGZ1bmN0aW9uIGdldEJveCgpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdGVtVG9Qb3BvdXQgaW5zdGFuY2VvZiBEb2Nrdmlld0dyb3VwUGFuZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbVRvUG9wb3V0LmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXRlbVRvUG9wb3V0Lmdyb3VwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1Ub1BvcG91dC5ncm91cC5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYm94ID0gZ2V0Qm94KCk7XG4gICAgICAgIGNvbnN0IGdyb3VwSWQgPSAoX2IgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMub3ZlcnJpZGVQb3BvdXRHcm91cCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmdldE5leHRHcm91cElkKCk7XG4gICAgICAgIGNvbnN0IF93aW5kb3cgPSBuZXcgUG9wb3V0V2luZG93KGAke3RoaXMuaWR9LSR7Z3JvdXBJZH1gLCAvLyB1bmlxdWUgaWRcbiAgICAgICAgdGhlbWUgIT09IG51bGwgJiYgdGhlbWUgIT09IHZvaWQgMCA/IHRoZW1lIDogJycsIHtcbiAgICAgICAgICAgIHVybDogKF9lID0gKF9jID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnBvcG91dFVybCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogKF9kID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QucG9wb3V0VXJsKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAnL3BvcG91dC5odG1sJyxcbiAgICAgICAgICAgIGxlZnQ6IHdpbmRvdy5zY3JlZW5YICsgYm94LmxlZnQsXG4gICAgICAgICAgICB0b3A6IHdpbmRvdy5zY3JlZW5ZICsgYm94LnRvcCxcbiAgICAgICAgICAgIHdpZHRoOiBib3gud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGJveC5oZWlnaHQsXG4gICAgICAgICAgICBvbkRpZE9wZW46IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vbkRpZE9wZW4sXG4gICAgICAgICAgICBvbldpbGxDbG9zZTogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm9uV2lsbENsb3NlLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcG9wb3V0V2luZG93RGlzcG9zYWJsZSA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKF93aW5kb3csIF93aW5kb3cub25EaWRDbG9zZSgoKSA9PiB7XG4gICAgICAgICAgICBwb3BvdXRXaW5kb3dEaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gX3dpbmRvd1xuICAgICAgICAgICAgLm9wZW4oKVxuICAgICAgICAgICAgLnRoZW4oKHBvcG91dENvbnRhaW5lcikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKF93aW5kb3cuaXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZUdyb3VwID0gKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yZWZlcmVuY2VHcm91cClcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMucmVmZXJlbmNlR3JvdXBcbiAgICAgICAgICAgICAgICA6IGl0ZW1Ub1BvcG91dCBpbnN0YW5jZW9mIERvY2t2aWV3UGFuZWxcbiAgICAgICAgICAgICAgICAgICAgPyBpdGVtVG9Qb3BvdXQuZ3JvdXBcbiAgICAgICAgICAgICAgICAgICAgOiBpdGVtVG9Qb3BvdXQ7XG4gICAgICAgICAgICBjb25zdCByZWZlcmVuY2VMb2NhdGlvbiA9IGl0ZW1Ub1BvcG91dC5hcGkubG9jYXRpb24udHlwZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIGdyb3VwIHRoYXQgaXMgYmVpbmcgYWRkZWQgZG9lc24ndCBhbHJlYWR5IGV4aXN0IHdpdGhpbiB0aGUgRE9NLCB0aGUgbW9zdCBsaWtlbHkgb2NjdXJyZW5jZVxuICAgICAgICAgICAgICogb2YgdGhpcyBjYXNlIGlzIHdoZW4gYmVpbmcgY2FsbGVkIGZyb20gdGhlIGBmcm9tSlNPTiguLi4pYCBtZXRob2RcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgY29uc3QgaXNHcm91cEFkZGVkVG9Eb20gPSByZWZlcmVuY2VHcm91cC5lbGVtZW50LnBhcmVudEVsZW1lbnQgIT09IG51bGw7XG4gICAgICAgICAgICBsZXQgZ3JvdXA7XG4gICAgICAgICAgICBpZiAoIWlzR3JvdXBBZGRlZFRvRG9tKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAgPSByZWZlcmVuY2VHcm91cDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vdmVycmlkZVBvcG91dEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXAgPSBvcHRpb25zLm92ZXJyaWRlUG9wb3V0R3JvdXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBncm91cCA9IHRoaXMuY3JlYXRlR3JvdXAoeyBpZDogZ3JvdXBJZCB9KTtcbiAgICAgICAgICAgICAgICBpZiAocG9wb3V0Q29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkQWRkR3JvdXAuZmlyZShncm91cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvcG91dENvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2RvY2t2aWV3OiBmYWlsZWQgdG8gY3JlYXRlIHBvcG91dC4gcGVyaGFwcyB5b3UgbmVlZCB0byBhbGxvdyBwb3AtdXBzIGZvciB0aGlzIHdlYnNpdGUnKTtcbiAgICAgICAgICAgICAgICBwb3BvdXRXaW5kb3dEaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZE9wZW5Qb3BvdXRXaW5kb3dGYWlsLmZpcmUoKTtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgcG9wb3V0IHdpbmRvdyB3YXMgYmxvY2tlZCwgd2UgbmVlZCB0byBtb3ZlIHRoZSBncm91cCBiYWNrIHRvIHRoZSByZWZlcmVuY2UgZ3JvdXBcbiAgICAgICAgICAgICAgICAvLyBhbmQgc2V0IGl0IHRvIHZpc2libGVcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmluZ0xvY2soKCkgPT4gbW92ZUdyb3VwV2l0aG91dERlc3Ryb3lpbmcoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBncm91cCxcbiAgICAgICAgICAgICAgICAgICAgdG86IHJlZmVyZW5jZUdyb3VwLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZmVyZW5jZUdyb3VwLmFwaS5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmZXJlbmNlR3JvdXAuYXBpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGdyZWFkeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZ3JlYWR5LmNsYXNzTmFtZSA9ICdkdi1vdmVybGF5LXJlbmRlci1jb250YWluZXInO1xuICAgICAgICAgICAgY29uc3Qgb3ZlcmxheVJlbmRlckNvbnRhaW5lciA9IG5ldyBPdmVybGF5UmVuZGVyQ29udGFpbmVyKGdyZWFkeSwgdGhpcyk7XG4gICAgICAgICAgICBncm91cC5tb2RlbC5yZW5kZXJDb250YWluZXIgPSBvdmVybGF5UmVuZGVyQ29udGFpbmVyO1xuICAgICAgICAgICAgZ3JvdXAubGF5b3V0KF93aW5kb3cud2luZG93LmlubmVyV2lkdGgsIF93aW5kb3cud2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgICAgICAgIGxldCBmbG9hdGluZ0JveDtcbiAgICAgICAgICAgIGlmICghKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vdmVycmlkZVBvcG91dEdyb3VwKSAmJiBpc0dyb3VwQWRkZWRUb0RvbSkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtVG9Qb3BvdXQgaW5zdGFuY2VvZiBEb2Nrdmlld1BhbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92aW5nTG9jaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYW5lbCA9IHJlZmVyZW5jZUdyb3VwLm1vZGVsLnJlbW92ZVBhbmVsKGl0ZW1Ub1BvcG91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cC5tb2RlbC5vcGVuUGFuZWwocGFuZWwpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92aW5nTG9jaygoKSA9PiBtb3ZlR3JvdXBXaXRob3V0RGVzdHJveWluZyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiByZWZlcmVuY2VHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvOiBncm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlZmVyZW5jZUxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdncmlkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VHcm91cC5hcGkuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdmbG9hdGluZyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdwb3BvdXQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0aW5nQm94ID0gKF9hID0gdGhpcy5fZmxvYXRpbmdHcm91cHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoKHZhbHVlKSA9PiB2YWx1ZS5ncm91cC5hcGkuaWQgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1Ub1BvcG91dC5hcGkuaWQpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3ZlcmxheS50b0pTT04oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUdyb3VwKHJlZmVyZW5jZUdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvcG91dENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdkdi1kb2NrdmlldycpO1xuICAgICAgICAgICAgcG9wb3V0Q29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICBwb3BvdXRDb250YWluZXIuYXBwZW5kQ2hpbGQoZ3JlYWR5KTtcbiAgICAgICAgICAgIHBvcG91dENvbnRhaW5lci5hcHBlbmRDaGlsZChncm91cC5lbGVtZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgY29uc3QgZHJvcFRhcmdldENvbnRhaW5lciA9IG5ldyBEcm9wVGFyZ2V0QW5jaG9yQ29udGFpbmVyKGFuY2hvciwgeyBkaXNhYmxlZDogdGhpcy5yb290RHJvcFRhcmdldENvbnRhaW5lci5kaXNhYmxlZCB9KTtcbiAgICAgICAgICAgIHBvcG91dENvbnRhaW5lci5hcHBlbmRDaGlsZChhbmNob3IpO1xuICAgICAgICAgICAgZ3JvdXAubW9kZWwuZHJvcFRhcmdldENvbnRhaW5lciA9IGRyb3BUYXJnZXRDb250YWluZXI7XG4gICAgICAgICAgICBncm91cC5tb2RlbC5sb2NhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAncG9wb3V0JyxcbiAgICAgICAgICAgICAgICBnZXRXaW5kb3c6ICgpID0+IF93aW5kb3cud2luZG93LFxuICAgICAgICAgICAgICAgIHBvcG91dFVybDogb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnBvcG91dFVybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoaXNHcm91cEFkZGVkVG9Eb20gJiZcbiAgICAgICAgICAgICAgICBpdGVtVG9Qb3BvdXQuYXBpLmxvY2F0aW9uLnR5cGUgPT09ICdncmlkJykge1xuICAgICAgICAgICAgICAgIGl0ZW1Ub1BvcG91dC5hcGkuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRvU2V0R3JvdXBBbmRQYW5lbEFjdGl2ZShncm91cCk7XG4gICAgICAgICAgICBwb3BvdXRXaW5kb3dEaXNwb3NhYmxlLmFkZERpc3Bvc2FibGVzKGdyb3VwLmFwaS5vbkRpZEFjdGl2ZUNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IF93aW5kb3cud2luZG93KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgZ3JvdXAuYXBpLm9uV2lsbEZvY3VzKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gX3dpbmRvdy53aW5kb3cpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cygpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgbGV0IHJldHVybmVkR3JvdXA7XG4gICAgICAgICAgICBjb25zdCBpc1ZhbGlkUmVmZXJlbmNlR3JvdXAgPSBpc0dyb3VwQWRkZWRUb0RvbSAmJlxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZUdyb3VwICYmXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRQYW5lbChyZWZlcmVuY2VHcm91cC5pZCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHtcbiAgICAgICAgICAgICAgICB3aW5kb3c6IF93aW5kb3csXG4gICAgICAgICAgICAgICAgcG9wb3V0R3JvdXA6IGdyb3VwLFxuICAgICAgICAgICAgICAgIHJlZmVyZW5jZUdyb3VwOiBpc1ZhbGlkUmVmZXJlbmNlR3JvdXBcbiAgICAgICAgICAgICAgICAgICAgPyByZWZlcmVuY2VHcm91cC5pZFxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBkaXNwb3NhYmxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3Bvc2U6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcG91dFdpbmRvd0Rpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVybmVkR3JvdXA7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBfb25EaWRXaW5kb3dQb3NpdGlvbkNoYW5nZSA9IG9uRGlkV2luZG93TW92ZUVuZChfd2luZG93LndpbmRvdyk7XG4gICAgICAgICAgICBwb3BvdXRXaW5kb3dEaXNwb3NhYmxlLmFkZERpc3Bvc2FibGVzKF9vbkRpZFdpbmRvd1Bvc2l0aW9uQ2hhbmdlLCBvbkRpZFdpbmRvd1Jlc2l6ZUVuZChfd2luZG93LndpbmRvdywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkUG9wb3V0R3JvdXBTaXplQ2hhbmdlLmZpcmUoe1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogX3dpbmRvdy53aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBfd2luZG93LndpbmRvdy5pbm5lckhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSwgX29uRGlkV2luZG93UG9zaXRpb25DaGFuZ2UuZXZlbnQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkUG9wb3V0R3JvdXBQb3NpdGlvbkNoYW5nZS5maXJlKHtcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuWDogX3dpbmRvdy53aW5kb3cuc2NyZWVuWCxcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuWTogX3dpbmRvdy53aW5kb3cuc2NyZWVuWCxcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSwgXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlc2l6ZU9ic2VydmVyIHNlZW1zIHNsb3cgaGVyZSwgSSBkbyBub3Qga25vdyB3aHkgYnV0IHdlIGRvbid0IG5lZWQgaXRcbiAgICAgICAgICAgICAqIHNpbmNlIHdlIGNhbiByZXBseSBvbiB0aGUgd2luZG93IHJlc2l6ZSBldmVudCBhcyB3ZSB3aWxsIG9jY3VweSB0aGUgZnVsbFxuICAgICAgICAgICAgICogd2luZG93IGRpbWVuc2lvbnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYWRkRGlzcG9zYWJsZUxpc3RlbmVyKF93aW5kb3cud2luZG93LCAncmVzaXplJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGdyb3VwLmxheW91dChfd2luZG93LndpbmRvdy5pbm5lcldpZHRoLCBfd2luZG93LndpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgICAgICAgICB9KSwgb3ZlcmxheVJlbmRlckNvbnRhaW5lciwgRGlzcG9zYWJsZS5mcm9tKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gY2xlYW51cCBtYXkgcnVuIGFmdGVyIGluc3RhbmNlIGlzIGRpc3Bvc2VkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0dyb3VwQWRkZWRUb0RvbSAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBhbmVsKHJlZmVyZW5jZUdyb3VwLmlkKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmluZ0xvY2soKCkgPT4gbW92ZUdyb3VwV2l0aG91dERlc3Ryb3lpbmcoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogZ3JvdXAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogcmVmZXJlbmNlR3JvdXAsXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2VHcm91cC5hcGkuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VHcm91cC5hcGkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRQYW5lbChncm91cC5pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9SZW1vdmVHcm91cChncm91cCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBQb3BvdXRBc3NvY2lhdGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5nZXRQYW5lbChncm91cC5pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAubW9kZWwucmVuZGVyQ29udGFpbmVyID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3ZlcmxheVJlbmRlckNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAubW9kZWwuZHJvcFRhcmdldENvbnRhaW5lciA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3REcm9wVGFyZ2V0Q29udGFpbmVyO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5lZEdyb3VwID0gZ3JvdXA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFscmVhZHlSZW1vdmVkID0gIXRoaXMuX3BvcG91dEdyb3Vwcy5maW5kKChwKSA9PiBwLnBvcG91dEdyb3VwID09PSBncm91cCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHJlYWR5UmVtb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBJZiB0aGlzIHBvcG91dCBncm91cCB3YXMgZXhwbGljaXRseSByZW1vdmVkIHRoZW4gd2Ugc2hvdWxkbid0IHJ1biB0aGUgYWRkaXRpb25hbFxuICAgICAgICAgICAgICAgICAgICAgICAgICogc3RlcHMuIFRvIHRlbGwgaWYgdGhlIHJ1bm5pbmcgb2YgdGhpcyBkaXNwb3NhYmxlIGlzIHRoZSByZXN1bHQgb2YgdGhpcyBwb3BvdXQgZ3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGJlaW5nIGV4cGxpY2l0bHkgcmVtb3ZlZCB3ZSBjYW4gY2hlY2sgaWYgdGhpcyBwb3BvdXQgZ3JvdXAgaXMgc3RpbGwgcmVmZXJlbmNlZCBpblxuICAgICAgICAgICAgICAgICAgICAgICAgICogdGhlIGB0aGlzLl9wb3BvdXRHcm91cHNgIGxpc3QuXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZmxvYXRpbmdCb3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRmxvYXRpbmdHcm91cChncm91cCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogZmxvYXRpbmdCb3guaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBmbG9hdGluZ0JveC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogZmxvYXRpbmdCb3gsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9SZW1vdmVHcm91cChncm91cCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBEaXNwb3NlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBBY3RpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFBvcG91dFJldHVybjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAubW9kZWwubG9jYXRpb24gPSB7IHR5cGU6ICdncmlkJyB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZpbmdMb2NrKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdXBwcmVzcyBncm91cCBhZGQgZXZlbnRzIHNpbmNlIHRoZSBncm91cCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZG9BZGRHcm91cChncm91cCwgWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9TZXRHcm91cEFuZFBhbmVsQWN0aXZlKGdyb3VwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB0aGlzLl9wb3BvdXRHcm91cHMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVdhdGVybWFyaygpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG9ja3ZpZXc6IGZhaWxlZCB0byBjcmVhdGUgcG9wb3V0LicsIGVycik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZGRGbG9hdGluZ0dyb3VwKGl0ZW0sIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgbGV0IGdyb3VwO1xuICAgICAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIERvY2t2aWV3UGFuZWwpIHtcbiAgICAgICAgICAgIGdyb3VwID0gdGhpcy5jcmVhdGVHcm91cCgpO1xuICAgICAgICAgICAgdGhpcy5fb25EaWRBZGRHcm91cC5maXJlKGdyb3VwKTtcbiAgICAgICAgICAgIHRoaXMubW92aW5nTG9jaygoKSA9PiB0aGlzLnJlbW92ZVBhbmVsKGl0ZW0sIHtcbiAgICAgICAgICAgICAgICByZW1vdmVFbXB0eUdyb3VwOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNraXBEaXNwb3NlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNraXBTZXRBY3RpdmVHcm91cDogdHJ1ZSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHRoaXMubW92aW5nTG9jaygoKSA9PiBncm91cC5tb2RlbC5vcGVuUGFuZWwoaXRlbSwgeyBza2lwU2V0R3JvdXBBY3RpdmU6IHRydWUgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ3JvdXAgPSBpdGVtO1xuICAgICAgICAgICAgY29uc3QgcG9wb3V0UmVmZXJlbmNlR3JvdXBJZCA9IChfYSA9IHRoaXMuX3BvcG91dEdyb3Vwcy5maW5kKChfKSA9PiBfLnBvcG91dEdyb3VwID09PSBncm91cCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZWZlcmVuY2VHcm91cDtcbiAgICAgICAgICAgIGNvbnN0IHBvcG91dFJlZmVyZW5jZUdyb3VwID0gcG9wb3V0UmVmZXJlbmNlR3JvdXBJZFxuICAgICAgICAgICAgICAgID8gdGhpcy5nZXRQYW5lbChwb3BvdXRSZWZlcmVuY2VHcm91cElkKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3Qgc2tpcCA9IHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNraXBSZW1vdmVHcm91cCkgPT09ICdib29sZWFuJyAmJlxuICAgICAgICAgICAgICAgIG9wdGlvbnMuc2tpcFJlbW92ZUdyb3VwO1xuICAgICAgICAgICAgaWYgKCFza2lwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvcG91dFJlZmVyZW5jZUdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92aW5nTG9jaygoKSA9PiBtb3ZlR3JvdXBXaXRob3V0RGVzdHJveWluZyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IHBvcG91dFJlZmVyZW5jZUdyb3VwLFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9SZW1vdmVHcm91cChpdGVtLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwUG9wb3V0UmV0dXJuOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFBvcG91dEFzc29jaWF0ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvUmVtb3ZlR3JvdXAocG9wb3V0UmVmZXJlbmNlR3JvdXAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBEaXNwb3NlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAgPSBwb3BvdXRSZWZlcmVuY2VHcm91cDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9SZW1vdmVHcm91cChpdGVtLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwRGlzcG9zZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBQb3BvdXRSZXR1cm46IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwUG9wb3V0QXNzb2NpYXRlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRBbmNob3JlZEJveCgpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoJ2xlZnQnIGluIG9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmxlZnQgPSBNYXRoLm1heChvcHRpb25zLnBvc2l0aW9uLmxlZnQsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgncmlnaHQnIGluIG9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnJpZ2h0ID0gTWF0aC5tYXgob3B0aW9ucy5wb3NpdGlvbi5yaWdodCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQubGVmdCA9IERFRkFVTFRfRkxPQVRJTkdfR1JPVVBfUE9TSVRJT04ubGVmdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCd0b3AnIGluIG9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRvcCA9IE1hdGgubWF4KG9wdGlvbnMucG9zaXRpb24udG9wLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoJ2JvdHRvbScgaW4gb3B0aW9ucy5wb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuYm90dG9tID0gTWF0aC5tYXgob3B0aW9ucy5wb3NpdGlvbi5ib3R0b20sIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRvcCA9IERFRkFVTFRfRkxPQVRJTkdfR1JPVVBfUE9TSVRJT04udG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMud2lkdGggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC53aWR0aCA9IE1hdGgubWF4KG9wdGlvbnMud2lkdGgsIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LndpZHRoID0gREVGQVVMVF9GTE9BVElOR19HUk9VUF9QT1NJVElPTi53aWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmhlaWdodCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmhlaWdodCA9IE1hdGgubWF4KG9wdGlvbnMuaGVpZ2h0LCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5oZWlnaHQgPSBERUZBVUxUX0ZMT0FUSU5HX0dST1VQX1BPU0lUSU9OLmhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbGVmdDogdHlwZW9mIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMueCkgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgICAgID8gTWF0aC5tYXgob3B0aW9ucy54LCAwKVxuICAgICAgICAgICAgICAgICAgICA6IERFRkFVTFRfRkxPQVRJTkdfR1JPVVBfUE9TSVRJT04ubGVmdCxcbiAgICAgICAgICAgICAgICB0b3A6IHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnkpID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWF4KG9wdGlvbnMueSwgMClcbiAgICAgICAgICAgICAgICAgICAgOiBERUZBVUxUX0ZMT0FUSU5HX0dST1VQX1BPU0lUSU9OLnRvcCxcbiAgICAgICAgICAgICAgICB3aWR0aDogdHlwZW9mIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMud2lkdGgpID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWF4KG9wdGlvbnMud2lkdGgsIDApXG4gICAgICAgICAgICAgICAgICAgIDogREVGQVVMVF9GTE9BVElOR19HUk9VUF9QT1NJVElPTi53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmhlaWdodCkgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgICAgID8gTWF0aC5tYXgob3B0aW9ucy5oZWlnaHQsIDApXG4gICAgICAgICAgICAgICAgICAgIDogREVGQVVMVF9GTE9BVElOR19HUk9VUF9QT1NJVElPTi5oZWlnaHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFuY2hvcmVkQm94ID0gZ2V0QW5jaG9yZWRCb3goKTtcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IG5ldyBPdmVybGF5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IGNvbnRhaW5lcjogdGhpcy5ncmlkdmlldy5lbGVtZW50LCBjb250ZW50OiBncm91cC5lbGVtZW50IH0sIGFuY2hvcmVkQm94KSwgeyBtaW5pbXVtSW5WaWV3cG9ydFdpZHRoOiB0aGlzLm9wdGlvbnMuZmxvYXRpbmdHcm91cEJvdW5kcyA9PT0gJ2JvdW5kZWRXaXRoaW5WaWV3cG9ydCdcbiAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIDogKF9jID0gKF9iID0gdGhpcy5vcHRpb25zLmZsb2F0aW5nR3JvdXBCb3VuZHMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5taW5pbXVtV2lkdGhXaXRoaW5WaWV3cG9ydCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogREVGQVVMVF9GTE9BVElOR19HUk9VUF9PVkVSRkxPV19TSVpFLCBtaW5pbXVtSW5WaWV3cG9ydEhlaWdodDogdGhpcy5vcHRpb25zLmZsb2F0aW5nR3JvdXBCb3VuZHMgPT09ICdib3VuZGVkV2l0aGluVmlld3BvcnQnXG4gICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA6IChfZSA9IChfZCA9IHRoaXMub3B0aW9ucy5mbG9hdGluZ0dyb3VwQm91bmRzKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QubWluaW11bUhlaWdodFdpdGhpblZpZXdwb3J0KSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBERUZBVUxUX0ZMT0FUSU5HX0dST1VQX09WRVJGTE9XX1NJWkUgfSkpO1xuICAgICAgICBjb25zdCBlbCA9IGdyb3VwLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmR2LXZvaWQtY29udGFpbmVyJyk7XG4gICAgICAgIGlmICghZWwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIGZpbmQgZHJhZyBoYW5kbGUnKTtcbiAgICAgICAgfVxuICAgICAgICBvdmVybGF5LnNldHVwRHJhZyhlbCwge1xuICAgICAgICAgICAgaW5EcmFnTW9kZTogdHlwZW9mIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuaW5EcmFnTW9kZSkgPT09ICdib29sZWFuJ1xuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5pbkRyYWdNb2RlXG4gICAgICAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGZsb2F0aW5nR3JvdXBQYW5lbCA9IG5ldyBEb2Nrdmlld0Zsb2F0aW5nR3JvdXBQYW5lbChncm91cCwgb3ZlcmxheSk7XG4gICAgICAgIGNvbnN0IGRpc3Bvc2FibGUgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZShncm91cC5hcGkub25EaWRBY3RpdmVDaGFuZ2UoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBvdmVybGF5LmJyaW5nVG9Gcm9udCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwgd2F0Y2hFbGVtZW50UmVzaXplKGdyb3VwLmVsZW1lbnQsIChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBlbnRyeS5jb250ZW50UmVjdDtcbiAgICAgICAgICAgIGdyb3VwLmxheW91dCh3aWR0aCwgaGVpZ2h0KTsgLy8gbGV0IHRoZSBncm91cCBrbm93IGl0J3Mgc2l6ZSBpcyBjaGFuZ2luZyBzbyBpdCBjYW4gZmlyZSBldmVudHMgdG8gdGhlIHBhbmVsXG4gICAgICAgIH0pKTtcbiAgICAgICAgZmxvYXRpbmdHcm91cFBhbmVsLmFkZERpc3Bvc2FibGVzKG92ZXJsYXkub25EaWRDaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBlaXRoZXIgYSByZXNpemUgb3IgYSBtb3ZlXG4gICAgICAgICAgICAvLyB0byBpbmZvcm0gdGhlIHBhbmVscyAubGF5b3V0KC4uLikgdGhlIGdyb3VwIHdpdGggaXQncyBjdXJyZW50IHNpemVcbiAgICAgICAgICAgIC8vIGRvbid0IGNhcmUgYWJvdXQgcmVzaXplIHNpbmNlIHRoZSBhYm92ZSB3YXRjaGVyIGhhbmRsZXMgdGhhdFxuICAgICAgICAgICAgZ3JvdXAubGF5b3V0KGdyb3VwLndpZHRoLCBncm91cC5oZWlnaHQpO1xuICAgICAgICB9KSwgb3ZlcmxheS5vbkRpZENoYW5nZUVuZCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJPbkRpZExheW91dENoYW5nZS5maXJlKCk7XG4gICAgICAgIH0pLCBncm91cC5vbkRpZENoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIG92ZXJsYXkuc2V0Qm91bmRzKHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGV2ZW50ID09PSBudWxsIHx8IGV2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldmVudC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IGV2ZW50ID09PSBudWxsIHx8IGV2ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldmVudC53aWR0aCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSwge1xuICAgICAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHJlbW92ZSh0aGlzLl9mbG9hdGluZ0dyb3VwcywgZmxvYXRpbmdHcm91cFBhbmVsKTtcbiAgICAgICAgICAgICAgICBncm91cC5tb2RlbC5sb2NhdGlvbiA9IHsgdHlwZTogJ2dyaWQnIH07XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVXYXRlcm1hcmsoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9mbG9hdGluZ0dyb3Vwcy5wdXNoKGZsb2F0aW5nR3JvdXBQYW5lbCk7XG4gICAgICAgIGdyb3VwLm1vZGVsLmxvY2F0aW9uID0geyB0eXBlOiAnZmxvYXRpbmcnIH07XG4gICAgICAgIGlmICghKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5za2lwQWN0aXZlR3JvdXApKSB7XG4gICAgICAgICAgICB0aGlzLmRvU2V0R3JvdXBBbmRQYW5lbEFjdGl2ZShncm91cCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVXYXRlcm1hcmsoKTtcbiAgICB9XG4gICAgb3J0aG9nb25hbGl6ZShwb3NpdGlvbiwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmdyaWR2aWV3Lm5vcm1hbGl6ZSgpO1xuICAgICAgICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ncmlkdmlldy5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGFkZCB0byBhIHZlcnRpY2FsIHNwbGl0dmlldyBidXQgdGhlIGN1cnJlbnQgcm9vdCBpcyBhIGhvcml6b250YWwgc3BsaXR2aWV3LlxuICAgICAgICAgICAgICAgICAgICAvLyBpbnNlcnQgYSB2ZXJ0aWNhbCBzcGxpdHZpZXcgYXQgdGhlIHJvb3QgbGV2ZWwgYW5kIGFkZCB0aGUgZXhpc3RpbmcgdmlldyBhcyBhIGNoaWxkXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZHZpZXcuaW5zZXJ0T3J0aG9nb25hbFNwbGl0dmlld0F0Um9vdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdyaWR2aWV3Lm9yaWVudGF0aW9uID09PSBPcmllbnRhdGlvbi5WRVJUSUNBTCkge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGFkZCB0byBhIGhvcml6b250YWwgc3BsaXR2aWV3IGJ1dCB0aGUgY3VycmVudCByb290IGlzIGEgdmVydGljYWwgc3BsaXR2aWV3LlxuICAgICAgICAgICAgICAgICAgICAvLyBpbnNlcnQgYSBob3JpemlvbnRhbCBzcGxpdHZpZXcgYXQgdGhlIHJvb3QgbGV2ZWwgYW5kIGFkZCB0aGUgZXhpc3RpbmcgdmlldyBhcyBhIGNoaWxkXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ3JpZHZpZXcuaW5zZXJ0T3J0aG9nb25hbFNwbGl0dmlld0F0Um9vdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChwb3NpdGlvbikge1xuICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVHcm91cEF0TG9jYXRpb24oWzBdLCB1bmRlZmluZWQsIG9wdGlvbnMpOyAvLyBpbnNlcnQgaW50byBmaXJzdCBwb3NpdGlvblxuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVHcm91cEF0TG9jYXRpb24oW3RoaXMuZ3JpZHZpZXcubGVuZ3RoXSwgdW5kZWZpbmVkLCBvcHRpb25zKTsgLy8gaW5zZXJ0IGludG8gbGFzdCBwb3NpdGlvblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVuc3VwcG9ydGVkIHBvc2l0aW9uICR7cG9zaXRpb259YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHN1cGVyLnVwZGF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIGlmICgnZmxvYXRpbmdHcm91cEJvdW5kcycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiB0aGlzLl9mbG9hdGluZ0dyb3Vwcykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAob3B0aW9ucy5mbG9hdGluZ0dyb3VwQm91bmRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvdW5kZWRXaXRoaW5WaWV3cG9ydCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cC5vdmVybGF5Lm1pbmltdW1JblZpZXdwb3J0SGVpZ2h0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAub3ZlcmxheS5taW5pbXVtSW5WaWV3cG9ydFdpZHRoID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAub3ZlcmxheS5taW5pbXVtSW5WaWV3cG9ydEhlaWdodCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgREVGQVVMVF9GTE9BVElOR19HUk9VUF9PVkVSRkxPV19TSVpFO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAub3ZlcmxheS5taW5pbXVtSW5WaWV3cG9ydFdpZHRoID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBERUZBVUxUX0ZMT0FUSU5HX0dST1VQX09WRVJGTE9XX1NJWkU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwLm92ZXJsYXkubWluaW11bUluVmlld3BvcnRIZWlnaHQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IG9wdGlvbnMuZmxvYXRpbmdHcm91cEJvdW5kcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1pbmltdW1IZWlnaHRXaXRoaW5WaWV3cG9ydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwLm92ZXJsYXkubWluaW11bUluVmlld3BvcnRXaWR0aCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0gb3B0aW9ucy5mbG9hdGluZ0dyb3VwQm91bmRzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubWluaW11bVdpZHRoV2l0aGluVmlld3BvcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyb3VwLm92ZXJsYXkuc2V0Qm91bmRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVEcm9wVGFyZ2V0TW9kZWwob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG9sZERpc2FibGVEbmQgPSB0aGlzLm9wdGlvbnMuZGlzYWJsZURuZDtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG5ld0Rpc2FibGVEbmQgPSB0aGlzLm9wdGlvbnMuZGlzYWJsZURuZDtcbiAgICAgICAgaWYgKG9sZERpc2FibGVEbmQgIT09IG5ld0Rpc2FibGVEbmQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRHJhZ0FuZERyb3BTdGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgndGhlbWUnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGhlbWUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheW91dCh0aGlzLmdyaWR2aWV3LndpZHRoLCB0aGlzLmdyaWR2aWV3LmhlaWdodCwgdHJ1ZSk7XG4gICAgfVxuICAgIGxheW91dCh3aWR0aCwgaGVpZ2h0LCBmb3JjZVJlc2l6ZSkge1xuICAgICAgICBzdXBlci5sYXlvdXQod2lkdGgsIGhlaWdodCwgZm9yY2VSZXNpemUpO1xuICAgICAgICBpZiAodGhpcy5fZmxvYXRpbmdHcm91cHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZmxvYXRpbmcgb2YgdGhpcy5fZmxvYXRpbmdHcm91cHMpIHtcbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgZmxvdGluZyBncm91cHMgc3RheSB3aXRoaW4gdmlzaWJsZSBib3VuZGFyaWVzXG4gICAgICAgICAgICAgICAgZmxvYXRpbmcub3ZlcmxheS5zZXRCb3VuZHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVEcmFnQW5kRHJvcFN0YXRlKCkge1xuICAgICAgICAvLyBVcGRhdGUgZHJhZ2dhYmxlIHN0YXRlIGZvciBhbGwgdGFicyBhbmQgdm9pZCBjb250YWluZXJzXG4gICAgICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgdGhpcy5ncm91cHMpIHtcbiAgICAgICAgICAgIGdyb3VwLm1vZGVsLnVwZGF0ZURyYWdBbmREcm9wU3RhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb2N1cygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmFjdGl2ZUdyb3VwKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9jdXMoKTtcbiAgICB9XG4gICAgZ2V0R3JvdXBQYW5lbChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYW5lbHMuZmluZCgocGFuZWwpID0+IHBhbmVsLmlkID09PSBpZCk7XG4gICAgfVxuICAgIHNldEFjdGl2ZVBhbmVsKHBhbmVsKSB7XG4gICAgICAgIHBhbmVsLmdyb3VwLm1vZGVsLm9wZW5QYW5lbChwYW5lbCk7XG4gICAgICAgIHRoaXMuZG9TZXRHcm91cEFuZFBhbmVsQWN0aXZlKHBhbmVsLmdyb3VwKTtcbiAgICB9XG4gICAgbW92ZVRvTmV4dChvcHRpb25zID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIW9wdGlvbnMuZ3JvdXApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5hY3RpdmVHcm91cCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMuZ3JvdXAgPSB0aGlzLmFjdGl2ZUdyb3VwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmluY2x1ZGVQYW5lbCAmJiBvcHRpb25zLmdyb3VwKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5ncm91cC5hY3RpdmVQYW5lbCAhPT1cbiAgICAgICAgICAgICAgICBvcHRpb25zLmdyb3VwLnBhbmVsc1tvcHRpb25zLmdyb3VwLnBhbmVscy5sZW5ndGggLSAxXSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZ3JvdXAubW9kZWwubW92ZVRvTmV4dCh7IHN1cHByZXNzUm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBnZXRHcmlkTG9jYXRpb24ob3B0aW9ucy5ncm91cC5lbGVtZW50KTtcbiAgICAgICAgY29uc3QgbmV4dCA9IChfYSA9IHRoaXMuZ3JpZHZpZXcubmV4dChsb2NhdGlvbikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52aWV3O1xuICAgICAgICB0aGlzLmRvU2V0R3JvdXBBbmRQYW5lbEFjdGl2ZShuZXh0KTtcbiAgICB9XG4gICAgbW92ZVRvUHJldmlvdXMob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmdyb3VwKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYWN0aXZlR3JvdXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRpb25zLmdyb3VwID0gdGhpcy5hY3RpdmVHcm91cDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbmNsdWRlUGFuZWwgJiYgb3B0aW9ucy5ncm91cCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZ3JvdXAuYWN0aXZlUGFuZWwgIT09IG9wdGlvbnMuZ3JvdXAucGFuZWxzWzBdKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5ncm91cC5tb2RlbC5tb3ZlVG9QcmV2aW91cyh7IHN1cHByZXNzUm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBnZXRHcmlkTG9jYXRpb24ob3B0aW9ucy5ncm91cC5lbGVtZW50KTtcbiAgICAgICAgY29uc3QgbmV4dCA9IChfYSA9IHRoaXMuZ3JpZHZpZXcucHJldmlvdXMobG9jYXRpb24pKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmlldztcbiAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIHRoaXMuZG9TZXRHcm91cEFuZFBhbmVsQWN0aXZlKG5leHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZSB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgbGF5b3V0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIEpTT04gcmVzcHJlc2VudGF0aW9uIG9mIHRoZSBsYXlvdXRcbiAgICAgKi9cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ3JpZHZpZXcuc2VyaWFsaXplKCk7XG4gICAgICAgIGNvbnN0IHBhbmVscyA9IHRoaXMucGFuZWxzLnJlZHVjZSgoY29sbGVjdGlvbiwgcGFuZWwpID0+IHtcbiAgICAgICAgICAgIGNvbGxlY3Rpb25bcGFuZWwuaWRdID0gcGFuZWwudG9KU09OKCk7XG4gICAgICAgICAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgICAgICAgfSwge30pO1xuICAgICAgICBjb25zdCBmbG9hdHMgPSB0aGlzLl9mbG9hdGluZ0dyb3Vwcy5tYXAoKGdyb3VwKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRhdGE6IGdyb3VwLmdyb3VwLnRvSlNPTigpLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBncm91cC5vdmVybGF5LnRvSlNPTigpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHBvcG91dEdyb3VwcyA9IHRoaXMuX3BvcG91dEdyb3Vwcy5tYXAoKGdyb3VwKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRhdGE6IGdyb3VwLnBvcG91dEdyb3VwLnRvSlNPTigpLFxuICAgICAgICAgICAgICAgIGdyaWRSZWZlcmVuY2VHcm91cDogZ3JvdXAucmVmZXJlbmNlR3JvdXAsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGdyb3VwLndpbmRvdy5kaW1lbnNpb25zKCksXG4gICAgICAgICAgICAgICAgdXJsOiBncm91cC5wb3BvdXRHcm91cC5hcGkubG9jYXRpb24udHlwZSA9PT0gJ3BvcG91dCdcbiAgICAgICAgICAgICAgICAgICAgPyBncm91cC5wb3BvdXRHcm91cC5hcGkubG9jYXRpb24ucG9wb3V0VXJsXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGdyaWQ6IGRhdGEsXG4gICAgICAgICAgICBwYW5lbHMsXG4gICAgICAgICAgICBhY3RpdmVHcm91cDogKF9hID0gdGhpcy5hY3RpdmVHcm91cCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoZmxvYXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5mbG9hdGluZ0dyb3VwcyA9IGZsb2F0cztcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9wb3V0R3JvdXBzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5wb3BvdXRHcm91cHMgPSBwb3BvdXRHcm91cHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnJvbUpTT04oZGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcgfHwgZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXJpYWxpemVkIGxheW91dCBtdXN0IGJlIGEgbm9uLW51bGwgb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBncmlkLCBwYW5lbHMsIGFjdGl2ZUdyb3VwIH0gPSBkYXRhO1xuICAgICAgICBpZiAoZ3JpZC5yb290LnR5cGUgIT09ICdicmFuY2gnIHx8ICFBcnJheS5pc0FycmF5KGdyaWQucm9vdC5kYXRhKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdyb290IG11c3QgYmUgb2YgdHlwZSBicmFuY2gnKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gdGFrZSBub3RlIG9mIHRoZSBleGlzdGluZyBkaW1lbnNpb25zXG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZUdyb3VwRnJvbVNlcmlhbGl6ZWRTdGF0ZSA9IChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBpZCwgbG9ja2VkLCBoaWRlSGVhZGVyLCB2aWV3cywgYWN0aXZlVmlldyB9ID0gZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2dyb3VwIGlkIG11c3QgYmUgb2YgdHlwZSBzdHJpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLmNyZWF0ZUdyb3VwKHtcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIGxvY2tlZDogISFsb2NrZWQsXG4gICAgICAgICAgICAgICAgICAgIGhpZGVIZWFkZXI6ICEhaGlkZUhlYWRlcixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZEFkZEdyb3VwLmZpcmUoZ3JvdXApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNyZWF0ZWRQYW5lbHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHZpZXdzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBSdW4gdGhlIGRlc2VyaWFsaXplciBzdGVwIHNlcGVyYXRlbHkgc2luY2UgdGhpcyBtYXkgZmFpbCB0byBkdWUgY29ycnVwdGVkIGV4dGVybmFsIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgICAgKiBJbiBydW5uaW5nIHRoaXMgc2VjdGlvbiBmaXJzdCB3ZSBhdm9pZCBmaXJpbmcgbG90cyBvZiAnYWRkJyBldmVudHMgaW4gdGhlIGV2ZW50IG9mIGEgZmFpbHVyZVxuICAgICAgICAgICAgICAgICAgICAgKiBkdWUgdG8gYSBjb3JydXB0aW9uIG9mIGlucHV0IGRhdGEuXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYW5lbCA9IHRoaXMuX2Rlc2VyaWFsaXplci5mcm9tSlNPTihwYW5lbHNbY2hpbGRdLCBncm91cCk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRQYW5lbHMucHVzaChwYW5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmlld3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFuZWwgPSBjcmVhdGVkUGFuZWxzW2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHR5cGVvZiBhY3RpdmVWaWV3ID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlVmlldyA9PT0gcGFuZWwuaWQ7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwLm1vZGVsLm9wZW5QYW5lbChwYW5lbCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFNldEFjdGl2ZTogIWlzQWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFNldEdyb3VwQWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFncm91cC5hY3RpdmVQYW5lbCAmJiBncm91cC5wYW5lbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBncm91cC5tb2RlbC5vcGVuUGFuZWwoZ3JvdXAucGFuZWxzW2dyb3VwLnBhbmVscy5sZW5ndGggLSAxXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFNldEdyb3VwQWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZ3JpZHZpZXcuZGVzZXJpYWxpemUoZ3JpZCwge1xuICAgICAgICAgICAgICAgIGZyb21KU09OOiAobm9kZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlR3JvdXBGcm9tU2VyaWFsaXplZFN0YXRlKG5vZGUuZGF0YSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5sYXlvdXQod2lkdGgsIGhlaWdodCwgdHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkRmxvYXRpbmdHcm91cHMgPSAoX2EgPSBkYXRhLmZsb2F0aW5nR3JvdXBzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2VyaWFsaXplZEZsb2F0aW5nR3JvdXAgb2Ygc2VyaWFsaXplZEZsb2F0aW5nR3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBkYXRhLCBwb3NpdGlvbiB9ID0gc2VyaWFsaXplZEZsb2F0aW5nR3JvdXA7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBjcmVhdGVHcm91cEZyb21TZXJpYWxpemVkU3RhdGUoZGF0YSk7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRGbG9hdGluZ0dyb3VwKGdyb3VwLCB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHBvc2l0aW9uLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHBvc2l0aW9uLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgc2tpcFJlbW92ZUdyb3VwOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpbkRyYWdNb2RlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRQb3BvdXRHcm91cHMgPSAoX2IgPSBkYXRhLnBvcG91dEdyb3VwcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW107XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgcG9wb3V0IGdyb3VwcyBhcmUgY3JlYXRlZFxuICAgICAgICAgICAgY29uc3QgcG9wb3V0UHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgIC8vIFF1ZXVlIHBvcHVwIGdyb3VwIGNyZWF0aW9uIHdpdGggZGVsYXlzIHRvIGF2b2lkIGJyb3dzZXIgYmxvY2tpbmdcbiAgICAgICAgICAgIHNlcmlhbGl6ZWRQb3BvdXRHcm91cHMuZm9yRWFjaCgoc2VyaWFsaXplZFBvcG91dEdyb3VwLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSwgcG9zaXRpb24sIGdyaWRSZWZlcmVuY2VHcm91cCwgdXJsIH0gPSBzZXJpYWxpemVkUG9wb3V0R3JvdXA7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBjcmVhdGVHcm91cEZyb21TZXJpYWxpemVkU3RhdGUoZGF0YSk7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGEgc21hbGwgZGVsYXkgZm9yIGVhY2ggcG9wdXAgYWZ0ZXIgdGhlIGZpcnN0IHRvIGF2b2lkIGJyb3dzZXIgcG9wdXAgYmxvY2tpbmdcbiAgICAgICAgICAgICAgICBjb25zdCBwb3BvdXRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFBvcG91dEdyb3VwKGdyb3VwLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uICE9PSBudWxsICYmIHBvc2l0aW9uICE9PSB2b2lkIDAgPyBwb3NpdGlvbiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZVBvcG91dEdyb3VwOiBncmlkUmVmZXJlbmNlR3JvdXAgPyBncm91cCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VHcm91cDogZ3JpZFJlZmVyZW5jZUdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5nZXRQYW5lbChncmlkUmVmZXJlbmNlR3JvdXApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcG91dFVybDogdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGluZGV4ICogREVTRVJJQUxJWkFUSU9OX1BPUE9VVF9ERUxBWV9NUyk7IC8vIDEwMG1zIGRlbGF5IGJldHdlZW4gZWFjaCBwb3B1cFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHBvcG91dFByb21pc2VzLnB1c2gocG9wb3V0UHJvbWlzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBwcm9taXNlIGZvciB0ZXN0cyB0byB3YWl0IG9uXG4gICAgICAgICAgICB0aGlzLl9wb3BvdXRSZXN0b3JhdGlvblByb21pc2UgPSBQcm9taXNlLmFsbChwb3BvdXRQcm9taXNlcykudGhlbigoKSA9PiB2b2lkIDApO1xuICAgICAgICAgICAgZm9yIChjb25zdCBmbG9hdGluZ0dyb3VwIG9mIHRoaXMuX2Zsb2F0aW5nR3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgZmxvYXRpbmdHcm91cC5vdmVybGF5LnNldEJvdW5kcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3RpdmVHcm91cCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYW5lbCA9IHRoaXMuZ2V0UGFuZWwoYWN0aXZlR3JvdXApO1xuICAgICAgICAgICAgICAgIGlmIChwYW5lbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvU2V0R3JvdXBBbmRQYW5lbEFjdGl2ZShwYW5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2RvY2t2aWV3OiBmYWlsZWQgdG8gZGVzZXJpYWxpemUgbGF5b3V0LiBSZXZlcnRpbmcgY2hhbmdlcycsIGVycik7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRha2VzIGFsbCB0aGUgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQgZ3JvdXBzIGFuZCByZW1vdmUgYWxsIG9mIHRoZWlyIHBhbmVscy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiB0aGlzLmdyb3Vwcykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFuZWwgb2YgZ3JvdXAucGFuZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFuZWwocGFuZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUVtcHR5R3JvdXA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcERpc3Bvc2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRvIHJlbW92ZSBhIGdyb3VwIHdlIGNhbm5vdCBjYWxsIHRoaXMucmVtb3ZlR3JvdXAoLi4uKSBzaW5jZSB0aGlzIG1ha2VzIGFzc3VtcHRpb25zIGFib3V0XG4gICAgICAgICAgICAgKiB0aGUgdW5kZXJseWluZyBIVE1MRWxlbWVudCBleGlzdGluZyBpbiB0aGUgR3JpZHZpZXcuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgdGhpcy5ncm91cHMpIHtcbiAgICAgICAgICAgICAgICBncm91cC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZ3JvdXBzLmRlbGV0ZShncm91cC5pZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25EaWRSZW1vdmVHcm91cC5maXJlKGdyb3VwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGl0ZXJhdGUgb3ZlciBhIHJlYXNzaWduZWQgYXJyYXkgc2luY2Ugb3JpZ2luYWwgYXJyYXkgd2lsbCBiZSBtb2RpZmllZFxuICAgICAgICAgICAgZm9yIChjb25zdCBmbG9hdGluZ0dyb3VwIG9mIFsuLi50aGlzLl9mbG9hdGluZ0dyb3Vwc10pIHtcbiAgICAgICAgICAgICAgICBmbG9hdGluZ0dyb3VwLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZpcmVzIGNsZWFuLXVwIGV2ZW50cyBhbmQgY2xlYXJzIHRoZSB1bmRlcmx5aW5nIEhUTUwgZ3JpZHZpZXcuXG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIGV2ZW4gdGhvdWdoIHdlIGhhdmUgY2xlYW5lZC11cCB3ZSBzdGlsbCB3YW50IHRvIGluZm9ybSB0aGUgY2FsbGVyIG9mIHRoZWlyIGVycm9yXG4gICAgICAgICAgICAgKiBhbmQgd2UnbGwgZG8gdGhpcyB0aHJvdWdoIHJlLXRocm93aW5nIHRoZSBvcmlnaW5hbCBlcnJvciBzaW5jZSBhZnRlcmFsbCB5b3Ugd291bGRcbiAgICAgICAgICAgICAqIGV4cGVjdCB0cnlpbmcgdG8gbG9hZCBhIGNvcnJ1cHRlZCBsYXlvdXQgdG8gcmVzdWx0IGluIGFuIGVycm9yIGFuZCBub3Qgc2lsZW50bHkgZmFpbC4uLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVXYXRlcm1hcmsoKTtcbiAgICAgICAgLy8gRm9yY2UgcG9zaXRpb24gdXBkYXRlcyBmb3IgYWx3YXlzIHZpc2libGUgcGFuZWxzIGFmdGVyIERPTSBsYXlvdXQgaXMgY29tcGxldGVcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheVJlbmRlckNvbnRhaW5lci51cGRhdGVBbGxQb3NpdGlvbnMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX29uRGlkTGF5b3V0RnJvbUpTT04uZmlyZSgpO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gQXJyYXkuZnJvbSh0aGlzLl9ncm91cHMudmFsdWVzKCkpLm1hcCgoXykgPT4gXy52YWx1ZSk7XG4gICAgICAgIGNvbnN0IGhhc0FjdGl2ZUdyb3VwID0gISF0aGlzLmFjdGl2ZUdyb3VwO1xuICAgICAgICBmb3IgKGNvbnN0IGdyb3VwIG9mIGdyb3Vwcykge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIHRoZSBncm91cCB3aWxsIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBwYW5lbHNcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlR3JvdXAoZ3JvdXAsIHsgc2tpcEFjdGl2ZTogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzQWN0aXZlR3JvdXApIHtcbiAgICAgICAgICAgIHRoaXMuZG9TZXRHcm91cEFuZFBhbmVsQWN0aXZlKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ncmlkdmlldy5jbGVhcigpO1xuICAgIH1cbiAgICBjbG9zZUFsbEdyb3VwcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLl9ncm91cHMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBbXywgZ3JvdXBdID0gZW50cnk7XG4gICAgICAgICAgICBncm91cC52YWx1ZS5tb2RlbC5jbG9zZUFsbFBhbmVscygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZFBhbmVsKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHRoaXMucGFuZWxzLmZpbmQoKF8pID0+IF8uaWQgPT09IG9wdGlvbnMuaWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHBhbmVsIHdpdGggaWQgJHtvcHRpb25zLmlkfSBhbHJlYWR5IGV4aXN0c2ApO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZWZlcmVuY2VHcm91cDtcbiAgICAgICAgaWYgKG9wdGlvbnMucG9zaXRpb24gJiYgb3B0aW9ucy5mbG9hdGluZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd5b3UgY2FuIG9ubHkgcHJvdmlkZSBvbmUgb2Y6IHBvc2l0aW9uLCBmbG9hdGluZyBhcyBhcmd1bWVudHMgdG8gLmFkZFBhbmVsKC4uLiknKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbml0aWFsID0ge1xuICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMuaW5pdGlhbFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBvcHRpb25zLmluaXRpYWxIZWlnaHQsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBpbmRleDtcbiAgICAgICAgaWYgKG9wdGlvbnMucG9zaXRpb24pIHtcbiAgICAgICAgICAgIGlmIChpc1BhbmVsT3B0aW9uc1dpdGhQYW5lbChvcHRpb25zLnBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZVBhbmVsID0gdHlwZW9mIG9wdGlvbnMucG9zaXRpb24ucmVmZXJlbmNlUGFuZWwgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5nZXRHcm91cFBhbmVsKG9wdGlvbnMucG9zaXRpb24ucmVmZXJlbmNlUGFuZWwpXG4gICAgICAgICAgICAgICAgICAgIDogb3B0aW9ucy5wb3NpdGlvbi5yZWZlcmVuY2VQYW5lbDtcbiAgICAgICAgICAgICAgICBpbmRleCA9IG9wdGlvbnMucG9zaXRpb24uaW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2VQYW5lbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlZmVyZW5jZVBhbmVsICcke29wdGlvbnMucG9zaXRpb24ucmVmZXJlbmNlUGFuZWx9JyBkb2VzIG5vdCBleGlzdGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWZlcmVuY2VHcm91cCA9IHRoaXMuZmluZEdyb3VwKHJlZmVyZW5jZVBhbmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzUGFuZWxPcHRpb25zV2l0aEdyb3VwKG9wdGlvbnMucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlR3JvdXAgPVxuICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5wb3NpdGlvbi5yZWZlcmVuY2VHcm91cCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKF9hID0gdGhpcy5fZ3JvdXBzLmdldChvcHRpb25zLnBvc2l0aW9uLnJlZmVyZW5jZUdyb3VwKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG9wdGlvbnMucG9zaXRpb24ucmVmZXJlbmNlR3JvdXA7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBvcHRpb25zLnBvc2l0aW9uLmluZGV4O1xuICAgICAgICAgICAgICAgIGlmICghcmVmZXJlbmNlR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZWZlcmVuY2VHcm91cCAnJHtvcHRpb25zLnBvc2l0aW9uLnJlZmVyZW5jZUdyb3VwfScgZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IHRoaXMub3J0aG9nb25hbGl6ZShkaXJlY3Rpb25Ub1Bvc2l0aW9uKG9wdGlvbnMucG9zaXRpb24uZGlyZWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLmNyZWF0ZVBhbmVsKG9wdGlvbnMsIGdyb3VwKTtcbiAgICAgICAgICAgICAgICBncm91cC5tb2RlbC5vcGVuUGFuZWwocGFuZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNldEFjdGl2ZTogb3B0aW9ucy5pbmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNldEdyb3VwQWN0aXZlOiBvcHRpb25zLmluYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuaW5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb1NldEdyb3VwQW5kUGFuZWxBY3RpdmUoZ3JvdXApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncm91cC5hcGkuc2V0U2l6ZSh7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogaW5pdGlhbCA9PT0gbnVsbCB8fCBpbml0aWFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0aWFsLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGluaXRpYWwgPT09IG51bGwgfHwgaW5pdGlhbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdGlhbC53aWR0aCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFuZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWZlcmVuY2VHcm91cCA9IHRoaXMuYWN0aXZlR3JvdXA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhbmVsO1xuICAgICAgICBpZiAocmVmZXJlbmNlR3JvdXApIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRvVGFyZ2V0KCgoX2IgPSBvcHRpb25zLnBvc2l0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGlyZWN0aW9uKSB8fCAnd2l0aGluJyk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5mbG9hdGluZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5jcmVhdGVHcm91cCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkQWRkR3JvdXAuZmlyZShncm91cCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmxvYXRpbmdHcm91cE9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucy5mbG9hdGluZyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5mbG9hdGluZyAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbnMuZmxvYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEZsb2F0aW5nR3JvdXAoZ3JvdXAsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZmxvYXRpbmdHcm91cE9wdGlvbnMpLCB7IGluRHJhZ01vZGU6IGZhbHNlLCBza2lwUmVtb3ZlR3JvdXA6IHRydWUsIHNraXBBY3RpdmVHcm91cDogdHJ1ZSB9KSk7XG4gICAgICAgICAgICAgICAgcGFuZWwgPSB0aGlzLmNyZWF0ZVBhbmVsKG9wdGlvbnMsIGdyb3VwKTtcbiAgICAgICAgICAgICAgICBncm91cC5tb2RlbC5vcGVuUGFuZWwocGFuZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNldEFjdGl2ZTogb3B0aW9ucy5pbmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNldEdyb3VwQWN0aXZlOiBvcHRpb25zLmluYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlZmVyZW5jZUdyb3VwLmFwaS5sb2NhdGlvbi50eXBlID09PSAnZmxvYXRpbmcnIHx8XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIHBhbmVsID0gdGhpcy5jcmVhdGVQYW5lbChvcHRpb25zLCByZWZlcmVuY2VHcm91cCk7XG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlR3JvdXAubW9kZWwub3BlblBhbmVsKHBhbmVsLCB7XG4gICAgICAgICAgICAgICAgICAgIHNraXBTZXRBY3RpdmU6IG9wdGlvbnMuaW5hY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgIHNraXBTZXRHcm91cEFjdGl2ZTogb3B0aW9ucy5pbmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlR3JvdXAuYXBpLnNldFNpemUoe1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogaW5pdGlhbCA9PT0gbnVsbCB8fCBpbml0aWFsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbml0aWFsLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGluaXRpYWwgPT09IG51bGwgfHwgaW5pdGlhbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdGlhbC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmluYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9TZXRHcm91cEFuZFBhbmVsQWN0aXZlKHJlZmVyZW5jZUdyb3VwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IGdldEdyaWRMb2NhdGlvbihyZWZlcmVuY2VHcm91cC5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZUxvY2F0aW9uID0gZ2V0UmVsYXRpdmVMb2NhdGlvbih0aGlzLmdyaWR2aWV3Lm9yaWVudGF0aW9uLCBsb2NhdGlvbiwgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IHRoaXMuY3JlYXRlR3JvdXBBdExvY2F0aW9uKHJlbGF0aXZlTG9jYXRpb24sIHRoaXMub3JpZW50YXRpb25BdExvY2F0aW9uKHJlbGF0aXZlTG9jYXRpb24pID09PVxuICAgICAgICAgICAgICAgICAgICBPcmllbnRhdGlvbi5WRVJUSUNBTFxuICAgICAgICAgICAgICAgICAgICA/IGluaXRpYWwgPT09IG51bGwgfHwgaW5pdGlhbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5pdGlhbC5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgOiBpbml0aWFsID09PSBudWxsIHx8IGluaXRpYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWwud2lkdGgpO1xuICAgICAgICAgICAgICAgIHBhbmVsID0gdGhpcy5jcmVhdGVQYW5lbChvcHRpb25zLCBncm91cCk7XG4gICAgICAgICAgICAgICAgZ3JvdXAubW9kZWwub3BlblBhbmVsKHBhbmVsLCB7XG4gICAgICAgICAgICAgICAgICAgIHNraXBTZXRBY3RpdmU6IG9wdGlvbnMuaW5hY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgIHNraXBTZXRHcm91cEFjdGl2ZTogb3B0aW9ucy5pbmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmluYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9TZXRHcm91cEFuZFBhbmVsQWN0aXZlKGdyb3VwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5mbG9hdGluZykge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLmNyZWF0ZUdyb3VwKCk7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZEFkZEdyb3VwLmZpcmUoZ3JvdXApO1xuICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSB0eXBlb2Ygb3B0aW9ucy5mbG9hdGluZyA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICBvcHRpb25zLmZsb2F0aW5nICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmZsb2F0aW5nXG4gICAgICAgICAgICAgICAgOiB7fTtcbiAgICAgICAgICAgIHRoaXMuYWRkRmxvYXRpbmdHcm91cChncm91cCwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb29yZGluYXRlcyksIHsgaW5EcmFnTW9kZTogZmFsc2UsIHNraXBSZW1vdmVHcm91cDogdHJ1ZSwgc2tpcEFjdGl2ZUdyb3VwOiB0cnVlIH0pKTtcbiAgICAgICAgICAgIHBhbmVsID0gdGhpcy5jcmVhdGVQYW5lbChvcHRpb25zLCBncm91cCk7XG4gICAgICAgICAgICBncm91cC5tb2RlbC5vcGVuUGFuZWwocGFuZWwsIHtcbiAgICAgICAgICAgICAgICBza2lwU2V0QWN0aXZlOiBvcHRpb25zLmluYWN0aXZlLFxuICAgICAgICAgICAgICAgIHNraXBTZXRHcm91cEFjdGl2ZTogb3B0aW9ucy5pbmFjdGl2ZSxcbiAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLmNyZWF0ZUdyb3VwQXRMb2NhdGlvbihbMF0sIHRoaXMuZ3JpZHZpZXcub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLlZFUlRJQ0FMXG4gICAgICAgICAgICAgICAgPyBpbml0aWFsID09PSBudWxsIHx8IGluaXRpYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWwuaGVpZ2h0XG4gICAgICAgICAgICAgICAgOiBpbml0aWFsID09PSBudWxsIHx8IGluaXRpYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluaXRpYWwud2lkdGgpO1xuICAgICAgICAgICAgcGFuZWwgPSB0aGlzLmNyZWF0ZVBhbmVsKG9wdGlvbnMsIGdyb3VwKTtcbiAgICAgICAgICAgIGdyb3VwLm1vZGVsLm9wZW5QYW5lbChwYW5lbCwge1xuICAgICAgICAgICAgICAgIHNraXBTZXRBY3RpdmU6IG9wdGlvbnMuaW5hY3RpdmUsXG4gICAgICAgICAgICAgICAgc2tpcFNldEdyb3VwQWN0aXZlOiBvcHRpb25zLmluYWN0aXZlLFxuICAgICAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuaW5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvU2V0R3JvdXBBbmRQYW5lbEFjdGl2ZShncm91cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhbmVsO1xuICAgIH1cbiAgICByZW1vdmVQYW5lbChwYW5lbCwgb3B0aW9ucyA9IHtcbiAgICAgICAgcmVtb3ZlRW1wdHlHcm91cDogdHJ1ZSxcbiAgICB9KSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gcGFuZWwuZ3JvdXA7XG4gICAgICAgIGlmICghZ3JvdXApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IHJlbW92ZSBwYW5lbCAke3BhbmVsLmlkfS4gaXQncyBtaXNzaW5nIGEgZ3JvdXAuYCk7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXAubW9kZWwucmVtb3ZlUGFuZWwocGFuZWwsIHtcbiAgICAgICAgICAgIHNraXBTZXRBY3RpdmVHcm91cDogb3B0aW9ucy5za2lwU2V0QWN0aXZlR3JvdXAsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIW9wdGlvbnMuc2tpcERpc3Bvc2UpIHtcbiAgICAgICAgICAgIHBhbmVsLmdyb3VwLm1vZGVsLnJlbmRlckNvbnRhaW5lci5kZXRhdGNoKHBhbmVsKTtcbiAgICAgICAgICAgIHBhbmVsLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZ3JvdXAuc2l6ZSA9PT0gMCAmJiBvcHRpb25zLnJlbW92ZUVtcHR5R3JvdXApIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlR3JvdXAoZ3JvdXAsIHsgc2tpcEFjdGl2ZTogb3B0aW9ucy5za2lwU2V0QWN0aXZlR3JvdXAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlV2F0ZXJtYXJrQ29tcG9uZW50KCkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNyZWF0ZVdhdGVybWFya0NvbXBvbmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5jcmVhdGVXYXRlcm1hcmtDb21wb25lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFdhdGVybWFyaygpO1xuICAgIH1cbiAgICB1cGRhdGVXYXRlcm1hcmsoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICh0aGlzLmdyb3Vwcy5maWx0ZXIoKHgpID0+IHguYXBpLmxvY2F0aW9uLnR5cGUgPT09ICdncmlkJyAmJiB4LmFwaS5pc1Zpc2libGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl93YXRlcm1hcmspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93YXRlcm1hcmsgPSB0aGlzLmNyZWF0ZVdhdGVybWFya0NvbXBvbmVudCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dhdGVybWFyay5pbml0KHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyQXBpOiBuZXcgRG9ja3ZpZXdBcGkodGhpcyksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2F0ZXJtYXJrQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgd2F0ZXJtYXJrQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdkdi13YXRlcm1hcmstY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICBhZGRUZXN0SWQod2F0ZXJtYXJrQ29udGFpbmVyLCAnd2F0ZXJtYXJrLWNvbXBvbmVudCcpO1xuICAgICAgICAgICAgICAgIHdhdGVybWFya0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLl93YXRlcm1hcmsuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ncmlkdmlldy5lbGVtZW50LmFwcGVuZENoaWxkKHdhdGVybWFya0NvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fd2F0ZXJtYXJrKSB7XG4gICAgICAgICAgICB0aGlzLl93YXRlcm1hcmsuZWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy5fd2F0ZXJtYXJrKS5kaXNwb3NlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgICAgICB0aGlzLl93YXRlcm1hcmsgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEdyb3VwKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgbGV0IHJlZmVyZW5jZUdyb3VwO1xuICAgICAgICAgICAgaWYgKGlzR3JvdXBPcHRpb25zV2l0aFBhbmVsKG9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlUGFuZWwgPSB0eXBlb2Ygb3B0aW9ucy5yZWZlcmVuY2VQYW5lbCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLnBhbmVscy5maW5kKChwYW5lbCkgPT4gcGFuZWwuaWQgPT09IG9wdGlvbnMucmVmZXJlbmNlUGFuZWwpXG4gICAgICAgICAgICAgICAgICAgIDogb3B0aW9ucy5yZWZlcmVuY2VQYW5lbDtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZmVyZW5jZVBhbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcmVmZXJlbmNlIHBhbmVsICR7b3B0aW9ucy5yZWZlcmVuY2VQYW5lbH0gZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlR3JvdXAgPSB0aGlzLmZpbmRHcm91cChyZWZlcmVuY2VQYW5lbCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2VHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlZmVyZW5jZSBncm91cCBmb3IgcmVmZXJlbmNlIHBhbmVsICR7b3B0aW9ucy5yZWZlcmVuY2VQYW5lbH0gZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0dyb3VwT3B0aW9uc1dpdGhHcm91cChvcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIHJlZmVyZW5jZUdyb3VwID1cbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG9wdGlvbnMucmVmZXJlbmNlR3JvdXAgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChfYSA9IHRoaXMuX2dyb3Vwcy5nZXQob3B0aW9ucy5yZWZlcmVuY2VHcm91cCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBvcHRpb25zLnJlZmVyZW5jZUdyb3VwO1xuICAgICAgICAgICAgICAgIGlmICghcmVmZXJlbmNlR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZWZlcmVuY2UgZ3JvdXAgJHtvcHRpb25zLnJlZmVyZW5jZUdyb3VwfSBkb2VzIG5vdCBleGlzdGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5vcnRob2dvbmFsaXplKGRpcmVjdGlvblRvUG9zaXRpb24ob3B0aW9ucy5kaXJlY3Rpb24pLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuc2tpcFNldEFjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvU2V0R3JvdXBBbmRQYW5lbEFjdGl2ZShncm91cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBncm91cDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRvVGFyZ2V0KG9wdGlvbnMuZGlyZWN0aW9uIHx8ICd3aXRoaW4nKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZ2V0R3JpZExvY2F0aW9uKHJlZmVyZW5jZUdyb3VwLmVsZW1lbnQpO1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVMb2NhdGlvbiA9IGdldFJlbGF0aXZlTG9jYXRpb24odGhpcy5ncmlkdmlldy5vcmllbnRhdGlvbiwgbG9jYXRpb24sIHRhcmdldCk7XG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHRoaXMuY3JlYXRlR3JvdXAob3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBzaXplID0gdGhpcy5nZXRMb2NhdGlvbk9yaWVudGF0aW9uKHJlbGF0aXZlTG9jYXRpb24pID09PVxuICAgICAgICAgICAgICAgIE9yaWVudGF0aW9uLlZFUlRJQ0FMXG4gICAgICAgICAgICAgICAgPyBvcHRpb25zLmluaXRpYWxIZWlnaHRcbiAgICAgICAgICAgICAgICA6IG9wdGlvbnMuaW5pdGlhbFdpZHRoO1xuICAgICAgICAgICAgdGhpcy5kb0FkZEdyb3VwKGdyb3VwLCByZWxhdGl2ZUxvY2F0aW9uLCBzaXplKTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5za2lwU2V0QWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb1NldEdyb3VwQW5kUGFuZWxBY3RpdmUoZ3JvdXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGdyb3VwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLmNyZWF0ZUdyb3VwKG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5kb0FkZEdyb3VwKGdyb3VwKTtcbiAgICAgICAgICAgIHRoaXMuZG9TZXRHcm91cEFuZFBhbmVsQWN0aXZlKGdyb3VwKTtcbiAgICAgICAgICAgIHJldHVybiBncm91cDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRMb2NhdGlvbk9yaWVudGF0aW9uKGxvY2F0aW9uKSB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5sZW5ndGggJSAyID09IDAgJiZcbiAgICAgICAgICAgIHRoaXMuZ3JpZHZpZXcub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICAgICAgICAgID8gT3JpZW50YXRpb24uSE9SSVpPTlRBTFxuICAgICAgICAgICAgOiBPcmllbnRhdGlvbi5WRVJUSUNBTDtcbiAgICB9XG4gICAgcmVtb3ZlR3JvdXAoZ3JvdXAsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5kb1JlbW92ZUdyb3VwKGdyb3VwLCBvcHRpb25zKTtcbiAgICB9XG4gICAgZG9SZW1vdmVHcm91cChncm91cCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IHBhbmVscyA9IFsuLi5ncm91cC5wYW5lbHNdOyAvLyByZWFzc2lnbiBzaW5jZSBncm91cCBwYW5lbHMgd2lsbCBtdXRhdGVcbiAgICAgICAgaWYgKCEob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNraXBEaXNwb3NlKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYW5lbCBvZiBwYW5lbHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVBhbmVsKHBhbmVsLCB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUVtcHR5R3JvdXA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBza2lwRGlzcG9zZTogKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNraXBEaXNwb3NlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhY3RpdmVQYW5lbCA9IHRoaXMuYWN0aXZlUGFuZWw7XG4gICAgICAgIGlmIChncm91cC5hcGkubG9jYXRpb24udHlwZSA9PT0gJ2Zsb2F0aW5nJykge1xuICAgICAgICAgICAgY29uc3QgZmxvYXRpbmdHcm91cCA9IHRoaXMuX2Zsb2F0aW5nR3JvdXBzLmZpbmQoKF8pID0+IF8uZ3JvdXAgPT09IGdyb3VwKTtcbiAgICAgICAgICAgIGlmIChmbG9hdGluZ0dyb3VwKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNraXBEaXNwb3NlKSkge1xuICAgICAgICAgICAgICAgICAgICBmbG9hdGluZ0dyb3VwLmdyb3VwLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ3JvdXBzLmRlbGV0ZShncm91cC5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkUmVtb3ZlR3JvdXAuZmlyZShncm91cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlbW92ZSh0aGlzLl9mbG9hdGluZ0dyb3VwcywgZmxvYXRpbmdHcm91cCk7XG4gICAgICAgICAgICAgICAgZmxvYXRpbmdHcm91cC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgaWYgKCEob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNraXBBY3RpdmUpICYmIHRoaXMuX2FjdGl2ZUdyb3VwID09PSBncm91cCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBncm91cHMgPSBBcnJheS5mcm9tKHRoaXMuX2dyb3Vwcy52YWx1ZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9TZXRHcm91cEFuZFBhbmVsQWN0aXZlKGdyb3Vwcy5sZW5ndGggPiAwID8gZ3JvdXBzWzBdLnZhbHVlIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZsb2F0aW5nR3JvdXAuZ3JvdXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBmaW5kIGZsb2F0aW5nIGdyb3VwJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyb3VwLmFwaS5sb2NhdGlvbi50eXBlID09PSAncG9wb3V0Jykge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRHcm91cCA9IHRoaXMuX3BvcG91dEdyb3Vwcy5maW5kKChfKSA9PiBfLnBvcG91dEdyb3VwID09PSBncm91cCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRHcm91cCkge1xuICAgICAgICAgICAgICAgIGlmICghKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5za2lwRGlzcG9zZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNraXBQb3BvdXRBc3NvY2lhdGVkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmR3JvdXAgPSBzZWxlY3RlZEdyb3VwLnJlZmVyZW5jZUdyb3VwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmdldFBhbmVsKHNlbGVjdGVkR3JvdXAucmVmZXJlbmNlR3JvdXApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVmR3JvdXAgJiYgcmVmR3JvdXAucGFuZWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlR3JvdXAocmVmR3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkR3JvdXAucG9wb3V0R3JvdXAuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ncm91cHMuZGVsZXRlKGdyb3VwLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25EaWRSZW1vdmVHcm91cC5maXJlKGdyb3VwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVtb3ZlKHRoaXMuX3BvcG91dEdyb3Vwcywgc2VsZWN0ZWRHcm91cCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlZEdyb3VwID0gc2VsZWN0ZWRHcm91cC5kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoIShvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2tpcFBvcG91dFJldHVybikgJiYgcmVtb3ZlZEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9BZGRHcm91cChyZW1vdmVkR3JvdXAsIFswXSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9TZXRHcm91cEFuZFBhbmVsQWN0aXZlKHJlbW92ZWRHcm91cCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5za2lwQWN0aXZlKSAmJiB0aGlzLl9hY3RpdmVHcm91cCA9PT0gZ3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZ3JvdXBzID0gQXJyYXkuZnJvbSh0aGlzLl9ncm91cHMudmFsdWVzKCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvU2V0R3JvdXBBbmRQYW5lbEFjdGl2ZShncm91cHMubGVuZ3RoID4gMCA/IGdyb3Vwc1swXS52YWx1ZSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlV2F0ZXJtYXJrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGVkR3JvdXAucG9wb3V0R3JvdXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBmaW5kIHBvcG91dCBncm91cCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlID0gc3VwZXIuZG9SZW1vdmVHcm91cChncm91cCwgb3B0aW9ucyk7XG4gICAgICAgIGlmICghKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5za2lwQWN0aXZlKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlUGFuZWwgIT09IGFjdGl2ZVBhbmVsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25EaWRBY3RpdmVQYW5lbENoYW5nZS5maXJlKHRoaXMuYWN0aXZlUGFuZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZTtcbiAgICB9XG4gICAgbW92aW5nTG9jayhmdW5jKSB7XG4gICAgICAgIGNvbnN0IGlzTW92aW5nID0gdGhpcy5fbW92aW5nO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fbW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl9tb3ZpbmcgPSBpc01vdmluZztcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlR3JvdXBPclBhbmVsKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvbkdyb3VwID0gb3B0aW9ucy50by5ncm91cDtcbiAgICAgICAgY29uc3Qgc291cmNlR3JvdXBJZCA9IG9wdGlvbnMuZnJvbS5ncm91cElkO1xuICAgICAgICBjb25zdCBzb3VyY2VJdGVtSWQgPSBvcHRpb25zLmZyb20ucGFuZWxJZDtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb25UYXJnZXQgPSBvcHRpb25zLnRvLnBvc2l0aW9uO1xuICAgICAgICBjb25zdCBkZXN0aW5hdGlvbkluZGV4ID0gb3B0aW9ucy50by5pbmRleDtcbiAgICAgICAgY29uc3Qgc291cmNlR3JvdXAgPSBzb3VyY2VHcm91cElkXG4gICAgICAgICAgICA/IChfYSA9IHRoaXMuX2dyb3Vwcy5nZXQoc291cmNlR3JvdXBJZCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52YWx1ZVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghc291cmNlR3JvdXApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZpbmQgZ3JvdXAgaWQgJHtzb3VyY2VHcm91cElkfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzb3VyY2VJdGVtSWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBNb3ZpbmcgYW4gZW50aXJlIGdyb3VwIGludG8gYW5vdGhlciBncm91cFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLm1vdmVHcm91cCh7XG4gICAgICAgICAgICAgICAgZnJvbTogeyBncm91cDogc291cmNlR3JvdXAgfSxcbiAgICAgICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgICAgICBncm91cDogZGVzdGluYXRpb25Hcm91cCxcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGRlc3RpbmF0aW9uVGFyZ2V0LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2tpcFNldEFjdGl2ZTogb3B0aW9ucy5za2lwU2V0QWN0aXZlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZXN0aW5hdGlvblRhcmdldCB8fCBkZXN0aW5hdGlvblRhcmdldCA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRHJvcHBpbmcgYSBwYW5lbCB3aXRoaW4gYW5vdGhlciBncm91cFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCByZW1vdmVkUGFuZWwgPSB0aGlzLm1vdmluZ0xvY2soKCkgPT4gc291cmNlR3JvdXAubW9kZWwucmVtb3ZlUGFuZWwoc291cmNlSXRlbUlkLCB7XG4gICAgICAgICAgICAgICAgc2tpcFNldEFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2tpcFNldEFjdGl2ZUdyb3VwOiB0cnVlLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKCFyZW1vdmVkUGFuZWwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHBhbmVsIHdpdGggaWQgJHtzb3VyY2VJdGVtSWR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc291cmNlR3JvdXAubW9kZWwuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgZ3JvdXAgYW5kIGRvIG5vdCBzZXQgYSBuZXcgZ3JvdXAgYXMgYWN0aXZlXG4gICAgICAgICAgICAgICAgdGhpcy5kb1JlbW92ZUdyb3VwKHNvdXJjZUdyb3VwLCB7IHNraXBBY3RpdmU6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1vdmluZ0xvY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzdGluYXRpb25Hcm91cC5tb2RlbC5vcGVuUGFuZWwocmVtb3ZlZFBhbmVsLCB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBkZXN0aW5hdGlvbkluZGV4LFxuICAgICAgICAgICAgICAgICAgICBza2lwU2V0QWN0aXZlOiAoX2EgPSBvcHRpb25zLnNraXBTZXRBY3RpdmUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBza2lwU2V0R3JvdXBBY3RpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghb3B0aW9ucy5za2lwU2V0QWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb1NldEdyb3VwQW5kUGFuZWxBY3RpdmUoZGVzdGluYXRpb25Hcm91cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vbkRpZE1vdmVQYW5lbC5maXJlKHtcbiAgICAgICAgICAgICAgICBwYW5lbDogcmVtb3ZlZFBhbmVsLFxuICAgICAgICAgICAgICAgIGZyb206IHNvdXJjZUdyb3VwLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIERyb3BwaW5nIGEgcGFuZWwgdG8gdGhlIGV4dHJlbWl0aWVzIG9mIGEgZ3JvdXAgd2hpY2ggd2lsbCBwbGFjZSB0aGF0IHBhbmVsXG4gICAgICAgICAgICAgKiBpbnRvIGFuIGFkamFjZW50IGdyb3VwXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZUxvY2F0aW9uID0gZ2V0R3JpZExvY2F0aW9uKGRlc3RpbmF0aW9uR3JvdXAuZWxlbWVudCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRMb2NhdGlvbiA9IGdldFJlbGF0aXZlTG9jYXRpb24odGhpcy5ncmlkdmlldy5vcmllbnRhdGlvbiwgcmVmZXJlbmNlTG9jYXRpb24sIGRlc3RpbmF0aW9uVGFyZ2V0KTtcbiAgICAgICAgICAgIGlmIChzb3VyY2VHcm91cC5zaXplIDwgMikge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIElmIHdlIGFyZSBtb3ZpbmcgZnJvbSBhIGdyb3VwIHdoaWNoIG9ubHkgaGFzIG9uZSBwYW5lbCBsZWZ0IHdlIHdpbGwgY29uc2lkZXJcbiAgICAgICAgICAgICAgICAgKiBtb3ZpbmcgdGhlIGdyb3VwIGl0c2VsZiByYXRoZXIgdGhhbiBtb3ZpbmcgdGhlIHBhbmVsIGludG8gYSBuZXdseSBjcmVhdGVkIGdyb3VwXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgY29uc3QgW3RhcmdldFBhcmVudExvY2F0aW9uLCB0b10gPSB0YWlsKHRhcmdldExvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlR3JvdXAuYXBpLmxvY2F0aW9uLnR5cGUgPT09ICdncmlkJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VMb2NhdGlvbiA9IGdldEdyaWRMb2NhdGlvbihzb3VyY2VHcm91cC5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgW3NvdXJjZVBhcmVudExvY2F0aW9uLCBmcm9tXSA9IHRhaWwoc291cmNlTG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2VFcXVhbHMoc291cmNlUGFyZW50TG9jYXRpb24sIHRhcmdldFBhcmVudExvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIHdoZW4gJ3N3YXBwaW5nJyB0d28gdmlld3Mgd2l0aGluIHNhbWUgZ3JpZCBsb2NhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgYSBncm91cCBoYXMgb25lIHRhYiAtIHdlIGFyZSBlc3NlbnRpYWxseSBtb3ZpbmcgdGhlICdncm91cCdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gc3dhcHBpbmcgdHdvIHZpZXdzIGluIHRoaXMgY2FzZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkdmlldy5tb3ZlVmlldyhzb3VyY2VQYXJlbnRMb2NhdGlvbiwgZnJvbSwgdG8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25EaWRNb3ZlUGFuZWwuZmlyZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFuZWw6IHRoaXMuZ2V0R3JvdXBQYW5lbChzb3VyY2VJdGVtSWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IHNvdXJjZUdyb3VwLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZUdyb3VwLmFwaS5sb2NhdGlvbi50eXBlID09PSAncG9wb3V0Jykge1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogdGhlIHNvdXJjZSBncm91cCBpcyBhIHBvcG91dCBncm91cCB3aXRoIGEgc2luZ2xlIHBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAqIDEuIHJlbW92ZSB0aGUgcGFuZWwgZnJvbSB0aGUgZ3JvdXAgd2l0aG91dCB0cmlnZ2VyaW5nIGFueSBldmVudHNcbiAgICAgICAgICAgICAgICAgICAgICogMi4gcmVtb3ZlIHRoZSBwb3BvdXQgZ3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICogMy4gY3JlYXRlIGEgbmV3IGdyb3VwIGF0IHRoZSByZXF1ZXN0ZWQgbG9jYXRpb24gYW5kIGFkZCB0aGF0IHBhbmVsXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3BvdXRHcm91cCA9IHRoaXMuX3BvcG91dEdyb3Vwcy5maW5kKChncm91cCkgPT4gZ3JvdXAucG9wb3V0R3JvdXAgPT09IHNvdXJjZUdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlZFBhbmVsID0gdGhpcy5tb3ZpbmdMb2NrKCgpID0+IHBvcG91dEdyb3VwLnBvcG91dEdyb3VwLm1vZGVsLnJlbW92ZVBhbmVsKHBvcG91dEdyb3VwLnBvcG91dEdyb3VwLnBhbmVsc1swXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFNldEFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBTZXRBY3RpdmVHcm91cDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvUmVtb3ZlR3JvdXAoc291cmNlR3JvdXAsIHsgc2tpcEFjdGl2ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3R3JvdXAgPSB0aGlzLmNyZWF0ZUdyb3VwQXRMb2NhdGlvbih0YXJnZXRMb2NhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92aW5nTG9jaygoKSA9PiBuZXdHcm91cC5tb2RlbC5vcGVuUGFuZWwocmVtb3ZlZFBhbmVsKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9TZXRHcm91cEFuZFBhbmVsQWN0aXZlKG5ld0dyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25EaWRNb3ZlUGFuZWwuZmlyZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYW5lbDogdGhpcy5nZXRHcm91cFBhbmVsKHNvdXJjZUl0ZW1JZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBzb3VyY2VHcm91cCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gc291cmNlIGdyb3VwIHdpbGwgYmVjb21lIGVtcHR5IHNvIGRlbGV0ZSB0aGUgZ3JvdXBcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRHcm91cCA9IHRoaXMubW92aW5nTG9jaygoKSA9PiB0aGlzLmRvUmVtb3ZlR3JvdXAoc291cmNlR3JvdXAsIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpcEFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2tpcERpc3Bvc2U6IHRydWUsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIC8vIGFmdGVyIGRlbGV0aW5nIHRoZSBncm91cCB3ZSBuZWVkIHRvIHJlLWV2YXVsYXRlIHRoZSByZWYgbG9jYXRpb25cbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkUmVmZXJlbmNlTG9jYXRpb24gPSBnZXRHcmlkTG9jYXRpb24oZGVzdGluYXRpb25Hcm91cC5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IGdldFJlbGF0aXZlTG9jYXRpb24odGhpcy5ncmlkdmlldy5vcmllbnRhdGlvbiwgdXBkYXRlZFJlZmVyZW5jZUxvY2F0aW9uLCBkZXN0aW5hdGlvblRhcmdldCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZpbmdMb2NrKCgpID0+IHRoaXMuZG9BZGRHcm91cCh0YXJnZXRHcm91cCwgbG9jYXRpb24pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRvU2V0R3JvdXBBbmRQYW5lbEFjdGl2ZSh0YXJnZXRHcm91cCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25EaWRNb3ZlUGFuZWwuZmlyZSh7XG4gICAgICAgICAgICAgICAgICAgIHBhbmVsOiB0aGlzLmdldEdyb3VwUGFuZWwoc291cmNlSXRlbUlkKSxcbiAgICAgICAgICAgICAgICAgICAgZnJvbTogc291cmNlR3JvdXAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUaGUgZ3JvdXAgd2UgYXJlIHJlbW92aW5nIGZyb20gaGFzIG1hbnkgcGFuZWxzLCB3ZSBuZWVkIHRvIHJlbW92ZSB0aGUgcGFuZWxzIHdlIGFyZSBtb3ZpbmcsXG4gICAgICAgICAgICAgICAgICogY3JlYXRlIGEgbmV3IGdyb3VwLCBhZGQgdGhlIHBhbmVscyB0byB0aGF0IG5ldyBncm91cCBhbmQgYWRkIHRoZSBuZXcgZ3JvdXAgaW4gYW4gYXBwcm9waWF0ZSBwb3NpdGlvblxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZWRQYW5lbCA9IHRoaXMubW92aW5nTG9jaygoKSA9PiBzb3VyY2VHcm91cC5tb2RlbC5yZW1vdmVQYW5lbChzb3VyY2VJdGVtSWQsIHtcbiAgICAgICAgICAgICAgICAgICAgc2tpcFNldEFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNraXBTZXRBY3RpdmVHcm91cDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZW1vdmVkUGFuZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBwYW5lbCB3aXRoIGlkICR7c291cmNlSXRlbUlkfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkcm9wTG9jYXRpb24gPSBnZXRSZWxhdGl2ZUxvY2F0aW9uKHRoaXMuZ3JpZHZpZXcub3JpZW50YXRpb24sIHJlZmVyZW5jZUxvY2F0aW9uLCBkZXN0aW5hdGlvblRhcmdldCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSB0aGlzLmNyZWF0ZUdyb3VwQXRMb2NhdGlvbihkcm9wTG9jYXRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMubW92aW5nTG9jaygoKSA9PiBncm91cC5tb2RlbC5vcGVuUGFuZWwocmVtb3ZlZFBhbmVsLCB7XG4gICAgICAgICAgICAgICAgICAgIHNraXBTZXRHcm91cEFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kb1NldEdyb3VwQW5kUGFuZWxBY3RpdmUoZ3JvdXApO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkTW92ZVBhbmVsLmZpcmUoe1xuICAgICAgICAgICAgICAgICAgICBwYW5lbDogcmVtb3ZlZFBhbmVsLFxuICAgICAgICAgICAgICAgICAgICBmcm9tOiBzb3VyY2VHcm91cCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlR3JvdXAob3B0aW9ucykge1xuICAgICAgICBjb25zdCBmcm9tID0gb3B0aW9ucy5mcm9tLmdyb3VwO1xuICAgICAgICBjb25zdCB0byA9IG9wdGlvbnMudG8uZ3JvdXA7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IG9wdGlvbnMudG8ucG9zaXRpb247XG4gICAgICAgIGlmICh0YXJnZXQgPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVQYW5lbCA9IGZyb20uYWN0aXZlUGFuZWw7XG4gICAgICAgICAgICBjb25zdCBwYW5lbHMgPSB0aGlzLm1vdmluZ0xvY2soKCkgPT4gWy4uLmZyb20ucGFuZWxzXS5tYXAoKHApID0+IGZyb20ubW9kZWwucmVtb3ZlUGFuZWwocC5pZCwge1xuICAgICAgICAgICAgICAgIHNraXBTZXRBY3RpdmU6IHRydWUsXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgaWYgKChmcm9tID09PSBudWxsIHx8IGZyb20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGZyb20ubW9kZWwuc2l6ZSkgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvUmVtb3ZlR3JvdXAoZnJvbSwgeyBza2lwQWN0aXZlOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tb3ZpbmdMb2NrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhbmVsIG9mIHBhbmVscykge1xuICAgICAgICAgICAgICAgICAgICB0by5tb2RlbC5vcGVuUGFuZWwocGFuZWwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBTZXRBY3RpdmU6IHBhbmVsICE9PSBhY3RpdmVQYW5lbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXBTZXRHcm91cEFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBFbnN1cmUgZ3JvdXAgYmVjb21lcyBhY3RpdmUgYWZ0ZXIgbW92ZVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2tpcFNldEFjdGl2ZSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIC8vIEZvciBjZW50ZXIgbW92ZXMgKG1lcmdlcyksIHdlIG5lZWQgdG8gZW5zdXJlIHRoZSB0YXJnZXQgZ3JvdXAgaXMgYWN0aXZlXG4gICAgICAgICAgICAgICAgLy8gdW5sZXNzIGV4cGxpY2l0bHkgdG9sZCBub3QgdG8gKHNraXBTZXRBY3RpdmU6IHRydWUpXG4gICAgICAgICAgICAgICAgdGhpcy5kb1NldEdyb3VwQW5kUGFuZWxBY3RpdmUodG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuYWN0aXZlUGFuZWwpIHtcbiAgICAgICAgICAgICAgICAvLyBFdmVuIHdpdGggc2tpcFNldEFjdGl2ZTogdHJ1ZSwgZW5zdXJlIHRoZXJlJ3MgYW4gYWN0aXZlIHBhbmVsIGlmIG5vbmUgZXhpc3RzXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBtYWludGFpbnMgYmFzaWMgZnVuY3Rpb25hbGl0eSB3aGlsZSByZXNwZWN0aW5nIHNraXBTZXRBY3RpdmVcbiAgICAgICAgICAgICAgICB0aGlzLmRvU2V0R3JvdXBBbmRQYW5lbEFjdGl2ZSh0byk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGZyb20uYXBpLmxvY2F0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdncmlkJzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ncmlkdmlldy5yZW1vdmVWaWV3KGdldEdyaWRMb2NhdGlvbihmcm9tLmVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmxvYXRpbmcnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkRmxvYXRpbmdHcm91cCA9IHRoaXMuX2Zsb2F0aW5nR3JvdXBzLmZpbmQoKHgpID0+IHguZ3JvdXAgPT09IGZyb20pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkRmxvYXRpbmdHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQgdG8gZmluZCBmbG9hdGluZyBncm91cCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmxvYXRpbmdHcm91cC5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdwb3BvdXQnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkUG9wb3V0R3JvdXAgPSB0aGlzLl9wb3BvdXRHcm91cHMuZmluZCgoeCkgPT4geC5wb3BvdXRHcm91cCA9PT0gZnJvbSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWRQb3BvdXRHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQgdG8gZmluZCBwb3BvdXQgZ3JvdXAnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZnJvbSBwb3BvdXQgZ3JvdXBzIGxpc3QgdG8gcHJldmVudCBhdXRvbWF0aWMgcmVzdG9yYXRpb25cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLl9wb3BvdXRHcm91cHMuaW5kZXhPZihzZWxlY3RlZFBvcG91dEdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BvcG91dEdyb3Vwcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSByZWZlcmVuY2UgZ3JvdXAgKGdob3N0KSBpZiBpdCBleGlzdHMgYW5kIGlzIGhpZGRlblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRQb3BvdXRHcm91cC5yZWZlcmVuY2VHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlR3JvdXAgPSB0aGlzLmdldFBhbmVsKHNlbGVjdGVkUG9wb3V0R3JvdXAucmVmZXJlbmNlR3JvdXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZmVyZW5jZUdyb3VwICYmICFyZWZlcmVuY2VHcm91cC5hcGkuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb1JlbW92ZUdyb3VwKHJlZmVyZW5jZUdyb3VwLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBBY3RpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gTWFudWFsbHkgZGlzcG9zZSB0aGUgd2luZG93IHdpdGhvdXQgdHJpZ2dlcmluZyByZXN0b3JhdGlvblxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFBvcG91dEdyb3VwLndpbmRvdy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBncm91cCdzIGxvY2F0aW9uIGFuZCBjb250YWluZXJzIGZvciB0YXJnZXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvLmFwaS5sb2NhdGlvbi50eXBlID09PSAnZ3JpZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb20ubW9kZWwucmVuZGVyQ29udGFpbmVyID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm92ZXJsYXlSZW5kZXJDb250YWluZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tLm1vZGVsLmRyb3BUYXJnZXRDb250YWluZXIgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdERyb3BUYXJnZXRDb250YWluZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tLm1vZGVsLmxvY2F0aW9uID0geyB0eXBlOiAnZ3JpZCcgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0by5hcGkubG9jYXRpb24udHlwZSA9PT0gJ2Zsb2F0aW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbS5tb2RlbC5yZW5kZXJDb250YWluZXIgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3ZlcmxheVJlbmRlckNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb20ubW9kZWwuZHJvcFRhcmdldENvbnRhaW5lciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290RHJvcFRhcmdldENvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb20ubW9kZWwubG9jYXRpb24gPSB7IHR5cGU6ICdmbG9hdGluZycgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGb3IgbW92ZXMgdG8gZ3JpZCBsb2NhdGlvbnNcbiAgICAgICAgICAgIGlmICh0by5hcGkubG9jYXRpb24udHlwZSA9PT0gJ2dyaWQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVmZXJlbmNlTG9jYXRpb24gPSBnZXRHcmlkTG9jYXRpb24odG8uZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZHJvcExvY2F0aW9uID0gZ2V0UmVsYXRpdmVMb2NhdGlvbih0aGlzLmdyaWR2aWV3Lm9yaWVudGF0aW9uLCByZWZlcmVuY2VMb2NhdGlvbiwgdGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAvLyBBZGQgdG8gZ3JpZCBmb3IgYWxsIG1vdmVzIHRhcmdldGluZyBncmlkIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgbGV0IHNpemU7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLmdyaWR2aWV3Lm9yaWVudGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgT3JpZW50YXRpb24uVkVSVElDQUw6XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VMb2NhdGlvbi5sZW5ndGggJSAyID09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmcm9tLmFwaS53aWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZyb20uYXBpLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIE9yaWVudGF0aW9uLkhPUklaT05UQUw6XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZlcmVuY2VMb2NhdGlvbi5sZW5ndGggJSAyID09IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmcm9tLmFwaS5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBmcm9tLmFwaS53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmdyaWR2aWV3LmFkZFZpZXcoZnJvbSwgc2l6ZSwgZHJvcExvY2F0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRvLmFwaS5sb2NhdGlvbi50eXBlID09PSAnZmxvYXRpbmcnKSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIG1vdmVzIHRvIGZsb2F0aW5nIGxvY2F0aW9ucywgYWRkIGFzIGZsb2F0aW5nIGdyb3VwXG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBwb3NpdGlvbi9zaXplIGZyb20gdGhlIHRhcmdldCBmbG9hdGluZyBncm91cFxuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEZsb2F0aW5nR3JvdXAgPSB0aGlzLl9mbG9hdGluZ0dyb3Vwcy5maW5kKCh4KSA9PiB4Lmdyb3VwID09PSB0byk7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEZsb2F0aW5nR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYm94ID0gdGFyZ2V0RmxvYXRpbmdHcm91cC5vdmVybGF5LnRvSlNPTigpO1xuICAgICAgICAgICAgICAgICAgICAvLyBDYWxjdWxhdGUgcG9zaXRpb24gYmFzZWQgb24gYXZhaWxhYmxlIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxlZnQsIHRvcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdsZWZ0JyBpbiBib3gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgPSBib3gubGVmdCArIDUwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCdyaWdodCcgaW4gYm94KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gTWF0aC5tYXgoMCwgYm94LnJpZ2h0IC0gYm94LndpZHRoIC0gNTApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IDUwOyAvLyBEZWZhdWx0IGZhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCd0b3AnIGluIGJveCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0gYm94LnRvcCArIDUwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKCdib3R0b20nIGluIGJveCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgoMCwgYm94LmJvdHRvbSAtIGJveC5oZWlnaHQgLSA1MCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSA1MDsgLy8gRGVmYXVsdCBmYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRmxvYXRpbmdHcm91cChmcm9tLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGJveC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogYm94LndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmcm9tLnBhbmVscy5mb3JFYWNoKChwYW5lbCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25EaWRNb3ZlUGFuZWwuZmlyZSh7IHBhbmVsLCBmcm9tIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRW5zdXJlIGdyb3VwIGJlY29tZXMgYWN0aXZlIGFmdGVyIG1vdmVcbiAgICAgICAgaWYgKG9wdGlvbnMuc2tpcFNldEFjdGl2ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIE9ubHkgYWN0aXZhdGUgd2hlbiBleHBsaWNpdGx5IHJlcXVlc3RlZCAoc2tpcFNldEFjdGl2ZTogZmFsc2UpXG4gICAgICAgICAgICAvLyBVc2UgJ3RvJyBncm91cCBmb3Igbm9uLWNlbnRlciBtb3ZlcyBzaW5jZSAnZnJvbScgbWF5IGhhdmUgYmVlbiBkZXN0cm95ZWRcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEdyb3VwID0gdG8gIT09IG51bGwgJiYgdG8gIT09IHZvaWQgMCA/IHRvIDogZnJvbTtcbiAgICAgICAgICAgIHRoaXMuZG9TZXRHcm91cEFuZFBhbmVsQWN0aXZlKHRhcmdldEdyb3VwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkb1NldEdyb3VwQWN0aXZlKGdyb3VwKSB7XG4gICAgICAgIHN1cGVyLmRvU2V0R3JvdXBBY3RpdmUoZ3JvdXApO1xuICAgICAgICBjb25zdCBhY3RpdmVQYW5lbCA9IHRoaXMuYWN0aXZlUGFuZWw7XG4gICAgICAgIGlmICghdGhpcy5fbW92aW5nICYmXG4gICAgICAgICAgICBhY3RpdmVQYW5lbCAhPT0gdGhpcy5fb25EaWRBY3RpdmVQYW5lbENoYW5nZS52YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fb25EaWRBY3RpdmVQYW5lbENoYW5nZS5maXJlKGFjdGl2ZVBhbmVsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkb1NldEdyb3VwQW5kUGFuZWxBY3RpdmUoZ3JvdXApIHtcbiAgICAgICAgc3VwZXIuZG9TZXRHcm91cEFjdGl2ZShncm91cCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBhbmVsID0gdGhpcy5hY3RpdmVQYW5lbDtcbiAgICAgICAgaWYgKGdyb3VwICYmXG4gICAgICAgICAgICB0aGlzLmhhc01heGltaXplZEdyb3VwKCkgJiZcbiAgICAgICAgICAgICF0aGlzLmlzTWF4aW1pemVkR3JvdXAoZ3JvdXApKSB7XG4gICAgICAgICAgICB0aGlzLmV4aXRNYXhpbWl6ZWRHcm91cCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbW92aW5nICYmXG4gICAgICAgICAgICBhY3RpdmVQYW5lbCAhPT0gdGhpcy5fb25EaWRBY3RpdmVQYW5lbENoYW5nZS52YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fb25EaWRBY3RpdmVQYW5lbENoYW5nZS5maXJlKGFjdGl2ZVBhbmVsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXROZXh0R3JvdXBJZCgpIHtcbiAgICAgICAgbGV0IGlkID0gdGhpcy5uZXh0R3JvdXBJZC5uZXh0KCk7XG4gICAgICAgIHdoaWxlICh0aGlzLl9ncm91cHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgaWQgPSB0aGlzLm5leHRHcm91cElkLm5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICAgIGNyZWF0ZUdyb3VwKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGlkID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmlkO1xuICAgICAgICBpZiAoaWQgJiYgdGhpcy5fZ3JvdXBzLmhhcyhvcHRpb25zLmlkKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBkb2NrdmlldzogRHVwbGljYXRlIGdyb3VwIGlkICR7b3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmlkfS4gcmVhc3NpZ25pbmcgZ3JvdXAgaWQgdG8gYXZvaWQgZXJyb3JzYCk7XG4gICAgICAgICAgICBpZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICBpZCA9IHRoaXMubmV4dEdyb3VwSWQubmV4dCgpO1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuX2dyb3Vwcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICAgICAgaWQgPSB0aGlzLm5leHRHcm91cElkLm5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IERvY2t2aWV3R3JvdXBQYW5lbCh0aGlzLCBpZCwgb3B0aW9ucyk7XG4gICAgICAgIHZpZXcuaW5pdCh7IHBhcmFtczoge30sIGFjY2Vzc29yOiB0aGlzIH0pO1xuICAgICAgICBpZiAoIXRoaXMuX2dyb3Vwcy5oYXModmlldy5pZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3Bvc2FibGUgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZSh2aWV3Lm1vZGVsLm9uVGFiRHJhZ1N0YXJ0KChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uV2lsbERyYWdQYW5lbC5maXJlKGV2ZW50KTtcbiAgICAgICAgICAgIH0pLCB2aWV3Lm1vZGVsLm9uR3JvdXBEcmFnU3RhcnQoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25XaWxsRHJhZ0dyb3VwLmZpcmUoZXZlbnQpO1xuICAgICAgICAgICAgfSksIHZpZXcubW9kZWwub25Nb3ZlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZ3JvdXBJZCwgaXRlbUlkLCB0YXJnZXQsIGluZGV4IH0gPSBldmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVHcm91cE9yUGFuZWwoe1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiB7IGdyb3VwSWQ6IGdyb3VwSWQsIHBhbmVsSWQ6IGl0ZW1JZCB9LFxuICAgICAgICAgICAgICAgICAgICB0bzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IHZpZXcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSwgdmlldy5tb2RlbC5vbkRpZERyb3AoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25EaWREcm9wLmZpcmUoZXZlbnQpO1xuICAgICAgICAgICAgfSksIHZpZXcubW9kZWwub25XaWxsRHJvcCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbldpbGxEcm9wLmZpcmUoZXZlbnQpO1xuICAgICAgICAgICAgfSksIHZpZXcubW9kZWwub25XaWxsU2hvd092ZXJsYXkoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kaXNhYmxlRG5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fb25XaWxsU2hvd092ZXJsYXkuZmlyZShldmVudCk7XG4gICAgICAgICAgICB9KSwgdmlldy5tb2RlbC5vblVuaGFuZGxlZERyYWdPdmVyRXZlbnQoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25VbmhhbmRsZWREcmFnT3ZlckV2ZW50LmZpcmUoZXZlbnQpO1xuICAgICAgICAgICAgfSksIHZpZXcubW9kZWwub25EaWRBZGRQYW5lbCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbW92aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fb25EaWRBZGRQYW5lbC5maXJlKGV2ZW50LnBhbmVsKTtcbiAgICAgICAgICAgIH0pLCB2aWV3Lm1vZGVsLm9uRGlkUmVtb3ZlUGFuZWwoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21vdmluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkUmVtb3ZlUGFuZWwuZmlyZShldmVudC5wYW5lbCk7XG4gICAgICAgICAgICB9KSwgdmlldy5tb2RlbC5vbkRpZEFjdGl2ZVBhbmVsQ2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tb3ZpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQucGFuZWwgIT09IHRoaXMuYWN0aXZlUGFuZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25EaWRBY3RpdmVQYW5lbENoYW5nZS52YWx1ZSAhPT0gZXZlbnQucGFuZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25EaWRBY3RpdmVQYW5lbENoYW5nZS5maXJlKGV2ZW50LnBhbmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwgRXZlbnQuYW55KHZpZXcubW9kZWwub25EaWRQYW5lbFRpdGxlQ2hhbmdlLCB2aWV3Lm1vZGVsLm9uRGlkUGFuZWxQYXJhbWV0ZXJzQ2hhbmdlKSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyT25EaWRMYXlvdXRDaGFuZ2UuZmlyZSgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgdGhpcy5fZ3JvdXBzLnNldCh2aWV3LmlkLCB7IHZhbHVlOiB2aWV3LCBkaXNwb3NhYmxlIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IG11c3QgYmUgY2FsbGVkIGFmdGVyIHRoZSBhYm92ZSBsaXN0ZW5lcnMgaGF2ZSBiZWVuIHNldHVwLCBub3QgYW4gaWRlYWwgcGF0dGVyblxuICAgICAgICB2aWV3LmluaXRpYWxpemUoKTtcbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuICAgIGNyZWF0ZVBhbmVsKG9wdGlvbnMsIGdyb3VwKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICBjb25zdCBjb250ZW50Q29tcG9uZW50ID0gb3B0aW9ucy5jb21wb25lbnQ7XG4gICAgICAgIGNvbnN0IHRhYkNvbXBvbmVudCA9IChfYSA9IG9wdGlvbnMudGFiQ29tcG9uZW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLm9wdGlvbnMuZGVmYXVsdFRhYkNvbXBvbmVudDtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEb2Nrdmlld1BhbmVsTW9kZWwodGhpcywgb3B0aW9ucy5pZCwgY29udGVudENvbXBvbmVudCwgdGFiQ29tcG9uZW50KTtcbiAgICAgICAgY29uc3QgcGFuZWwgPSBuZXcgRG9ja3ZpZXdQYW5lbChvcHRpb25zLmlkLCBjb250ZW50Q29tcG9uZW50LCB0YWJDb21wb25lbnQsIHRoaXMsIHRoaXMuX2FwaSwgZ3JvdXAsIHZpZXcsIHtcbiAgICAgICAgICAgIHJlbmRlcmVyOiBvcHRpb25zLnJlbmRlcmVyLFxuICAgICAgICAgICAgbWluaW11bVdpZHRoOiBvcHRpb25zLm1pbmltdW1XaWR0aCxcbiAgICAgICAgICAgIG1pbmltdW1IZWlnaHQ6IG9wdGlvbnMubWluaW11bUhlaWdodCxcbiAgICAgICAgICAgIG1heGltdW1XaWR0aDogb3B0aW9ucy5tYXhpbXVtV2lkdGgsXG4gICAgICAgICAgICBtYXhpbXVtSGVpZ2h0OiBvcHRpb25zLm1heGltdW1IZWlnaHQsXG4gICAgICAgIH0pO1xuICAgICAgICBwYW5lbC5pbml0KHtcbiAgICAgICAgICAgIHRpdGxlOiAoX2IgPSBvcHRpb25zLnRpdGxlKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBvcHRpb25zLmlkLFxuICAgICAgICAgICAgcGFyYW1zOiAoX2MgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucGFyYW1zKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB7fSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYW5lbDtcbiAgICB9XG4gICAgY3JlYXRlR3JvdXBBdExvY2F0aW9uKGxvY2F0aW9uLCBzaXplLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5jcmVhdGVHcm91cChvcHRpb25zKTtcbiAgICAgICAgdGhpcy5kb0FkZEdyb3VwKGdyb3VwLCBsb2NhdGlvbiwgc2l6ZSk7XG4gICAgICAgIHJldHVybiBncm91cDtcbiAgICB9XG4gICAgZmluZEdyb3VwKHBhbmVsKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IEFycmF5LmZyb20odGhpcy5fZ3JvdXBzLnZhbHVlcygpKS5maW5kKChncm91cCkgPT4gZ3JvdXAudmFsdWUubW9kZWwuY29udGFpbnNQYW5lbChwYW5lbCkpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudmFsdWU7XG4gICAgfVxuICAgIG9yaWVudGF0aW9uQXRMb2NhdGlvbihsb2NhdGlvbikge1xuICAgICAgICBjb25zdCByb290T3JpZW50YXRpb24gPSB0aGlzLmdyaWR2aWV3Lm9yaWVudGF0aW9uO1xuICAgICAgICByZXR1cm4gbG9jYXRpb24ubGVuZ3RoICUgMiA9PSAxXG4gICAgICAgICAgICA/IHJvb3RPcmllbnRhdGlvblxuICAgICAgICAgICAgOiBvcnRob2dvbmFsKHJvb3RPcmllbnRhdGlvbik7XG4gICAgfVxuICAgIHVwZGF0ZURyb3BUYXJnZXRNb2RlbChvcHRpb25zKSB7XG4gICAgICAgIGlmICgnZG5kRWRnZXMnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3REcm9wVGFyZ2V0LmRpc2FibGVkID1cbiAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5kbmRFZGdlcyA9PT0gJ2Jvb2xlYW4nICYmXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuZG5kRWRnZXMgPT09IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmRuZEVkZ2VzID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgIG9wdGlvbnMuZG5kRWRnZXMgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yb290RHJvcFRhcmdldC5zZXRPdmVybGF5TW9kZWwob3B0aW9ucy5kbmRFZGdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yb290RHJvcFRhcmdldC5zZXRPdmVybGF5TW9kZWwoREVGQVVMVF9ST09UX09WRVJMQVlfTU9ERUwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgncm9vdE92ZXJsYXlNb2RlbCcgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVEcm9wVGFyZ2V0TW9kZWwoeyBkbmRFZGdlczogb3B0aW9ucy5kbmRFZGdlcyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVUaGVtZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgdGhlbWUgPSAoX2EgPSB0aGlzLl9vcHRpb25zLnRoZW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGVtZUFieXNzO1xuICAgICAgICB0aGlzLl90aGVtZUNsYXNzbmFtZXMuc2V0Q2xhc3NOYW1lcyh0aGVtZS5jbGFzc05hbWUpO1xuICAgICAgICB0aGlzLmdyaWR2aWV3Lm1hcmdpbiA9IChfYiA9IHRoZW1lLmdhcCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogMDtcbiAgICAgICAgc3dpdGNoICh0aGVtZS5kbmRPdmVybGF5TW91bnRpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgJ2Fic29sdXRlJzpcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3REcm9wVGFyZ2V0Q29udGFpbmVyLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyZWxhdGl2ZSc6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMucm9vdERyb3BUYXJnZXRDb250YWluZXIuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5leHBvcnQgY2xhc3MgRG9ja3ZpZXdGbG9hdGluZ0dyb3VwUGFuZWwgZXh0ZW5kcyBDb21wb3NpdGVEaXNwb3NhYmxlIHtcbiAgICBjb25zdHJ1Y3Rvcihncm91cCwgb3ZlcmxheSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gICAgICAgIHRoaXMub3ZlcmxheSA9IG92ZXJsYXk7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXMob3ZlcmxheSk7XG4gICAgfVxuICAgIHBvc2l0aW9uKGJvdW5kcykge1xuICAgICAgICB0aGlzLm92ZXJsYXkuc2V0Qm91bmRzKGJvdW5kcyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRG9ja3ZpZXdHcm91cFBhbmVsTW9kZWwsIH0gZnJvbSAnLi9kb2Nrdmlld0dyb3VwUGFuZWxNb2RlbCc7XG5pbXBvcnQgeyBHcmlkdmlld1BhbmVsIH0gZnJvbSAnLi4vZ3JpZHZpZXcvZ3JpZHZpZXdQYW5lbCc7XG5pbXBvcnQgeyBEb2Nrdmlld0dyb3VwUGFuZWxBcGlJbXBsLCB9IGZyb20gJy4uL2FwaS9kb2Nrdmlld0dyb3VwUGFuZWxBcGknO1xuY29uc3QgTUlOSU1VTV9ET0NLVklFV19HUk9VUF9QQU5FTF9XSURUSCA9IDEwMDtcbmNvbnN0IE1JTklNVU1fRE9DS1ZJRVdfR1JPVVBfUEFORUxfSEVJR0hUID0gMTAwO1xuZXhwb3J0IGNsYXNzIERvY2t2aWV3R3JvdXBQYW5lbCBleHRlbmRzIEdyaWR2aWV3UGFuZWwge1xuICAgIGdldCBtaW5pbXVtV2lkdGgoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgYWN0aXZlUGFuZWxNaW5pbXVtV2lkdGggPSAoX2EgPSB0aGlzLmFjdGl2ZVBhbmVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWluaW11bVdpZHRoO1xuICAgICAgICBpZiAodHlwZW9mIGFjdGl2ZVBhbmVsTWluaW11bVdpZHRoID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVBhbmVsTWluaW11bVdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5fX21pbmltdW1XaWR0aCgpO1xuICAgIH1cbiAgICBnZXQgbWluaW11bUhlaWdodCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBhY3RpdmVQYW5lbE1pbmltdW1IZWlnaHQgPSAoX2EgPSB0aGlzLmFjdGl2ZVBhbmVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWluaW11bUhlaWdodDtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3RpdmVQYW5lbE1pbmltdW1IZWlnaHQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aXZlUGFuZWxNaW5pbXVtSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5fX21pbmltdW1IZWlnaHQoKTtcbiAgICB9XG4gICAgZ2V0IG1heGltdW1XaWR0aCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBhY3RpdmVQYW5lbE1heGltdW1XaWR0aCA9IChfYSA9IHRoaXMuYWN0aXZlUGFuZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXhpbXVtV2lkdGg7XG4gICAgICAgIGlmICh0eXBlb2YgYWN0aXZlUGFuZWxNYXhpbXVtV2lkdGggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aXZlUGFuZWxNYXhpbXVtV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLl9fbWF4aW11bVdpZHRoKCk7XG4gICAgfVxuICAgIGdldCBtYXhpbXVtSGVpZ2h0KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVBhbmVsTWF4aW11bUhlaWdodCA9IChfYSA9IHRoaXMuYWN0aXZlUGFuZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXhpbXVtSGVpZ2h0O1xuICAgICAgICBpZiAodHlwZW9mIGFjdGl2ZVBhbmVsTWF4aW11bUhlaWdodCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVQYW5lbE1heGltdW1IZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLl9fbWF4aW11bUhlaWdodCgpO1xuICAgIH1cbiAgICBnZXQgcGFuZWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9kZWwucGFuZWxzO1xuICAgIH1cbiAgICBnZXQgYWN0aXZlUGFuZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2RlbC5hY3RpdmVQYW5lbDtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2RlbC5zaXplO1xuICAgIH1cbiAgICBnZXQgbW9kZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcbiAgICB9XG4gICAgZ2V0IGxvY2tlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsLmxvY2tlZDtcbiAgICB9XG4gICAgc2V0IGxvY2tlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tb2RlbC5sb2NrZWQgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGhlYWRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsLmhlYWRlcjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoYWNjZXNzb3IsIGlkLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBzdXBlcihpZCwgJ2dyb3Vwdmlld19kZWZhdWx0Jywge1xuICAgICAgICAgICAgbWluaW11bUhlaWdodDogKF9iID0gKF9hID0gb3B0aW9ucy5jb25zdHJhaW50cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1pbmltdW1IZWlnaHQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IE1JTklNVU1fRE9DS1ZJRVdfR1JPVVBfUEFORUxfSEVJR0hULFxuICAgICAgICAgICAgbWluaW11bVdpZHRoOiAoX2QgPSAoX2MgPSBvcHRpb25zLmNvbnN0cmFpbnRzKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MubWF4aW11bUhlaWdodCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogTUlOSU1VTV9ET0NLVklFV19HUk9VUF9QQU5FTF9XSURUSCxcbiAgICAgICAgICAgIG1heGltdW1IZWlnaHQ6IChfZSA9IG9wdGlvbnMuY29uc3RyYWludHMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5tYXhpbXVtSGVpZ2h0LFxuICAgICAgICAgICAgbWF4aW11bVdpZHRoOiAoX2YgPSBvcHRpb25zLmNvbnN0cmFpbnRzKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YubWF4aW11bVdpZHRoLFxuICAgICAgICB9LCBuZXcgRG9ja3ZpZXdHcm91cFBhbmVsQXBpSW1wbChpZCwgYWNjZXNzb3IpKTtcbiAgICAgICAgdGhpcy5hcGkuaW5pdGlhbGl6ZSh0aGlzKTsgLy8gY2Fubm90IHVzZSAndGhpcycgYWZ0ZXIgYWZ0ZXIgJ3N1cGVyJyBjYWxsXG4gICAgICAgIHRoaXMuX21vZGVsID0gbmV3IERvY2t2aWV3R3JvdXBQYW5lbE1vZGVsKHRoaXMuZWxlbWVudCwgYWNjZXNzb3IsIGlkLCBvcHRpb25zLCB0aGlzKTtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyh0aGlzLm1vZGVsLm9uRGlkQWN0aXZlUGFuZWxDaGFuZ2UoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwaS5fb25EaWRBY3RpdmVQYW5lbENoYW5nZS5maXJlKGV2ZW50KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBmb2N1cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFwaS5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5hcGkuc2V0QWN0aXZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZm9jdXMoKTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgdGhpcy5fbW9kZWwuaW5pdGlhbGl6ZSgpO1xuICAgIH1cbiAgICBzZXRBY3RpdmUoaXNBY3RpdmUpIHtcbiAgICAgICAgc3VwZXIuc2V0QWN0aXZlKGlzQWN0aXZlKTtcbiAgICAgICAgdGhpcy5tb2RlbC5zZXRBY3RpdmUoaXNBY3RpdmUpO1xuICAgIH1cbiAgICBsYXlvdXQod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBzdXBlci5sYXlvdXQod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHRoaXMubW9kZWwubGF5b3V0KHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICBnZXRDb21wb25lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2RlbDtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbC50b0pTT04oKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBEb2Nrdmlld0FwaSB9IGZyb20gJy4uL2FwaS9jb21wb25lbnQuYXBpJztcbmltcG9ydCB7IGdldFBhbmVsRGF0YSB9IGZyb20gJy4uL2RuZC9kYXRhVHJhbnNmZXInO1xuaW1wb3J0IHsgaXNBbmNlc3RvciwgdG9nZ2xlQ2xhc3MgfSBmcm9tICcuLi9kb20nO1xuaW1wb3J0IHsgYWRkRGlzcG9zYWJsZUxpc3RlbmVyLCBEb2Nrdmlld0V2ZW50LCBFbWl0dGVyLCB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBXaWxsU2hvd092ZXJsYXlMb2NhdGlvbkV2ZW50IH0gZnJvbSAnLi9ldmVudHMnO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5pbXBvcnQgeyBDb250ZW50Q29udGFpbmVyLCB9IGZyb20gJy4vY29tcG9uZW50cy9wYW5lbC9jb250ZW50JztcbmltcG9ydCB7IFRhYnNDb250YWluZXIsIH0gZnJvbSAnLi9jb21wb25lbnRzL3RpdGxlYmFyL3RhYnNDb250YWluZXInO1xuaW1wb3J0IHsgRG9ja3ZpZXdVbmhhbmRsZWREcmFnT3ZlckV2ZW50LCB9IGZyb20gJy4vb3B0aW9ucyc7XG5leHBvcnQgY2xhc3MgRG9ja3ZpZXdEaWREcm9wRXZlbnQgZXh0ZW5kcyBEb2Nrdmlld0V2ZW50IHtcbiAgICBnZXQgbmF0aXZlRXZlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMubmF0aXZlRXZlbnQ7XG4gICAgfVxuICAgIGdldCBwb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wb3NpdGlvbjtcbiAgICB9XG4gICAgZ2V0IHBhbmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnBhbmVsO1xuICAgIH1cbiAgICBnZXQgZ3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZ3JvdXA7XG4gICAgfVxuICAgIGdldCBhcGkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuYXBpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIGdldERhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZ2V0RGF0YSgpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBEb2Nrdmlld1dpbGxEcm9wRXZlbnQgZXh0ZW5kcyBEb2Nrdmlld0RpZERyb3BFdmVudCB7XG4gICAgZ2V0IGtpbmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9raW5kO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9raW5kID0gb3B0aW9ucy5raW5kO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBEb2Nrdmlld0dyb3VwUGFuZWxNb2RlbCBleHRlbmRzIENvbXBvc2l0ZURpc3Bvc2FibGUge1xuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RvY2t2aWV3OiBub3Qgc3VwcG9ydGVkJyk7XG4gICAgfVxuICAgIGdldCBhY3RpdmVQYW5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZVBhbmVsO1xuICAgIH1cbiAgICBnZXQgbG9ja2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9ja2VkO1xuICAgIH1cbiAgICBzZXQgbG9ja2VkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2xvY2tlZCA9IHZhbHVlO1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLmNvbnRhaW5lciwgJ2R2LWxvY2tlZC1ncm91cHZpZXcnLCB2YWx1ZSA9PT0gJ25vLWRyb3AtdGFyZ2V0JyB8fCB2YWx1ZSk7XG4gICAgfVxuICAgIGdldCBpc0FjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzR3JvdXBBY3RpdmU7XG4gICAgfVxuICAgIGdldCBwYW5lbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYW5lbHM7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFuZWxzLmxlbmd0aDtcbiAgICB9XG4gICAgZ2V0IGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYW5lbHMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBnZXQgaGFzV2F0ZXJtYXJrKCkge1xuICAgICAgICByZXR1cm4gISEodGhpcy53YXRlcm1hcmsgJiYgdGhpcy5jb250YWluZXIuY29udGFpbnModGhpcy53YXRlcm1hcmsuZWxlbWVudCkpO1xuICAgIH1cbiAgICBnZXQgaGVhZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YWJzQ29udGFpbmVyO1xuICAgIH1cbiAgICBnZXQgaXNDb250ZW50Rm9jdXNlZCgpIHtcbiAgICAgICAgaWYgKCFkb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzQW5jZXN0b3IoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCwgdGhpcy5jb250ZW50Q29udGFpbmVyLmVsZW1lbnQpO1xuICAgIH1cbiAgICBnZXQgbG9jYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhdGlvbjtcbiAgICB9XG4gICAgc2V0IGxvY2F0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2xvY2F0aW9uID0gdmFsdWU7XG4gICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuY29udGFpbmVyLCAnZHYtZ3JvdXB2aWV3LWZsb2F0aW5nJywgZmFsc2UpO1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLmNvbnRhaW5lciwgJ2R2LWdyb3Vwdmlldy1wb3BvdXQnLCBmYWxzZSk7XG4gICAgICAgIHN3aXRjaCAodmFsdWUudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZ3JpZCc6XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50Q29udGFpbmVyLmRyb3BUYXJnZXQuc2V0VGFyZ2V0Wm9uZXMoW1xuICAgICAgICAgICAgICAgICAgICAndG9wJyxcbiAgICAgICAgICAgICAgICAgICAgJ2JvdHRvbScsXG4gICAgICAgICAgICAgICAgICAgICdsZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgJ3JpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdmbG9hdGluZyc6XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50Q29udGFpbmVyLmRyb3BUYXJnZXQuc2V0VGFyZ2V0Wm9uZXMoWydjZW50ZXInXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50Q29udGFpbmVyLmRyb3BUYXJnZXQuc2V0VGFyZ2V0Wm9uZXModmFsdWVcbiAgICAgICAgICAgICAgICAgICAgPyBbJ2NlbnRlciddXG4gICAgICAgICAgICAgICAgICAgIDogWyd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnLCAnY2VudGVyJ10pO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuY29udGFpbmVyLCAnZHYtZ3JvdXB2aWV3LWZsb2F0aW5nJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwb3BvdXQnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudENvbnRhaW5lci5kcm9wVGFyZ2V0LnNldFRhcmdldFpvbmVzKFsnY2VudGVyJ10pO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuY29udGFpbmVyLCAnZHYtZ3JvdXB2aWV3LXBvcG91dCcsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ3JvdXBQYW5lbC5hcGkuX29uRGlkTG9jYXRpb25DaGFuZ2UuZmlyZSh7XG4gICAgICAgICAgICBsb2NhdGlvbjogdGhpcy5sb2NhdGlvbixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lciwgYWNjZXNzb3IsIGlkLCBvcHRpb25zLCBncm91cFBhbmVsKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuYWNjZXNzb3IgPSBhY2Nlc3NvcjtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLmdyb3VwUGFuZWwgPSBncm91cFBhbmVsO1xuICAgICAgICB0aGlzLl9pc0dyb3VwQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2xvY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9sb2NhdGlvbiA9IHsgdHlwZTogJ2dyaWQnIH07XG4gICAgICAgIHRoaXMubW9zdFJlY2VudGx5VXNlZCA9IFtdO1xuICAgICAgICB0aGlzLl9vdmVyd3JpdGVSZW5kZXJDb250YWluZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9vdmVyd3JpdGVEcm9wVGFyZ2V0Q29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlID0gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gMDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gMDtcbiAgICAgICAgdGhpcy5fcGFuZWxzID0gW107XG4gICAgICAgIHRoaXMuX3BhbmVsRGlzcG9zYWJsZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX29uTW92ZSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25Nb3ZlID0gdGhpcy5fb25Nb3ZlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZERyb3AgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkRHJvcCA9IHRoaXMuX29uRGlkRHJvcC5ldmVudDtcbiAgICAgICAgdGhpcy5fb25XaWxsRHJvcCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25XaWxsRHJvcCA9IHRoaXMuX29uV2lsbERyb3AuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uV2lsbFNob3dPdmVybGF5ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbldpbGxTaG93T3ZlcmxheSA9IHRoaXMuX29uV2lsbFNob3dPdmVybGF5LmV2ZW50O1xuICAgICAgICB0aGlzLl9vblRhYkRyYWdTdGFydCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25UYWJEcmFnU3RhcnQgPSB0aGlzLl9vblRhYkRyYWdTdGFydC5ldmVudDtcbiAgICAgICAgdGhpcy5fb25Hcm91cERyYWdTdGFydCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25Hcm91cERyYWdTdGFydCA9IHRoaXMuX29uR3JvdXBEcmFnU3RhcnQuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkQWRkUGFuZWwgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQWRkUGFuZWwgPSB0aGlzLl9vbkRpZEFkZFBhbmVsLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZFBhbmVsVGl0bGVDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkUGFuZWxUaXRsZUNoYW5nZSA9IHRoaXMuX29uRGlkUGFuZWxUaXRsZUNoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRQYW5lbFBhcmFtZXRlcnNDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkUGFuZWxQYXJhbWV0ZXJzQ2hhbmdlID0gdGhpcy5fb25EaWRQYW5lbFBhcmFtZXRlcnNDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkUmVtb3ZlUGFuZWwgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkUmVtb3ZlUGFuZWwgPSB0aGlzLl9vbkRpZFJlbW92ZVBhbmVsLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZEFjdGl2ZVBhbmVsQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZEFjdGl2ZVBhbmVsQ2hhbmdlID0gdGhpcy5fb25EaWRBY3RpdmVQYW5lbENoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25VbmhhbmRsZWREcmFnT3ZlckV2ZW50ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vblVuaGFuZGxlZERyYWdPdmVyRXZlbnQgPSB0aGlzLl9vblVuaGFuZGxlZERyYWdPdmVyRXZlbnQuZXZlbnQ7XG4gICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuY29udGFpbmVyLCAnZHYtZ3JvdXB2aWV3JywgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX2FwaSA9IG5ldyBEb2Nrdmlld0FwaSh0aGlzLmFjY2Vzc29yKTtcbiAgICAgICAgdGhpcy50YWJzQ29udGFpbmVyID0gbmV3IFRhYnNDb250YWluZXIodGhpcy5hY2Nlc3NvciwgdGhpcy5ncm91cFBhbmVsKTtcbiAgICAgICAgdGhpcy5jb250ZW50Q29udGFpbmVyID0gbmV3IENvbnRlbnRDb250YWluZXIodGhpcy5hY2Nlc3NvciwgdGhpcyk7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmQodGhpcy50YWJzQ29udGFpbmVyLmVsZW1lbnQsIHRoaXMuY29udGVudENvbnRhaW5lci5lbGVtZW50KTtcbiAgICAgICAgdGhpcy5oZWFkZXIuaGlkZGVuID0gISFvcHRpb25zLmhpZGVIZWFkZXI7XG4gICAgICAgIHRoaXMubG9ja2VkID0gKF9hID0gb3B0aW9ucy5sb2NrZWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlO1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKHRoaXMuX29uVGFiRHJhZ1N0YXJ0LCB0aGlzLl9vbkdyb3VwRHJhZ1N0YXJ0LCB0aGlzLl9vbldpbGxTaG93T3ZlcmxheSwgdGhpcy50YWJzQ29udGFpbmVyLm9uVGFiRHJhZ1N0YXJ0KChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25UYWJEcmFnU3RhcnQuZmlyZShldmVudCk7XG4gICAgICAgIH0pLCB0aGlzLnRhYnNDb250YWluZXIub25Hcm91cERyYWdTdGFydCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uR3JvdXBEcmFnU3RhcnQuZmlyZShldmVudCk7XG4gICAgICAgIH0pLCB0aGlzLnRhYnNDb250YWluZXIub25Ecm9wKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVEcm9wRXZlbnQoJ2hlYWRlcicsIGV2ZW50LmV2ZW50LCAnY2VudGVyJywgZXZlbnQuaW5kZXgpO1xuICAgICAgICB9KSwgdGhpcy5jb250ZW50Q29udGFpbmVyLm9uRGlkRm9jdXMoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY2Nlc3Nvci5kb1NldEdyb3VwQWN0aXZlKHRoaXMuZ3JvdXBQYW5lbCk7XG4gICAgICAgIH0pLCB0aGlzLmNvbnRlbnRDb250YWluZXIub25EaWRCbHVyKCgpID0+IHtcbiAgICAgICAgICAgIC8vIG5vb3BcbiAgICAgICAgfSksIHRoaXMuY29udGVudENvbnRhaW5lci5kcm9wVGFyZ2V0Lm9uRHJvcCgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRHJvcEV2ZW50KCdjb250ZW50JywgZXZlbnQubmF0aXZlRXZlbnQsIGV2ZW50LnBvc2l0aW9uKTtcbiAgICAgICAgfSksIHRoaXMudGFic0NvbnRhaW5lci5vbldpbGxTaG93T3ZlcmxheSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uV2lsbFNob3dPdmVybGF5LmZpcmUoZXZlbnQpO1xuICAgICAgICB9KSwgdGhpcy5jb250ZW50Q29udGFpbmVyLmRyb3BUYXJnZXQub25XaWxsU2hvd092ZXJsYXkoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbldpbGxTaG93T3ZlcmxheS5maXJlKG5ldyBXaWxsU2hvd092ZXJsYXlMb2NhdGlvbkV2ZW50KGV2ZW50LCB7XG4gICAgICAgICAgICAgICAga2luZDogJ2NvbnRlbnQnLFxuICAgICAgICAgICAgICAgIHBhbmVsOiB0aGlzLmFjdGl2ZVBhbmVsLFxuICAgICAgICAgICAgICAgIGFwaTogdGhpcy5fYXBpLFxuICAgICAgICAgICAgICAgIGdyb3VwOiB0aGlzLmdyb3VwUGFuZWwsXG4gICAgICAgICAgICAgICAgZ2V0RGF0YTogZ2V0UGFuZWxEYXRhLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSwgdGhpcy5fb25Nb3ZlLCB0aGlzLl9vbkRpZENoYW5nZSwgdGhpcy5fb25EaWREcm9wLCB0aGlzLl9vbldpbGxEcm9wLCB0aGlzLl9vbkRpZEFkZFBhbmVsLCB0aGlzLl9vbkRpZFJlbW92ZVBhbmVsLCB0aGlzLl9vbkRpZEFjdGl2ZVBhbmVsQ2hhbmdlLCB0aGlzLl9vblVuaGFuZGxlZERyYWdPdmVyRXZlbnQsIHRoaXMuX29uRGlkUGFuZWxUaXRsZUNoYW5nZSwgdGhpcy5fb25EaWRQYW5lbFBhcmFtZXRlcnNDaGFuZ2UpO1xuICAgIH1cbiAgICBmb2N1c0NvbnRlbnQoKSB7XG4gICAgICAgIHRoaXMuY29udGVudENvbnRhaW5lci5lbGVtZW50LmZvY3VzKCk7XG4gICAgfVxuICAgIHNldCByZW5kZXJDb250YWluZXIodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQ29udGFpbmVyLmRldGF0Y2gocGFuZWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fb3ZlcndyaXRlUmVuZGVyQ29udGFpbmVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMucGFuZWxzLmZvckVhY2goKHBhbmVsKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlcmVuZGVyKHBhbmVsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCByZW5kZXJDb250YWluZXIoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLl9vdmVyd3JpdGVSZW5kZXJDb250YWluZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuYWNjZXNzb3Iub3ZlcmxheVJlbmRlckNvbnRhaW5lcik7XG4gICAgfVxuICAgIHNldCBkcm9wVGFyZ2V0Q29udGFpbmVyKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX292ZXJ3cml0ZURyb3BUYXJnZXRDb250YWluZXIgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IGRyb3BUYXJnZXRDb250YWluZXIoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLl9vdmVyd3JpdGVEcm9wVGFyZ2V0Q29udGFpbmVyKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLmFjY2Vzc29yLnJvb3REcm9wVGFyZ2V0Q29udGFpbmVyKTtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5wYW5lbHMpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5wYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRvQWRkUGFuZWwocGFuZWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hY3RpdmVQYW5lbCkge1xuICAgICAgICAgICAgdGhpcy5vcGVuUGFuZWwodGhpcy5vcHRpb25zLmFjdGl2ZVBhbmVsKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtdXN0IGJlIHJ1biBhZnRlciB0aGUgY29uc3RydWN0b3Igb3RoZXJ3aXNlIHRoaXMucGFyZW50IG1heSBub3QgYmVcbiAgICAgICAgLy8gY29ycmVjdGx5IGluaXRpYWxpemVkXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlKHRoaXMuaXNBY3RpdmUsIHRydWUpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbnRhaW5lcigpO1xuICAgICAgICBpZiAodGhpcy5hY2Nlc3Nvci5vcHRpb25zLmNyZWF0ZVJpZ2h0SGVhZGVyQWN0aW9uQ29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9yaWdodEhlYWRlckFjdGlvbnMgPVxuICAgICAgICAgICAgICAgIHRoaXMuYWNjZXNzb3Iub3B0aW9ucy5jcmVhdGVSaWdodEhlYWRlckFjdGlvbkNvbXBvbmVudCh0aGlzLmdyb3VwUGFuZWwpO1xuICAgICAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyh0aGlzLl9yaWdodEhlYWRlckFjdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5fcmlnaHRIZWFkZXJBY3Rpb25zLmluaXQoe1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lckFwaTogdGhpcy5fYXBpLFxuICAgICAgICAgICAgICAgIGFwaTogdGhpcy5ncm91cFBhbmVsLmFwaSxcbiAgICAgICAgICAgICAgICBncm91cDogdGhpcy5ncm91cFBhbmVsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnRhYnNDb250YWluZXIuc2V0UmlnaHRBY3Rpb25zRWxlbWVudCh0aGlzLl9yaWdodEhlYWRlckFjdGlvbnMuZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWNjZXNzb3Iub3B0aW9ucy5jcmVhdGVMZWZ0SGVhZGVyQWN0aW9uQ29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9sZWZ0SGVhZGVyQWN0aW9ucyA9XG4gICAgICAgICAgICAgICAgdGhpcy5hY2Nlc3Nvci5vcHRpb25zLmNyZWF0ZUxlZnRIZWFkZXJBY3Rpb25Db21wb25lbnQodGhpcy5ncm91cFBhbmVsKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fbGVmdEhlYWRlckFjdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5fbGVmdEhlYWRlckFjdGlvbnMuaW5pdCh7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyQXBpOiB0aGlzLl9hcGksXG4gICAgICAgICAgICAgICAgYXBpOiB0aGlzLmdyb3VwUGFuZWwuYXBpLFxuICAgICAgICAgICAgICAgIGdyb3VwOiB0aGlzLmdyb3VwUGFuZWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMudGFic0NvbnRhaW5lci5zZXRMZWZ0QWN0aW9uc0VsZW1lbnQodGhpcy5fbGVmdEhlYWRlckFjdGlvbnMuZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYWNjZXNzb3Iub3B0aW9ucy5jcmVhdGVQcmVmaXhIZWFkZXJBY3Rpb25Db21wb25lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3ByZWZpeEhlYWRlckFjdGlvbnMgPVxuICAgICAgICAgICAgICAgIHRoaXMuYWNjZXNzb3Iub3B0aW9ucy5jcmVhdGVQcmVmaXhIZWFkZXJBY3Rpb25Db21wb25lbnQodGhpcy5ncm91cFBhbmVsKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fcHJlZml4SGVhZGVyQWN0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLl9wcmVmaXhIZWFkZXJBY3Rpb25zLmluaXQoe1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lckFwaTogdGhpcy5fYXBpLFxuICAgICAgICAgICAgICAgIGFwaTogdGhpcy5ncm91cFBhbmVsLmFwaSxcbiAgICAgICAgICAgICAgICBncm91cDogdGhpcy5ncm91cFBhbmVsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnRhYnNDb250YWluZXIuc2V0UHJlZml4QWN0aW9uc0VsZW1lbnQodGhpcy5fcHJlZml4SGVhZGVyQWN0aW9ucy5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXJlbmRlcihwYW5lbCkge1xuICAgICAgICB0aGlzLmNvbnRlbnRDb250YWluZXIucmVuZGVyUGFuZWwocGFuZWwsIHsgYXNBY3RpdmU6IGZhbHNlIH0pO1xuICAgIH1cbiAgICBpbmRleE9mKHBhbmVsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhYnNDb250YWluZXIuaW5kZXhPZihwYW5lbC5pZCk7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICB2aWV3czogdGhpcy50YWJzQ29udGFpbmVyLnBhbmVscyxcbiAgICAgICAgICAgIGFjdGl2ZVZpZXc6IChfYSA9IHRoaXMuX2FjdGl2ZVBhbmVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaWQsXG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMubG9ja2VkICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgcmVzdWx0LmxvY2tlZCA9IHRoaXMubG9ja2VkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhlYWRlci5oaWRkZW4pIHtcbiAgICAgICAgICAgIHJlc3VsdC5oaWRlSGVhZGVyID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBtb3ZlVG9OZXh0KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLnBhbmVsKSB7XG4gICAgICAgICAgICBvcHRpb25zLnBhbmVsID0gdGhpcy5hY3RpdmVQYW5lbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IG9wdGlvbnMucGFuZWwgPyB0aGlzLnBhbmVscy5pbmRleE9mKG9wdGlvbnMucGFuZWwpIDogLTE7XG4gICAgICAgIGxldCBub3JtYWxpemVkSW5kZXg7XG4gICAgICAgIGlmIChpbmRleCA8IHRoaXMucGFuZWxzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRJbmRleCA9IGluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghb3B0aW9ucy5zdXBwcmVzc1JvbGwpIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcGVuUGFuZWwodGhpcy5wYW5lbHNbbm9ybWFsaXplZEluZGV4XSk7XG4gICAgfVxuICAgIG1vdmVUb1ByZXZpb3VzKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLnBhbmVsKSB7XG4gICAgICAgICAgICBvcHRpb25zLnBhbmVsID0gdGhpcy5hY3RpdmVQYW5lbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbnMucGFuZWwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucGFuZWxzLmluZGV4T2Yob3B0aW9ucy5wYW5lbCk7XG4gICAgICAgIGxldCBub3JtYWxpemVkSW5kZXg7XG4gICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRJbmRleCA9IGluZGV4IC0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghb3B0aW9ucy5zdXBwcmVzc1JvbGwpIHtcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRJbmRleCA9IHRoaXMucGFuZWxzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcGVuUGFuZWwodGhpcy5wYW5lbHNbbm9ybWFsaXplZEluZGV4XSk7XG4gICAgfVxuICAgIGNvbnRhaW5zUGFuZWwocGFuZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFuZWxzLmluY2x1ZGVzKHBhbmVsKTtcbiAgICB9XG4gICAgaW5pdChfcGFyYW1zKSB7XG4gICAgICAgIC8vbm9vcFxuICAgIH1cbiAgICB1cGRhdGUoX3BhcmFtcykge1xuICAgICAgICAvL25vb3BcbiAgICB9XG4gICAgZm9jdXMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5fYWN0aXZlUGFuZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cygpO1xuICAgIH1cbiAgICBvcGVuUGFuZWwocGFuZWwsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogc2V0IHRoZSBwYW5lbCBncm91cFxuICAgICAgICAgKiBhZGQgdGhlIHBhbmVsXG4gICAgICAgICAqIGNoZWNrIGlmIGdyb3VwIGFjdGl2ZVxuICAgICAgICAgKiBjaGVjayBpZiBwYW5lbCBhY3RpdmVcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5pbmRleCAhPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgIG9wdGlvbnMuaW5kZXggPiB0aGlzLnBhbmVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuaW5kZXggPSB0aGlzLnBhbmVscy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2tpcFNldEFjdGl2ZSA9ICEhb3B0aW9ucy5za2lwU2V0QWN0aXZlO1xuICAgICAgICAvLyBlbnN1cmUgdGhlIGdyb3VwIGlzIHVwZGF0ZWQgYmVmb3JlIHdlIGZpcmUgYW55IGV2ZW50c1xuICAgICAgICBwYW5lbC51cGRhdGVQYXJlbnRHcm91cCh0aGlzLmdyb3VwUGFuZWwsIHtcbiAgICAgICAgICAgIHNraXBTZXRBY3RpdmU6IG9wdGlvbnMuc2tpcFNldEFjdGl2ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZG9BZGRQYW5lbChwYW5lbCwgb3B0aW9ucy5pbmRleCwge1xuICAgICAgICAgICAgc2tpcFNldEFjdGl2ZTogc2tpcFNldEFjdGl2ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVQYW5lbCA9PT0gcGFuZWwpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudENvbnRhaW5lci5yZW5kZXJQYW5lbChwYW5lbCwgeyBhc0FjdGl2ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNraXBTZXRBY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuZG9TZXRBY3RpdmVQYW5lbChwYW5lbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLnNraXBTZXRHcm91cEFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5hY2Nlc3Nvci5kb1NldEdyb3VwQWN0aXZlKHRoaXMuZ3JvdXBQYW5lbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFvcHRpb25zLnNraXBTZXRBY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29udGFpbmVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlUGFuZWwoZ3JvdXBJdGVtT3JJZCwgb3B0aW9ucyA9IHtcbiAgICAgICAgc2tpcFNldEFjdGl2ZTogZmFsc2UsXG4gICAgfSkge1xuICAgICAgICBjb25zdCBpZCA9IHR5cGVvZiBncm91cEl0ZW1PcklkID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBncm91cEl0ZW1PcklkXG4gICAgICAgICAgICA6IGdyb3VwSXRlbU9ySWQuaWQ7XG4gICAgICAgIGNvbnN0IHBhbmVsVG9SZW1vdmUgPSB0aGlzLl9wYW5lbHMuZmluZCgocGFuZWwpID0+IHBhbmVsLmlkID09PSBpZCk7XG4gICAgICAgIGlmICghcGFuZWxUb1JlbW92ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIG9wZXJhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZW1vdmVQYW5lbChwYW5lbFRvUmVtb3ZlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY2xvc2VBbGxQYW5lbHMoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhbmVscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyB0YWtlIGEgY29weSBzaW5jZSB3ZSB3aWxsIGJlIGVkdGluZyB0aGUgYXJyYXkgYXMgd2UgaXRlcmF0ZSB0aHJvdWdoXG4gICAgICAgICAgICBjb25zdCBhcnJQYW5lbENweSA9IFsuLi50aGlzLnBhbmVsc107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhbmVsIG9mIGFyclBhbmVsQ3B5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kb0Nsb3NlKHBhbmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWNjZXNzb3IucmVtb3ZlR3JvdXAodGhpcy5ncm91cFBhbmVsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbG9zZVBhbmVsKHBhbmVsKSB7XG4gICAgICAgIHRoaXMuZG9DbG9zZShwYW5lbCk7XG4gICAgfVxuICAgIGRvQ2xvc2UocGFuZWwpIHtcbiAgICAgICAgY29uc3QgaXNMYXN0ID0gdGhpcy5wYW5lbHMubGVuZ3RoID09PSAxICYmIHRoaXMuYWNjZXNzb3IuZ3JvdXBzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgdGhpcy5hY2Nlc3Nvci5yZW1vdmVQYW5lbChwYW5lbCwgaXNMYXN0ICYmIHRoaXMuYWNjZXNzb3Iub3B0aW9ucy5ub1BhbmVsc092ZXJsYXkgPT09ICdlbXB0eUdyb3VwJ1xuICAgICAgICAgICAgPyB7IHJlbW92ZUVtcHR5R3JvdXA6IGZhbHNlIH1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgaXNQYW5lbEFjdGl2ZShwYW5lbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlUGFuZWwgPT09IHBhbmVsO1xuICAgIH1cbiAgICB1cGRhdGVBY3Rpb25zKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy50YWJzQ29udGFpbmVyLnNldFJpZ2h0QWN0aW9uc0VsZW1lbnQoZWxlbWVudCk7XG4gICAgfVxuICAgIHNldEFjdGl2ZShpc0dyb3VwQWN0aXZlLCBmb3JjZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmICghZm9yY2UgJiYgdGhpcy5pc0FjdGl2ZSA9PT0gaXNHcm91cEFjdGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzR3JvdXBBY3RpdmUgPSBpc0dyb3VwQWN0aXZlO1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLmNvbnRhaW5lciwgJ2R2LWFjdGl2ZS1ncm91cCcsIGlzR3JvdXBBY3RpdmUpO1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLmNvbnRhaW5lciwgJ2R2LWluYWN0aXZlLWdyb3VwJywgIWlzR3JvdXBBY3RpdmUpO1xuICAgICAgICB0aGlzLnRhYnNDb250YWluZXIuc2V0QWN0aXZlKHRoaXMuaXNBY3RpdmUpO1xuICAgICAgICBpZiAoIXRoaXMuX2FjdGl2ZVBhbmVsICYmIHRoaXMucGFuZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZG9TZXRBY3RpdmVQYW5lbCh0aGlzLnBhbmVsc1swXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVDb250YWluZXIoKTtcbiAgICB9XG4gICAgbGF5b3V0KHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMuY29udGVudENvbnRhaW5lci5sYXlvdXQodGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgICAgIGlmICgoX2EgPSB0aGlzLl9hY3RpdmVQYW5lbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxheW91dCkge1xuICAgICAgICAgICAgdGhpcy5fYWN0aXZlUGFuZWwubGF5b3V0KHRoaXMuX3dpZHRoLCB0aGlzLl9oZWlnaHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9yZW1vdmVQYW5lbChwYW5lbCwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBpc0FjdGl2ZVBhbmVsID0gdGhpcy5fYWN0aXZlUGFuZWwgPT09IHBhbmVsO1xuICAgICAgICB0aGlzLmRvUmVtb3ZlUGFuZWwocGFuZWwpO1xuICAgICAgICBpZiAoaXNBY3RpdmVQYW5lbCAmJiB0aGlzLnBhbmVscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0UGFuZWwgPSB0aGlzLm1vc3RSZWNlbnRseVVzZWRbMF07XG4gICAgICAgICAgICB0aGlzLm9wZW5QYW5lbChuZXh0UGFuZWwsIHtcbiAgICAgICAgICAgICAgICBza2lwU2V0QWN0aXZlOiBvcHRpb25zLnNraXBTZXRBY3RpdmUsXG4gICAgICAgICAgICAgICAgc2tpcFNldEdyb3VwQWN0aXZlOiBvcHRpb25zLnNraXBTZXRBY3RpdmVHcm91cCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVQYW5lbCAmJiB0aGlzLnBhbmVscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZG9TZXRBY3RpdmVQYW5lbCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3B0aW9ucy5za2lwU2V0QWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnRhaW5lcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYW5lbDtcbiAgICB9XG4gICAgZG9SZW1vdmVQYW5lbChwYW5lbCkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucGFuZWxzLmluZGV4T2YocGFuZWwpO1xuICAgICAgICBpZiAodGhpcy5fYWN0aXZlUGFuZWwgPT09IHBhbmVsKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRDb250YWluZXIuY2xvc2VQYW5lbCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFic0NvbnRhaW5lci5kZWxldGUocGFuZWwuaWQpO1xuICAgICAgICB0aGlzLl9wYW5lbHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgaWYgKHRoaXMubW9zdFJlY2VudGx5VXNlZC5pbmNsdWRlcyhwYW5lbCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5tb3N0UmVjZW50bHlVc2VkLmluZGV4T2YocGFuZWwpO1xuICAgICAgICAgICAgdGhpcy5tb3N0UmVjZW50bHlVc2VkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlzcG9zYWJsZSA9IHRoaXMuX3BhbmVsRGlzcG9zYWJsZXMuZ2V0KHBhbmVsLmlkKTtcbiAgICAgICAgaWYgKGRpc3Bvc2FibGUpIHtcbiAgICAgICAgICAgIGRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fcGFuZWxEaXNwb3NhYmxlcy5kZWxldGUocGFuZWwuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29uRGlkUmVtb3ZlUGFuZWwuZmlyZSh7IHBhbmVsIH0pO1xuICAgIH1cbiAgICBkb0FkZFBhbmVsKHBhbmVsLCBpbmRleCA9IHRoaXMucGFuZWxzLmxlbmd0aCwgb3B0aW9ucyA9IHsgc2tpcFNldEFjdGl2ZTogZmFsc2UgfSkge1xuICAgICAgICBjb25zdCBleGlzdGluZ1BhbmVsID0gdGhpcy5fcGFuZWxzLmluZGV4T2YocGFuZWwpO1xuICAgICAgICBjb25zdCBoYXNFeGlzdGluZ1BhbmVsID0gZXhpc3RpbmdQYW5lbCA+IC0xO1xuICAgICAgICB0aGlzLnRhYnNDb250YWluZXIuc2hvdygpO1xuICAgICAgICB0aGlzLmNvbnRlbnRDb250YWluZXIuc2hvdygpO1xuICAgICAgICB0aGlzLnRhYnNDb250YWluZXIub3BlblBhbmVsKHBhbmVsLCBpbmRleCk7XG4gICAgICAgIGlmICghb3B0aW9ucy5za2lwU2V0QWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRDb250YWluZXIub3BlblBhbmVsKHBhbmVsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFzRXhpc3RpbmdQYW5lbCkge1xuICAgICAgICAgICAgLy8gVE9ETyAtIG5lZWQgdG8gZW5zdXJlIG9yZGVyaW5nIGhhc24ndCBjaGFuZ2VkIGFuZCBpZiBpdCBoYXMgbmVlZCB0byByZS1vcmRlciB0aGlzLnBhbmVsc1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlTXJ1KHBhbmVsKTtcbiAgICAgICAgdGhpcy5wYW5lbHMuc3BsaWNlKGluZGV4LCAwLCBwYW5lbCk7XG4gICAgICAgIHRoaXMuX3BhbmVsRGlzcG9zYWJsZXMuc2V0KHBhbmVsLmlkLCBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZShwYW5lbC5hcGkub25EaWRUaXRsZUNoYW5nZSgoZXZlbnQpID0+IHRoaXMuX29uRGlkUGFuZWxUaXRsZUNoYW5nZS5maXJlKGV2ZW50KSksIHBhbmVsLmFwaS5vbkRpZFBhcmFtZXRlcnNDaGFuZ2UoKGV2ZW50KSA9PiB0aGlzLl9vbkRpZFBhbmVsUGFyYW1ldGVyc0NoYW5nZS5maXJlKGV2ZW50KSkpKTtcbiAgICAgICAgdGhpcy5fb25EaWRBZGRQYW5lbC5maXJlKHsgcGFuZWwgfSk7XG4gICAgfVxuICAgIGRvU2V0QWN0aXZlUGFuZWwocGFuZWwpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZVBhbmVsID09PSBwYW5lbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FjdGl2ZVBhbmVsID0gcGFuZWw7XG4gICAgICAgIGlmIChwYW5lbCkge1xuICAgICAgICAgICAgdGhpcy50YWJzQ29udGFpbmVyLnNldEFjdGl2ZVBhbmVsKHBhbmVsKTtcbiAgICAgICAgICAgIHBhbmVsLmxheW91dCh0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTXJ1KHBhbmVsKTtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQWN0aXZlUGFuZWxDaGFuZ2UuZmlyZSh7XG4gICAgICAgICAgICAgICAgcGFuZWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVNcnUocGFuZWwpIHtcbiAgICAgICAgaWYgKHRoaXMubW9zdFJlY2VudGx5VXNlZC5pbmNsdWRlcyhwYW5lbCkpIHtcbiAgICAgICAgICAgIHRoaXMubW9zdFJlY2VudGx5VXNlZC5zcGxpY2UodGhpcy5tb3N0UmVjZW50bHlVc2VkLmluZGV4T2YocGFuZWwpLCAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vc3RSZWNlbnRseVVzZWQgPSBbcGFuZWwsIC4uLnRoaXMubW9zdFJlY2VudGx5VXNlZF07XG4gICAgfVxuICAgIHVwZGF0ZUNvbnRhaW5lcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5wYW5lbHMuZm9yRWFjaCgocGFuZWwpID0+IHBhbmVsLnJ1bkV2ZW50cygpKTtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSAmJiAhdGhpcy53YXRlcm1hcmspIHtcbiAgICAgICAgICAgIGNvbnN0IHdhdGVybWFyayA9IHRoaXMuYWNjZXNzb3IuY3JlYXRlV2F0ZXJtYXJrQ29tcG9uZW50KCk7XG4gICAgICAgICAgICB3YXRlcm1hcmsuaW5pdCh7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyQXBpOiB0aGlzLl9hcGksXG4gICAgICAgICAgICAgICAgZ3JvdXA6IHRoaXMuZ3JvdXBQYW5lbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy53YXRlcm1hcmsgPSB3YXRlcm1hcms7XG4gICAgICAgICAgICBhZGREaXNwb3NhYmxlTGlzdGVuZXIodGhpcy53YXRlcm1hcmsuZWxlbWVudCwgJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjY2Vzc29yLmRvU2V0R3JvdXBBY3RpdmUodGhpcy5ncm91cFBhbmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuY29udGVudENvbnRhaW5lci5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMud2F0ZXJtYXJrLmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pc0VtcHR5ICYmIHRoaXMud2F0ZXJtYXJrKSB7XG4gICAgICAgICAgICB0aGlzLndhdGVybWFyay5lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy53YXRlcm1hcmspLmRpc3Bvc2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgICAgIHRoaXMud2F0ZXJtYXJrID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbkRpc3BsYXlPdmVybGF5KGV2ZW50LCBwb3NpdGlvbiwgdGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IGZpcmVkRXZlbnQgPSBuZXcgRG9ja3ZpZXdVbmhhbmRsZWREcmFnT3ZlckV2ZW50KGV2ZW50LCB0YXJnZXQsIHBvc2l0aW9uLCBnZXRQYW5lbERhdGEsIHRoaXMuYWNjZXNzb3IuZ2V0UGFuZWwodGhpcy5pZCkpO1xuICAgICAgICB0aGlzLl9vblVuaGFuZGxlZERyYWdPdmVyRXZlbnQuZmlyZShmaXJlZEV2ZW50KTtcbiAgICAgICAgcmV0dXJuIGZpcmVkRXZlbnQuaXNBY2NlcHRlZDtcbiAgICB9XG4gICAgaGFuZGxlRHJvcEV2ZW50KHR5cGUsIGV2ZW50LCBwb3NpdGlvbiwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHRoaXMubG9ja2VkID09PSAnbm8tZHJvcC10YXJnZXQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0S2luZCgpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2hlYWRlcic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgaW5kZXggPT09ICdudW1iZXInID8gJ3RhYicgOiAnaGVhZGVyX3NwYWNlJztcbiAgICAgICAgICAgICAgICBjYXNlICdjb250ZW50JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdjb250ZW50JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYW5lbCA9IHR5cGVvZiBpbmRleCA9PT0gJ251bWJlcicgPyB0aGlzLnBhbmVsc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHdpbGxEcm9wRXZlbnQgPSBuZXcgRG9ja3ZpZXdXaWxsRHJvcEV2ZW50KHtcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50OiBldmVudCxcbiAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgcGFuZWwsXG4gICAgICAgICAgICBnZXREYXRhOiAoKSA9PiBnZXRQYW5lbERhdGEoKSxcbiAgICAgICAgICAgIGtpbmQ6IGdldEtpbmQoKSxcbiAgICAgICAgICAgIGdyb3VwOiB0aGlzLmdyb3VwUGFuZWwsXG4gICAgICAgICAgICBhcGk6IHRoaXMuX2FwaSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX29uV2lsbERyb3AuZmlyZSh3aWxsRHJvcEV2ZW50KTtcbiAgICAgICAgaWYgKHdpbGxEcm9wRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBnZXRQYW5lbERhdGEoKTtcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS52aWV3SWQgPT09IHRoaXMuYWNjZXNzb3IuaWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnY29udGVudCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5ncm91cElkID09PSB0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGFsbG93IHRvIGRyb3Agb24gc2VsZiBmb3IgY2VudGVyIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5wYW5lbElkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBhbGxvdyBncm91cCBtb3ZlIHRvIGRyb3AgYW55d2hlcmUgb24gc2VsZlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdoZWFkZXInKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZ3JvdXBJZCA9PT0gdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5wYW5lbElkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS5wYW5lbElkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhIGdyb3VwIG1vdmUgZG5kIGV2ZW50XG4gICAgICAgICAgICAgICAgY29uc3QgeyBncm91cElkIH0gPSBkYXRhO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uTW92ZS5maXJlKHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBwb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBJZDogZ3JvdXBJZCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZnJvbVNhbWVHcm91cCA9IHRoaXMudGFic0NvbnRhaW5lci5pbmRleE9mKGRhdGEucGFuZWxJZCkgIT09IC0xO1xuICAgICAgICAgICAgaWYgKGZyb21TYW1lR3JvdXAgJiYgdGhpcy50YWJzQ29udGFpbmVyLnNpemUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IGdyb3VwSWQsIHBhbmVsSWQgfSA9IGRhdGE7XG4gICAgICAgICAgICBjb25zdCBpc1NhbWVHcm91cCA9IHRoaXMuaWQgPT09IGdyb3VwSWQ7XG4gICAgICAgICAgICBpZiAoaXNTYW1lR3JvdXAgJiYgIXBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2xkSW5kZXggPSB0aGlzLnRhYnNDb250YWluZXIuaW5kZXhPZihwYW5lbElkKTtcbiAgICAgICAgICAgICAgICBpZiAob2xkSW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vbk1vdmUuZmlyZSh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiBwb3NpdGlvbixcbiAgICAgICAgICAgICAgICBncm91cElkOiBkYXRhLmdyb3VwSWQsXG4gICAgICAgICAgICAgICAgaXRlbUlkOiBkYXRhLnBhbmVsSWQsXG4gICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkRHJvcC5maXJlKG5ldyBEb2Nrdmlld0RpZERyb3BFdmVudCh7XG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgICAgICAgIHBhbmVsLFxuICAgICAgICAgICAgICAgIGdldERhdGE6ICgpID0+IGdldFBhbmVsRGF0YSgpLFxuICAgICAgICAgICAgICAgIGdyb3VwOiB0aGlzLmdyb3VwUGFuZWwsXG4gICAgICAgICAgICAgICAgYXBpOiB0aGlzLl9hcGksXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlRHJhZ0FuZERyb3BTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy50YWJzQ29udGFpbmVyLnVwZGF0ZURyYWdBbmREcm9wU3RhdGUoKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgKF9hID0gdGhpcy53YXRlcm1hcmspID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICAoX2MgPSAoX2IgPSB0aGlzLndhdGVybWFyaykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRpc3Bvc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKF9iKTtcbiAgICAgICAgdGhpcy53YXRlcm1hcmsgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgcGFuZWwgb2YgdGhpcy5wYW5lbHMpIHtcbiAgICAgICAgICAgIHBhbmVsLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhYnNDb250YWluZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmNvbnRlbnRDb250YWluZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IERvY2t2aWV3UGFuZWxBcGlJbXBsLCB9IGZyb20gJy4uL2FwaS9kb2Nrdmlld1BhbmVsQXBpJztcbmltcG9ydCB7IENvbXBvc2l0ZURpc3Bvc2FibGUgfSBmcm9tICcuLi9saWZlY3ljbGUnO1xuaW1wb3J0IHsgV2lsbEZvY3VzRXZlbnQgfSBmcm9tICcuLi9hcGkvcGFuZWxBcGknO1xuZXhwb3J0IGNsYXNzIERvY2t2aWV3UGFuZWwgZXh0ZW5kcyBDb21wb3NpdGVEaXNwb3NhYmxlIHtcbiAgICBnZXQgcGFyYW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFyYW1zO1xuICAgIH1cbiAgICBnZXQgdGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aXRsZTtcbiAgICB9XG4gICAgZ2V0IGdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ3JvdXA7XG4gICAgfVxuICAgIGdldCByZW5kZXJlcigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKF9hID0gdGhpcy5fcmVuZGVyZXIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuYWNjZXNzb3IucmVuZGVyZXI7XG4gICAgfVxuICAgIGdldCBtaW5pbXVtV2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9taW5pbXVtV2lkdGg7XG4gICAgfVxuICAgIGdldCBtaW5pbXVtSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWluaW11bUhlaWdodDtcbiAgICB9XG4gICAgZ2V0IG1heGltdW1XaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21heGltdW1XaWR0aDtcbiAgICB9XG4gICAgZ2V0IG1heGltdW1IZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXhpbXVtSGVpZ2h0O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihpZCwgY29tcG9uZW50LCB0YWJDb21wb25lbnQsIGFjY2Vzc29yLCBjb250YWluZXJBcGksIGdyb3VwLCB2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5hY2Nlc3NvciA9IGFjY2Vzc29yO1xuICAgICAgICB0aGlzLmNvbnRhaW5lckFwaSA9IGNvbnRhaW5lckFwaTtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSBvcHRpb25zLnJlbmRlcmVyO1xuICAgICAgICB0aGlzLl9ncm91cCA9IGdyb3VwO1xuICAgICAgICB0aGlzLl9taW5pbXVtV2lkdGggPSBvcHRpb25zLm1pbmltdW1XaWR0aDtcbiAgICAgICAgdGhpcy5fbWluaW11bUhlaWdodCA9IG9wdGlvbnMubWluaW11bUhlaWdodDtcbiAgICAgICAgdGhpcy5fbWF4aW11bVdpZHRoID0gb3B0aW9ucy5tYXhpbXVtV2lkdGg7XG4gICAgICAgIHRoaXMuX21heGltdW1IZWlnaHQgPSBvcHRpb25zLm1heGltdW1IZWlnaHQ7XG4gICAgICAgIHRoaXMuYXBpID0gbmV3IERvY2t2aWV3UGFuZWxBcGlJbXBsKHRoaXMsIHRoaXMuX2dyb3VwLCBhY2Nlc3NvciwgY29tcG9uZW50LCB0YWJDb21wb25lbnQpO1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKHRoaXMuYXBpLm9uQWN0aXZlQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIGFjY2Vzc29yLnNldEFjdGl2ZVBhbmVsKHRoaXMpO1xuICAgICAgICB9KSwgdGhpcy5hcGkub25EaWRTaXplQ2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gZm9yd2FyZCB0aGUgcmVzaXplIGV2ZW50IHRvIHRoZSBncm91cCBzaW5jZSBpZiB5b3Ugd2FudCB0byByZXNpemUgYSBwYW5lbFxuICAgICAgICAgICAgLy8geW91IGFyZSBhY3R1YWxseSBqdXN0IHJlc2l6aW5nIHRoZSBwYW5lbHMgcGFyZW50IHdoaWNoIGlzIHRoZSBncm91cFxuICAgICAgICAgICAgdGhpcy5ncm91cC5hcGkuc2V0U2l6ZShldmVudCk7XG4gICAgICAgIH0pLCB0aGlzLmFwaS5vbkRpZFJlbmRlcmVyQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ3JvdXAubW9kZWwucmVyZW5kZXIodGhpcyk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgaW5pdChwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5fcGFyYW1zID0gcGFyYW1zLnBhcmFtcztcbiAgICAgICAgdGhpcy52aWV3LmluaXQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMpLCB7IGFwaTogdGhpcy5hcGksIGNvbnRhaW5lckFwaTogdGhpcy5jb250YWluZXJBcGkgfSkpO1xuICAgICAgICB0aGlzLnNldFRpdGxlKHBhcmFtcy50aXRsZSk7XG4gICAgfVxuICAgIGZvY3VzKCkge1xuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBXaWxsRm9jdXNFdmVudCgpO1xuICAgICAgICB0aGlzLmFwaS5fb25XaWxsRm9jdXMuZmlyZShldmVudCk7XG4gICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmFwaS5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5hcGkuc2V0QWN0aXZlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICBjb250ZW50Q29tcG9uZW50OiB0aGlzLnZpZXcuY29udGVudENvbXBvbmVudCxcbiAgICAgICAgICAgIHRhYkNvbXBvbmVudDogdGhpcy52aWV3LnRhYkNvbXBvbmVudCxcbiAgICAgICAgICAgIHBhcmFtczogT2JqZWN0LmtleXModGhpcy5fcGFyYW1zIHx8IHt9KS5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgPyB0aGlzLl9wYXJhbXNcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLFxuICAgICAgICAgICAgcmVuZGVyZXI6IHRoaXMuX3JlbmRlcmVyLFxuICAgICAgICAgICAgbWluaW11bUhlaWdodDogdGhpcy5fbWluaW11bUhlaWdodCxcbiAgICAgICAgICAgIG1heGltdW1IZWlnaHQ6IHRoaXMuX21heGltdW1IZWlnaHQsXG4gICAgICAgICAgICBtaW5pbXVtV2lkdGg6IHRoaXMuX21pbmltdW1XaWR0aCxcbiAgICAgICAgICAgIG1heGltdW1XaWR0aDogdGhpcy5fbWF4aW11bVdpZHRoLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzZXRUaXRsZSh0aXRsZSkge1xuICAgICAgICBjb25zdCBkaWRUaXRsZUNoYW5nZSA9IHRpdGxlICE9PSB0aGlzLnRpdGxlO1xuICAgICAgICBpZiAoZGlkVGl0bGVDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3RpdGxlID0gdGl0bGU7XG4gICAgICAgICAgICB0aGlzLmFwaS5fb25EaWRUaXRsZUNoYW5nZS5maXJlKHsgdGl0bGUgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UmVuZGVyZXIocmVuZGVyZXIpIHtcbiAgICAgICAgY29uc3QgZGlkQ2hhbmdlID0gcmVuZGVyZXIgIT09IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIGlmIChkaWRDaGFuZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgICAgICAgICB0aGlzLmFwaS5fb25EaWRSZW5kZXJlckNoYW5nZS5maXJlKHtcbiAgICAgICAgICAgICAgICByZW5kZXJlcjogcmVuZGVyZXIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBtZXJnZSB0aGUgbmV3IHBhcmFtZXRlcnMgd2l0aCB0aGUgZXhpc3RpbmcgcGFyYW1ldGVyc1xuICAgICAgICB0aGlzLl9wYXJhbXMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICgoX2EgPSB0aGlzLl9wYXJhbXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9KSksIGV2ZW50LnBhcmFtcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkZWxldGUgbmV3IGtleXMgdGhhdCBoYXZlIGEgdmFsdWUgb2YgdW5kZWZpbmVkLFxuICAgICAgICAgKiBhbGxvdyB2YWx1ZXMgb2YgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoZXZlbnQucGFyYW1zKSkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBhcmFtc1trZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fcGFyYW1zW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIHRoZSB2aWV3IHdpdGggdGhlIHVwZGF0ZWQgcHJvcHNcbiAgICAgICAgdGhpcy52aWV3LnVwZGF0ZSh7XG4gICAgICAgICAgICBwYXJhbXM6IHRoaXMuX3BhcmFtcyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVwZGF0ZVBhcmVudEdyb3VwKGdyb3VwLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX2dyb3VwID0gZ3JvdXA7XG4gICAgICAgIHRoaXMuYXBpLmdyb3VwID0gdGhpcy5fZ3JvdXA7XG4gICAgICAgIGNvbnN0IGlzUGFuZWxWaXNpYmxlID0gdGhpcy5fZ3JvdXAubW9kZWwuaXNQYW5lbEFjdGl2ZSh0aGlzKTtcbiAgICAgICAgY29uc3QgaXNBY3RpdmUgPSB0aGlzLmdyb3VwLmFwaS5pc0FjdGl2ZSAmJiBpc1BhbmVsVmlzaWJsZTtcbiAgICAgICAgaWYgKCEob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNraXBTZXRBY3RpdmUpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5hcGkuaXNBY3RpdmUgIT09IGlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcGkuX29uRGlkQWN0aXZlQ2hhbmdlLmZpcmUoe1xuICAgICAgICAgICAgICAgICAgICBpc0FjdGl2ZTogdGhpcy5ncm91cC5hcGkuaXNBY3RpdmUgJiYgaXNQYW5lbFZpc2libGUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXBpLmlzVmlzaWJsZSAhPT0gaXNQYW5lbFZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuYXBpLl9vbkRpZFZpc2liaWxpdHlDaGFuZ2UuZmlyZSh7XG4gICAgICAgICAgICAgICAgaXNWaXNpYmxlOiBpc1BhbmVsVmlzaWJsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJ1bkV2ZW50cygpIHtcbiAgICAgICAgY29uc3QgaXNQYW5lbFZpc2libGUgPSB0aGlzLl9ncm91cC5tb2RlbC5pc1BhbmVsQWN0aXZlKHRoaXMpO1xuICAgICAgICBjb25zdCBpc0FjdGl2ZSA9IHRoaXMuZ3JvdXAuYXBpLmlzQWN0aXZlICYmIGlzUGFuZWxWaXNpYmxlO1xuICAgICAgICBpZiAodGhpcy5hcGkuaXNBY3RpdmUgIT09IGlzQWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLmFwaS5fb25EaWRBY3RpdmVDaGFuZ2UuZmlyZSh7XG4gICAgICAgICAgICAgICAgaXNBY3RpdmU6IHRoaXMuZ3JvdXAuYXBpLmlzQWN0aXZlICYmIGlzUGFuZWxWaXNpYmxlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXBpLmlzVmlzaWJsZSAhPT0gaXNQYW5lbFZpc2libGUpIHtcbiAgICAgICAgICAgIHRoaXMuYXBpLl9vbkRpZFZpc2liaWxpdHlDaGFuZ2UuZmlyZSh7XG4gICAgICAgICAgICAgICAgaXNWaXNpYmxlOiBpc1BhbmVsVmlzaWJsZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxheW91dCh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIC8vIFRPRE86IENhbiB3ZSBzb21laG93IGRvIGhlaWdodCB3aXRob3V0IGhlYWRlciBoZWlnaHQgb3IgaW5kaWNhdGUgd2hhdCB0aGUgaGVhZGVyIGhlaWdodCBpcz9cbiAgICAgICAgdGhpcy5hcGkuX29uRGlkRGltZW5zaW9uQ2hhbmdlLmZpcmUoe1xuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmlldy5sYXlvdXQod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuYXBpLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy52aWV3LmRpc3Bvc2UoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBEZWZhdWx0VGFiIH0gZnJvbSAnLi9jb21wb25lbnRzL3RhYi9kZWZhdWx0VGFiJztcbmV4cG9ydCBjbGFzcyBEb2Nrdmlld1BhbmVsTW9kZWwge1xuICAgIGdldCBjb250ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudDtcbiAgICB9XG4gICAgZ2V0IHRhYigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhYjtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoYWNjZXNzb3IsIGlkLCBjb250ZW50Q29tcG9uZW50LCB0YWJDb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5hY2Nlc3NvciA9IGFjY2Vzc29yO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuY29udGVudENvbXBvbmVudCA9IGNvbnRlbnRDb21wb25lbnQ7XG4gICAgICAgIHRoaXMudGFiQ29tcG9uZW50ID0gdGFiQ29tcG9uZW50O1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gdGhpcy5jcmVhdGVDb250ZW50Q29tcG9uZW50KHRoaXMuaWQsIGNvbnRlbnRDb21wb25lbnQpO1xuICAgICAgICB0aGlzLl90YWIgPSB0aGlzLmNyZWF0ZVRhYkNvbXBvbmVudCh0aGlzLmlkLCB0YWJDb21wb25lbnQpO1xuICAgIH1cbiAgICBjcmVhdGVUYWJSZW5kZXJlcih0YWJMb2NhdGlvbikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGNtcCA9IHRoaXMuY3JlYXRlVGFiQ29tcG9uZW50KHRoaXMuaWQsIHRoaXMudGFiQ29tcG9uZW50KTtcbiAgICAgICAgaWYgKHRoaXMuX3BhcmFtcykge1xuICAgICAgICAgICAgY21wLmluaXQoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9wYXJhbXMpLCB7IHRhYkxvY2F0aW9uIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdXBkYXRlRXZlbnQpIHtcbiAgICAgICAgICAgIChfYSA9IGNtcC51cGRhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGNtcCwgdGhpcy5fdXBkYXRlRXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbXA7XG4gICAgfVxuICAgIGluaXQocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuX3BhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgdGhpcy5jb250ZW50LmluaXQocGFyYW1zKTtcbiAgICAgICAgdGhpcy50YWIuaW5pdChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHBhcmFtcyksIHsgdGFiTG9jYXRpb246ICdoZWFkZXInIH0pKTtcbiAgICB9XG4gICAgbGF5b3V0KHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5jb250ZW50KS5sYXlvdXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgdXBkYXRlKGV2ZW50KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgdGhpcy5fdXBkYXRlRXZlbnQgPSBldmVudDtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5jb250ZW50KS51cGRhdGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hLCBldmVudCk7XG4gICAgICAgIChfZCA9IChfYyA9IHRoaXMudGFiKS51cGRhdGUpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKF9jLCBldmVudCk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5jb250ZW50KS5kaXNwb3NlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIChfZCA9IChfYyA9IHRoaXMudGFiKS5kaXNwb3NlKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChfYyk7XG4gICAgfVxuICAgIGNyZWF0ZUNvbnRlbnRDb21wb25lbnQoaWQsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNjZXNzb3Iub3B0aW9ucy5jcmVhdGVDb21wb25lbnQoe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBuYW1lOiBjb21wb25lbnROYW1lLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY3JlYXRlVGFiQ29tcG9uZW50KGlkLCBjb21wb25lbnROYW1lKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBjb21wb25lbnROYW1lICE9PSBudWxsICYmIGNvbXBvbmVudE5hbWUgIT09IHZvaWQgMCA/IGNvbXBvbmVudE5hbWUgOiB0aGlzLmFjY2Vzc29yLm9wdGlvbnMuZGVmYXVsdFRhYkNvbXBvbmVudDtcbiAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjY2Vzc29yLm9wdGlvbnMuY3JlYXRlVGFiQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5hY2Nlc3Nvci5vcHRpb25zLmNyZWF0ZVRhYkNvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGVmYXVsdFRhYigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgZG9ja3ZpZXc6IHRhYkNvbXBvbmVudCAnJHtjb21wb25lbnROYW1lfScgd2FzIG5vdCBmb3VuZC4gZmFsbGluZyBiYWNrIHRvIHRoZSBkZWZhdWx0IHRhYi5gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRUYWIoKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgV2lsbFNob3dPdmVybGF5TG9jYXRpb25FdmVudCB7XG4gICAgZ2V0IGtpbmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMua2luZDtcbiAgICB9XG4gICAgZ2V0IG5hdGl2ZUV2ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudC5uYXRpdmVFdmVudDtcbiAgICB9XG4gICAgZ2V0IHBvc2l0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudC5wb3NpdGlvbjtcbiAgICB9XG4gICAgZ2V0IGRlZmF1bHRQcmV2ZW50ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgfVxuICAgIGdldCBwYW5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5wYW5lbDtcbiAgICB9XG4gICAgZ2V0IGFwaSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5hcGk7XG4gICAgfVxuICAgIGdldCBncm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5ncm91cDtcbiAgICB9XG4gICAgcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgIHRoaXMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgZ2V0RGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5nZXREYXRhKCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGV2ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZXZlbnQgPSBldmVudDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBY2NlcHRhYmxlRXZlbnQgfSBmcm9tICcuLi9ldmVudHMnO1xuZXhwb3J0IGNsYXNzIERvY2t2aWV3VW5oYW5kbGVkRHJhZ092ZXJFdmVudCBleHRlbmRzIEFjY2VwdGFibGVFdmVudCB7XG4gICAgY29uc3RydWN0b3IobmF0aXZlRXZlbnQsIHRhcmdldCwgcG9zaXRpb24sIGdldERhdGEsIGdyb3VwKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy5nZXREYXRhID0gZ2V0RGF0YTtcbiAgICAgICAgdGhpcy5ncm91cCA9IGdyb3VwO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBQUk9QRVJUWV9LRVlTX0RPQ0tWSUVXID0gKCgpID0+IHtcbiAgICAvKipcbiAgICAgKiBieSByZWFkb25nIHRoZSBrZXlzIGZyb20gYW4gZW1wdHkgdmFsdWUgb2JqZWN0IFR5cGVTY3JpcHQgd2lsbCBlcnJvclxuICAgICAqIHdoZW4gd2UgYWRkIG9yIHJlbW92ZSBuZXcgcHJvcGVydGllcyB0byBgRG9ja3ZpZXdPcHRpb25zYFxuICAgICAqL1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7XG4gICAgICAgIGRpc2FibGVBdXRvUmVzaXppbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgaGlkZUJvcmRlcnM6IHVuZGVmaW5lZCxcbiAgICAgICAgc2luZ2xlVGFiTW9kZTogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlRmxvYXRpbmdHcm91cHM6IHVuZGVmaW5lZCxcbiAgICAgICAgZmxvYXRpbmdHcm91cEJvdW5kczogdW5kZWZpbmVkLFxuICAgICAgICBwb3BvdXRVcmw6IHVuZGVmaW5lZCxcbiAgICAgICAgZGVmYXVsdFJlbmRlcmVyOiB1bmRlZmluZWQsXG4gICAgICAgIGRlYnVnOiB1bmRlZmluZWQsXG4gICAgICAgIHJvb3RPdmVybGF5TW9kZWw6IHVuZGVmaW5lZCxcbiAgICAgICAgbG9ja2VkOiB1bmRlZmluZWQsXG4gICAgICAgIGRpc2FibGVEbmQ6IHVuZGVmaW5lZCxcbiAgICAgICAgY2xhc3NOYW1lOiB1bmRlZmluZWQsXG4gICAgICAgIG5vUGFuZWxzT3ZlcmxheTogdW5kZWZpbmVkLFxuICAgICAgICBkbmRFZGdlczogdW5kZWZpbmVkLFxuICAgICAgICB0aGVtZTogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlVGFic092ZXJmbG93TGlzdDogdW5kZWZpbmVkLFxuICAgICAgICBzY3JvbGxiYXJzOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMocHJvcGVydGllcyk7XG59KSgpO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGFuZWxPcHRpb25zV2l0aFBhbmVsKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5yZWZlcmVuY2VQYW5lbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUGFuZWxPcHRpb25zV2l0aEdyb3VwKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5yZWZlcmVuY2VHcm91cCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzR3JvdXBPcHRpb25zV2l0aFBhbmVsKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5yZWZlcmVuY2VQYW5lbCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzR3JvdXBPcHRpb25zV2l0aEdyb3VwKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5yZWZlcmVuY2VHcm91cCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuIiwiaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5leHBvcnQgY2xhc3MgU3RyaWN0RXZlbnRzU2VxdWVuY2luZyBleHRlbmRzIENvbXBvc2l0ZURpc3Bvc2FibGUge1xuICAgIGNvbnN0cnVjdG9yKGFjY2Vzc29yKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuYWNjZXNzb3IgPSBhY2Nlc3NvcjtcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnN0IHBhbmVscyA9IG5ldyBTZXQoKTtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKHRoaXMuYWNjZXNzb3Iub25EaWRBZGRQYW5lbCgocGFuZWwpID0+IHtcbiAgICAgICAgICAgIGlmIChwYW5lbHMuaGFzKHBhbmVsLmFwaS5pZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGRvY2t2aWV3OiBJbnZhbGlkIGV2ZW50IHNlcXVlbmNlLiBbb25EaWRBZGRQYW5lbF0gY2FsbGVkIGZvciBwYW5lbCAke3BhbmVsLmFwaS5pZH0gYnV0IHBhbmVsIGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYW5lbHMuYWRkKHBhbmVsLmFwaS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB0aGlzLmFjY2Vzc29yLm9uRGlkUmVtb3ZlUGFuZWwoKHBhbmVsKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXBhbmVscy5oYXMocGFuZWwuYXBpLmlkKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZG9ja3ZpZXc6IEludmFsaWQgZXZlbnQgc2VxdWVuY2UuIFtvbkRpZFJlbW92ZVBhbmVsXSBjYWxsZWQgZm9yIHBhbmVsICR7cGFuZWwuYXBpLmlkfSBidXQgcGFuZWwgZG9lcyBub3QgZXhpc3RzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYW5lbHMuZGVsZXRlKHBhbmVsLmFwaS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB0aGlzLmFjY2Vzc29yLm9uRGlkQWRkR3JvdXAoKGdyb3VwKSA9PiB7XG4gICAgICAgICAgICBpZiAoZ3JvdXBzLmhhcyhncm91cC5hcGkuaWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBkb2NrdmlldzogSW52YWxpZCBldmVudCBzZXF1ZW5jZS4gW29uRGlkQWRkR3JvdXBdIGNhbGxlZCBmb3IgZ3JvdXAgJHtncm91cC5hcGkuaWR9IGJ1dCBncm91cCBhbHJlYWR5IGV4aXN0c2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBzLmFkZChncm91cC5hcGkuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwgdGhpcy5hY2Nlc3Nvci5vbkRpZFJlbW92ZUdyb3VwKChncm91cCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFncm91cHMuaGFzKGdyb3VwLmFwaS5pZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGRvY2t2aWV3OiBJbnZhbGlkIGV2ZW50IHNlcXVlbmNlLiBbb25EaWRSZW1vdmVHcm91cF0gY2FsbGVkIGZvciBncm91cCAke2dyb3VwLmFwaS5pZH0gYnV0IGdyb3VwIGRvZXMgbm90IGV4aXN0c2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBzLmRlbGV0ZShncm91cC5hcGkuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHRoZW1lRGFyayA9IHtcbiAgICBuYW1lOiAnZGFyaycsXG4gICAgY2xhc3NOYW1lOiAnZG9ja3ZpZXctdGhlbWUtZGFyaycsXG59O1xuZXhwb3J0IGNvbnN0IHRoZW1lTGlnaHQgPSB7XG4gICAgbmFtZTogJ2xpZ2h0JyxcbiAgICBjbGFzc05hbWU6ICdkb2Nrdmlldy10aGVtZS1saWdodCcsXG59O1xuZXhwb3J0IGNvbnN0IHRoZW1lVmlzdWFsU3R1ZGlvID0ge1xuICAgIG5hbWU6ICd2aXN1YWxTdHVkaW8nLFxuICAgIGNsYXNzTmFtZTogJ2RvY2t2aWV3LXRoZW1lLXZzJyxcbn07XG5leHBvcnQgY29uc3QgdGhlbWVBYnlzcyA9IHtcbiAgICBuYW1lOiAnYWJ5c3MnLFxuICAgIGNsYXNzTmFtZTogJ2RvY2t2aWV3LXRoZW1lLWFieXNzJyxcbn07XG5leHBvcnQgY29uc3QgdGhlbWVEcmFjdWxhID0ge1xuICAgIG5hbWU6ICdkcmFjdWxhJyxcbiAgICBjbGFzc05hbWU6ICdkb2Nrdmlldy10aGVtZS1kcmFjdWxhJyxcbn07XG5leHBvcnQgY29uc3QgdGhlbWVSZXBsaXQgPSB7XG4gICAgbmFtZTogJ3JlcGxpdCcsXG4gICAgY2xhc3NOYW1lOiAnZG9ja3ZpZXctdGhlbWUtcmVwbGl0JyxcbiAgICBnYXA6IDEwLFxufTtcbmV4cG9ydCBjb25zdCB0aGVtZUFieXNzU3BhY2VkID0ge1xuICAgIG5hbWU6ICdhYnlzc1NwYWNlZCcsXG4gICAgY2xhc3NOYW1lOiAnZG9ja3ZpZXctdGhlbWUtYWJ5c3Mtc3BhY2VkJyxcbiAgICBnYXA6IDEwLFxuICAgIGRuZE92ZXJsYXlNb3VudGluZzogJ2Fic29sdXRlJyxcbiAgICBkbmRQYW5lbE92ZXJsYXk6ICdncm91cCcsXG59O1xuZXhwb3J0IGNvbnN0IHRoZW1lTGlnaHRTcGFjZWQgPSB7XG4gICAgbmFtZTogJ2xpZ2h0U3BhY2VkJyxcbiAgICBjbGFzc05hbWU6ICdkb2Nrdmlldy10aGVtZS1saWdodC1zcGFjZWQnLFxuICAgIGdhcDogMTAsXG4gICAgZG5kT3ZlcmxheU1vdW50aW5nOiAnYWJzb2x1dGUnLFxuICAgIGRuZFBhbmVsT3ZlcmxheTogJ2dyb3VwJyxcbn07XG4iLCJleHBvcnQge307XG4iLCJpbXBvcnQgeyBFbWl0dGVyLCBhZGREaXNwb3NhYmxlTGlzdGVuZXIsIH0gZnJvbSAnLi9ldmVudHMnO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSB9IGZyb20gJy4vbGlmZWN5Y2xlJztcbmV4cG9ydCBjbGFzcyBPdmVyZmxvd09ic2VydmVyIGV4dGVuZHMgQ29tcG9zaXRlRGlzcG9zYWJsZSB7XG4gICAgY29uc3RydWN0b3IoZWwpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlID0gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyh0aGlzLl9vbkRpZENoYW5nZSwgd2F0Y2hFbGVtZW50UmVzaXplKGVsLCAoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGhhc1Njcm9sbFggPSBlbnRyeS50YXJnZXQuc2Nyb2xsV2lkdGggPiBlbnRyeS50YXJnZXQuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICBjb25zdCBoYXNTY3JvbGxZID0gZW50cnkudGFyZ2V0LnNjcm9sbEhlaWdodCA+IGVudHJ5LnRhcmdldC5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHsgaGFzU2Nyb2xsWCwgaGFzU2Nyb2xsWSB9O1xuICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UuZmlyZSh0aGlzLl92YWx1ZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gd2F0Y2hFbGVtZW50UmVzaXplKGVsZW1lbnQsIGNiKSB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudGlyZXMpID0+IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZhc3QgYnJvd3NlciB3aW5kb3cgcmVzaXplIHByb2R1Y2VzIEVycm9yOiBSZXNpemVPYnNlcnZlciBsb29wIGxpbWl0IGV4Y2VlZGVkLlxuICAgICAgICAgKiBUaGUgZXJyb3IgaXNuJ3QgdmlzaWJsZSBpbiBicm93c2VyIGNvbnNvbGUsIGRvZXNuJ3QgYWZmZWN0IGZ1bmN0aW9uYWxpdHksIGJ1dCBkZWdyYWRlcyBwZXJmb3JtYW5jZS5cbiAgICAgICAgICogU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ5Mzg0MTIwL3Jlc2l6ZW9ic2VydmVyLWxvb3AtbGltaXQtZXhjZWVkZWQvNTg3MDE1MjMjNTg3MDE1MjNcbiAgICAgICAgICovXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEVudHJ5ID0gZW50aXJlc1swXTtcbiAgICAgICAgICAgIGNiKGZpcnN0RW50cnkpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc3Bvc2U6ICgpID0+IHtcbiAgICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50KTtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZXhwb3J0IGNvbnN0IHJlbW92ZUNsYXNzZXMgPSAoZWxlbWVudCwgLi4uY2xhc3NlcykgPT4ge1xuICAgIGZvciAoY29uc3QgY2xhc3NuYW1lIG9mIGNsYXNzZXMpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzbmFtZSkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc25hbWUpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBhZGRDbGFzc2VzID0gKGVsZW1lbnQsIC4uLmNsYXNzZXMpID0+IHtcbiAgICBmb3IgKGNvbnN0IGNsYXNzbmFtZSBvZiBjbGFzc2VzKSB7XG4gICAgICAgIGlmICghZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NuYW1lKSkge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzbmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHRvZ2dsZUNsYXNzID0gKGVsZW1lbnQsIGNsYXNzTmFtZSwgaXNUb2dnbGVkKSA9PiB7XG4gICAgY29uc3QgaGFzQ2xhc3MgPSBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpO1xuICAgIGlmIChpc1RvZ2dsZWQgJiYgIWhhc0NsYXNzKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgIH1cbiAgICBpZiAoIWlzVG9nZ2xlZCAmJiBoYXNDbGFzcykge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICB9XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGlzQW5jZXN0b3IodGVzdENoaWxkLCB0ZXN0QW5jZXN0b3IpIHtcbiAgICB3aGlsZSAodGVzdENoaWxkKSB7XG4gICAgICAgIGlmICh0ZXN0Q2hpbGQgPT09IHRlc3RBbmNlc3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGVzdENoaWxkID0gdGVzdENoaWxkLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50c0J5VGFnTmFtZSh0YWcsIGRvY3VtZW50KSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGFnKSwgMCk7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhY2tGb2N1cyhlbGVtZW50KSB7XG4gICAgcmV0dXJuIG5ldyBGb2N1c1RyYWNrZXIoZWxlbWVudCk7XG59XG4vKipcbiAqIFRyYWNrIGZvY3VzIG9uIGFuIGVsZW1lbnQuIEVuc3VyZSB0YWJJbmRleCBpcyBzZXQgd2hlbiBhbiBIVE1MRWxlbWVudCBpcyBub3QgZm9jdXNhYmxlIGJ5IGRlZmF1bHRcbiAqL1xuY2xhc3MgRm9jdXNUcmFja2VyIGV4dGVuZHMgQ29tcG9zaXRlRGlzcG9zYWJsZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9vbkRpZEZvY3VzID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZEZvY3VzID0gdGhpcy5fb25EaWRGb2N1cy5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRCbHVyID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZEJsdXIgPSB0aGlzLl9vbkRpZEJsdXIuZXZlbnQ7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fb25EaWRGb2N1cywgdGhpcy5fb25EaWRCbHVyKTtcbiAgICAgICAgbGV0IGhhc0ZvY3VzID0gaXNBbmNlc3Rvcihkb2N1bWVudC5hY3RpdmVFbGVtZW50LCBlbGVtZW50KTtcbiAgICAgICAgbGV0IGxvb3NpbmdGb2N1cyA9IGZhbHNlO1xuICAgICAgICBjb25zdCBvbkZvY3VzID0gKCkgPT4ge1xuICAgICAgICAgICAgbG9vc2luZ0ZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIWhhc0ZvY3VzKSB7XG4gICAgICAgICAgICAgICAgaGFzRm9jdXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkRm9jdXMuZmlyZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvbkJsdXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaGFzRm9jdXMpIHtcbiAgICAgICAgICAgICAgICBsb29zaW5nRm9jdXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvb3NpbmdGb2N1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9vc2luZ0ZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNGb2N1cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25EaWRCbHVyLmZpcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9yZWZyZXNoU3RhdGVIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE5vZGVIYXNGb2N1cyA9IGlzQW5jZXN0b3IoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCwgZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoY3VycmVudE5vZGVIYXNGb2N1cyAhPT0gaGFzRm9jdXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFzRm9jdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgb25CbHVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvbkZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKGFkZERpc3Bvc2FibGVMaXN0ZW5lcihlbGVtZW50LCAnZm9jdXMnLCBvbkZvY3VzLCB0cnVlKSk7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXMoYWRkRGlzcG9zYWJsZUxpc3RlbmVyKGVsZW1lbnQsICdibHVyJywgb25CbHVyLCB0cnVlKSk7XG4gICAgfVxuICAgIHJlZnJlc2hTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFN0YXRlSGFuZGxlcigpO1xuICAgIH1cbn1cbi8vIHF1YXNpOiBhcHBhcmVudGx5LCBidXQgbm90IHJlYWxseTsgc2VlbWluZ2x5XG5jb25zdCBRVUFTSV9QUkVWRU5UX0RFRkFVTFRfS0VZID0gJ2R2LXF1YXNpUHJldmVudERlZmF1bHQnO1xuLy8gbWFyayBhbiBldmVudCBkaXJlY3RseSBmb3Igb3RoZXIgbGlzdGVuZXJzIHRvIGNoZWNrXG5leHBvcnQgZnVuY3Rpb24gcXVhc2lQcmV2ZW50RGVmYXVsdChldmVudCkge1xuICAgIGV2ZW50W1FVQVNJX1BSRVZFTlRfREVGQVVMVF9LRVldID0gdHJ1ZTtcbn1cbi8vIGNoZWNrIGlmIHRoaXMgZXZlbnQgaGFzIGJlZW4gbWFya2VkXG5leHBvcnQgZnVuY3Rpb24gcXVhc2lEZWZhdWx0UHJldmVudGVkKGV2ZW50KSB7XG4gICAgcmV0dXJuIGV2ZW50W1FVQVNJX1BSRVZFTlRfREVGQVVMVF9LRVldO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZFN0eWxlcyhkb2N1bWVudCwgc3R5bGVTaGVldExpc3QpIHtcbiAgICBjb25zdCBzdHlsZVNoZWV0cyA9IEFycmF5LmZyb20oc3R5bGVTaGVldExpc3QpO1xuICAgIGZvciAoY29uc3Qgc3R5bGVTaGVldCBvZiBzdHlsZVNoZWV0cykge1xuICAgICAgICBpZiAoc3R5bGVTaGVldC5ocmVmKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuICAgICAgICAgICAgbGluay5ocmVmID0gc3R5bGVTaGVldC5ocmVmO1xuICAgICAgICAgICAgbGluay50eXBlID0gc3R5bGVTaGVldC50eXBlO1xuICAgICAgICAgICAgbGluay5yZWwgPSAnc3R5bGVzaGVldCc7XG4gICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjc3NUZXh0cyA9IFtdO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHN0eWxlU2hlZXQuY3NzUnVsZXMpIHtcbiAgICAgICAgICAgICAgICBjc3NUZXh0cyA9IEFycmF5LmZyb20oc3R5bGVTaGVldC5jc3NSdWxlcykubWFwKChydWxlKSA9PiBydWxlLmNzc1RleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIHNlY3VyaXR5IGVycm9ycyAobGFjayBvZiBwZXJtaXNzaW9ucyksIGlnbm9yZVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgcnVsZSBvZiBjc3NUZXh0cykge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocnVsZSkpO1xuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9tTm9kZVBhZ2VQb3NpdGlvbihkb21Ob2RlKSB7XG4gICAgY29uc3QgeyBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQgfSA9IGRvbU5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogbGVmdCArIHdpbmRvdy5zY3JvbGxYLFxuICAgICAgICB0b3A6IHRvcCArIHdpbmRvdy5zY3JvbGxZLFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgIH07XG59XG4vKipcbiAqIENoZWNrIHdoZXRoZXIgYW4gZWxlbWVudCBpcyBpbiB0aGUgRE9NIChpbmNsdWRpbmcgdGhlIFNoYWRvdyBET00pXG4gKiBAc2VlIGh0dHBzOi8vdGVyb2RveC50ZWNoL2hvdy10by10ZWxsLWlmLWFuLWVsZW1lbnQtaXMtaW4tdGhlLWRvbS1pbmNsdWRpbmctdGhlLXNoYWRvdy1kb20vXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0luRG9jdW1lbnQoZWxlbWVudCkge1xuICAgIGxldCBjdXJyZW50RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgd2hpbGUgKGN1cnJlbnRFbGVtZW50ID09PSBudWxsIHx8IGN1cnJlbnRFbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW50RWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgIGlmIChjdXJyZW50RWxlbWVudC5wYXJlbnROb2RlID09PSBkb2N1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudEVsZW1lbnQucGFyZW50Tm9kZSBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpIHtcbiAgICAgICAgICAgIC8vIGhhbmRsZSBzaGFkb3cgRE9Nc1xuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudC5wYXJlbnROb2RlLmhvc3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGN1cnJlbnRFbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRlc3RJZChlbGVtZW50LCBpZCkge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRlc3RpZCcsIGlkKTtcbn1cbi8qKlxuICogU2hvdWxkIGJlIG1vcmUgZWZmaWNpZW50IHRoYW4gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSBzaW5jZSB0aGVyZVxuICogaXMgbm8gbmVlZCB0byBzdG9yZSBldmVyeSBlbGVtZW50IGluLW1lbW9yeSB1c2luZyB0aGlzIGFwcHJvYWNoXG4gKi9cbmZ1bmN0aW9uIGFsbFRhZ3NOYW1lc0luY2x1c2l2ZU9mU2hhZG93RG9tcyh0YWdOYW1lcykge1xuICAgIGNvbnN0IGlmcmFtZXMgPSBbXTtcbiAgICBmdW5jdGlvbiBmaW5kSWZyYW1lc0luTm9kZShub2RlKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgaWYgKHRhZ05hbWVzLmluY2x1ZGVzKG5vZGUudGFnTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBpZnJhbWVzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZS5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICAgICAgZmluZElmcmFtZXNJbk5vZGUobm9kZS5zaGFkb3dSb290KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygbm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGZpbmRJZnJhbWVzSW5Ob2RlKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5kSWZyYW1lc0luTm9kZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgIHJldHVybiBpZnJhbWVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVJZnJhbWVQb2ludEV2ZW50cyhyb290Tm9kZSA9IGRvY3VtZW50KSB7XG4gICAgY29uc3QgaWZyYW1lcyA9IGFsbFRhZ3NOYW1lc0luY2x1c2l2ZU9mU2hhZG93RG9tcyhbJ0lGUkFNRScsICdXRUJWSUVXJ10pO1xuICAgIGNvbnN0IG9yaWdpbmFsID0gbmV3IFdlYWtNYXAoKTsgLy8gZG9uJ3QgaG9sZCBvbnRvIEhUTUxFbGVtZW50IHJlZmVyZW5jZXMgbG9uZ2VyIHRoYW4gcmVxdWlyZWRcbiAgICBmb3IgKGNvbnN0IGlmcmFtZSBvZiBpZnJhbWVzKSB7XG4gICAgICAgIG9yaWdpbmFsLnNldChpZnJhbWUsIGlmcmFtZS5zdHlsZS5wb2ludGVyRXZlbnRzKTtcbiAgICAgICAgaWZyYW1lLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbGVhc2U6ICgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWZyYW1lIG9mIGlmcmFtZXMpIHtcbiAgICAgICAgICAgICAgICBpZnJhbWUuc3R5bGUucG9pbnRlckV2ZW50cyA9IChfYSA9IG9yaWdpbmFsLmdldChpZnJhbWUpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnYXV0byc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZnJhbWVzLnNwbGljZSgwLCBpZnJhbWVzLmxlbmd0aCk7IC8vIGRvbid0IGhvbGQgb250byBIVE1MRWxlbWVudCByZWZlcmVuY2VzIGxvbmdlciB0aGFuIHJlcXVpcmVkXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXREb2Nrdmlld1RoZW1lKGVsZW1lbnQpIHtcbiAgICBmdW5jdGlvbiB0b0NsYXNzTGlzdChlbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50LmNsYXNzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGlzdC5wdXNoKGVsZW1lbnQuY2xhc3NMaXN0Lml0ZW0oaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbiAgICBsZXQgdGhlbWUgPSB1bmRlZmluZWQ7XG4gICAgbGV0IHBhcmVudCA9IGVsZW1lbnQ7XG4gICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICB0aGVtZSA9IHRvQ2xhc3NMaXN0KHBhcmVudCkuZmluZCgoY2xzKSA9PiBjbHMuc3RhcnRzV2l0aCgnZG9ja3ZpZXctdGhlbWUtJykpO1xuICAgICAgICBpZiAodHlwZW9mIHRoZW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiB0aGVtZTtcbn1cbmV4cG9ydCBjbGFzcyBDbGFzc25hbWVzIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX2NsYXNzTmFtZXMgPSBbXTtcbiAgICB9XG4gICAgc2V0Q2xhc3NOYW1lcyhjbGFzc05hbWVzKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2xhc3NOYW1lIG9mIHRoaXMuX2NsYXNzTmFtZXMpIHtcbiAgICAgICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudCwgY2xhc3NOYW1lLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY2xhc3NOYW1lcyA9IGNsYXNzTmFtZXNcbiAgICAgICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgICAgICAuZmlsdGVyKCh2KSA9PiB2LnRyaW0oKS5sZW5ndGggPiAwKTtcbiAgICAgICAgZm9yIChjb25zdCBjbGFzc05hbWUgb2YgdGhpcy5fY2xhc3NOYW1lcykge1xuICAgICAgICAgICAgdG9nZ2xlQ2xhc3ModGhpcy5lbGVtZW50LCBjbGFzc05hbWUsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgREVCT1VDRV9ERUxBWSA9IDEwMDtcbmV4cG9ydCBmdW5jdGlvbiBpc0NoaWxkRW50aXJlbHlWaXNpYmxlV2l0aGluUGFyZW50KGNoaWxkLCBwYXJlbnQpIHtcbiAgICAvL1xuICAgIGNvbnN0IGNoaWxkUG9zaXRpb24gPSBnZXREb21Ob2RlUGFnZVBvc2l0aW9uKGNoaWxkKTtcbiAgICBjb25zdCBwYXJlbnRQb3NpdGlvbiA9IGdldERvbU5vZGVQYWdlUG9zaXRpb24ocGFyZW50KTtcbiAgICBpZiAoY2hpbGRQb3NpdGlvbi5sZWZ0IDwgcGFyZW50UG9zaXRpb24ubGVmdCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChjaGlsZFBvc2l0aW9uLmxlZnQgKyBjaGlsZFBvc2l0aW9uLndpZHRoID5cbiAgICAgICAgcGFyZW50UG9zaXRpb24ubGVmdCArIHBhcmVudFBvc2l0aW9uLndpZHRoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gb25EaWRXaW5kb3dNb3ZlRW5kKHdpbmRvdykge1xuICAgIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpO1xuICAgIGxldCBwcmV2aW91c1NjcmVlblggPSB3aW5kb3cuc2NyZWVuWDtcbiAgICBsZXQgcHJldmlvdXNTY3JlZW5ZID0gd2luZG93LnNjcmVlblk7XG4gICAgbGV0IHRpbWVvdXQ7XG4gICAgY29uc3QgY2hlY2tNb3ZlbWVudCA9ICgpID0+IHtcbiAgICAgICAgaWYgKHdpbmRvdy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50U2NyZWVuWCA9IHdpbmRvdy5zY3JlZW5YO1xuICAgICAgICBjb25zdCBjdXJyZW50U2NyZWVuWSA9IHdpbmRvdy5zY3JlZW5ZO1xuICAgICAgICBpZiAoY3VycmVudFNjcmVlblggIT09IHByZXZpb3VzU2NyZWVuWCB8fFxuICAgICAgICAgICAgY3VycmVudFNjcmVlblkgIT09IHByZXZpb3VzU2NyZWVuWSkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZmlyZSgpO1xuICAgICAgICAgICAgfSwgREVCT1VDRV9ERUxBWSk7XG4gICAgICAgICAgICBwcmV2aW91c1NjcmVlblggPSBjdXJyZW50U2NyZWVuWDtcbiAgICAgICAgICAgIHByZXZpb3VzU2NyZWVuWSA9IGN1cnJlbnRTY3JlZW5ZO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjaGVja01vdmVtZW50KTtcbiAgICB9O1xuICAgIGNoZWNrTW92ZW1lbnQoKTtcbiAgICByZXR1cm4gZW1pdHRlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvbkRpZFdpbmRvd1Jlc2l6ZUVuZChlbGVtZW50LCBjYikge1xuICAgIGxldCByZXNpemVUaW1lb3V0O1xuICAgIGNvbnN0IGRpc3Bvc2FibGUgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZShhZGREaXNwb3NhYmxlTGlzdGVuZXIoZWxlbWVudCwgJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVvdXQpO1xuICAgICAgICByZXNpemVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBjYigpO1xuICAgICAgICB9LCBERUJPVUNFX0RFTEFZKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGRpc3Bvc2FibGU7XG59XG5leHBvcnQgZnVuY3Rpb24gc2hpZnRBYnNvbHV0ZUVsZW1lbnRJbnRvVmlldyhlbGVtZW50LCByb290LCBvcHRpb25zID0geyBidWZmZXI6IDEwIH0pIHtcbiAgICBjb25zdCBidWZmZXIgPSBvcHRpb25zLmJ1ZmZlcjtcbiAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCByb290UmVjdCA9IHJvb3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgbGV0IHRyYW5zbGF0ZVggPSAwO1xuICAgIGxldCB0cmFuc2xhdGVZID0gMDtcbiAgICBjb25zdCBsZWZ0ID0gcmVjdC5sZWZ0IC0gcm9vdFJlY3QubGVmdDtcbiAgICBjb25zdCB0b3AgPSByZWN0LnRvcCAtIHJvb3RSZWN0LnRvcDtcbiAgICBjb25zdCBib3R0b20gPSByZWN0LmJvdHRvbSAtIHJvb3RSZWN0LmJvdHRvbTtcbiAgICBjb25zdCByaWdodCA9IHJlY3QucmlnaHQgLSByb290UmVjdC5yaWdodDtcbiAgICAvLyBDaGVjayBob3Jpem9udGFsIG92ZXJmbG93XG4gICAgaWYgKGxlZnQgPCBidWZmZXIpIHtcbiAgICAgICAgdHJhbnNsYXRlWCA9IGJ1ZmZlciAtIGxlZnQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJpZ2h0ID4gYnVmZmVyKSB7XG4gICAgICAgIHRyYW5zbGF0ZVggPSAtYnVmZmVyIC0gcmlnaHQ7XG4gICAgfVxuICAgIC8vIENoZWNrIHZlcnRpY2FsIG92ZXJmbG93XG4gICAgaWYgKHRvcCA8IGJ1ZmZlcikge1xuICAgICAgICB0cmFuc2xhdGVZID0gYnVmZmVyIC0gdG9wO1xuICAgIH1cbiAgICBlbHNlIGlmIChib3R0b20gPiBidWZmZXIpIHtcbiAgICAgICAgdHJhbnNsYXRlWSA9IC1ib3R0b20gLSBidWZmZXI7XG4gICAgfVxuICAgIC8vIEFwcGx5IHRoZSB0cmFuc2xhdGlvbiBpZiBuZWVkZWRcbiAgICBpZiAodHJhbnNsYXRlWCAhPT0gMCB8fCB0cmFuc2xhdGVZICE9PSAwKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZSgke3RyYW5zbGF0ZVh9cHgsICR7dHJhbnNsYXRlWX1weClgO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kUmVsYXRpdmVaSW5kZXhQYXJlbnQoZWwpIHtcbiAgICBsZXQgdG1wID0gZWw7XG4gICAgd2hpbGUgKHRtcCAmJiAodG1wLnN0eWxlLnpJbmRleCA9PT0gJ2F1dG8nIHx8IHRtcC5zdHlsZS56SW5kZXggPT09ICcnKSkge1xuICAgICAgICB0bXAgPSB0bXAucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIHRtcDtcbn1cbiIsImV4cG9ydCB2YXIgRXZlbnQ7XG4oZnVuY3Rpb24gKEV2ZW50KSB7XG4gICAgRXZlbnQuYW55ID0gKC4uLmNoaWxkcmVuKSA9PiB7XG4gICAgICAgIHJldHVybiAobGlzdGVuZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3Bvc2FibGVzID0gY2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gY2hpbGQobGlzdGVuZXIpKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkaXNwb3NhYmxlcy5mb3JFYWNoKChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbn0pKEV2ZW50IHx8IChFdmVudCA9IHt9KSk7XG5leHBvcnQgY2xhc3MgRG9ja3ZpZXdFdmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IGRlZmF1bHRQcmV2ZW50ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkO1xuICAgIH1cbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFjY2VwdGFibGVFdmVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2lzQWNjZXB0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IGlzQWNjZXB0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0FjY2VwdGVkO1xuICAgIH1cbiAgICBhY2NlcHQoKSB7XG4gICAgICAgIHRoaXMuX2lzQWNjZXB0ZWQgPSB0cnVlO1xuICAgIH1cbn1cbmNsYXNzIExlYWthZ2VNb25pdG9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudHMgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ldmVudHMuc2l6ZTtcbiAgICB9XG4gICAgYWRkKGV2ZW50LCBzdGFja3RyYWNlKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLnNldChldmVudCwgc3RhY2t0cmFjZSk7XG4gICAgfVxuICAgIGRlbGV0ZShldmVudCkge1xuICAgICAgICB0aGlzLmV2ZW50cy5kZWxldGUoZXZlbnQpO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5ldmVudHMuY2xlYXIoKTtcbiAgICB9XG59XG5jbGFzcyBTdGFja3RyYWNlIHtcbiAgICBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBuZXcgU3RhY2t0cmFjZSgoX2EgPSBuZXcgRXJyb3IoKS5zdGFjaykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHByaW50KCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ2RvY2t2aWV3OiBzdGFja3RyYWNlJywgdGhpcy52YWx1ZSk7XG4gICAgfVxufVxuY2xhc3MgTGlzdGVuZXIge1xuICAgIGNvbnN0cnVjdG9yKGNhbGxiYWNrLCBzdGFja3RyYWNlKSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy5zdGFja3RyYWNlID0gc3RhY2t0cmFjZTtcbiAgICB9XG59XG4vLyByZWxhdGl2ZWx5IHNpbXBsZSBldmVudCBlbWl0dGVyIHRha2VuIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC92c2NvZGUvYmxvYi9tYXN0ZXIvc3JjL3ZzL2Jhc2UvY29tbW9uL2V2ZW50LnRzXG5leHBvcnQgY2xhc3MgRW1pdHRlciB7XG4gICAgc3RhdGljIHNldExlYWthZ2VNb25pdG9yRW5hYmxlZChpc0VuYWJsZWQpIHtcbiAgICAgICAgaWYgKGlzRW5hYmxlZCAhPT0gRW1pdHRlci5FTkFCTEVfVFJBQ0tJTkcpIHtcbiAgICAgICAgICAgIEVtaXR0ZXIuTUVNT1JZX0xFQUtfV0FUQ0hFUi5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIEVtaXR0ZXIuRU5BQkxFX1RSQUNLSU5HID0gaXNFbmFibGVkO1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXN0O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xuICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBnZXQgZXZlbnQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50ID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGlmICgoKF9hID0gdGhpcy5vcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVwbGF5KSAmJiB0aGlzLl9sYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5fbGFzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVyID0gbmV3IExpc3RlbmVyKGNhbGxiYWNrLCBFbWl0dGVyLkVOQUJMRV9UUkFDS0lORyA/IFN0YWNrdHJhY2UuY3JlYXRlKCkgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChFbWl0dGVyLkVOQUJMRV9UUkFDS0lORykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgYGRvY2t2aWV3OiBsaXN0ZW5lciBhbHJlYWR5IGRpc3Bvc2VkYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgU3RhY2t0cmFjZS5jcmVhdGUoKS5wcmludCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChFbWl0dGVyLkVOQUJMRV9UUkFDS0lORykge1xuICAgICAgICAgICAgICAgIEVtaXR0ZXIuTUVNT1JZX0xFQUtfV0FUQ0hFUi5hZGQodGhpcy5fZXZlbnQsIFN0YWNrdHJhY2UuY3JlYXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9ldmVudDtcbiAgICB9XG4gICAgZmlyZShlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKChfYSA9IHRoaXMub3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlcGxheSkge1xuICAgICAgICAgICAgdGhpcy5fbGFzdCA9IGU7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNhbGxiYWNrKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9saXN0ZW5lcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChFbWl0dGVyLkVOQUJMRV9UUkFDS0lORykge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBjaGVjayB1bnRpbCBzdGFjayBvZiBleGVjdXRpb24gaXMgY29tcGxldGVkIHRvIGFsbG93IGZvciBvdXQtb2Ytb3JkZXIgZGlzcG9zYWxzIHdpdGhpbiB0aGUgc2FtZSBleGVjdXRpb24gYmxvY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdkb2Nrdmlldzogc3RhY2t0cmFjZScsIChfYSA9IGxpc3RlbmVyLnN0YWNrdHJhY2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wcmludCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEVtaXR0ZXIuRU5BQkxFX1RSQUNLSU5HICYmIHRoaXMuX2V2ZW50KSB7XG4gICAgICAgICAgICAgICAgRW1pdHRlci5NRU1PUllfTEVBS19XQVRDSEVSLmRlbGV0ZSh0aGlzLl9ldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5FbWl0dGVyLkVOQUJMRV9UUkFDS0lORyA9IGZhbHNlO1xuRW1pdHRlci5NRU1PUllfTEVBS19XQVRDSEVSID0gbmV3IExlYWthZ2VNb25pdG9yKCk7XG5leHBvcnQgZnVuY3Rpb24gYWRkRGlzcG9zYWJsZUxpc3RlbmVyKGVsZW1lbnQsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgICAgICB9LFxuICAgIH07XG59XG4vKipcbiAqXG4gKiBFdmVudCBFbWl0dGVyIHRoYXQgZmlyZXMgZXZlbnRzIGZyb20gYSBNaWNyb3Rhc2sgY2FsbGJhY2ssIG9ubHkgb25lIGV2ZW50IHdpbGwgZmlyZSBwZXIgZXZlbnQtbG9vcCBjeWNsZS5cbiAqXG4gKiBJdCdzIGtpbmQgb2YgbGlrZSB1c2luZyBhbiBgYXNhcFNjaGVkdWxlcmAgaW4gUnhKcyB3aXRoIGFkZGl0aW9uYWwgbG9naWMgdG8gb25seSBmaXJlIG9uY2UgcGVyIGV2ZW50LWxvb3AgY3ljbGUuXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIGV4aXN0cyB0byBhdm9pZCBleHRlcm5hbCBkZXBlbmRlbmNpZXMuXG4gKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvcXVldWVNaWNyb3Rhc2tcbiAqIEBzZWUgaHR0cHM6Ly9yeGpzLmRldi9hcGkvaW5kZXgvY29uc3QvYXNhcFNjaGVkdWxlclxuICovXG5leHBvcnQgY2xhc3MgQXNhcEV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fb25GaXJlZCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRGaXJlQ291bnQgPSAwO1xuICAgICAgICB0aGlzLl9xdWV1ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbkV2ZW50ID0gKGUpID0+IHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogd2hlbiB0aGUgZXZlbnQgaXMgZmlyc3Qgc3Vic2NyaWJlZCB0byB0YWtlIG5vdGUgb2YgdGhlIGN1cnJlbnQgZmlyZSBjb3VudFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBjb25zdCBmaXJlQ291bnRBdFRpbWVPZkV2ZW50U3Vic2NyaXB0aW9uID0gdGhpcy5fY3VycmVudEZpcmVDb3VudDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbkZpcmVkLmV2ZW50KCgpID0+IHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBpZiB0aGUgY3VycmVudCBmaXJlIGNvdW50IGlzIGdyZWF0ZXIgdGhhbiB0aGUgZmlyZSBjb3VudCBhdCBldmVudCBzdWJzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgKiB0aGVuIHRoZSBldmVudCBoYXMgYmVlbiBmaXJlZCBzaW5jZSB3ZSBzdWJzY3JpYmVkIGFuZCBpdCdzIG9rIHRvIFwib25fbmV4dFwiIHRoZSBldmVudC5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIGlmIHRoZSBjb3VudCBpcyBub3QgZ3JlYXRlciB0aGVuIHdoYXQgd2UgYXJlIHJlY2lldmluZyBpcyBhbiBldmVudCBmcm9tIHRoZSBtaWNyb3Rhc2tcbiAgICAgICAgICAgICAgICAgKiBxdWV1ZSB0aGF0IHdhcyB0cmlnZ2VyZWQgYmVmb3JlIHdlIGFjdHVhbGx5IHN1YnNjcmliZWQgYW5kIHRoZXJmb3JlIHdlIHNob3VsZCBpZ25vcmUgaXQuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRGaXJlQ291bnQgPiBmaXJlQ291bnRBdFRpbWVPZkV2ZW50U3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZmlyZSgpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudEZpcmVDb3VudCsrO1xuICAgICAgICBpZiAodGhpcy5fcXVldWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcXVldWVkID0gdHJ1ZTtcbiAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcXVldWVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9vbkZpcmVkLmZpcmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuX29uRmlyZWQuZGlzcG9zZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEVtaXR0ZXIsIEV2ZW50LCBBc2FwRXZlbnQgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgZ2V0R3JpZExvY2F0aW9uLCBHcmlkdmlldyB9IGZyb20gJy4vZ3JpZHZpZXcnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5pbXBvcnQgeyBzZXF1ZW50aWFsTnVtYmVyR2VuZXJhdG9yIH0gZnJvbSAnLi4vbWF0aCc7XG5pbXBvcnQgeyBTaXppbmcgfSBmcm9tICcuLi9zcGxpdHZpZXcvc3BsaXR2aWV3JztcbmltcG9ydCB7IFJlc2l6YWJsZSB9IGZyb20gJy4uL3Jlc2l6YWJsZSc7XG5pbXBvcnQgeyBDbGFzc25hbWVzIH0gZnJvbSAnLi4vZG9tJztcbmNvbnN0IG5leHRMYXlvdXRJZCA9IHNlcXVlbnRpYWxOdW1iZXJHZW5lcmF0b3IoKTtcbmV4cG9ydCBmdW5jdGlvbiB0b1RhcmdldChkaXJlY3Rpb24pIHtcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIHJldHVybiAnbGVmdCc7XG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIHJldHVybiAncmlnaHQnO1xuICAgICAgICBjYXNlICdhYm92ZSc6XG4gICAgICAgICAgICByZXR1cm4gJ3RvcCc7XG4gICAgICAgIGNhc2UgJ2JlbG93JzpcbiAgICAgICAgICAgIHJldHVybiAnYm90dG9tJztcbiAgICAgICAgY2FzZSAnd2l0aGluJzpcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiAnY2VudGVyJztcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQmFzZUdyaWQgZXh0ZW5kcyBSZXNpemFibGUge1xuICAgIGdldCBpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyb3Vwcy5zaXplO1xuICAgIH1cbiAgICBnZXQgZ3JvdXBzKCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9ncm91cHMudmFsdWVzKCkpLm1hcCgoXykgPT4gXy52YWx1ZSk7XG4gICAgfVxuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZHZpZXcud2lkdGg7XG4gICAgfVxuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyaWR2aWV3LmhlaWdodDtcbiAgICB9XG4gICAgZ2V0IG1pbmltdW1IZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyaWR2aWV3Lm1pbmltdW1IZWlnaHQ7XG4gICAgfVxuICAgIGdldCBtYXhpbXVtSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmlkdmlldy5tYXhpbXVtSGVpZ2h0O1xuICAgIH1cbiAgICBnZXQgbWluaW11bVdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmlkdmlldy5taW5pbXVtV2lkdGg7XG4gICAgfVxuICAgIGdldCBtYXhpbXVtV2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyaWR2aWV3Lm1heGltdW1XaWR0aDtcbiAgICB9XG4gICAgZ2V0IGFjdGl2ZUdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlR3JvdXA7XG4gICAgfVxuICAgIGdldCBsb2NrZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdyaWR2aWV3LmxvY2tlZDtcbiAgICB9XG4gICAgc2V0IGxvY2tlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmdyaWR2aWV3LmxvY2tlZCA9IHZhbHVlO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwgb3B0aW9ucy5kaXNhYmxlQXV0b1Jlc2l6aW5nKTtcbiAgICAgICAgdGhpcy5faWQgPSBuZXh0TGF5b3V0SWQubmV4dCgpO1xuICAgICAgICB0aGlzLl9ncm91cHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX29uRGlkUmVtb3ZlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZFJlbW92ZSA9IHRoaXMuX29uRGlkUmVtb3ZlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZEFkZCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRBZGQgPSB0aGlzLl9vbkRpZEFkZC5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRNYXhpbWl6ZWRDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkTWF4aW1pemVkQ2hhbmdlID0gdGhpcy5fb25EaWRNYXhpbWl6ZWRDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkQWN0aXZlQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZEFjdGl2ZUNoYW5nZSA9IHRoaXMuX29uRGlkQWN0aXZlQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9idWZmZXJPbkRpZExheW91dENoYW5nZSA9IG5ldyBBc2FwRXZlbnQoKTtcbiAgICAgICAgdGhpcy5vbkRpZExheW91dENoYW5nZSA9IHRoaXMuX2J1ZmZlck9uRGlkTGF5b3V0Q2hhbmdlLm9uRXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkVmlld1Zpc2liaWxpdHlDaGFuZ2VNaWNyb1Rhc2tRdWV1ZSA9IG5ldyBBc2FwRXZlbnQoKTtcbiAgICAgICAgdGhpcy5vbkRpZFZpZXdWaXNpYmlsaXR5Q2hhbmdlTWljcm9UYXNrUXVldWUgPSB0aGlzLl9vbkRpZFZpZXdWaXNpYmlsaXR5Q2hhbmdlTWljcm9UYXNrUXVldWUub25FdmVudDtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICB0aGlzLl9jbGFzc05hbWVzID0gbmV3IENsYXNzbmFtZXModGhpcy5lbGVtZW50KTtcbiAgICAgICAgdGhpcy5fY2xhc3NOYW1lcy5zZXRDbGFzc05hbWVzKChfYSA9IG9wdGlvbnMuY2xhc3NOYW1lKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJyk7XG4gICAgICAgIC8vIHRoZSBjb250YWluZXIgaXMgb3duZWQgYnkgdGhlIHRoaXJkLXBhcnR5LCBkbyBub3QgbW9kaWZ5L2RlbGV0ZSBpdFxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgdGhpcy5ncmlkdmlldyA9IG5ldyBHcmlkdmlldyghIW9wdGlvbnMucHJvcG9ydGlvbmFsTGF5b3V0LCBvcHRpb25zLnN0eWxlcywgb3B0aW9ucy5vcmllbnRhdGlvbiwgb3B0aW9ucy5sb2NrZWQsIG9wdGlvbnMubWFyZ2luKTtcbiAgICAgICAgdGhpcy5ncmlkdmlldy5sb2NrZWQgPSAhIW9wdGlvbnMubG9ja2VkO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5ncmlkdmlldy5lbGVtZW50KTtcbiAgICAgICAgdGhpcy5sYXlvdXQoMCwgMCwgdHJ1ZSk7IC8vIHNldCBzb21lIGVsZW1lbnRzIGhlaWdodC93aWR0aHNcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyh0aGlzLmdyaWR2aWV3Lm9uRGlkTWF4aW1pemVkTm9kZUNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkTWF4aW1pemVkQ2hhbmdlLmZpcmUoe1xuICAgICAgICAgICAgICAgIHBhbmVsOiBldmVudC52aWV3LFxuICAgICAgICAgICAgICAgIGlzTWF4aW1pemVkOiBldmVudC5pc01heGltaXplZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSwgdGhpcy5ncmlkdmlldy5vbkRpZFZpZXdWaXNpYmlsaXR5Q2hhbmdlKCgpID0+IHRoaXMuX29uRGlkVmlld1Zpc2liaWxpdHlDaGFuZ2VNaWNyb1Rhc2tRdWV1ZS5maXJlKCkpLCB0aGlzLm9uRGlkVmlld1Zpc2liaWxpdHlDaGFuZ2VNaWNyb1Rhc2tRdWV1ZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxheW91dCh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdHJ1ZSk7XG4gICAgICAgIH0pLCBEaXNwb3NhYmxlLmZyb20oKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB9KSwgdGhpcy5ncmlkdmlldy5vbkRpZENoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJPbkRpZExheW91dENoYW5nZS5maXJlKCk7XG4gICAgICAgIH0pLCBFdmVudC5hbnkodGhpcy5vbkRpZEFkZCwgdGhpcy5vbkRpZFJlbW92ZSwgdGhpcy5vbkRpZEFjdGl2ZUNoYW5nZSkoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVyT25EaWRMYXlvdXRDaGFuZ2UuZmlyZSgpO1xuICAgICAgICB9KSwgdGhpcy5fb25EaWRNYXhpbWl6ZWRDaGFuZ2UsIHRoaXMuX29uRGlkVmlld1Zpc2liaWxpdHlDaGFuZ2VNaWNyb1Rhc2tRdWV1ZSwgdGhpcy5fYnVmZmVyT25EaWRMYXlvdXRDaGFuZ2UpO1xuICAgIH1cbiAgICBzZXRWaXNpYmxlKHBhbmVsLCB2aXNpYmxlKSB7XG4gICAgICAgIHRoaXMuZ3JpZHZpZXcuc2V0Vmlld1Zpc2libGUoZ2V0R3JpZExvY2F0aW9uKHBhbmVsLmVsZW1lbnQpLCB2aXNpYmxlKTtcbiAgICAgICAgdGhpcy5fYnVmZmVyT25EaWRMYXlvdXRDaGFuZ2UuZmlyZSgpO1xuICAgIH1cbiAgICBpc1Zpc2libGUocGFuZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZHZpZXcuaXNWaWV3VmlzaWJsZShnZXRHcmlkTG9jYXRpb24ocGFuZWwuZWxlbWVudCkpO1xuICAgIH1cbiAgICB1cGRhdGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucHJvcG9ydGlvbmFsTGF5b3V0ID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuZ3JpZHZpZXcucHJvcG9ydGlvbmFsTGF5b3V0ID0gb3B0aW9ucy5wcm9wb3J0aW9uYWxMYXlvdXQ7IC8vIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5vcmllbnRhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5ncmlkdmlldy5vcmllbnRhdGlvbiA9IG9wdGlvbnMub3JpZW50YXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdzdHlsZXMnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIHRoaXMuZ3JpZHZpZXcuc3R5bGVzID0gb3B0aW9ucy5zdHlsZXM7IC8vIG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2Rpc2FibGVSZXNpemluZycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlUmVzaXppbmcgPSAoX2EgPSBvcHRpb25zLmRpc2FibGVBdXRvUmVzaXppbmcpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnbG9ja2VkJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmxvY2tlZCA9IChfYiA9IG9wdGlvbnMubG9ja2VkKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ21hcmdpbicgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5ncmlkdmlldy5tYXJnaW4gPSAoX2MgPSBvcHRpb25zLm1hcmdpbikgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2NsYXNzTmFtZScgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5fY2xhc3NOYW1lcy5zZXRDbGFzc05hbWVzKChfZCA9IG9wdGlvbnMuY2xhc3NOYW1lKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAnJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF4aW1pemVHcm91cChwYW5lbCkge1xuICAgICAgICB0aGlzLmdyaWR2aWV3Lm1heGltaXplVmlldyhwYW5lbCk7XG4gICAgICAgIHRoaXMuZG9TZXRHcm91cEFjdGl2ZShwYW5lbCk7XG4gICAgfVxuICAgIGlzTWF4aW1pemVkR3JvdXAocGFuZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JpZHZpZXcubWF4aW1pemVkVmlldygpID09PSBwYW5lbDtcbiAgICB9XG4gICAgZXhpdE1heGltaXplZEdyb3VwKCkge1xuICAgICAgICB0aGlzLmdyaWR2aWV3LmV4aXRNYXhpbWl6ZWRWaWV3KCk7XG4gICAgfVxuICAgIGhhc01heGltaXplZEdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmlkdmlldy5oYXNNYXhpbWl6ZWRWaWV3KCk7XG4gICAgfVxuICAgIGRvQWRkR3JvdXAoZ3JvdXAsIGxvY2F0aW9uID0gWzBdLCBzaXplKSB7XG4gICAgICAgIHRoaXMuZ3JpZHZpZXcuYWRkVmlldyhncm91cCwgc2l6ZSAhPT0gbnVsbCAmJiBzaXplICE9PSB2b2lkIDAgPyBzaXplIDogU2l6aW5nLkRpc3RyaWJ1dGUsIGxvY2F0aW9uKTtcbiAgICAgICAgdGhpcy5fb25EaWRBZGQuZmlyZShncm91cCk7XG4gICAgfVxuICAgIGRvUmVtb3ZlR3JvdXAoZ3JvdXAsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9ncm91cHMuaGFzKGdyb3VwLmlkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIG9wZXJhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLl9ncm91cHMuZ2V0KGdyb3VwLmlkKTtcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMuZ3JpZHZpZXcucmVtb3ZlKGdyb3VwLCBTaXppbmcuRGlzdHJpYnV0ZSk7XG4gICAgICAgIGlmIChpdGVtICYmICEob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnNraXBEaXNwb3NlKSkge1xuICAgICAgICAgICAgaXRlbS5kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIGl0ZW0udmFsdWUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fZ3JvdXBzLmRlbGV0ZShncm91cC5pZCk7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZFJlbW92ZS5maXJlKGdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuc2tpcEFjdGl2ZSkgJiYgdGhpcy5fYWN0aXZlR3JvdXAgPT09IGdyb3VwKSB7XG4gICAgICAgICAgICBjb25zdCBncm91cHMgPSBBcnJheS5mcm9tKHRoaXMuX2dyb3Vwcy52YWx1ZXMoKSk7XG4gICAgICAgICAgICB0aGlzLmRvU2V0R3JvdXBBY3RpdmUoZ3JvdXBzLmxlbmd0aCA+IDAgPyBncm91cHNbMF0udmFsdWUgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3O1xuICAgIH1cbiAgICBnZXRQYW5lbChpZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLl9ncm91cHMuZ2V0KGlkKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhbHVlO1xuICAgIH1cbiAgICBkb1NldEdyb3VwQWN0aXZlKGdyb3VwKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVHcm91cCA9PT0gZ3JvdXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlR3JvdXApIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZUdyb3VwLnNldEFjdGl2ZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdyb3VwKSB7XG4gICAgICAgICAgICBncm91cC5zZXRBY3RpdmUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYWN0aXZlR3JvdXAgPSBncm91cDtcbiAgICAgICAgdGhpcy5fb25EaWRBY3RpdmVDaGFuZ2UuZmlyZShncm91cCk7XG4gICAgfVxuICAgIHJlbW92ZUdyb3VwKGdyb3VwKSB7XG4gICAgICAgIHRoaXMuZG9SZW1vdmVHcm91cChncm91cCk7XG4gICAgfVxuICAgIG1vdmVUb05leHQob3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3B0aW9ucy5ncm91cCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFjdGl2ZUdyb3VwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0aW9ucy5ncm91cCA9IHRoaXMuYWN0aXZlR3JvdXA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBnZXRHcmlkTG9jYXRpb24ob3B0aW9ucy5ncm91cC5lbGVtZW50KTtcbiAgICAgICAgY29uc3QgbmV4dCA9IChfYSA9IHRoaXMuZ3JpZHZpZXcubmV4dChsb2NhdGlvbikpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52aWV3O1xuICAgICAgICB0aGlzLmRvU2V0R3JvdXBBY3RpdmUobmV4dCk7XG4gICAgfVxuICAgIG1vdmVUb1ByZXZpb3VzKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbnMuZ3JvdXApIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5hY3RpdmVHcm91cCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnMuZ3JvdXAgPSB0aGlzLmFjdGl2ZUdyb3VwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZ2V0R3JpZExvY2F0aW9uKG9wdGlvbnMuZ3JvdXAuZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IG5leHQgPSAoX2EgPSB0aGlzLmdyaWR2aWV3LnByZXZpb3VzKGxvY2F0aW9uKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZpZXc7XG4gICAgICAgIHRoaXMuZG9TZXRHcm91cEFjdGl2ZShuZXh0KTtcbiAgICB9XG4gICAgbGF5b3V0KHdpZHRoLCBoZWlnaHQsIGZvcmNlUmVzaXplKSB7XG4gICAgICAgIGNvbnN0IGRpZmZlcmVudCA9IGZvcmNlUmVzaXplIHx8IHdpZHRoICE9PSB0aGlzLndpZHRoIHx8IGhlaWdodCAhPT0gdGhpcy5oZWlnaHQ7XG4gICAgICAgIGlmICghZGlmZmVyZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ncmlkdmlldy5lbGVtZW50LnN0eWxlLmhlaWdodCA9IGAke2hlaWdodH1weGA7XG4gICAgICAgIHRoaXMuZ3JpZHZpZXcuZWxlbWVudC5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgICAgICAgdGhpcy5ncmlkdmlldy5sYXlvdXQod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuX29uRGlkQWN0aXZlQ2hhbmdlLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fb25EaWRBZGQuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9vbkRpZFJlbW92ZS5kaXNwb3NlKCk7XG4gICAgICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgdGhpcy5ncm91cHMpIHtcbiAgICAgICAgICAgIGdyb3VwLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdyaWR2aWV3LmRpc3Bvc2UoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHRyYWNrRm9jdXMgfSBmcm9tICcuLi9kb20nO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5pbXBvcnQgeyBXaWxsRm9jdXNFdmVudCB9IGZyb20gJy4uL2FwaS9wYW5lbEFwaSc7XG5leHBvcnQgY2xhc3MgQmFzZVBhbmVsVmlldyBleHRlbmRzIENvbXBvc2l0ZURpc3Bvc2FibGUge1xuICAgIGdldCBlbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IHdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgfVxuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG4gICAgfVxuICAgIGdldCBwYXJhbXMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX3BhcmFtcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcmFtcztcbiAgICB9XG4gICAgY29uc3RydWN0b3IoaWQsIGNvbXBvbmVudCwgYXBpKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgICAgIHRoaXMuYXBpID0gYXBpO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC50YWJJbmRleCA9IC0xO1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLm91dGxpbmUgPSAnbm9uZSc7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICAgIGNvbnN0IGZvY3VzVHJhY2tlciA9IHRyYWNrRm9jdXModGhpcy5fZWxlbWVudCk7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5hcGksIGZvY3VzVHJhY2tlci5vbkRpZEZvY3VzKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBpLl9vbkRpZENoYW5nZUZvY3VzLmZpcmUoeyBpc0ZvY3VzZWQ6IHRydWUgfSk7XG4gICAgICAgIH0pLCBmb2N1c1RyYWNrZXIub25EaWRCbHVyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBpLl9vbkRpZENoYW5nZUZvY3VzLmZpcmUoeyBpc0ZvY3VzZWQ6IGZhbHNlIH0pO1xuICAgICAgICB9KSwgZm9jdXNUcmFja2VyKTtcbiAgICB9XG4gICAgZm9jdXMoKSB7XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IFdpbGxGb2N1c0V2ZW50KCk7XG4gICAgICAgIHRoaXMuYXBpLl9vbldpbGxGb2N1cy5maXJlKGV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbGVtZW50LmZvY3VzKCk7XG4gICAgfVxuICAgIGxheW91dCh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5hcGkuX29uRGlkRGltZW5zaW9uQ2hhbmdlLmZpcmUoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgICAgICBpZiAodGhpcy5wYXJ0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0LnVwZGF0ZSh0aGlzLl9wYXJhbXMucGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpbml0KHBhcmFtZXRlcnMpIHtcbiAgICAgICAgdGhpcy5fcGFyYW1zID0gcGFyYW1ldGVycztcbiAgICAgICAgdGhpcy5wYXJ0ID0gdGhpcy5nZXRDb21wb25lbnQoKTtcbiAgICB9XG4gICAgdXBkYXRlKGV2ZW50KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIC8vIG1lcmdlIHRoZSBuZXcgcGFyYW1ldGVycyB3aXRoIHRoZSBleGlzdGluZyBwYXJhbWV0ZXJzXG4gICAgICAgIHRoaXMuX3BhcmFtcyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fcGFyYW1zKSwgeyBwYXJhbXM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKF9hID0gdGhpcy5fcGFyYW1zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGFyYW1zKSwgZXZlbnQucGFyYW1zKSB9KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRlbGV0ZSBuZXcga2V5cyB0aGF0IGhhdmUgYSB2YWx1ZSBvZiB1bmRlZmluZWQsXG4gICAgICAgICAqIGFsbG93IHZhbHVlcyBvZiBudWxsXG4gICAgICAgICAqL1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhldmVudC5wYXJhbXMpKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQucGFyYW1zW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wYXJhbXMucGFyYW1zW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXBkYXRlIHRoZSB2aWV3IHdpdGggdGhlIHVwZGF0ZWQgcHJvcHNcbiAgICAgICAgKF9iID0gdGhpcy5wYXJ0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudXBkYXRlKHsgcGFyYW1zOiB0aGlzLl9wYXJhbXMucGFyYW1zIH0pO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IChfYiA9IChfYSA9IHRoaXMuX3BhcmFtcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhcmFtcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge307XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIGNvbXBvbmVudDogdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICBwYXJhbXM6IE9iamVjdC5rZXlzKHBhcmFtcykubGVuZ3RoID4gMCA/IHBhcmFtcyA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmFwaS5kaXNwb3NlKCk7XG4gICAgICAgIChfYSA9IHRoaXMucGFydCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc3Bvc2UoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBY2NyZWRpdGF0aW9uOiBUaGlzIGZpbGUgaXMgbGFyZ2x5IGJhc2VkIHVwb24gdGhlIE1JVCBsaWNlbmNlZCBWU0NvZGUgc291cmNlY29kZSBmb3VuZCBhdDpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL3RyZWUvbWFpbi9zcmMvdnMvYmFzZS9icm93c2VyL3VpL2dyaWRcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgU3BsaXR2aWV3LCBPcmllbnRhdGlvbiwgTGF5b3V0UHJpb3JpdHksIH0gZnJvbSAnLi4vc3BsaXR2aWV3L3NwbGl0dmlldyc7XG5pbXBvcnQgeyBFbWl0dGVyLCBFdmVudCB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBMZWFmTm9kZSB9IGZyb20gJy4vbGVhZk5vZGUnO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSwgRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5leHBvcnQgY2xhc3MgQnJhbmNoTm9kZSBleHRlbmRzIENvbXBvc2l0ZURpc3Bvc2FibGUge1xuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICAgICAgICAgID8gdGhpcy5zaXplXG4gICAgICAgICAgICA6IHRoaXMub3J0aG9nb25hbFNpemU7XG4gICAgfVxuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWVudGF0aW9uID09PSBPcmllbnRhdGlvbi5IT1JJWk9OVEFMXG4gICAgICAgICAgICA/IHRoaXMub3J0aG9nb25hbFNpemVcbiAgICAgICAgICAgIDogdGhpcy5zaXplO1xuICAgIH1cbiAgICBnZXQgbWluaW11bVNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICA6IE1hdGgubWF4KC4uLnRoaXMuY2hpbGRyZW4ubWFwKChjLCBpbmRleCkgPT4gdGhpcy5zcGxpdHZpZXcuaXNWaWV3VmlzaWJsZShpbmRleClcbiAgICAgICAgICAgICAgICA/IGMubWluaW11bU9ydGhvZ29uYWxTaXplXG4gICAgICAgICAgICAgICAgOiAwKSk7XG4gICAgfVxuICAgIGdldCBtYXhpbXVtU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKC4uLnRoaXMuY2hpbGRyZW4ubWFwKChjLCBpbmRleCkgPT4gdGhpcy5zcGxpdHZpZXcuaXNWaWV3VmlzaWJsZShpbmRleClcbiAgICAgICAgICAgID8gYy5tYXhpbXVtT3J0aG9nb25hbFNpemVcbiAgICAgICAgICAgIDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSk7XG4gICAgfVxuICAgIGdldCBtaW5pbXVtT3J0aG9nb25hbFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwbGl0dmlldy5taW5pbXVtU2l6ZTtcbiAgICB9XG4gICAgZ2V0IG1heGltdW1PcnRob2dvbmFsU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BsaXR2aWV3Lm1heGltdW1TaXplO1xuICAgIH1cbiAgICBnZXQgb3J0aG9nb25hbFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcnRob2dvbmFsU2l6ZTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xuICAgIH1cbiAgICBnZXQgbWluaW11bVdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uSE9SSVpPTlRBTFxuICAgICAgICAgICAgPyB0aGlzLm1pbmltdW1PcnRob2dvbmFsU2l6ZVxuICAgICAgICAgICAgOiB0aGlzLm1pbmltdW1TaXplO1xuICAgIH1cbiAgICBnZXQgbWluaW11bUhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICAgICAgICAgID8gdGhpcy5taW5pbXVtU2l6ZVxuICAgICAgICAgICAgOiB0aGlzLm1pbmltdW1PcnRob2dvbmFsU2l6ZTtcbiAgICB9XG4gICAgZ2V0IG1heGltdW1XaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICAgICAgICAgID8gdGhpcy5tYXhpbXVtT3J0aG9nb25hbFNpemVcbiAgICAgICAgICAgIDogdGhpcy5tYXhpbXVtU2l6ZTtcbiAgICB9XG4gICAgZ2V0IG1heGltdW1IZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWVudGF0aW9uID09PSBPcmllbnRhdGlvbi5IT1JJWk9OVEFMXG4gICAgICAgICAgICA/IHRoaXMubWF4aW11bVNpemVcbiAgICAgICAgICAgIDogdGhpcy5tYXhpbXVtT3J0aG9nb25hbFNpemU7XG4gICAgfVxuICAgIGdldCBwcmlvcml0eSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTGF5b3V0UHJpb3JpdHkuTm9ybWFsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByaW9yaXRpZXMgPSB0aGlzLmNoaWxkcmVuLm1hcCgoYykgPT4gdHlwZW9mIGMucHJpb3JpdHkgPT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICA/IExheW91dFByaW9yaXR5Lk5vcm1hbFxuICAgICAgICAgICAgOiBjLnByaW9yaXR5KTtcbiAgICAgICAgaWYgKHByaW9yaXRpZXMuc29tZSgocCkgPT4gcCA9PT0gTGF5b3V0UHJpb3JpdHkuSGlnaCkpIHtcbiAgICAgICAgICAgIHJldHVybiBMYXlvdXRQcmlvcml0eS5IaWdoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByaW9yaXRpZXMuc29tZSgocCkgPT4gcCA9PT0gTGF5b3V0UHJpb3JpdHkuTG93KSkge1xuICAgICAgICAgICAgcmV0dXJuIExheW91dFByaW9yaXR5LkxvdztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTGF5b3V0UHJpb3JpdHkuTm9ybWFsO1xuICAgIH1cbiAgICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwbGl0dmlldy5kaXNhYmxlZDtcbiAgICB9XG4gICAgc2V0IGRpc2FibGVkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc3BsaXR2aWV3LmRpc2FibGVkID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBtYXJnaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwbGl0dmlldy5tYXJnaW47XG4gICAgfVxuICAgIHNldCBtYXJnaW4odmFsdWUpIHtcbiAgICAgICAgdGhpcy5zcGxpdHZpZXcubWFyZ2luID0gdmFsdWU7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIEJyYW5jaE5vZGUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5tYXJnaW4gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG9yaWVudGF0aW9uLCBwcm9wb3J0aW9uYWxMYXlvdXQsIHN0eWxlcywgc2l6ZSwgb3J0aG9nb25hbFNpemUsIGRpc2FibGVkLCBtYXJnaW4sIGNoaWxkRGVzY3JpcHRvcnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuICAgICAgICB0aGlzLnByb3BvcnRpb25hbExheW91dCA9IHByb3BvcnRpb25hbExheW91dDtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuRGlzcG9zYWJsZSA9IERpc3Bvc2FibGUuTk9ORTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRDaGFuZ2UgPSB0aGlzLl9vbkRpZENoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRWaXNpYmlsaXR5Q2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZFZpc2liaWxpdHlDaGFuZ2UgPSB0aGlzLl9vbkRpZFZpc2liaWxpdHlDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29ydGhvZ29uYWxTaXplID0gb3J0aG9nb25hbFNpemU7XG4gICAgICAgIHRoaXMuX3NpemUgPSBzaXplO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTmFtZSA9ICdkdi1icmFuY2gtbm9kZSc7XG4gICAgICAgIGlmICghY2hpbGREZXNjcmlwdG9ycykge1xuICAgICAgICAgICAgdGhpcy5zcGxpdHZpZXcgPSBuZXcgU3BsaXR2aWV3KHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiB0aGlzLm9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgIHByb3BvcnRpb25hbExheW91dCxcbiAgICAgICAgICAgICAgICBzdHlsZXMsXG4gICAgICAgICAgICAgICAgbWFyZ2luLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNwbGl0dmlldy5sYXlvdXQodGhpcy5zaXplLCB0aGlzLm9ydGhvZ29uYWxTaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSB7XG4gICAgICAgICAgICAgICAgdmlld3M6IGNoaWxkRGVzY3JpcHRvcnMubWFwKChjaGlsZERlc2NyaXB0b3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZXc6IGNoaWxkRGVzY3JpcHRvci5ub2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogY2hpbGREZXNjcmlwdG9yLm5vZGUuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGNoaWxkRGVzY3JpcHRvci5ub2RlIGluc3RhbmNlb2YgTGVhZk5vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZERlc2NyaXB0b3IudmlzaWJsZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjaGlsZERlc2NyaXB0b3IudmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBzaXplOiB0aGlzLm9ydGhvZ29uYWxTaXplLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZERlc2NyaXB0b3JzLm1hcCgoYykgPT4gYy5ub2RlKTtcbiAgICAgICAgICAgIHRoaXMuc3BsaXR2aWV3ID0gbmV3IFNwbGl0dmlldyh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbjogdGhpcy5vcmllbnRhdGlvbixcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yLFxuICAgICAgICAgICAgICAgIHByb3BvcnRpb25hbExheW91dCxcbiAgICAgICAgICAgICAgICBzdHlsZXMsXG4gICAgICAgICAgICAgICAgbWFyZ2luLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKHRoaXMuX29uRGlkQ2hhbmdlLCB0aGlzLl9vbkRpZFZpc2liaWxpdHlDaGFuZ2UsIHRoaXMuc3BsaXR2aWV3Lm9uRGlkU2FzaEVuZCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZS5maXJlKHt9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLnNldHVwQ2hpbGRyZW5FdmVudHMoKTtcbiAgICB9XG4gICAgc2V0VmlzaWJsZShfdmlzaWJsZSkge1xuICAgICAgICAvLyBub29wXG4gICAgfVxuICAgIGlzQ2hpbGRWaXNpYmxlKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbmRleCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNwbGl0dmlldy5pc1ZpZXdWaXNpYmxlKGluZGV4KTtcbiAgICB9XG4gICAgc2V0Q2hpbGRWaXNpYmxlKGluZGV4LCB2aXNpYmxlKSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbmRleCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNwbGl0dmlldy5pc1ZpZXdWaXNpYmxlKGluZGV4KSA9PT0gdmlzaWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdlcmVBbGxDaGlsZHJlbkhpZGRlbiA9IHRoaXMuc3BsaXR2aWV3LmNvbnRlbnRTaXplID09PSAwO1xuICAgICAgICB0aGlzLnNwbGl0dmlldy5zZXRWaWV3VmlzaWJsZShpbmRleCwgdmlzaWJsZSk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgY29uc3QgYXJlQWxsQ2hpbGRyZW5IaWRkZW4gPSB0aGlzLnNwbGl0dmlldy5jb250ZW50U2l6ZSA9PT0gMDtcbiAgICAgICAgLy8gSWYgYWxsIGNoaWxkcmVuIGFyZSBoaWRkZW4gdGhlbiB0aGUgcGFyZW50IHNob3VsZCBoaWRlIHRoZSBlbnRpcmUgc3BsaXR2aWV3XG4gICAgICAgIC8vIElmIHRoZSBlbnRpcmUgc3BsaXR2aWV3IGlzIGhpZGRlbiB0aGVuIHRoZSBwYXJlbnQgc2hvdWxkIHNob3cgdGhlIHNwbGl0dmlldyB3aGVuIGEgY2hpbGQgaXMgc2hvd25cbiAgICAgICAgaWYgKCh2aXNpYmxlICYmIHdlcmVBbGxDaGlsZHJlbkhpZGRlbikgfHxcbiAgICAgICAgICAgICghdmlzaWJsZSAmJiBhcmVBbGxDaGlsZHJlbkhpZGRlbikpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkVmlzaWJpbGl0eUNoYW5nZS5maXJlKHsgdmlzaWJsZSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlQ2hpbGQoZnJvbSwgdG8pIHtcbiAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyb20gPCAwIHx8IGZyb20gPj0gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBmcm9tIGluZGV4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyb20gPCB0bykge1xuICAgICAgICAgICAgdG8tLTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwbGl0dmlldy5tb3ZlVmlldyhmcm9tLCB0byk7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5fcmVtb3ZlQ2hpbGQoZnJvbSk7XG4gICAgICAgIHRoaXMuX2FkZENoaWxkKGNoaWxkLCB0byk7XG4gICAgfVxuICAgIGdldENoaWxkU2l6ZShpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW5kZXgnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zcGxpdHZpZXcuZ2V0Vmlld1NpemUoaW5kZXgpO1xuICAgIH1cbiAgICByZXNpemVDaGlsZChpbmRleCwgc2l6ZSkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaW5kZXgnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwbGl0dmlldy5yZXNpemVWaWV3KGluZGV4LCBzaXplKTtcbiAgICB9XG4gICAgbGF5b3V0KHNpemUsIG9ydGhvZ29uYWxTaXplKSB7XG4gICAgICAgIHRoaXMuX3NpemUgPSBvcnRob2dvbmFsU2l6ZTtcbiAgICAgICAgdGhpcy5fb3J0aG9nb25hbFNpemUgPSBzaXplO1xuICAgICAgICB0aGlzLnNwbGl0dmlldy5sYXlvdXQob3J0aG9nb25hbFNpemUsIHNpemUpO1xuICAgIH1cbiAgICBhZGRDaGlsZChub2RlLCBzaXplLCBpbmRleCwgc2tpcExheW91dCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gdGhpcy5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBpbmRleCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3BsaXR2aWV3LmFkZFZpZXcobm9kZSwgc2l6ZSwgaW5kZXgsIHNraXBMYXlvdXQpO1xuICAgICAgICB0aGlzLl9hZGRDaGlsZChub2RlLCBpbmRleCk7XG4gICAgfVxuICAgIGdldENoaWxkQ2FjaGVkVmlzaWJsZVNpemUoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGluZGV4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3BsaXR2aWV3LmdldFZpZXdDYWNoZWRWaXNpYmxlU2l6ZShpbmRleCk7XG4gICAgfVxuICAgIHJlbW92ZUNoaWxkKGluZGV4LCBzaXppbmcpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGluZGV4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zcGxpdHZpZXcucmVtb3ZlVmlldyhpbmRleCwgc2l6aW5nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbW92ZUNoaWxkKGluZGV4KTtcbiAgICB9XG4gICAgX2FkZENoaWxkKG5vZGUsIGluZGV4KSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBub2RlKTtcbiAgICAgICAgdGhpcy5zZXR1cENoaWxkcmVuRXZlbnRzKCk7XG4gICAgfVxuICAgIF9yZW1vdmVDaGlsZChpbmRleCkge1xuICAgICAgICBjb25zdCBbY2hpbGRdID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLnNldHVwQ2hpbGRyZW5FdmVudHMoKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cbiAgICBzZXR1cENoaWxkcmVuRXZlbnRzKCkge1xuICAgICAgICB0aGlzLl9jaGlsZHJlbkRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9jaGlsZHJlbkRpc3Bvc2FibGUgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZShFdmVudC5hbnkoLi4udGhpcy5jaGlsZHJlbi5tYXAoKGMpID0+IGMub25EaWRDaGFuZ2UpKSgoZSkgPT4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBpbmRpY2F0ZSBhIGNoYW5nZSBoYXMgb2NjdXJlZCB0byBhbGxvd3MgYW55IHJlLXJlbmRlcmluZyBidXQgZG9uJ3QgYnViYmxlXG4gICAgICAgICAgICAgKiBldmVudCBiZWNhdXNlIHRoYXQgd2FzIHNwZWNpZmljIHRvIHRoaXMgYnJhbmNoXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlLmZpcmUoeyBzaXplOiBlLm9ydGhvZ29uYWxTaXplIH0pO1xuICAgICAgICB9KSwgLi4udGhpcy5jaGlsZHJlbi5tYXAoKGMsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChjIGluc3RhbmNlb2YgQnJhbmNoTm9kZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjLm9uRGlkVmlzaWJpbGl0eUNoYW5nZSgoeyB2aXNpYmxlIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDaGlsZFZpc2libGUoaSwgdmlzaWJsZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gRGlzcG9zYWJsZS5OT05FO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuRGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuc3BsaXR2aWV3LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4gY2hpbGQuZGlzcG9zZSgpKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBY2NyZWRpdGF0aW9uOiBUaGlzIGZpbGUgaXMgbGFyZ2x5IGJhc2VkIHVwb24gdGhlIE1JVCBsaWNlbmNlZCBWU0NvZGUgc291cmNlY29kZSBmb3VuZCBhdDpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL3RyZWUvbWFpbi9zcmMvdnMvYmFzZS9icm93c2VyL3VpL2dyaWRcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgT3JpZW50YXRpb24sIFNpemluZywgfSBmcm9tICcuLi9zcGxpdHZpZXcvc3BsaXR2aWV3JztcbmltcG9ydCB7IHRhaWwgfSBmcm9tICcuLi9hcnJheSc7XG5pbXBvcnQgeyBMZWFmTm9kZSB9IGZyb20gJy4vbGVhZk5vZGUnO1xuaW1wb3J0IHsgQnJhbmNoTm9kZSB9IGZyb20gJy4vYnJhbmNoTm9kZSc7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IE11dGFibGVEaXNwb3NhYmxlIH0gZnJvbSAnLi4vbGlmZWN5Y2xlJztcbmZ1bmN0aW9uIGZpbmRMZWFmKGNhbmRpYXRlTm9kZSwgbGFzdCkge1xuICAgIGlmIChjYW5kaWF0ZU5vZGUgaW5zdGFuY2VvZiBMZWFmTm9kZSkge1xuICAgICAgICByZXR1cm4gY2FuZGlhdGVOb2RlO1xuICAgIH1cbiAgICBpZiAoY2FuZGlhdGVOb2RlIGluc3RhbmNlb2YgQnJhbmNoTm9kZSkge1xuICAgICAgICByZXR1cm4gZmluZExlYWYoY2FuZGlhdGVOb2RlLmNoaWxkcmVuW2xhc3QgPyBjYW5kaWF0ZU5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMSA6IDBdLCBsYXN0KTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIG5vZGUnKTtcbn1cbmZ1bmN0aW9uIGNsb25lTm9kZShub2RlLCBzaXplLCBvcnRob2dvbmFsU2l6ZSkge1xuICAgIGlmIChub2RlIGluc3RhbmNlb2YgQnJhbmNoTm9kZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQnJhbmNoTm9kZShub2RlLm9yaWVudGF0aW9uLCBub2RlLnByb3BvcnRpb25hbExheW91dCwgbm9kZS5zdHlsZXMsIHNpemUsIG9ydGhvZ29uYWxTaXplLCBub2RlLmRpc2FibGVkLCBub2RlLm1hcmdpbik7XG4gICAgICAgIGZvciAobGV0IGkgPSBub2RlLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgICByZXN1bHQuYWRkQ2hpbGQoY2xvbmVOb2RlKGNoaWxkLCBjaGlsZC5zaXplLCBjaGlsZC5vcnRob2dvbmFsU2l6ZSksIGNoaWxkLnNpemUsIDAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IExlYWZOb2RlKG5vZGUudmlldywgbm9kZS5vcmllbnRhdGlvbiwgb3J0aG9nb25hbFNpemUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZsaXBOb2RlKG5vZGUsIHNpemUsIG9ydGhvZ29uYWxTaXplKSB7XG4gICAgaWYgKG5vZGUgaW5zdGFuY2VvZiBCcmFuY2hOb2RlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBCcmFuY2hOb2RlKG9ydGhvZ29uYWwobm9kZS5vcmllbnRhdGlvbiksIG5vZGUucHJvcG9ydGlvbmFsTGF5b3V0LCBub2RlLnN0eWxlcywgc2l6ZSwgb3J0aG9nb25hbFNpemUsIG5vZGUuZGlzYWJsZWQsIG5vZGUubWFyZ2luKTtcbiAgICAgICAgbGV0IHRvdGFsU2l6ZSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSBub2RlLmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBjb25zdCBjaGlsZFNpemUgPSBjaGlsZCBpbnN0YW5jZW9mIEJyYW5jaE5vZGUgPyBjaGlsZC5vcnRob2dvbmFsU2l6ZSA6IGNoaWxkLnNpemU7XG4gICAgICAgICAgICBsZXQgbmV3U2l6ZSA9IG5vZGUuc2l6ZSA9PT0gMFxuICAgICAgICAgICAgICAgID8gMFxuICAgICAgICAgICAgICAgIDogTWF0aC5yb3VuZCgoc2l6ZSAqIGNoaWxkU2l6ZSkgLyBub2RlLnNpemUpO1xuICAgICAgICAgICAgdG90YWxTaXplICs9IG5ld1NpemU7XG4gICAgICAgICAgICAvLyBUaGUgbGFzdCB2aWV3IHRvIGFkZCBzaG91bGQgYWRqdXN0IHRvIHJvdW5kaW5nIGVycm9yc1xuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBuZXdTaXplICs9IHNpemUgLSB0b3RhbFNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQuYWRkQ2hpbGQoZmxpcE5vZGUoY2hpbGQsIG9ydGhvZ29uYWxTaXplLCBuZXdTaXplKSwgbmV3U2l6ZSwgMCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgTGVhZk5vZGUobm9kZS52aWV3LCBvcnRob2dvbmFsKG5vZGUub3JpZW50YXRpb24pLCBvcnRob2dvbmFsU2l6ZSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4SW5QYXJlbnQoZWxlbWVudCkge1xuICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKCFwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBncmlkIGVsZW1lbnQnKTtcbiAgICB9XG4gICAgbGV0IGVsID0gcGFyZW50RWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIHdoaWxlIChlbCAhPT0gZWxlbWVudCAmJiBlbCAhPT0gcGFyZW50RWxlbWVudC5sYXN0RWxlbWVudENoaWxkICYmIGVsKSB7XG4gICAgICAgIGVsID0gZWwubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICBpbmRleCsrO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG59XG4vKipcbiAqIEZpbmQgdGhlIGdyaWQgbG9jYXRpb24gb2YgYSBzcGVjaWZpYyBET00gZWxlbWVudCBieSB0cmF2ZXJzaW5nIHRoZSBwYXJlbnRcbiAqIGNoYWluIGFuZCBmaW5kaW5nIGVhY2ggY2hpbGQgaW5kZXggb24gdGhlIHdheS5cbiAqXG4gKiBUaGlzIHdpbGwgYnJlYWsgYXMgc29vbiBhcyBET00gc3RydWN0dXJlcyBvZiB0aGUgU3BsaXR2aWV3IG9yIEdyaWR2aWV3IGNoYW5nZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdyaWRMb2NhdGlvbihlbGVtZW50KSB7XG4gICAgY29uc3QgcGFyZW50RWxlbWVudCA9IGVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICBpZiAoIXBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGdyaWQgZWxlbWVudCcpO1xuICAgIH1cbiAgICBpZiAoL1xcYmR2LWdyaWQtdmlld1xcYi8udGVzdChwYXJlbnRFbGVtZW50LmNsYXNzTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IGluZGV4SW5QYXJlbnQocGFyZW50RWxlbWVudCk7XG4gICAgY29uc3QgYW5jZXN0b3IgPSBwYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIHJldHVybiBbLi4uZ2V0R3JpZExvY2F0aW9uKGFuY2VzdG9yKSwgaW5kZXhdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlbGF0aXZlTG9jYXRpb24ocm9vdE9yaWVudGF0aW9uLCBsb2NhdGlvbiwgZGlyZWN0aW9uKSB7XG4gICAgY29uc3Qgb3JpZW50YXRpb24gPSBnZXRMb2NhdGlvbk9yaWVudGF0aW9uKHJvb3RPcmllbnRhdGlvbiwgbG9jYXRpb24pO1xuICAgIGNvbnN0IGRpcmVjdGlvbk9yaWVudGF0aW9uID0gZ2V0RGlyZWN0aW9uT3JpZW50YXRpb24oZGlyZWN0aW9uKTtcbiAgICBpZiAob3JpZW50YXRpb24gPT09IGRpcmVjdGlvbk9yaWVudGF0aW9uKSB7XG4gICAgICAgIGNvbnN0IFtyZXN0LCBfaW5kZXhdID0gdGFpbChsb2NhdGlvbik7XG4gICAgICAgIGxldCBpbmRleCA9IF9pbmRleDtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyB8fCBkaXJlY3Rpb24gPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICBpbmRleCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbLi4ucmVzdCwgaW5kZXhdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBkaXJlY3Rpb24gPT09ICdyaWdodCcgfHwgZGlyZWN0aW9uID09PSAnYm90dG9tJyA/IDEgOiAwO1xuICAgICAgICByZXR1cm4gWy4uLmxvY2F0aW9uLCBpbmRleF07XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGdldERpcmVjdGlvbk9yaWVudGF0aW9uKGRpcmVjdGlvbikge1xuICAgIHJldHVybiBkaXJlY3Rpb24gPT09ICd0b3AnIHx8IGRpcmVjdGlvbiA9PT0gJ2JvdHRvbSdcbiAgICAgICAgPyBPcmllbnRhdGlvbi5WRVJUSUNBTFxuICAgICAgICA6IE9yaWVudGF0aW9uLkhPUklaT05UQUw7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYXRpb25PcmllbnRhdGlvbihyb290T3JpZW50YXRpb24sIGxvY2F0aW9uKSB7XG4gICAgcmV0dXJuIGxvY2F0aW9uLmxlbmd0aCAlIDIgPT09IDBcbiAgICAgICAgPyBvcnRob2dvbmFsKHJvb3RPcmllbnRhdGlvbilcbiAgICAgICAgOiByb290T3JpZW50YXRpb247XG59XG5leHBvcnQgY29uc3Qgb3J0aG9nb25hbCA9IChvcmllbnRhdGlvbikgPT4gb3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICA/IE9yaWVudGF0aW9uLlZFUlRJQ0FMXG4gICAgOiBPcmllbnRhdGlvbi5IT1JJWk9OVEFMO1xuZXhwb3J0IGZ1bmN0aW9uIGlzR3JpZEJyYW5jaE5vZGUobm9kZSkge1xuICAgIHJldHVybiAhIW5vZGUuY2hpbGRyZW47XG59XG5jb25zdCBzZXJpYWxpemVCcmFuY2hOb2RlID0gKG5vZGUsIG9yaWVudGF0aW9uKSA9PiB7XG4gICAgY29uc3Qgc2l6ZSA9IG9yaWVudGF0aW9uID09PSBPcmllbnRhdGlvbi5WRVJUSUNBTCA/IG5vZGUuYm94LndpZHRoIDogbm9kZS5ib3guaGVpZ2h0O1xuICAgIGlmICghaXNHcmlkQnJhbmNoTm9kZShub2RlKSkge1xuICAgICAgICBpZiAodHlwZW9mIG5vZGUuY2FjaGVkVmlzaWJsZVNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdsZWFmJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBub2RlLnZpZXcudG9KU09OKCksXG4gICAgICAgICAgICAgICAgc2l6ZTogbm9kZS5jYWNoZWRWaXNpYmxlU2l6ZSxcbiAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2xlYWYnLCBkYXRhOiBub2RlLnZpZXcudG9KU09OKCksIHNpemUgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2JyYW5jaCcsXG4gICAgICAgIGRhdGE6IG5vZGUuY2hpbGRyZW4ubWFwKChjKSA9PiBzZXJpYWxpemVCcmFuY2hOb2RlKGMsIG9ydGhvZ29uYWwob3JpZW50YXRpb24pKSksXG4gICAgICAgIHNpemUsXG4gICAgfTtcbn07XG5leHBvcnQgY2xhc3MgR3JpZHZpZXcge1xuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb290ID8gdGhpcy5fcm9vdC5jaGlsZHJlbi5sZW5ndGggOiAwO1xuICAgIH1cbiAgICBnZXQgb3JpZW50YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3Qub3JpZW50YXRpb247XG4gICAgfVxuICAgIHNldCBvcmllbnRhdGlvbihvcmllbnRhdGlvbikge1xuICAgICAgICBpZiAodGhpcy5yb290Lm9yaWVudGF0aW9uID09PSBvcmllbnRhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgc2l6ZSwgb3J0aG9nb25hbFNpemUgfSA9IHRoaXMucm9vdDtcbiAgICAgICAgdGhpcy5yb290ID0gZmxpcE5vZGUodGhpcy5yb290LCBvcnRob2dvbmFsU2l6ZSwgc2l6ZSk7XG4gICAgICAgIHRoaXMucm9vdC5sYXlvdXQoc2l6ZSwgb3J0aG9nb25hbFNpemUpO1xuICAgIH1cbiAgICBnZXQgd2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3Qud2lkdGg7XG4gICAgfVxuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QuaGVpZ2h0O1xuICAgIH1cbiAgICBnZXQgbWluaW11bVdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290Lm1pbmltdW1XaWR0aDtcbiAgICB9XG4gICAgZ2V0IG1pbmltdW1IZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QubWluaW11bUhlaWdodDtcbiAgICB9XG4gICAgZ2V0IG1heGltdW1XaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5tYXhpbXVtSGVpZ2h0O1xuICAgIH1cbiAgICBnZXQgbWF4aW11bUhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5tYXhpbXVtSGVpZ2h0O1xuICAgIH1cbiAgICBnZXQgbG9ja2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9ja2VkO1xuICAgIH1cbiAgICBzZXQgbG9ja2VkKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2xvY2tlZCA9IHZhbHVlO1xuICAgICAgICBjb25zdCBicmFuY2ggPSBbdGhpcy5yb290XTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIHNpbXBsZSBkZXB0aC1maXJzdC1zZWFyY2ggdG8gY292ZXIgYWxsIG5vZGVzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzZWUgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGVwdGgtZmlyc3Rfc2VhcmNoXG4gICAgICAgICAqL1xuICAgICAgICB3aGlsZSAoYnJhbmNoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGUgPSBicmFuY2gucG9wKCk7XG4gICAgICAgICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIEJyYW5jaE5vZGUpIHtcbiAgICAgICAgICAgICAgICBub2RlLmRpc2FibGVkID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgYnJhbmNoLnB1c2goLi4ubm9kZS5jaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG1hcmdpbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcmdpbjtcbiAgICB9XG4gICAgc2V0IG1hcmdpbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tYXJnaW4gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5yb290Lm1hcmdpbiA9IHZhbHVlO1xuICAgIH1cbiAgICBtYXhpbWl6ZWRWaWV3KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLl9tYXhpbWl6ZWROb2RlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVhZi52aWV3O1xuICAgIH1cbiAgICBoYXNNYXhpbWl6ZWRWaWV3KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWF4aW1pemVkTm9kZSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBtYXhpbWl6ZVZpZXcodmlldykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZ2V0R3JpZExvY2F0aW9uKHZpZXcuZWxlbWVudCk7XG4gICAgICAgIGNvbnN0IFtfLCBub2RlXSA9IHRoaXMuZ2V0Tm9kZShsb2NhdGlvbik7XG4gICAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBMZWFmTm9kZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKChfYSA9IHRoaXMuX21heGltaXplZE5vZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5sZWFmKSA9PT0gbm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhc01heGltaXplZFZpZXcoKSkge1xuICAgICAgICAgICAgdGhpcy5leGl0TWF4aW1pemVkVmlldygpO1xuICAgICAgICB9XG4gICAgICAgIHNlcmlhbGl6ZUJyYW5jaE5vZGUodGhpcy5nZXRWaWV3KCksIHRoaXMub3JpZW50YXRpb24pO1xuICAgICAgICBjb25zdCBoaWRkZW5Pbk1heGltaXplID0gW107XG4gICAgICAgIGZ1bmN0aW9uIGhpZGVBbGxWaWV3c0J1dChwYXJlbnQsIGV4Y2x1ZGUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBwYXJlbnQuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgTGVhZk5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkICE9PSBleGNsdWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LmlzQ2hpbGRWaXNpYmxlKGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnNldENoaWxkVmlzaWJsZShpLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW5Pbk1heGltaXplLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaWRlQWxsVmlld3NCdXQoY2hpbGQsIGV4Y2x1ZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBoaWRlQWxsVmlld3NCdXQodGhpcy5yb290LCBub2RlKTtcbiAgICAgICAgdGhpcy5fbWF4aW1pemVkTm9kZSA9IHsgbGVhZjogbm9kZSwgaGlkZGVuT25NYXhpbWl6ZSB9O1xuICAgICAgICB0aGlzLl9vbkRpZE1heGltaXplZE5vZGVDaGFuZ2UuZmlyZSh7XG4gICAgICAgICAgICB2aWV3OiBub2RlLnZpZXcsXG4gICAgICAgICAgICBpc01heGltaXplZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGV4aXRNYXhpbWl6ZWRWaWV3KCkge1xuICAgICAgICBpZiAoIXRoaXMuX21heGltaXplZE5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoaWRkZW5Pbk1heGltaXplID0gdGhpcy5fbWF4aW1pemVkTm9kZS5oaWRkZW5Pbk1heGltaXplO1xuICAgICAgICBmdW5jdGlvbiBzaG93Vmlld3NJblJldmVyc2VPcmRlcihwYXJlbnQpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gcGFyZW50LmNoaWxkcmVuLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHBhcmVudC5jaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgTGVhZk5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoaWRkZW5Pbk1heGltaXplLmluY2x1ZGVzKGNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnNldENoaWxkVmlzaWJsZShpbmRleCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dWaWV3c0luUmV2ZXJzZU9yZGVyKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2hvd1ZpZXdzSW5SZXZlcnNlT3JkZXIodGhpcy5yb290KTtcbiAgICAgICAgY29uc3QgdG1wID0gdGhpcy5fbWF4aW1pemVkTm9kZS5sZWFmO1xuICAgICAgICB0aGlzLl9tYXhpbWl6ZWROb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9vbkRpZE1heGltaXplZE5vZGVDaGFuZ2UuZmlyZSh7XG4gICAgICAgICAgICB2aWV3OiB0bXAudmlldyxcbiAgICAgICAgICAgIGlzTWF4aW1pemVkOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgY29uc3QgbWF4aW1pemVkVmlldyA9IHRoaXMubWF4aW1pemVkVmlldygpO1xuICAgICAgICBsZXQgbWF4bWl6ZWRWaWV3TG9jYXRpb247XG4gICAgICAgIGlmIChtYXhpbWl6ZWRWaWV3KSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoZSBtaW5pbXVtIGluZm9ybWF0aW9uIHdlIGNhbiBnZXQgYXdheSB3aXRoIGluIG9yZGVyIHRvIHNlcmlhbGl6ZSBhIG1heG1pemVkIHZpZXcgaXMgaXQncyBsb2NhdGlvbiB3aXRoaW4gdGhlIGdyaWRcbiAgICAgICAgICAgICAqIHdoaWNoIGlzIHJlcHJlc2VudGVkIGFzIGEgYnJhbmNoIG9mIGluZGljZXNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbWF4bWl6ZWRWaWV3TG9jYXRpb24gPSBnZXRHcmlkTG9jYXRpb24obWF4aW1pemVkVmlldy5lbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5oYXNNYXhpbWl6ZWRWaWV3KCkpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogdGhlIHNhdmVkIGxheW91dCBjYW5ub3QgYmUgaW4gaXRzIG1heG1pemVkIHN0YXRlIG90aGVyd2lzZSBhbGwgb2YgdGhlIHVuZGVybHlpbmdcbiAgICAgICAgICAgICAqIHZpZXcgZGltZW5zaW9ucyB3aWxsIGJlIHdyb25nXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogVG8gY291bnRlcmFjdCB0aGlzIHdlIHRlbXBvcmFpbHkgcmVtb3ZlIHRoZSBtYXhpbWl6ZWQgdmlldyB0byBjb21wdXRlIHRoZSBzZXJpYWxpemVkIG91dHB1dFxuICAgICAgICAgICAgICogb2YgdGhlIGdyaWQgYmVmb3JlIGFkZGluZyBiYWNrIHRoZSBtYXhtaXplZCB2aWV3IGFzIHRvIG5vdCBhbHRlciB0aGUgbGF5b3V0IGZyb20gdGhlIHVzZXJzXG4gICAgICAgICAgICAgKiBwZXJzcGVjdGl2ZSB3aGVuIGAudG9KU09OKClgIGlzIGNhbGxlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB0aGlzLmV4aXRNYXhpbWl6ZWRWaWV3KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgcm9vdCA9IHNlcmlhbGl6ZUJyYW5jaE5vZGUodGhpcy5nZXRWaWV3KCksIHRoaXMub3JpZW50YXRpb24pO1xuICAgICAgICBjb25zdCByZXN1bGx0ID0ge1xuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiB0aGlzLm9yaWVudGF0aW9uLFxuICAgICAgICB9O1xuICAgICAgICBpZiAobWF4bWl6ZWRWaWV3TG9jYXRpb24pIHtcbiAgICAgICAgICAgIHJlc3VsbHQubWF4aW1pemVkTm9kZSA9IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogbWF4bWl6ZWRWaWV3TG9jYXRpb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhpbWl6ZWRWaWV3KSB7XG4gICAgICAgICAgICAvLyByZXBsYWNlIGFueSBtYXhpbXppZWQgdmlldyB0aGF0IHdhcyByZW1vdmVkIGZvciBzZXJpYWxpemF0aW9uIHB1cnBvc2VzXG4gICAgICAgICAgICB0aGlzLm1heGltaXplVmlldyhtYXhpbWl6ZWRWaWV3KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWxsdDtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9vbkRpZE1heGltaXplZE5vZGVDaGFuZ2UuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9vbkRpZFZpZXdWaXNpYmlsaXR5Q2hhbmdlLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5yb290LmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fbWF4aW1pemVkTm9kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgY29uc3Qgb3JpZW50YXRpb24gPSB0aGlzLnJvb3Qub3JpZW50YXRpb247XG4gICAgICAgIHRoaXMucm9vdCA9IG5ldyBCcmFuY2hOb2RlKG9yaWVudGF0aW9uLCB0aGlzLnByb3BvcnRpb25hbExheW91dCwgdGhpcy5zdHlsZXMsIHRoaXMucm9vdC5zaXplLCB0aGlzLnJvb3Qub3J0aG9nb25hbFNpemUsIHRoaXMubG9ja2VkLCB0aGlzLm1hcmdpbik7XG4gICAgfVxuICAgIGRlc2VyaWFsaXplKGpzb24sIGRlc2VyaWFsaXplcikge1xuICAgICAgICBjb25zdCBvcmllbnRhdGlvbiA9IGpzb24ub3JpZW50YXRpb247XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IG9yaWVudGF0aW9uID09PSBPcmllbnRhdGlvbi5WRVJUSUNBTCA/IGpzb24uaGVpZ2h0IDoganNvbi53aWR0aDtcbiAgICAgICAgdGhpcy5fZGVzZXJpYWxpemUoanNvbi5yb290LCBvcmllbnRhdGlvbiwgZGVzZXJpYWxpemVyLCBoZWlnaHQpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlc2VyaWFsaWVkIGxheW91dCBtdXN0IGJlIHBvc2l0aW9uZWQgdGhyb3VnaCB0aGlzLmxheW91dCguLi4pXG4gICAgICAgICAqIGJlZm9yZSBhbnkgbWF4aW1pemVkTm9kZSBjYW4gYmUgcG9zaXRpb25lZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sYXlvdXQoanNvbi53aWR0aCwganNvbi5oZWlnaHQpO1xuICAgICAgICBpZiAoanNvbi5tYXhpbWl6ZWROb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IGpzb24ubWF4aW1pemVkTm9kZS5sb2NhdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IFtfLCBub2RlXSA9IHRoaXMuZ2V0Tm9kZShsb2NhdGlvbik7XG4gICAgICAgICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTGVhZk5vZGUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tYXhpbWl6ZVZpZXcobm9kZS52aWV3KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZGVzZXJpYWxpemUocm9vdCwgb3JpZW50YXRpb24sIGRlc2VyaWFsaXplciwgb3J0aG9nb25hbFNpemUpIHtcbiAgICAgICAgdGhpcy5yb290ID0gdGhpcy5fZGVzZXJpYWxpemVOb2RlKHJvb3QsIG9yaWVudGF0aW9uLCBkZXNlcmlhbGl6ZXIsIG9ydGhvZ29uYWxTaXplKTtcbiAgICB9XG4gICAgX2Rlc2VyaWFsaXplTm9kZShub2RlLCBvcmllbnRhdGlvbiwgZGVzZXJpYWxpemVyLCBvcnRob2dvbmFsU2l6ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgIGlmIChub2RlLnR5cGUgPT09ICdicmFuY2gnKSB7XG4gICAgICAgICAgICBjb25zdCBzZXJpYWxpemVkQ2hpbGRyZW4gPSBub2RlLmRhdGE7XG4gICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHNlcmlhbGl6ZWRDaGlsZHJlbi5tYXAoKHNlcmlhbGl6ZWRDaGlsZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGU6IHRoaXMuX2Rlc2VyaWFsaXplTm9kZShzZXJpYWxpemVkQ2hpbGQsIG9ydGhvZ29uYWwob3JpZW50YXRpb24pLCBkZXNlcmlhbGl6ZXIsIG5vZGUuc2l6ZSksXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHNlcmlhbGl6ZWRDaGlsZC52aXNpYmxlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBCcmFuY2hOb2RlKG9yaWVudGF0aW9uLCB0aGlzLnByb3BvcnRpb25hbExheW91dCwgdGhpcy5zdHlsZXMsIG5vZGUuc2l6ZSwgLy8gPC0gb3J0aG9nb25hbCBzaXplIC0gZmxpcHMgYXQgZWFjaCBkZXB0aFxuICAgICAgICAgICAgb3J0aG9nb25hbFNpemUsIC8vIDwtIHNpemUgLSBmbGlwcyBhdCBlYWNoIGRlcHRoLFxuICAgICAgICAgICAgdGhpcy5sb2NrZWQsIHRoaXMubWFyZ2luLCBjaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB2aWV3ID0gZGVzZXJpYWxpemVyLmZyb21KU09OKG5vZGUpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBub2RlLnZpc2libGUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIChfYSA9IHZpZXcuc2V0VmlzaWJsZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodmlldywgbm9kZS52aXNpYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBMZWFmTm9kZSh2aWV3LCBvcmllbnRhdGlvbiwgb3J0aG9nb25hbFNpemUsIG5vZGUuc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZ2V0IHJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb290O1xuICAgIH1cbiAgICBzZXQgcm9vdChyb290KSB7XG4gICAgICAgIGNvbnN0IG9sZFJvb3QgPSB0aGlzLl9yb290O1xuICAgICAgICBpZiAob2xkUm9vdCkge1xuICAgICAgICAgICAgb2xkUm9vdC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9tYXhpbWl6ZWROb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKG9sZFJvb3QuZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcm9vdCA9IHJvb3Q7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9yb290LmVsZW1lbnQpO1xuICAgICAgICB0aGlzLmRpc3Bvc2FibGUudmFsdWUgPSB0aGlzLl9yb290Lm9uRGlkQ2hhbmdlKChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZS5maXJlKGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbm9ybWFsaXplKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Jvb3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcm9vdC5jaGlsZHJlbi5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRSb290ID0gdGhpcy5yb290O1xuICAgICAgICAvLyBjYW4gcmVtb3ZlIG9uZSBsZXZlbCBvZiByZWR1bmRhbnQgYnJhbmNoaW5nIGlmIHRoZXJlIGlzIG9ubHkgYSBzaW5nbGUgY2hpbGRcbiAgICAgICAgY29uc3QgY2hpbGRSZWZlcmVuY2UgPSBvbGRSb290LmNoaWxkcmVuWzBdO1xuICAgICAgICBpZiAoY2hpbGRSZWZlcmVuY2UgaW5zdGFuY2VvZiBMZWFmTm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9sZFJvb3QuZWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBvbGRSb290LnJlbW92ZUNoaWxkKDApOyAvLyBSZW1vdmUgY2hpbGQgdG8gcHJldmVudCBkb3VibGUgZGlzcG9zYWxcbiAgICAgICAgb2xkUm9vdC5kaXNwb3NlKCk7IC8vIERpc3Bvc2Ugb2xkIHJvb3QgKHdvbid0IGRpc3Bvc2UgcmVtb3ZlZCBjaGlsZClcbiAgICAgICAgY2hpbGQuZGlzcG9zZSgpOyAvLyBEaXNwb3NlIHRoZSByZW1vdmVkIGNoaWxkXG4gICAgICAgIHRoaXMuX3Jvb3QgPSBjbG9uZU5vZGUoY2hpbGRSZWZlcmVuY2UsIGNoaWxkUmVmZXJlbmNlLnNpemUsIGNoaWxkUmVmZXJlbmNlLm9ydGhvZ29uYWxTaXplKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3Jvb3QuZWxlbWVudCk7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZS52YWx1ZSA9IHRoaXMuX3Jvb3Qub25EaWRDaGFuZ2UoKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlLmZpcmUoZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgcm9vdCBpcyBvcmllbnRhdGVkIGFzIGEgVkVSVElDQUwgbm9kZSB0aGVuIG5lc3QgdGhlIGV4aXN0aW5nIHJvb3Qgd2l0aGluIGEgbmV3IEhPUklaSU9OVEFMIHJvb3Qgbm9kZVxuICAgICAqIElmIHRoZSByb290IGlzIG9yaWVudGF0ZWQgYXMgYSBIT1JJWk9OVEFMIG5vZGUgdGhlbiBuZXN0IHRoZSBleGlzdGluZyByb290IHdpdGhpbiBhIG5ldyBWRVJJVENBTCByb290IG5vZGVcbiAgICAgKi9cbiAgICBpbnNlcnRPcnRob2dvbmFsU3BsaXR2aWV3QXRSb290KCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Jvb3QpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRSb290ID0gdGhpcy5yb290O1xuICAgICAgICBvbGRSb290LmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMuX3Jvb3QgPSBuZXcgQnJhbmNoTm9kZShvcnRob2dvbmFsKG9sZFJvb3Qub3JpZW50YXRpb24pLCB0aGlzLnByb3BvcnRpb25hbExheW91dCwgdGhpcy5zdHlsZXMsIHRoaXMucm9vdC5vcnRob2dvbmFsU2l6ZSwgdGhpcy5yb290LnNpemUsIHRoaXMubG9ja2VkLCB0aGlzLm1hcmdpbik7XG4gICAgICAgIGlmIChvbGRSb290LmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gbm8gZGF0YSBzbyBubyBuZWVkIHRvIGFkZCBhbnl0aGluZyBiYWNrIGluXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2xkUm9vdC5jaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIC8vIGNhbiByZW1vdmUgb25lIGxldmVsIG9mIHJlZHVuZGFudCBicmFuY2hpbmcgaWYgdGhlcmUgaXMgb25seSBhIHNpbmdsZSBjaGlsZFxuICAgICAgICAgICAgY29uc3QgY2hpbGRSZWZlcmVuY2UgPSBvbGRSb290LmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBvbGRSb290LnJlbW92ZUNoaWxkKDApOyAvLyByZW1vdmUgdG8gcHJldmVudCBkaXNwb3NhbCB3aGVuIGRpc3Bvc2luZyBvZiB1bndhbnRlZCByb290XG4gICAgICAgICAgICBjaGlsZC5kaXNwb3NlKCk7XG4gICAgICAgICAgICBvbGRSb290LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QuYWRkQ2hpbGQoXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIHRoZSBjaGlsZCBub2RlIHdpbGwgaGF2ZSB0aGUgc2FtZSBvcmllbnRhdGlvbiBhcyB0aGUgbmV3IHJvb3Qgc2luY2VcbiAgICAgICAgICAgICAqIHdlIGFyZSByZW1vdmluZyB0aGUgaW5iZXR3ZWVuIG5vZGUuXG4gICAgICAgICAgICAgKiB0aGUgZW50aXJlICd0cmVlJyBtdXN0IGJlIGZsaXBwZWQgcmVjdXJzaXZlbHkgdG8gZW5zdXJlIHRoYXQgdGhlIG9yaWVudGF0aW9uXG4gICAgICAgICAgICAgKiBmbGlwcyBhdCBlYWNoIGxldmVsXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZsaXBOb2RlKGNoaWxkUmVmZXJlbmNlLCBjaGlsZFJlZmVyZW5jZS5vcnRob2dvbmFsU2l6ZSwgY2hpbGRSZWZlcmVuY2Uuc2l6ZSksIFNpemluZy5EaXN0cmlidXRlLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3QuYWRkQ2hpbGQob2xkUm9vdCwgU2l6aW5nLkRpc3RyaWJ1dGUsIDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9yb290LmVsZW1lbnQpO1xuICAgICAgICB0aGlzLmRpc3Bvc2FibGUudmFsdWUgPSB0aGlzLl9yb290Lm9uRGlkQ2hhbmdlKChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZS5maXJlKGUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmV4dChsb2NhdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9nbWF0aWNTZWxlY3QobG9jYXRpb24pO1xuICAgIH1cbiAgICBwcmV2aW91cyhsb2NhdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9nbWF0aWNTZWxlY3QobG9jYXRpb24sIHRydWUpO1xuICAgIH1cbiAgICBnZXRWaWV3KGxvY2F0aW9uKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBsb2NhdGlvbiA/IHRoaXMuZ2V0Tm9kZShsb2NhdGlvbilbMV0gOiB0aGlzLnJvb3Q7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRWaWV3cyhub2RlLCB0aGlzLm9yaWVudGF0aW9uKTtcbiAgICB9XG4gICAgX2dldFZpZXdzKG5vZGUsIG9yaWVudGF0aW9uLCBjYWNoZWRWaXNpYmxlU2l6ZSkge1xuICAgICAgICBjb25zdCBib3ggPSB7IGhlaWdodDogbm9kZS5oZWlnaHQsIHdpZHRoOiBub2RlLndpZHRoIH07XG4gICAgICAgIGlmIChub2RlIGluc3RhbmNlb2YgTGVhZk5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGJveCwgdmlldzogbm9kZS52aWV3LCBjYWNoZWRWaXNpYmxlU2l6ZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgY29uc3Qgbm9kZUNhY2hlZFZpc2libGVTaXplID0gbm9kZS5nZXRDaGlsZENhY2hlZFZpc2libGVTaXplKGkpO1xuICAgICAgICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLl9nZXRWaWV3cyhjaGlsZCwgb3J0aG9nb25hbChvcmllbnRhdGlvbiksIG5vZGVDYWNoZWRWaXNpYmxlU2l6ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGJveCwgY2hpbGRyZW4gfTtcbiAgICB9XG4gICAgcHJvZ21hdGljU2VsZWN0KGxvY2F0aW9uLCByZXZlcnNlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgW3BhdGgsIG5vZGVdID0gdGhpcy5nZXROb2RlKGxvY2F0aW9uKTtcbiAgICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIExlYWZOb2RlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGxvY2F0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+IC0xOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBwYXRoW2ldO1xuICAgICAgICAgICAgY29uc3QgbCA9IGxvY2F0aW9uW2ldIHx8IDA7XG4gICAgICAgICAgICBjb25zdCBjYW5Qcm9ncmVzc0luQ3VycmVudExldmVsID0gcmV2ZXJzZVxuICAgICAgICAgICAgICAgID8gbCAtIDEgPiAtMVxuICAgICAgICAgICAgICAgIDogbCArIDEgPCBuLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChjYW5Qcm9ncmVzc0luQ3VycmVudExldmVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpbmRMZWFmKG4uY2hpbGRyZW5bcmV2ZXJzZSA/IGwgLSAxIDogbCArIDFdLCByZXZlcnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmluZExlYWYodGhpcy5yb290LCByZXZlcnNlKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IocHJvcG9ydGlvbmFsTGF5b3V0LCBzdHlsZXMsIG9yaWVudGF0aW9uLCBsb2NrZWQsIG1hcmdpbikge1xuICAgICAgICB0aGlzLnByb3BvcnRpb25hbExheW91dCA9IHByb3BvcnRpb25hbExheW91dDtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSBzdHlsZXM7XG4gICAgICAgIHRoaXMuX2xvY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tYXJnaW4gPSAwO1xuICAgICAgICB0aGlzLl9tYXhpbWl6ZWROb2RlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmRpc3Bvc2FibGUgPSBuZXcgTXV0YWJsZURpc3Bvc2FibGUoKTtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlID0gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkVmlld1Zpc2liaWxpdHlDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkVmlld1Zpc2liaWxpdHlDaGFuZ2UgPSB0aGlzLl9vbkRpZFZpZXdWaXNpYmlsaXR5Q2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZE1heGltaXplZE5vZGVDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkTWF4aW1pemVkTm9kZUNoYW5nZSA9IHRoaXMuX29uRGlkTWF4aW1pemVkTm9kZUNoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSAnZHYtZ3JpZC12aWV3JztcbiAgICAgICAgdGhpcy5fbG9ja2VkID0gbG9ja2VkICE9PSBudWxsICYmIGxvY2tlZCAhPT0gdm9pZCAwID8gbG9ja2VkIDogZmFsc2U7XG4gICAgICAgIHRoaXMuX21hcmdpbiA9IG1hcmdpbiAhPT0gbnVsbCAmJiBtYXJnaW4gIT09IHZvaWQgMCA/IG1hcmdpbiA6IDA7XG4gICAgICAgIHRoaXMucm9vdCA9IG5ldyBCcmFuY2hOb2RlKG9yaWVudGF0aW9uLCBwcm9wb3J0aW9uYWxMYXlvdXQsIHN0eWxlcywgMCwgMCwgdGhpcy5sb2NrZWQsIHRoaXMubWFyZ2luKTtcbiAgICB9XG4gICAgaXNWaWV3VmlzaWJsZShsb2NhdGlvbikge1xuICAgICAgICBjb25zdCBbcmVzdCwgaW5kZXhdID0gdGFpbChsb2NhdGlvbik7XG4gICAgICAgIGNvbnN0IFssIHBhcmVudF0gPSB0aGlzLmdldE5vZGUocmVzdCk7XG4gICAgICAgIGlmICghKHBhcmVudCBpbnN0YW5jZW9mIEJyYW5jaE5vZGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZnJvbSBsb2NhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJlbnQuaXNDaGlsZFZpc2libGUoaW5kZXgpO1xuICAgIH1cbiAgICBzZXRWaWV3VmlzaWJsZShsb2NhdGlvbiwgdmlzaWJsZSkge1xuICAgICAgICBpZiAodGhpcy5oYXNNYXhpbWl6ZWRWaWV3KCkpIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdE1heGltaXplZFZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbcmVzdCwgaW5kZXhdID0gdGFpbChsb2NhdGlvbik7XG4gICAgICAgIGNvbnN0IFssIHBhcmVudF0gPSB0aGlzLmdldE5vZGUocmVzdCk7XG4gICAgICAgIGlmICghKHBhcmVudCBpbnN0YW5jZW9mIEJyYW5jaE5vZGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZnJvbSBsb2NhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29uRGlkVmlld1Zpc2liaWxpdHlDaGFuZ2UuZmlyZSgpO1xuICAgICAgICBwYXJlbnQuc2V0Q2hpbGRWaXNpYmxlKGluZGV4LCB2aXNpYmxlKTtcbiAgICB9XG4gICAgbW92ZVZpZXcocGFyZW50TG9jYXRpb24sIGZyb20sIHRvKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc01heGltaXplZFZpZXcoKSkge1xuICAgICAgICAgICAgdGhpcy5leGl0TWF4aW1pemVkVmlldygpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFssIHBhcmVudF0gPSB0aGlzLmdldE5vZGUocGFyZW50TG9jYXRpb24pO1xuICAgICAgICBpZiAoIShwYXJlbnQgaW5zdGFuY2VvZiBCcmFuY2hOb2RlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxvY2F0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50Lm1vdmVDaGlsZChmcm9tLCB0byk7XG4gICAgfVxuICAgIGFkZFZpZXcodmlldywgc2l6ZSwgbG9jYXRpb24pIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzTWF4aW1pemVkVmlldygpKSB7XG4gICAgICAgICAgICB0aGlzLmV4aXRNYXhpbWl6ZWRWaWV3KCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW3Jlc3QsIGluZGV4XSA9IHRhaWwobG9jYXRpb24pO1xuICAgICAgICBjb25zdCBbcGF0aFRvUGFyZW50LCBwYXJlbnRdID0gdGhpcy5nZXROb2RlKHJlc3QpO1xuICAgICAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgQnJhbmNoTm9kZSkge1xuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBMZWFmTm9kZSh2aWV3LCBvcnRob2dvbmFsKHBhcmVudC5vcmllbnRhdGlvbiksIHBhcmVudC5vcnRob2dvbmFsU2l6ZSk7XG4gICAgICAgICAgICBwYXJlbnQuYWRkQ2hpbGQobm9kZSwgc2l6ZSwgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgW2dyYW5kUGFyZW50LCAuLi5fXSA9IFsuLi5wYXRoVG9QYXJlbnRdLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IFtwYXJlbnRJbmRleCwgLi4uX19dID0gWy4uLnJlc3RdLnJldmVyc2UoKTtcbiAgICAgICAgICAgIGxldCBuZXdTaWJsaW5nU2l6ZSA9IDA7XG4gICAgICAgICAgICBjb25zdCBuZXdTaWJsaW5nQ2FjaGVkVmlzaWJsZVNpemUgPSBncmFuZFBhcmVudC5nZXRDaGlsZENhY2hlZFZpc2libGVTaXplKHBhcmVudEluZGV4KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmV3U2libGluZ0NhY2hlZFZpc2libGVTaXplID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIG5ld1NpYmxpbmdTaXplID0gU2l6aW5nLkludmlzaWJsZShuZXdTaWJsaW5nQ2FjaGVkVmlzaWJsZVNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBncmFuZFBhcmVudC5yZW1vdmVDaGlsZChwYXJlbnRJbmRleCk7XG4gICAgICAgICAgICBjaGlsZC5kaXNwb3NlKCk7XG4gICAgICAgICAgICBjb25zdCBuZXdQYXJlbnQgPSBuZXcgQnJhbmNoTm9kZShwYXJlbnQub3JpZW50YXRpb24sIHRoaXMucHJvcG9ydGlvbmFsTGF5b3V0LCB0aGlzLnN0eWxlcywgcGFyZW50LnNpemUsIHBhcmVudC5vcnRob2dvbmFsU2l6ZSwgdGhpcy5sb2NrZWQsIHRoaXMubWFyZ2luKTtcbiAgICAgICAgICAgIGdyYW5kUGFyZW50LmFkZENoaWxkKG5ld1BhcmVudCwgcGFyZW50LnNpemUsIHBhcmVudEluZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1NpYmxpbmcgPSBuZXcgTGVhZk5vZGUocGFyZW50LnZpZXcsIGdyYW5kUGFyZW50Lm9yaWVudGF0aW9uLCBwYXJlbnQuc2l6ZSk7XG4gICAgICAgICAgICBuZXdQYXJlbnQuYWRkQ2hpbGQobmV3U2libGluZywgbmV3U2libGluZ1NpemUsIDApO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJyAmJiBzaXplLnR5cGUgPT09ICdzcGxpdCcpIHtcbiAgICAgICAgICAgICAgICBzaXplID0geyB0eXBlOiAnc3BsaXQnLCBpbmRleDogMCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm9kZSA9IG5ldyBMZWFmTm9kZSh2aWV3LCBncmFuZFBhcmVudC5vcmllbnRhdGlvbiwgcGFyZW50LnNpemUpO1xuICAgICAgICAgICAgbmV3UGFyZW50LmFkZENoaWxkKG5vZGUsIHNpemUsIGluZGV4KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmUodmlldywgc2l6aW5nKSB7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZ2V0R3JpZExvY2F0aW9uKHZpZXcuZWxlbWVudCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZVZpZXcobG9jYXRpb24sIHNpemluZyk7XG4gICAgfVxuICAgIHJlbW92ZVZpZXcobG9jYXRpb24sIHNpemluZykge1xuICAgICAgICBpZiAodGhpcy5oYXNNYXhpbWl6ZWRWaWV3KCkpIHtcbiAgICAgICAgICAgIHRoaXMuZXhpdE1heGltaXplZFZpZXcoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBbcmVzdCwgaW5kZXhdID0gdGFpbChsb2NhdGlvbik7XG4gICAgICAgIGNvbnN0IFtwYXRoVG9QYXJlbnQsIHBhcmVudF0gPSB0aGlzLmdldE5vZGUocmVzdCk7XG4gICAgICAgIGlmICghKHBhcmVudCBpbnN0YW5jZW9mIEJyYW5jaE5vZGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbG9jYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub2RlVG9SZW1vdmUgPSBwYXJlbnQuY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICBpZiAoIShub2RlVG9SZW1vdmUgaW5zdGFuY2VvZiBMZWFmTm9kZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBsb2NhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChpbmRleCwgc2l6aW5nKTtcbiAgICAgICAgbm9kZVRvUmVtb3ZlLmRpc3Bvc2UoKTtcbiAgICAgICAgaWYgKHBhcmVudC5jaGlsZHJlbi5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlVG9SZW1vdmUudmlldztcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgcGFyZW50IGhhcyBvbmx5IG9uZSBjaGlsZCBhbmQgd2Uga25vdyB0aGUgcGFyZW50IGlzIGEgQnJhbmNoTm9kZSB3ZSBjYW4gbWFrZSB0aGUgdHJlZVxuICAgICAgICAvLyBtb3JlIGVmZmljaWVudGx5IHNwYWNlZCBieSByZXBsYWNpbmcgdGhlIHBhcmVudCBCcmFuY2hOb2RlIHdpdGggdGhlIGNoaWxkLlxuICAgICAgICAvLyBpZiB0aGF0IGNoaWxkIGlzIGEgTGVhZk5vZGUgdGhlbiB3ZSBzaW1wbHkgcmVwbGFjZSB0aGUgQnJhbmNoTm9kZSB3aXRoIHRoZSBjaGlsZCBvdGhlcndpc2UgaWYgdGhlIGNoaWxkXG4gICAgICAgIC8vIGlzIGEgQnJhbmNoTm9kZSB0b28gd2Ugc2hvdWxkIHNwcmVhZCBpdCdzIGNoaWxkcmVuIGludG8gdGhlIGdyYW5kcGFyZW50LlxuICAgICAgICAvLyByZWZlciB0byB0aGUgcmVtYWluaW5nIGNoaWxkIGFzIHRoZSBzaWJsaW5nXG4gICAgICAgIGNvbnN0IHNpYmxpbmcgPSBwYXJlbnQuY2hpbGRyZW5bMF07XG4gICAgICAgIGlmIChwYXRoVG9QYXJlbnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgcGFyZW50IGlzIHJvb3RcbiAgICAgICAgICAgIGlmIChzaWJsaW5nIGluc3RhbmNlb2YgTGVhZk5vZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc2libGluZyBpcyBhIGxlYWYgbm9kZSBubyBhY3Rpb24gaXMgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZVRvUmVtb3ZlLnZpZXc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgdGhlIHNpYmxpbmcgaXMgYSBicmFuY2ggbm9kZS4gc2luY2UgdGhlIHBhcmVudCBpcyB0aGUgcm9vdCBhbmQgdGhlIHJvb3QgaGFzIG9ubHkgb25lIGNoaWxkXG4gICAgICAgICAgICAvLyB3aGljaCBpcyBhIGJyYW5jaCBub2RlIHdlIGNhbiBqdXN0IHNldCB0aGlzIGJyYW5jaCBub2RlIHRvIGJlIHRoZSBuZXcgcm9vdCBub2RlXG4gICAgICAgICAgICAvLyBmb3IgZ29vZCBob3VzZWtlZXBpbmcgd2UnbGwgcmVtb3ZpbmcgdGhlIHNpYmxpbmcgZnJvbSBpdCdzIGV4aXN0aW5nIHRyZWVcbiAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCgwLCBzaXppbmcpO1xuICAgICAgICAgICAgLy8gYW5kIHNldCB0aGF0IHNpYmxpbmcgbm9kZSB0byBiZSByb290XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBzaWJsaW5nO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGVUb1JlbW92ZS52aWV3O1xuICAgICAgICB9XG4gICAgICAgIC8vIG90aGVyd2lzZSB0aGUgcGFyZW50IGlzIGFwYXJ0IG9mIGEgbGFyZ2Ugc3ViLXRyZWVcbiAgICAgICAgY29uc3QgW2dyYW5kUGFyZW50LCAuLi5fXSA9IFsuLi5wYXRoVG9QYXJlbnRdLnJldmVyc2UoKTtcbiAgICAgICAgY29uc3QgW3BhcmVudEluZGV4LCAuLi5fX10gPSBbLi4ucmVzdF0ucmV2ZXJzZSgpO1xuICAgICAgICBjb25zdCBpc1NpYmxpbmdWaXNpYmxlID0gcGFyZW50LmlzQ2hpbGRWaXNpYmxlKDApO1xuICAgICAgICAvLyBlaXRoZXIgd2F5IHdlIG5lZWQgdG8gcmVtb3ZlIHRoZSBzaWJsaW5nIGZyb20gaXQncyBleGlzdGluZyB0cmVlXG4gICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZCgwLCBzaXppbmcpO1xuICAgICAgICAvLyBub3RlIHRoZSBzaXplcyBvZiBhbGwgb2YgdGhlIGdyYW5kcGFyZW50cyBjaGlsZHJlblxuICAgICAgICBjb25zdCBzaXplcyA9IGdyYW5kUGFyZW50LmNoaWxkcmVuLm1hcCgoX3NpemUsIGkpID0+IGdyYW5kUGFyZW50LmdldENoaWxkU2l6ZShpKSk7XG4gICAgICAgIC8vIHJlbW92ZSB0aGUgcGFyZW50IGZyb20gdGhlIGdyYW5kcGFyZW50IHNpbmNlIHdlIGFyZSBtb3ZpbmcgdGhlIHNpYmxpbmcgdG8gdGFrZSB0aGUgcGFyZW50cyBwbGFjZVxuICAgICAgICAvLyB0aGlzIHBhcmVudCBpcyBubyBsb25nZXIgdXNlZCBhbmQgY2FuIGJlIGRpc3Bvc2VkIG9mXG4gICAgICAgIGdyYW5kUGFyZW50LnJlbW92ZUNoaWxkKHBhcmVudEluZGV4LCBzaXppbmcpLmRpc3Bvc2UoKTtcbiAgICAgICAgaWYgKHNpYmxpbmcgaW5zdGFuY2VvZiBCcmFuY2hOb2RlKSB7XG4gICAgICAgICAgICAvLyByZXBsYWNlIHRoZSBwYXJlbnQgd2l0aCB0aGUgc2libGluZ3MgY2hpbGRyZW5cbiAgICAgICAgICAgIHNpemVzLnNwbGljZShwYXJlbnRJbmRleCwgMSwgLi4uc2libGluZy5jaGlsZHJlbi5tYXAoKGMpID0+IGMuc2l6ZSkpO1xuICAgICAgICAgICAgLy8gYW5kIGFkZCB0aG9zZSBzaWJsaW5ncyB0byB0aGUgZ3JhbmRwYXJlbnRcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2libGluZy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gc2libGluZy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBncmFuZFBhcmVudC5hZGRDaGlsZChjaGlsZCwgY2hpbGQuc2l6ZSwgcGFyZW50SW5kZXggKyBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogY2xlYW4gZG93biB0aGUgYnJhbmNoIG5vZGUgc2luY2Ugd2UgbmVlZCB0byBkaXBvc2Ugb2YgaXQgYW5kXG4gICAgICAgICAgICAgKiB3aGVuIC5kaXNwb3NlKCkgaXQgY2FsbGVkIG9uIGEgYnJhbmNoIGl0IHdpbGwgZGlzcG9zZSBvZiBhbnlcbiAgICAgICAgICAgICAqIHZpZXdzIGl0IGlzIGhvbGRpbmcgb250by5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgd2hpbGUgKHNpYmxpbmcuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNpYmxpbmcucmVtb3ZlQ2hpbGQoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgY3JlYXRlIGEgbmV3IGxlYWYgbm9kZSBhbmQgYWRkIHRoYXQgdG8gdGhlIGdyYW5kcGFyZW50XG4gICAgICAgICAgICBjb25zdCBuZXdTaWJsaW5nID0gbmV3IExlYWZOb2RlKHNpYmxpbmcudmlldywgb3J0aG9nb25hbChzaWJsaW5nLm9yaWVudGF0aW9uKSwgc2libGluZy5zaXplKTtcbiAgICAgICAgICAgIGNvbnN0IHNpYmxpbmdTaXppbmcgPSBpc1NpYmxpbmdWaXNpYmxlXG4gICAgICAgICAgICAgICAgPyBzaWJsaW5nLm9ydGhvZ29uYWxTaXplXG4gICAgICAgICAgICAgICAgOiBTaXppbmcuSW52aXNpYmxlKHNpYmxpbmcub3J0aG9nb25hbFNpemUpO1xuICAgICAgICAgICAgZ3JhbmRQYXJlbnQuYWRkQ2hpbGQobmV3U2libGluZywgc2libGluZ1NpemluZywgcGFyZW50SW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBjb250YWluaW5nIG5vZGUgb2YgdGhlIHNpYmxpbmcgaXMgbm8gbG9uZ2VyIHJlcXVpcmVkIGFuZCBjYW4gYmUgZGlzcG9zZWQgb2ZcbiAgICAgICAgc2libGluZy5kaXNwb3NlKCk7XG4gICAgICAgIC8vIHJlc2l6ZSBldmVyeXRoaW5nXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGdyYW5kUGFyZW50LnJlc2l6ZUNoaWxkKGksIHNpemVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZVRvUmVtb3ZlLnZpZXc7XG4gICAgfVxuICAgIGxheW91dCh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGNvbnN0IFtzaXplLCBvcnRob2dvbmFsU2l6ZV0gPSB0aGlzLnJvb3Qub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICAgICAgICAgID8gW2hlaWdodCwgd2lkdGhdXG4gICAgICAgICAgICA6IFt3aWR0aCwgaGVpZ2h0XTtcbiAgICAgICAgdGhpcy5yb290LmxheW91dChzaXplLCBvcnRob2dvbmFsU2l6ZSk7XG4gICAgfVxuICAgIGdldE5vZGUobG9jYXRpb24sIG5vZGUgPSB0aGlzLnJvb3QsIHBhdGggPSBbXSkge1xuICAgICAgICBpZiAobG9jYXRpb24ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW3BhdGgsIG5vZGVdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBCcmFuY2hOb2RlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxvY2F0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW2luZGV4LCAuLi5yZXN0XSA9IGxvY2F0aW9uO1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IG5vZGUuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbG9jYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICBwYXRoLnB1c2gobm9kZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE5vZGUocmVzdCwgY2hpbGQsIHBhdGgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGdldFJlbGF0aXZlTG9jYXRpb24sIGdldEdyaWRMb2NhdGlvbiwgfSBmcm9tICcuL2dyaWR2aWV3JztcbmltcG9ydCB7IHRhaWwsIHNlcXVlbmNlRXF1YWxzIH0gZnJvbSAnLi4vYXJyYXknO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5pbXBvcnQgeyBCYXNlR3JpZCwgdG9UYXJnZXQsIH0gZnJvbSAnLi9iYXNlQ29tcG9uZW50R3JpZHZpZXcnO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uL2V2ZW50cyc7XG5leHBvcnQgY2xhc3MgR3JpZHZpZXdDb21wb25lbnQgZXh0ZW5kcyBCYXNlR3JpZCB7XG4gICAgZ2V0IG9yaWVudGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmlkdmlldy5vcmllbnRhdGlvbjtcbiAgICB9XG4gICAgc2V0IG9yaWVudGF0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZ3JpZHZpZXcub3JpZW50YXRpb24gPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zO1xuICAgIH1cbiAgICBnZXQgZGVzZXJpYWxpemVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVzZXJpYWxpemVyO1xuICAgIH1cbiAgICBzZXQgZGVzZXJpYWxpemVyKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2Rlc2VyaWFsaXplciA9IHZhbHVlO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcihjb250YWluZXIsIHtcbiAgICAgICAgICAgIHByb3BvcnRpb25hbExheW91dDogKF9hID0gb3B0aW9ucy5wcm9wb3J0aW9uYWxMYXlvdXQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRydWUsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogb3B0aW9ucy5vcmllbnRhdGlvbixcbiAgICAgICAgICAgIHN0eWxlczogb3B0aW9ucy5oaWRlQm9yZGVyc1xuICAgICAgICAgICAgICAgID8geyBzZXBhcmF0b3JCb3JkZXI6ICd0cmFuc3BhcmVudCcgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGlzYWJsZUF1dG9SZXNpemluZzogb3B0aW9ucy5kaXNhYmxlQXV0b1Jlc2l6aW5nLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25zLmNsYXNzTmFtZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX29uRGlkTGF5b3V0ZnJvbUpTT04gPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkTGF5b3V0RnJvbUpTT04gPSB0aGlzLl9vbkRpZExheW91dGZyb21KU09OLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZFJlbW92ZUdyb3VwID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZFJlbW92ZUdyb3VwID0gdGhpcy5fb25EaWRSZW1vdmVHcm91cC5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRBZGRHcm91cCA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRBZGRHcm91cCA9IHRoaXMuX29uRGlkQWRkR3JvdXAuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkQWN0aXZlR3JvdXBDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQWN0aXZlR3JvdXBDaGFuZ2UgPSB0aGlzLl9vbkRpZEFjdGl2ZUdyb3VwQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyh0aGlzLl9vbkRpZEFkZEdyb3VwLCB0aGlzLl9vbkRpZFJlbW92ZUdyb3VwLCB0aGlzLl9vbkRpZEFjdGl2ZUdyb3VwQ2hhbmdlLCB0aGlzLm9uRGlkQWRkKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25EaWRBZGRHcm91cC5maXJlKGV2ZW50KTtcbiAgICAgICAgfSksIHRoaXMub25EaWRSZW1vdmUoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZFJlbW92ZUdyb3VwLmZpcmUoZXZlbnQpO1xuICAgICAgICB9KSwgdGhpcy5vbkRpZEFjdGl2ZUNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQWN0aXZlR3JvdXBDaGFuZ2UuZmlyZShldmVudCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdXBkYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGhhc09yaWVudGF0aW9uQ2hhbmdlZCA9IHR5cGVvZiBvcHRpb25zLm9yaWVudGF0aW9uID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgdGhpcy5ncmlkdmlldy5vcmllbnRhdGlvbiAhPT0gb3B0aW9ucy5vcmllbnRhdGlvbjtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgICAgIGlmIChoYXNPcmllbnRhdGlvbkNoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZ3JpZHZpZXcub3JpZW50YXRpb24gPSBvcHRpb25zLm9yaWVudGF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGF5b3V0KHRoaXMuZ3JpZHZpZXcud2lkdGgsIHRoaXMuZ3JpZHZpZXcuaGVpZ2h0LCB0cnVlKTtcbiAgICB9XG4gICAgcmVtb3ZlUGFuZWwocGFuZWwpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVHcm91cChwYW5lbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZSB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgbGF5b3V0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIEpTT04gcmVzcHJlc2VudGF0aW9uIG9mIHRoZSBsYXlvdXRcbiAgICAgKi9cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ3JpZHZpZXcuc2VyaWFsaXplKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBncmlkOiBkYXRhLFxuICAgICAgICAgICAgYWN0aXZlUGFuZWw6IChfYSA9IHRoaXMuYWN0aXZlR3JvdXApID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc2V0VmlzaWJsZShwYW5lbCwgdmlzaWJsZSkge1xuICAgICAgICB0aGlzLmdyaWR2aWV3LnNldFZpZXdWaXNpYmxlKGdldEdyaWRMb2NhdGlvbihwYW5lbC5lbGVtZW50KSwgdmlzaWJsZSk7XG4gICAgfVxuICAgIHNldEFjdGl2ZShwYW5lbCkge1xuICAgICAgICB0aGlzLl9ncm91cHMuZm9yRWFjaCgodmFsdWUsIF9rZXkpID0+IHtcbiAgICAgICAgICAgIHZhbHVlLnZhbHVlLnNldEFjdGl2ZShwYW5lbCA9PT0gdmFsdWUudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZm9jdXMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5hY3RpdmVHcm91cCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvY3VzKCk7XG4gICAgfVxuICAgIGZyb21KU09OKHNlcmlhbGl6ZWRHcmlkdmlldykge1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIGNvbnN0IHsgZ3JpZCwgYWN0aXZlUGFuZWwgfSA9IHNlcmlhbGl6ZWRHcmlkdmlldztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXVlID0gW107XG4gICAgICAgICAgICAvLyB0YWtlIG5vdGUgb2YgdGhlIGV4aXN0aW5nIGRpbWVuc2lvbnNcbiAgICAgICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5ncmlkdmlldy5kZXNlcmlhbGl6ZShncmlkLCB7XG4gICAgICAgICAgICAgICAgZnJvbUpTT046IChub2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgZGF0YSB9ID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMub3B0aW9ucy5jcmVhdGVDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goKCkgPT4gdmlldy5pbml0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogZGF0YS5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtV2lkdGg6IGRhdGEubWluaW11bVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bVdpZHRoOiBkYXRhLm1heGltdW1XaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW1IZWlnaHQ6IGRhdGEubWluaW11bUhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1IZWlnaHQ6IGRhdGEubWF4aW11bUhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaW9yaXR5OiBkYXRhLnByaW9yaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgc25hcDogISFkYXRhLnNuYXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NvcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogbm9kZS52aXNpYmxlLFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkQWRkR3JvdXAuZmlyZSh2aWV3KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlclBhbmVsKHZpZXcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmxheW91dCh3aWR0aCwgaGVpZ2h0LCB0cnVlKTtcbiAgICAgICAgICAgIHF1ZXVlLmZvckVhY2goKGYpID0+IGYoKSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFjdGl2ZVBhbmVsID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhbmVsID0gdGhpcy5nZXRQYW5lbChhY3RpdmVQYW5lbCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9TZXRHcm91cEFjdGl2ZShwYW5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVG8gcmVtb3ZlIGEgZ3JvdXAgd2UgY2Fubm90IGNhbGwgdGhpcy5yZW1vdmVHcm91cCguLi4pIHNpbmNlIHRoaXMgbWFrZXMgYXNzdW1wdGlvbnMgYWJvdXRcbiAgICAgICAgICAgICAqIHRoZSB1bmRlcmx5aW5nIEhUTUxFbGVtZW50IGV4aXN0aW5nIGluIHRoZSBHcmlkdmlldy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiB0aGlzLmdyb3Vwcykge1xuICAgICAgICAgICAgICAgIGdyb3VwLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ncm91cHMuZGVsZXRlKGdyb3VwLmlkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZFJlbW92ZUdyb3VwLmZpcmUoZ3JvdXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZmlyZXMgY2xlYW4tdXAgZXZlbnRzIGFuZCBjbGVhcnMgdGhlIHVuZGVybHlpbmcgSFRNTCBncmlkdmlldy5cbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogZXZlbiB0aG91Z2ggd2UgaGF2ZSBjbGVhbmVkLXVwIHdlIHN0aWxsIHdhbnQgdG8gaW5mb3JtIHRoZSBjYWxsZXIgb2YgdGhlaXIgZXJyb3JcbiAgICAgICAgICAgICAqIGFuZCB3ZSdsbCBkbyB0aGlzIHRocm91Z2ggcmUtdGhyb3dpbmcgdGhlIG9yaWdpbmFsIGVycm9yIHNpbmNlIGFmdGVyYWxsIHlvdSB3b3VsZFxuICAgICAgICAgICAgICogZXhwZWN0IHRyeWluZyB0byBsb2FkIGEgY29ycnVwdGVkIGxheW91dCB0byByZXN1bHQgaW4gYW4gZXJyb3IgYW5kIG5vdCBzaWxlbnRseSBmYWlsLi4uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vbkRpZExheW91dGZyb21KU09OLmZpcmUoKTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGNvbnN0IGhhc0FjdGl2ZUdyb3VwID0gdGhpcy5hY3RpdmVHcm91cDtcbiAgICAgICAgY29uc3QgZ3JvdXBzID0gQXJyYXkuZnJvbSh0aGlzLl9ncm91cHMudmFsdWVzKCkpOyAvLyByZWFzc2lnbiBzaW5jZSBncm91cCBwYW5lbHMgd2lsbCBtdXRhdGVcbiAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiBncm91cHMpIHtcbiAgICAgICAgICAgIGdyb3VwLmRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5kb1JlbW92ZUdyb3VwKGdyb3VwLnZhbHVlLCB7IHNraXBBY3RpdmU6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0FjdGl2ZUdyb3VwKSB7XG4gICAgICAgICAgICB0aGlzLmRvU2V0R3JvdXBBY3RpdmUodW5kZWZpbmVkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdyaWR2aWV3LmNsZWFyKCk7XG4gICAgfVxuICAgIG1vdmVQYW5lbChwYW5lbCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGxldCByZWxhdGl2ZUxvY2F0aW9uO1xuICAgICAgICBjb25zdCByZW1vdmVkUGFuZWwgPSB0aGlzLmdyaWR2aWV3LnJlbW92ZShwYW5lbCk7XG4gICAgICAgIGNvbnN0IHJlZmVyZW5jZUdyb3VwID0gKF9hID0gdGhpcy5fZ3JvdXBzLmdldChvcHRpb25zLnJlZmVyZW5jZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52YWx1ZTtcbiAgICAgICAgaWYgKCFyZWZlcmVuY2VHcm91cCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZWZlcmVuY2UgZ3JvdXAgJHtvcHRpb25zLnJlZmVyZW5jZX0gZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0b1RhcmdldChvcHRpb25zLmRpcmVjdGlvbik7XG4gICAgICAgIGlmICh0YXJnZXQgPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7dGFyZ2V0fSBub3Qgc3VwcG9ydGVkIGFzIGFuIG9wdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbG9jYXRpb24gPSBnZXRHcmlkTG9jYXRpb24ocmVmZXJlbmNlR3JvdXAuZWxlbWVudCk7XG4gICAgICAgICAgICByZWxhdGl2ZUxvY2F0aW9uID0gZ2V0UmVsYXRpdmVMb2NhdGlvbih0aGlzLmdyaWR2aWV3Lm9yaWVudGF0aW9uLCBsb2NhdGlvbiwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRvQWRkR3JvdXAocmVtb3ZlZFBhbmVsLCByZWxhdGl2ZUxvY2F0aW9uLCBvcHRpb25zLnNpemUpO1xuICAgIH1cbiAgICBhZGRQYW5lbChvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgbGV0IHJlbGF0aXZlTG9jYXRpb24gPSAoX2EgPSBvcHRpb25zLmxvY2F0aW9uKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbMF07XG4gICAgICAgIGlmICgoX2IgPSBvcHRpb25zLnBvc2l0aW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVmZXJlbmNlUGFuZWwpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZUdyb3VwID0gKF9jID0gdGhpcy5fZ3JvdXBzLmdldChvcHRpb25zLnBvc2l0aW9uLnJlZmVyZW5jZVBhbmVsKSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnZhbHVlO1xuICAgICAgICAgICAgaWYgKCFyZWZlcmVuY2VHcm91cCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgcmVmZXJlbmNlIGdyb3VwICR7b3B0aW9ucy5wb3NpdGlvbi5yZWZlcmVuY2VQYW5lbH0gZG9lcyBub3QgZXhpc3RgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRvVGFyZ2V0KG9wdGlvbnMucG9zaXRpb24uZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3RhcmdldH0gbm90IHN1cHBvcnRlZCBhcyBhbiBvcHRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZ2V0R3JpZExvY2F0aW9uKHJlZmVyZW5jZUdyb3VwLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHJlbGF0aXZlTG9jYXRpb24gPSBnZXRSZWxhdGl2ZUxvY2F0aW9uKHRoaXMuZ3JpZHZpZXcub3JpZW50YXRpb24sIGxvY2F0aW9uLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLm9wdGlvbnMuY3JlYXRlQ29tcG9uZW50KHtcbiAgICAgICAgICAgIGlkOiBvcHRpb25zLmlkLFxuICAgICAgICAgICAgbmFtZTogb3B0aW9ucy5jb21wb25lbnQsXG4gICAgICAgIH0pO1xuICAgICAgICB2aWV3LmluaXQoe1xuICAgICAgICAgICAgcGFyYW1zOiAoX2QgPSBvcHRpb25zLnBhcmFtcykgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDoge30sXG4gICAgICAgICAgICBtaW5pbXVtV2lkdGg6IG9wdGlvbnMubWluaW11bVdpZHRoLFxuICAgICAgICAgICAgbWF4aW11bVdpZHRoOiBvcHRpb25zLm1heGltdW1XaWR0aCxcbiAgICAgICAgICAgIG1pbmltdW1IZWlnaHQ6IG9wdGlvbnMubWluaW11bUhlaWdodCxcbiAgICAgICAgICAgIG1heGltdW1IZWlnaHQ6IG9wdGlvbnMubWF4aW11bUhlaWdodCxcbiAgICAgICAgICAgIHByaW9yaXR5OiBvcHRpb25zLnByaW9yaXR5LFxuICAgICAgICAgICAgc25hcDogISFvcHRpb25zLnNuYXAsXG4gICAgICAgICAgICBhY2Nlc3NvcjogdGhpcyxcbiAgICAgICAgICAgIGlzVmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJQYW5lbCh2aWV3KTtcbiAgICAgICAgdGhpcy5kb0FkZEdyb3VwKHZpZXcsIHJlbGF0aXZlTG9jYXRpb24sIG9wdGlvbnMuc2l6ZSk7XG4gICAgICAgIHRoaXMuZG9TZXRHcm91cEFjdGl2ZSh2aWV3KTtcbiAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgfVxuICAgIHJlZ2lzdGVyUGFuZWwocGFuZWwpIHtcbiAgICAgICAgY29uc3QgZGlzcG9zYWJsZSA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKHBhbmVsLmFwaS5vbkRpZEZvY3VzQ2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFldmVudC5pc0ZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ncm91cHMuZm9yRWFjaCgoZ3JvdXBJdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBncm91cEl0ZW0udmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwICE9PSBwYW5lbCkge1xuICAgICAgICAgICAgICAgICAgICBncm91cC5zZXRBY3RpdmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAuc2V0QWN0aXZlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuX2dyb3Vwcy5zZXQocGFuZWwuaWQsIHtcbiAgICAgICAgICAgIHZhbHVlOiBwYW5lbCxcbiAgICAgICAgICAgIGRpc3Bvc2FibGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtb3ZlR3JvdXAocmVmZXJlbmNlR3JvdXAsIGdyb3VwSWQsIHRhcmdldCkge1xuICAgICAgICBjb25zdCBzb3VyY2VHcm91cCA9IHRoaXMuZ2V0UGFuZWwoZ3JvdXBJZCk7XG4gICAgICAgIGlmICghc291cmNlR3JvdXApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBvcGVyYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWZlcmVuY2VMb2NhdGlvbiA9IGdldEdyaWRMb2NhdGlvbihyZWZlcmVuY2VHcm91cC5lbGVtZW50KTtcbiAgICAgICAgY29uc3QgdGFyZ2V0TG9jYXRpb24gPSBnZXRSZWxhdGl2ZUxvY2F0aW9uKHRoaXMuZ3JpZHZpZXcub3JpZW50YXRpb24sIHJlZmVyZW5jZUxvY2F0aW9uLCB0YXJnZXQpO1xuICAgICAgICBjb25zdCBbdGFyZ2V0UGFyZW50TG9jYXRpb24sIHRvXSA9IHRhaWwodGFyZ2V0TG9jYXRpb24pO1xuICAgICAgICBjb25zdCBzb3VyY2VMb2NhdGlvbiA9IGdldEdyaWRMb2NhdGlvbihzb3VyY2VHcm91cC5lbGVtZW50KTtcbiAgICAgICAgY29uc3QgW3NvdXJjZVBhcmVudExvY2F0aW9uLCBmcm9tXSA9IHRhaWwoc291cmNlTG9jYXRpb24pO1xuICAgICAgICBpZiAoc2VxdWVuY2VFcXVhbHMoc291cmNlUGFyZW50TG9jYXRpb24sIHRhcmdldFBhcmVudExvY2F0aW9uKSkge1xuICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIHdoZW4gJ3N3YXBwaW5nJyB0d28gdmlld3Mgd2l0aGluIHNhbWUgZ3JpZCBsb2NhdGlvblxuICAgICAgICAgICAgLy8gaWYgYSBncm91cCBoYXMgb25lIHRhYiAtIHdlIGFyZSBlc3NlbnRpYWxseSBtb3ZpbmcgdGhlICdncm91cCdcbiAgICAgICAgICAgIC8vIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gc3dhcHBpbmcgdHdvIHZpZXdzIGluIHRoaXMgY2FzZVxuICAgICAgICAgICAgdGhpcy5ncmlkdmlldy5tb3ZlVmlldyhzb3VyY2VQYXJlbnRMb2NhdGlvbiwgZnJvbSwgdG8pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNvdXJjZSBncm91cCB3aWxsIGJlY29tZSBlbXB0eSBzbyBkZWxldGUgdGhlIGdyb3VwXG4gICAgICAgIGNvbnN0IHRhcmdldEdyb3VwID0gdGhpcy5kb1JlbW92ZUdyb3VwKHNvdXJjZUdyb3VwLCB7XG4gICAgICAgICAgICBza2lwQWN0aXZlOiB0cnVlLFxuICAgICAgICAgICAgc2tpcERpc3Bvc2U6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBhZnRlciBkZWxldGluZyB0aGUgZ3JvdXAgd2UgbmVlZCB0byByZS1ldmF1bGF0ZSB0aGUgcmVmIGxvY2F0aW9uXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRSZWZlcmVuY2VMb2NhdGlvbiA9IGdldEdyaWRMb2NhdGlvbihyZWZlcmVuY2VHcm91cC5lbGVtZW50KTtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBnZXRSZWxhdGl2ZUxvY2F0aW9uKHRoaXMuZ3JpZHZpZXcub3JpZW50YXRpb24sIHVwZGF0ZWRSZWZlcmVuY2VMb2NhdGlvbiwgdGFyZ2V0KTtcbiAgICAgICAgdGhpcy5kb0FkZEdyb3VwKHRhcmdldEdyb3VwLCBsb2NhdGlvbik7XG4gICAgfVxuICAgIHJlbW92ZUdyb3VwKGdyb3VwKSB7XG4gICAgICAgIHN1cGVyLnJlbW92ZUdyb3VwKGdyb3VwKTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9vbkRpZExheW91dGZyb21KU09OLmRpc3Bvc2UoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlUGFuZWxWaWV3LCB9IGZyb20gJy4vYmFzZVBhbmVsVmlldyc7XG5pbXBvcnQgeyBHcmlkdmlld1BhbmVsQXBpSW1wbCwgfSBmcm9tICcuLi9hcGkvZ3JpZHZpZXdQYW5lbEFwaSc7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vZXZlbnRzJztcbmV4cG9ydCBjbGFzcyBHcmlkdmlld1BhbmVsIGV4dGVuZHMgQmFzZVBhbmVsVmlldyB7XG4gICAgZ2V0IHByaW9yaXR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJpb3JpdHk7XG4gICAgfVxuICAgIGdldCBzbmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc25hcDtcbiAgICB9XG4gICAgZ2V0IG1pbmltdW1XaWR0aCgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRlZmVyIHRvIHByb3RlY3RlZCBmdW5jdGlvbiB0byBhbGxvdyBzdWJjbGFzc2VzIHRvIG92ZXJyaWRlIGVhc2lseS5cbiAgICAgICAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzM4XG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gdGhpcy5fX21pbmltdW1XaWR0aCgpO1xuICAgIH1cbiAgICBnZXQgbWluaW11bUhlaWdodCgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGRlZmVyIHRvIHByb3RlY3RlZCBmdW5jdGlvbiB0byBhbGxvdyBzdWJjbGFzc2VzIHRvIG92ZXJyaWRlIGVhc2lseS5cbiAgICAgICAgICogc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMzM4XG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gdGhpcy5fX21pbmltdW1IZWlnaHQoKTtcbiAgICB9XG4gICAgZ2V0IG1heGltdW1IZWlnaHQoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkZWZlciB0byBwcm90ZWN0ZWQgZnVuY3Rpb24gdG8gYWxsb3cgc3ViY2xhc3NlcyB0byBvdmVycmlkZSBlYXNpbHkuXG4gICAgICAgICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMzOFxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIHRoaXMuX19tYXhpbXVtSGVpZ2h0KCk7XG4gICAgfVxuICAgIGdldCBtYXhpbXVtV2lkdGgoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBkZWZlciB0byBwcm90ZWN0ZWQgZnVuY3Rpb24gdG8gYWxsb3cgc3ViY2xhc3NlcyB0byBvdmVycmlkZSBlYXNpbHkuXG4gICAgICAgICAqIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzMzOFxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuIHRoaXMuX19tYXhpbXVtV2lkdGgoKTtcbiAgICB9XG4gICAgX19taW5pbXVtV2lkdGgoKSB7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdHlwZW9mIHRoaXMuX21pbmltdW1XaWR0aCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyB0aGlzLl9taW5pbXVtV2lkdGgoKVxuICAgICAgICAgICAgOiB0aGlzLl9taW5pbXVtV2lkdGg7XG4gICAgICAgIGlmICh3aWR0aCAhPT0gdGhpcy5fZXZhbHVhdGVkTWluaW11bVdpZHRoKSB7XG4gICAgICAgICAgICB0aGlzLl9ldmFsdWF0ZWRNaW5pbXVtV2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29uc3RyYWludHMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgfVxuICAgIF9fbWF4aW11bVdpZHRoKCkge1xuICAgICAgICBjb25zdCB3aWR0aCA9IHR5cGVvZiB0aGlzLl9tYXhpbXVtV2lkdGggPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gdGhpcy5fbWF4aW11bVdpZHRoKClcbiAgICAgICAgICAgIDogdGhpcy5fbWF4aW11bVdpZHRoO1xuICAgICAgICBpZiAod2lkdGggIT09IHRoaXMuX2V2YWx1YXRlZE1heGltdW1XaWR0aCkge1xuICAgICAgICAgICAgdGhpcy5fZXZhbHVhdGVkTWF4aW11bVdpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnN0cmFpbnRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH1cbiAgICBfX21pbmltdW1IZWlnaHQoKSB7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHR5cGVvZiB0aGlzLl9taW5pbXVtSGVpZ2h0ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICA/IHRoaXMuX21pbmltdW1IZWlnaHQoKVxuICAgICAgICAgICAgOiB0aGlzLl9taW5pbXVtSGVpZ2h0O1xuICAgICAgICBpZiAoaGVpZ2h0ICE9PSB0aGlzLl9ldmFsdWF0ZWRNaW5pbXVtSGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLl9ldmFsdWF0ZWRNaW5pbXVtSGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVDb25zdHJhaW50cygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZWlnaHQ7XG4gICAgfVxuICAgIF9fbWF4aW11bUhlaWdodCgpIHtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdHlwZW9mIHRoaXMuX21heGltdW1IZWlnaHQgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gdGhpcy5fbWF4aW11bUhlaWdodCgpXG4gICAgICAgICAgICA6IHRoaXMuX21heGltdW1IZWlnaHQ7XG4gICAgICAgIGlmIChoZWlnaHQgIT09IHRoaXMuX2V2YWx1YXRlZE1heGltdW1IZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuX2V2YWx1YXRlZE1heGltdW1IZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnN0cmFpbnRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICB9XG4gICAgZ2V0IGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGkuaXNBY3RpdmU7XG4gICAgfVxuICAgIGdldCBpc1Zpc2libGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwaS5pc1Zpc2libGU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGlkLCBjb21wb25lbnQsIG9wdGlvbnMsIGFwaSkge1xuICAgICAgICBzdXBlcihpZCwgY29tcG9uZW50LCBhcGkgIT09IG51bGwgJiYgYXBpICE9PSB2b2lkIDAgPyBhcGkgOiBuZXcgR3JpZHZpZXdQYW5lbEFwaUltcGwoaWQsIGNvbXBvbmVudCkpO1xuICAgICAgICB0aGlzLl9ldmFsdWF0ZWRNaW5pbXVtV2lkdGggPSAwO1xuICAgICAgICB0aGlzLl9ldmFsdWF0ZWRNYXhpbXVtV2lkdGggPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICAgICAgdGhpcy5fZXZhbHVhdGVkTWluaW11bUhlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuX2V2YWx1YXRlZE1heGltdW1IZWlnaHQgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICAgICAgdGhpcy5fbWluaW11bVdpZHRoID0gMDtcbiAgICAgICAgdGhpcy5fbWluaW11bUhlaWdodCA9IDA7XG4gICAgICAgIHRoaXMuX21heGltdW1XaWR0aCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgICAgICB0aGlzLl9tYXhpbXVtSGVpZ2h0ID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgICAgIHRoaXMuX3NuYXAgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlID0gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIGlmICh0eXBlb2YgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5taW5pbXVtV2lkdGgpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5fbWluaW11bVdpZHRoID0gb3B0aW9ucy5taW5pbXVtV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLm1heGltdW1XaWR0aCkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXhpbXVtV2lkdGggPSBvcHRpb25zLm1heGltdW1XaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIChvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMubWluaW11bUhlaWdodCkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLl9taW5pbXVtSGVpZ2h0ID0gb3B0aW9ucy5taW5pbXVtSGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tYXhpbXVtSGVpZ2h0KSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMuX21heGltdW1IZWlnaHQgPSBvcHRpb25zLm1heGltdW1IZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcGkuaW5pdGlhbGl6ZSh0aGlzKTsgLy8gVE9ETzogcmVxdWlyZWQgdG8gYnktcGFzcyAnc3VwZXIgYmVmb3JlIHRoaXMnIHJlcXVpcmVtZW50XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5hcGkub25XaWxsVmlzaWJpbGl0eUNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaXNWaXNpYmxlIH0gPSBldmVudDtcbiAgICAgICAgICAgIGNvbnN0IHsgYWNjZXNzb3IgfSA9IHRoaXMuX3BhcmFtcztcbiAgICAgICAgICAgIGFjY2Vzc29yLnNldFZpc2libGUodGhpcywgaXNWaXNpYmxlKTtcbiAgICAgICAgfSksIHRoaXMuYXBpLm9uQWN0aXZlQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgYWNjZXNzb3IgfSA9IHRoaXMuX3BhcmFtcztcbiAgICAgICAgICAgIGFjY2Vzc29yLmRvU2V0R3JvdXBBY3RpdmUodGhpcyk7XG4gICAgICAgIH0pLCB0aGlzLmFwaS5vbkRpZENvbnN0cmFpbnRzQ2hhbmdlSW50ZXJuYWwoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50Lm1pbmltdW1XaWR0aCA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQubWluaW11bVdpZHRoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluaW11bVdpZHRoID0gZXZlbnQubWluaW11bVdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5taW5pbXVtSGVpZ2h0ID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgICAgIHR5cGVvZiBldmVudC5taW5pbXVtSGVpZ2h0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWluaW11bUhlaWdodCA9IGV2ZW50Lm1pbmltdW1IZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50Lm1heGltdW1XaWR0aCA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQubWF4aW11bVdpZHRoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWF4aW11bVdpZHRoID0gZXZlbnQubWF4aW11bVdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5tYXhpbXVtSGVpZ2h0ID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgICAgIHR5cGVvZiBldmVudC5tYXhpbXVtSGVpZ2h0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWF4aW11bUhlaWdodCA9IGV2ZW50Lm1heGltdW1IZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCB0aGlzLmFwaS5vbkRpZFNpemVDaGFuZ2UoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZS5maXJlKHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGV2ZW50LmhlaWdodCxcbiAgICAgICAgICAgICAgICB3aWR0aDogZXZlbnQud2lkdGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSksIHRoaXMuX29uRGlkQ2hhbmdlKTtcbiAgICB9XG4gICAgc2V0VmlzaWJsZShpc1Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5hcGkuX29uRGlkVmlzaWJpbGl0eUNoYW5nZS5maXJlKHsgaXNWaXNpYmxlIH0pO1xuICAgIH1cbiAgICBzZXRBY3RpdmUoaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5hcGkuX29uRGlkQWN0aXZlQ2hhbmdlLmZpcmUoeyBpc0FjdGl2ZSB9KTtcbiAgICB9XG4gICAgaW5pdChwYXJhbWV0ZXJzKSB7XG4gICAgICAgIGlmIChwYXJhbWV0ZXJzLm1heGltdW1IZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuX21heGltdW1IZWlnaHQgPSBwYXJhbWV0ZXJzLm1heGltdW1IZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtZXRlcnMubWluaW11bUhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5fbWluaW11bUhlaWdodCA9IHBhcmFtZXRlcnMubWluaW11bUhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1ldGVycy5tYXhpbXVtV2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMuX21heGltdW1XaWR0aCA9IHBhcmFtZXRlcnMubWF4aW11bVdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbWV0ZXJzLm1pbmltdW1XaWR0aCkge1xuICAgICAgICAgICAgdGhpcy5fbWluaW11bVdpZHRoID0gcGFyYW1ldGVycy5taW5pbXVtV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJpb3JpdHkgPSBwYXJhbWV0ZXJzLnByaW9yaXR5O1xuICAgICAgICB0aGlzLl9zbmFwID0gISFwYXJhbWV0ZXJzLnNuYXA7XG4gICAgICAgIHN1cGVyLmluaXQocGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1ldGVycy5pc1Zpc2libGUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgdGhpcy5zZXRWaXNpYmxlKHBhcmFtZXRlcnMuaXNWaXNpYmxlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVDb25zdHJhaW50cygpIHtcbiAgICAgICAgdGhpcy5hcGkuX29uRGlkQ29uc3RyYWludHNDaGFuZ2UuZmlyZSh7XG4gICAgICAgICAgICBtaW5pbXVtV2lkdGg6IHRoaXMuX2V2YWx1YXRlZE1pbmltdW1XaWR0aCxcbiAgICAgICAgICAgIG1heGltdW1XaWR0aDogdGhpcy5fZXZhbHVhdGVkTWF4aW11bVdpZHRoLFxuICAgICAgICAgICAgbWluaW11bUhlaWdodDogdGhpcy5fZXZhbHVhdGVkTWluaW11bUhlaWdodCxcbiAgICAgICAgICAgIG1heGltdW1IZWlnaHQ6IHRoaXMuX2V2YWx1YXRlZE1heGltdW1IZWlnaHQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gc3VwZXIudG9KU09OKCk7XG4gICAgICAgIGNvbnN0IG1heGltdW0gPSAodmFsdWUpID0+IHZhbHVlID09PSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgICAgICBjb25zdCBtaW5pbXVtID0gKHZhbHVlKSA9PiAodmFsdWUgPD0gMCA/IHVuZGVmaW5lZCA6IHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IG1pbmltdW1IZWlnaHQ6IG1pbmltdW0odGhpcy5taW5pbXVtSGVpZ2h0KSwgbWF4aW11bUhlaWdodDogbWF4aW11bSh0aGlzLm1heGltdW1IZWlnaHQpLCBtaW5pbXVtV2lkdGg6IG1pbmltdW0odGhpcy5taW5pbXVtV2lkdGgpLCBtYXhpbXVtV2lkdGg6IG1heGltdW0odGhpcy5tYXhpbXVtV2lkdGgpLCBzbmFwOiB0aGlzLnNuYXAsIHByaW9yaXR5OiB0aGlzLnByaW9yaXR5IH0pO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBY2NyZWRpdGF0aW9uOiBUaGlzIGZpbGUgaXMgbGFyZ2x5IGJhc2VkIHVwb24gdGhlIE1JVCBsaWNlbmNlZCBWU0NvZGUgc291cmNlY29kZSBmb3VuZCBhdDpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL3RyZWUvbWFpbi9zcmMvdnMvYmFzZS9icm93c2VyL3VpL2dyaWRcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tICcuLi9zcGxpdHZpZXcvc3BsaXR2aWV3JztcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi9ldmVudHMnO1xuZXhwb3J0IGNsYXNzIExlYWZOb2RlIHtcbiAgICBnZXQgbWluaW11bVdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Lm1pbmltdW1XaWR0aDtcbiAgICB9XG4gICAgZ2V0IG1heGltdW1XaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5tYXhpbXVtV2lkdGg7XG4gICAgfVxuICAgIGdldCBtaW5pbXVtSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Lm1pbmltdW1IZWlnaHQ7XG4gICAgfVxuICAgIGdldCBtYXhpbXVtSGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Lm1heGltdW1IZWlnaHQ7XG4gICAgfVxuICAgIGdldCBwcmlvcml0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5wcmlvcml0eTtcbiAgICB9XG4gICAgZ2V0IHNuYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuc25hcDtcbiAgICB9XG4gICAgZ2V0IG1pbmltdW1TaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uSE9SSVpPTlRBTFxuICAgICAgICAgICAgPyB0aGlzLm1pbmltdW1IZWlnaHRcbiAgICAgICAgICAgIDogdGhpcy5taW5pbXVtV2lkdGg7XG4gICAgfVxuICAgIGdldCBtYXhpbXVtU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICAgICAgICAgID8gdGhpcy5tYXhpbXVtSGVpZ2h0XG4gICAgICAgICAgICA6IHRoaXMubWF4aW11bVdpZHRoO1xuICAgIH1cbiAgICBnZXQgbWluaW11bU9ydGhvZ29uYWxTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uSE9SSVpPTlRBTFxuICAgICAgICAgICAgPyB0aGlzLm1pbmltdW1XaWR0aFxuICAgICAgICAgICAgOiB0aGlzLm1pbmltdW1IZWlnaHQ7XG4gICAgfVxuICAgIGdldCBtYXhpbXVtT3J0aG9nb25hbFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWVudGF0aW9uID09PSBPcmllbnRhdGlvbi5IT1JJWk9OVEFMXG4gICAgICAgICAgICA/IHRoaXMubWF4aW11bVdpZHRoXG4gICAgICAgICAgICA6IHRoaXMubWF4aW11bUhlaWdodDtcbiAgICB9XG4gICAgZ2V0IG9ydGhvZ29uYWxTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3J0aG9nb25hbFNpemU7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZWxlbWVudDtcbiAgICB9XG4gICAgZ2V0IHdpZHRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uSE9SSVpPTlRBTFxuICAgICAgICAgICAgPyB0aGlzLm9ydGhvZ29uYWxTaXplXG4gICAgICAgICAgICA6IHRoaXMuc2l6ZTtcbiAgICB9XG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICAgICAgICAgID8gdGhpcy5zaXplXG4gICAgICAgICAgICA6IHRoaXMub3J0aG9nb25hbFNpemU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHZpZXcsIG9yaWVudGF0aW9uLCBvcnRob2dvbmFsU2l6ZSwgc2l6ZSA9IDApIHtcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uO1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRDaGFuZ2UgPSB0aGlzLl9vbkRpZENoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb3J0aG9nb25hbFNpemUgPSBvcnRob2dvbmFsU2l6ZTtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2FibGUgPSB0aGlzLnZpZXcub25EaWRDaGFuZ2UoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZS5maXJlKHtcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uVkVSVElDQUxcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZXZlbnQud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZXZlbnQuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBvcnRob2dvbmFsU2l6ZTogdGhpcy5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uVkVSVElDQUxcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZXZlbnQuaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICA6IGV2ZW50LndpZHRoLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UuZmlyZSh7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZXRWaXNpYmxlKHZpc2libGUpIHtcbiAgICAgICAgaWYgKHRoaXMudmlldy5zZXRWaXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsYXlvdXQoc2l6ZSwgb3J0aG9nb25hbFNpemUpIHtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMuX29ydGhvZ29uYWxTaXplID0gb3J0aG9nb25hbFNpemU7XG4gICAgICAgIHRoaXMudmlldy5sYXlvdXQodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBQUk9QRVJUWV9LRVlTX0dSSURWSUVXID0gKCgpID0+IHtcbiAgICAvKipcbiAgICAgKiBieSByZWFkb25nIHRoZSBrZXlzIGZyb20gYW4gZW1wdHkgdmFsdWUgb2JqZWN0IFR5cGVTY3JpcHQgd2lsbCBlcnJvclxuICAgICAqIHdoZW4gd2UgYWRkIG9yIHJlbW92ZSBuZXcgcHJvcGVydGllcyB0byBgRG9ja3ZpZXdPcHRpb25zYFxuICAgICAqL1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7XG4gICAgICAgIGRpc2FibGVBdXRvUmVzaXppbmc6IHVuZGVmaW5lZCxcbiAgICAgICAgcHJvcG9ydGlvbmFsTGF5b3V0OiB1bmRlZmluZWQsXG4gICAgICAgIG9yaWVudGF0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgIGhpZGVCb3JkZXJzOiB1bmRlZmluZWQsXG4gICAgICAgIGNsYXNzTmFtZTogdW5kZWZpbmVkLFxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BlcnRpZXMpO1xufSkoKTtcbiIsImV4cG9ydCB7IGdldFBhbmVEYXRhLCBnZXRQYW5lbERhdGEsIFBhbmVUcmFuc2ZlciwgUGFuZWxUcmFuc2ZlciwgfSBmcm9tICcuL2RuZC9kYXRhVHJhbnNmZXInO1xuLyoqXG4gKiBFdmVudHMsIEVtaXR0ZXJzIGFuZCBEaXNwb3NhYmxlcyBhcmUgdmVyeSBjb21tb24gY29uY2VwdHMgdGhhdCBtYW55IGNvZGViYXNlcyB3aWxsIGNvbnRhaW4sIGhvd2V2ZXIgd2UgbmVlZFxuICogdG8gZXhwb3J0IHRoZW0gZm9yIGRvY2t2aWV3IGZyYW1ld29yayBwYWNrYWdlcyB0byB1c2UuXG4gKiBUbyBiZSBhIGdvb2QgY2l0aXplbiB0aGVzZSBhcmUgZXhwb3J0ZWQgd2l0aCBhIGBEb2Nrdmlld2AgcHJlZml4IHRvIHByZXZlbnQgYWNjaWRlbnRhbCB1c2UgYnkgb3RoZXJzLlxuICovXG5leHBvcnQgeyBFbWl0dGVyIGFzIERvY2t2aWV3RW1pdHRlciwgRXZlbnQgYXMgRG9ja3ZpZXdFdmVudCB9IGZyb20gJy4vZXZlbnRzJztcbmV4cG9ydCB7IE11dGFibGVEaXNwb3NhYmxlIGFzIERvY2t2aWV3TXV0YWJsZURpc3Bvc2FibGUsIENvbXBvc2l0ZURpc3Bvc2FibGUgYXMgRG9ja3ZpZXdDb21wb3NpdGVEaXNwb3NhYmxlLCBEaXNwb3NhYmxlIGFzIERvY2t2aWV3RGlzcG9zYWJsZSwgfSBmcm9tICcuL2xpZmVjeWNsZSc7XG5leHBvcnQgKiBmcm9tICcuL3BhbmVsL3R5cGVzJztcbmV4cG9ydCAqIGZyb20gJy4vc3BsaXR2aWV3L3NwbGl0dmlldyc7XG5leHBvcnQgeyBQUk9QRVJUWV9LRVlTX1NQTElUVklFVywgfSBmcm9tICcuL3NwbGl0dmlldy9vcHRpb25zJztcbmV4cG9ydCAqIGZyb20gJy4vcGFuZXZpZXcvcGFuZXZpZXcnO1xuZXhwb3J0ICogZnJvbSAnLi9ncmlkdmlldy9ncmlkdmlldyc7XG5leHBvcnQgeyBQUk9QRVJUWV9LRVlTX0dSSURWSUVXLCB9IGZyb20gJy4vZ3JpZHZpZXcvb3B0aW9ucyc7XG5leHBvcnQgKiBmcm9tICcuL2dyaWR2aWV3L2Jhc2VDb21wb25lbnRHcmlkdmlldyc7XG5leHBvcnQgeyBEcmFnZ2FibGVQYW5ldmlld1BhbmVsLCB9IGZyb20gJy4vcGFuZXZpZXcvZHJhZ2dhYmxlUGFuZXZpZXdQYW5lbCc7XG5leHBvcnQgKiBmcm9tICcuL2RvY2t2aWV3L2NvbXBvbmVudHMvcGFuZWwvY29udGVudCc7XG5leHBvcnQgKiBmcm9tICcuL2RvY2t2aWV3L2NvbXBvbmVudHMvdGFiL3RhYic7XG5leHBvcnQgKiBmcm9tICcuL2RvY2t2aWV3L2RvY2t2aWV3R3JvdXBQYW5lbE1vZGVsJztcbmV4cG9ydCAqIGZyb20gJy4vZG9ja3ZpZXcvdHlwZXMnO1xuZXhwb3J0ICogZnJvbSAnLi9kb2Nrdmlldy9kb2Nrdmlld0dyb3VwUGFuZWwnO1xuZXhwb3J0ICogZnJvbSAnLi9kb2Nrdmlldy9vcHRpb25zJztcbmV4cG9ydCAqIGZyb20gJy4vZG9ja3ZpZXcvdGhlbWUnO1xuZXhwb3J0ICogZnJvbSAnLi9kb2Nrdmlldy9kb2Nrdmlld1BhbmVsJztcbmV4cG9ydCB7IERlZmF1bHRUYWIgfSBmcm9tICcuL2RvY2t2aWV3L2NvbXBvbmVudHMvdGFiL2RlZmF1bHRUYWInO1xuZXhwb3J0IHsgRGVmYXVsdERvY2t2aWV3RGVzZXJpYWx6aWVyLCB9IGZyb20gJy4vZG9ja3ZpZXcvZGVzZXJpYWxpemVyJztcbmV4cG9ydCAqIGZyb20gJy4vZG9ja3ZpZXcvZG9ja3ZpZXdDb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9ncmlkdmlldy9ncmlkdmlld0NvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL3NwbGl0dmlldy9zcGxpdHZpZXdDb21wb25lbnQnO1xuZXhwb3J0ICogZnJvbSAnLi9wYW5ldmlldy9wYW5ldmlld0NvbXBvbmVudCc7XG5leHBvcnQgeyBQUk9QRVJUWV9LRVlTX1BBTkVWSUVXLCBQYW5ldmlld1VuaGFuZGxlZERyYWdPdmVyRXZlbnQsIH0gZnJvbSAnLi9wYW5ldmlldy9vcHRpb25zJztcbmV4cG9ydCAqIGZyb20gJy4vZ3JpZHZpZXcvZ3JpZHZpZXdQYW5lbCc7XG5leHBvcnQgeyBTcGxpdHZpZXdQYW5lbCB9IGZyb20gJy4vc3BsaXR2aWV3L3NwbGl0dmlld1BhbmVsJztcbmV4cG9ydCAqIGZyb20gJy4vcGFuZXZpZXcvcGFuZXZpZXdQYW5lbCc7XG5leHBvcnQgKiBmcm9tICcuL2RvY2t2aWV3L3R5cGVzJztcbmV4cG9ydCB7IHBvc2l0aW9uVG9EaXJlY3Rpb24sIGRpcmVjdGlvblRvUG9zaXRpb24sIH0gZnJvbSAnLi9kbmQvZHJvcHRhcmdldCc7XG5leHBvcnQgeyBTcGxpdHZpZXdBcGksIFBhbmV2aWV3QXBpLCBHcmlkdmlld0FwaSwgRG9ja3ZpZXdBcGksIH0gZnJvbSAnLi9hcGkvY29tcG9uZW50LmFwaSc7XG5leHBvcnQgeyBjcmVhdGVEb2NrdmlldywgY3JlYXRlR3JpZHZpZXcsIGNyZWF0ZVBhbmV2aWV3LCBjcmVhdGVTcGxpdHZpZXcsIH0gZnJvbSAnLi9hcGkvZW50cnlQb2ludHMnO1xuIiwiZXhwb3J0IHZhciBEaXNwb3NhYmxlO1xuKGZ1bmN0aW9uIChEaXNwb3NhYmxlKSB7XG4gICAgRGlzcG9zYWJsZS5OT05FID0ge1xuICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICAvLyBub29wXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBmdW5jdGlvbiBmcm9tKGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc3Bvc2U6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBmdW5jKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBEaXNwb3NhYmxlLmZyb20gPSBmcm9tO1xufSkoRGlzcG9zYWJsZSB8fCAoRGlzcG9zYWJsZSA9IHt9KSk7XG5leHBvcnQgY2xhc3MgQ29tcG9zaXRlRGlzcG9zYWJsZSB7XG4gICAgZ2V0IGlzRGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Rpc3Bvc2VkO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvciguLi5hcmdzKSB7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZXMgPSBhcmdzO1xuICAgIH1cbiAgICBhZGREaXNwb3NhYmxlcyguLi5hcmdzKSB7XG4gICAgICAgIGFyZ3MuZm9yRWFjaCgoYXJnKSA9PiB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKGFyZykpO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcy5mb3JFYWNoKChhcmcpID0+IGFyZy5kaXNwb3NlKCkpO1xuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlcyA9IFtdO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNdXRhYmxlRGlzcG9zYWJsZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2FibGUgPSBEaXNwb3NhYmxlLk5PTkU7XG4gICAgfVxuICAgIHNldCB2YWx1ZShkaXNwb3NhYmxlKSB7XG4gICAgICAgIGlmICh0aGlzLl9kaXNwb3NhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaXNwb3NhYmxlID0gZGlzcG9zYWJsZTtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2FibGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fZGlzcG9zYWJsZSA9IERpc3Bvc2FibGUuTk9ORTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjb25zdCBjbGFtcCA9ICh2YWx1ZSwgbWluLCBtYXgpID0+IHtcbiAgICBpZiAobWluID4gbWF4KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBjYXZlYXQ6IGFuIGVycm9yIHNob3VsZCBiZSB0aHJvd24gaGVyZSBpZiB0aGlzIHdhcyBhIHByb3BlciBgY2xhbXBgIGZ1bmN0aW9uIGJ1dCB3ZSBuZWVkIHRvIGhhbmRsZVxuICAgICAgICAgKiBjYXNlcyB3aGVyZSBgbWluYCA+IGBtYXhgIGFuZCBpbiB0aG9zZSBjYXNlcyByZXR1cm4gYG1pbmAuXG4gICAgICAgICAqL1xuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5taW4obWF4LCBNYXRoLm1heCh2YWx1ZSwgbWluKSk7XG59O1xuZXhwb3J0IGNvbnN0IHNlcXVlbnRpYWxOdW1iZXJHZW5lcmF0b3IgPSAoKSA9PiB7XG4gICAgbGV0IHZhbHVlID0gMTtcbiAgICByZXR1cm4geyBuZXh0OiAoKSA9PiAodmFsdWUrKykudG9TdHJpbmcoKSB9O1xufTtcbmV4cG9ydCBjb25zdCByYW5nZSA9IChmcm9tLCB0bykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGlmICh0eXBlb2YgdG8gIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRvID0gZnJvbTtcbiAgICAgICAgZnJvbSA9IDA7XG4gICAgfVxuICAgIGlmIChmcm9tIDw9IHRvKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBmcm9tOyBpIDwgdG87IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBmcm9tOyBpID4gdG87IGktLSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCJpbXBvcnQgeyBkaXNhYmxlSWZyYW1lUG9pbnRFdmVudHMsIHF1YXNpRGVmYXVsdFByZXZlbnRlZCwgdG9nZ2xlQ2xhc3MsIH0gZnJvbSAnLi4vZG9tJztcbmltcG9ydCB7IEVtaXR0ZXIsIGFkZERpc3Bvc2FibGVMaXN0ZW5lciwgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSwgTXV0YWJsZURpc3Bvc2FibGUgfSBmcm9tICcuLi9saWZlY3ljbGUnO1xuaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi9tYXRoJztcbmNsYXNzIEFyaWFMZXZlbFRyYWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9vcmRlcmVkTGlzdCA9IFtdO1xuICAgIH1cbiAgICBwdXNoKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fb3JkZXJlZExpc3QgPSBbXG4gICAgICAgICAgICAuLi50aGlzLl9vcmRlcmVkTGlzdC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0gIT09IGVsZW1lbnQpLFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgZGVzdHJveShlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX29yZGVyZWRMaXN0ID0gdGhpcy5fb3JkZXJlZExpc3QuZmlsdGVyKChpdGVtKSA9PiBpdGVtICE9PSBlbGVtZW50KTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICB9XG4gICAgdXBkYXRlKCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX29yZGVyZWRMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9vcmRlcmVkTGlzdFtpXS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGV2ZWwnLCBgJHtpfWApO1xuICAgICAgICAgICAgdGhpcy5fb3JkZXJlZExpc3RbaV0uc3R5bGUuekluZGV4ID0gYGNhbGModmFyKC0tZHYtb3ZlcmxheS16LWluZGV4LCA5OTkpICsgJHtpICogMn0pYDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IGFyaWFsTGV2ZWxUcmFja2VyID0gbmV3IEFyaWFMZXZlbFRyYWNrZXIoKTtcbmV4cG9ydCBjbGFzcyBPdmVybGF5IGV4dGVuZHMgQ29tcG9zaXRlRGlzcG9zYWJsZSB7XG4gICAgc2V0IG1pbmltdW1JblZpZXdwb3J0V2lkdGgodmFsdWUpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLm1pbmltdW1JblZpZXdwb3J0V2lkdGggPSB2YWx1ZTtcbiAgICB9XG4gICAgc2V0IG1pbmltdW1JblZpZXdwb3J0SGVpZ2h0KHZhbHVlKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5taW5pbXVtSW5WaWV3cG9ydEhlaWdodCA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfVxuICAgIGdldCBpc1Zpc2libGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1Zpc2libGU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRDaGFuZ2UgPSB0aGlzLl9vbkRpZENoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VFbmQgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlRW5kID0gdGhpcy5fb25EaWRDaGFuZ2VFbmQuZXZlbnQ7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fb25EaWRDaGFuZ2UsIHRoaXMuX29uRGlkQ2hhbmdlRW5kKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc05hbWUgPSAnZHYtcmVzaXplLWNvbnRhaW5lcic7XG4gICAgICAgIHRoaXMuX2lzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2V0dXBSZXNpemUoJ3RvcCcpO1xuICAgICAgICB0aGlzLnNldHVwUmVzaXplKCdib3R0b20nKTtcbiAgICAgICAgdGhpcy5zZXR1cFJlc2l6ZSgnbGVmdCcpO1xuICAgICAgICB0aGlzLnNldHVwUmVzaXplKCdyaWdodCcpO1xuICAgICAgICB0aGlzLnNldHVwUmVzaXplKCd0b3BsZWZ0Jyk7XG4gICAgICAgIHRoaXMuc2V0dXBSZXNpemUoJ3RvcHJpZ2h0Jyk7XG4gICAgICAgIHRoaXMuc2V0dXBSZXNpemUoJ2JvdHRvbWxlZnQnKTtcbiAgICAgICAgdGhpcy5zZXR1cFJlc2l6ZSgnYm90dG9tcmlnaHQnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLm9wdGlvbnMuY29udGVudCk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCk7XG4gICAgICAgIC8vIGlmIGlucHV0IGJhZCByZXNpemUgd2l0aGluIGFjY2VwdGFibGUgYm91bmRhcmllc1xuICAgICAgICB0aGlzLnNldEJvdW5kcyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHsgaGVpZ2h0OiB0aGlzLm9wdGlvbnMuaGVpZ2h0LCB3aWR0aDogdGhpcy5vcHRpb25zLndpZHRoIH0sICgndG9wJyBpbiB0aGlzLm9wdGlvbnMgJiYgeyB0b3A6IHRoaXMub3B0aW9ucy50b3AgfSkpLCAoJ2JvdHRvbScgaW4gdGhpcy5vcHRpb25zICYmIHsgYm90dG9tOiB0aGlzLm9wdGlvbnMuYm90dG9tIH0pKSwgKCdsZWZ0JyBpbiB0aGlzLm9wdGlvbnMgJiYgeyBsZWZ0OiB0aGlzLm9wdGlvbnMubGVmdCB9KSksICgncmlnaHQnIGluIHRoaXMub3B0aW9ucyAmJiB7IHJpZ2h0OiB0aGlzLm9wdGlvbnMucmlnaHQgfSkpKTtcbiAgICAgICAgYXJpYWxMZXZlbFRyYWNrZXIucHVzaCh0aGlzLl9lbGVtZW50KTtcbiAgICB9XG4gICAgc2V0VmlzaWJsZShpc1Zpc2libGUpIHtcbiAgICAgICAgaWYgKGlzVmlzaWJsZSA9PT0gdGhpcy5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc1Zpc2libGUgPSBpc1Zpc2libGU7XG4gICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudCwgJ2R2LWhpZGRlbicsICF0aGlzLmlzVmlzaWJsZSk7XG4gICAgfVxuICAgIGJyaW5nVG9Gcm9udCgpIHtcbiAgICAgICAgYXJpYWxMZXZlbFRyYWNrZXIucHVzaCh0aGlzLl9lbGVtZW50KTtcbiAgICB9XG4gICAgc2V0Qm91bmRzKGJvdW5kcyA9IHt9KSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm91bmRzLmhlaWdodCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7Ym91bmRzLmhlaWdodH1weGA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBib3VuZHMud2lkdGggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLndpZHRoID0gYCR7Ym91bmRzLndpZHRofXB4YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3RvcCcgaW4gYm91bmRzICYmIHR5cGVvZiBib3VuZHMudG9wID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS50b3AgPSBgJHtib3VuZHMudG9wfXB4YDtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuYm90dG9tID0gJ2F1dG8nO1xuICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbEFsaWdubWVudCA9ICd0b3AnO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnYm90dG9tJyBpbiBib3VuZHMgJiYgdHlwZW9mIGJvdW5kcy5ib3R0b20gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmJvdHRvbSA9IGAke2JvdW5kcy5ib3R0b219cHhgO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS50b3AgPSAnYXV0byc7XG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsQWxpZ25tZW50ID0gJ2JvdHRvbSc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdsZWZ0JyBpbiBib3VuZHMgJiYgdHlwZW9mIGJvdW5kcy5sZWZ0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5sZWZ0ID0gYCR7Ym91bmRzLmxlZnR9cHhgO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5yaWdodCA9ICdhdXRvJztcbiAgICAgICAgICAgIHRoaXMuaG9yaXppb250YWxBbGlnbm1lbnQgPSAnbGVmdCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdyaWdodCcgaW4gYm91bmRzICYmIHR5cGVvZiBib3VuZHMucmlnaHQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLnJpZ2h0ID0gYCR7Ym91bmRzLnJpZ2h0fXB4YDtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUubGVmdCA9ICdhdXRvJztcbiAgICAgICAgICAgIHRoaXMuaG9yaXppb250YWxBbGlnbm1lbnQgPSAncmlnaHQnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lclJlY3QgPSB0aGlzLm9wdGlvbnMuY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBvdmVybGF5UmVjdCA9IHRoaXMuX2VsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIC8vIHJlZ2lvbjogZW5zdXJlIGJvdW5kcyB3aXRoaW4gYWxsb3dhYmxlIGxpbWl0c1xuICAgICAgICAvLyBhIG1pbmltdW0gd2lkdGggb2YgbWluaW11bVZpZXdwb3J0V2lkdGggbXVzdCBiZSBpbnNpZGUgdGhlIHZpZXdwb3J0XG4gICAgICAgIGNvbnN0IHhPZmZzZXQgPSBNYXRoLm1heCgwLCB0aGlzLmdldE1pbmltdW1XaWR0aChvdmVybGF5UmVjdC53aWR0aCkpO1xuICAgICAgICAvLyBhIG1pbmltdW0gaGVpZ2h0IG9mIG1pbmltdW1WaWV3cG9ydEhlaWdodCBtdXN0IGJlIGluc2lkZSB0aGUgdmlld3BvcnRcbiAgICAgICAgY29uc3QgeU9mZnNldCA9IE1hdGgubWF4KDAsIHRoaXMuZ2V0TWluaW11bUhlaWdodChvdmVybGF5UmVjdC5oZWlnaHQpKTtcbiAgICAgICAgaWYgKHRoaXMudmVydGljYWxBbGlnbm1lbnQgPT09ICd0b3AnKSB7XG4gICAgICAgICAgICBjb25zdCB0b3AgPSBjbGFtcChvdmVybGF5UmVjdC50b3AgLSBjb250YWluZXJSZWN0LnRvcCwgLXlPZmZzZXQsIE1hdGgubWF4KDAsIGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gb3ZlcmxheVJlY3QuaGVpZ2h0ICsgeU9mZnNldCkpO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS50b3AgPSBgJHt0b3B9cHhgO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5ib3R0b20gPSAnYXV0byc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmVydGljYWxBbGlnbm1lbnQgPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICBjb25zdCBib3R0b20gPSBjbGFtcChjb250YWluZXJSZWN0LmJvdHRvbSAtIG92ZXJsYXlSZWN0LmJvdHRvbSwgLXlPZmZzZXQsIE1hdGgubWF4KDAsIGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gb3ZlcmxheVJlY3QuaGVpZ2h0ICsgeU9mZnNldCkpO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5ib3R0b20gPSBgJHtib3R0b219cHhgO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS50b3AgPSAnYXV0byc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaG9yaXppb250YWxBbGlnbm1lbnQgPT09ICdsZWZ0Jykge1xuICAgICAgICAgICAgY29uc3QgbGVmdCA9IGNsYW1wKG92ZXJsYXlSZWN0LmxlZnQgLSBjb250YWluZXJSZWN0LmxlZnQsIC14T2Zmc2V0LCBNYXRoLm1heCgwLCBjb250YWluZXJSZWN0LndpZHRoIC0gb3ZlcmxheVJlY3Qud2lkdGggKyB4T2Zmc2V0KSk7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50LnN0eWxlLmxlZnQgPSBgJHtsZWZ0fXB4YDtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUucmlnaHQgPSAnYXV0byc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaG9yaXppb250YWxBbGlnbm1lbnQgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gY2xhbXAoY29udGFpbmVyUmVjdC5yaWdodCAtIG92ZXJsYXlSZWN0LnJpZ2h0LCAteE9mZnNldCwgTWF0aC5tYXgoMCwgY29udGFpbmVyUmVjdC53aWR0aCAtIG92ZXJsYXlSZWN0LndpZHRoICsgeE9mZnNldCkpO1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5yaWdodCA9IGAke3JpZ2h0fXB4YDtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUubGVmdCA9ICdhdXRvJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZS5maXJlKCk7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5vcHRpb25zLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBpZiAodGhpcy52ZXJ0aWNhbEFsaWdubWVudCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIHJlc3VsdC50b3AgPSBwYXJzZUZsb2F0KHRoaXMuX2VsZW1lbnQuc3R5bGUudG9wKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnZlcnRpY2FsQWxpZ25tZW50ID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgcmVzdWx0LmJvdHRvbSA9IHBhcnNlRmxvYXQodGhpcy5fZWxlbWVudC5zdHlsZS5ib3R0b20pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnRvcCA9IGVsZW1lbnQudG9wIC0gY29udGFpbmVyLnRvcDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ob3JpemlvbnRhbEFsaWdubWVudCA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICByZXN1bHQubGVmdCA9IHBhcnNlRmxvYXQodGhpcy5fZWxlbWVudC5zdHlsZS5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmhvcml6aW9udGFsQWxpZ25tZW50ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgICByZXN1bHQucmlnaHQgPSBwYXJzZUZsb2F0KHRoaXMuX2VsZW1lbnQuc3R5bGUucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LmxlZnQgPSBlbGVtZW50LmxlZnQgLSBjb250YWluZXIubGVmdDtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQud2lkdGggPSBlbGVtZW50LndpZHRoO1xuICAgICAgICByZXN1bHQuaGVpZ2h0ID0gZWxlbWVudC5oZWlnaHQ7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHNldHVwRHJhZyhkcmFnVGFyZ2V0LCBvcHRpb25zID0geyBpbkRyYWdNb2RlOiBmYWxzZSB9KSB7XG4gICAgICAgIGNvbnN0IG1vdmUgPSBuZXcgTXV0YWJsZURpc3Bvc2FibGUoKTtcbiAgICAgICAgY29uc3QgdHJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0ID0gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGlmcmFtZXMgPSBkaXNhYmxlSWZyYW1lUG9pbnRFdmVudHMoKTtcbiAgICAgICAgICAgIG1vdmUudmFsdWUgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZSh7XG4gICAgICAgICAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWVzLnJlbGVhc2UoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSwgYWRkRGlzcG9zYWJsZUxpc3RlbmVyKHdpbmRvdywgJ3BvaW50ZXJtb3ZlJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluZXJSZWN0ID0gdGhpcy5vcHRpb25zLmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gZS5jbGllbnRYIC0gY29udGFpbmVyUmVjdC5sZWZ0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBlLmNsaWVudFkgLSBjb250YWluZXJSZWN0LnRvcDtcbiAgICAgICAgICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLl9lbGVtZW50LCAnZHYtcmVzaXplLWNvbnRhaW5lci1kcmFnZ2luZycsIHRydWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG92ZXJsYXlSZWN0ID0gdGhpcy5fZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IGUuY2xpZW50WCAtIG92ZXJsYXlSZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBlLmNsaWVudFkgLSBvdmVybGF5UmVjdC50b3AsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHhPZmZzZXQgPSBNYXRoLm1heCgwLCB0aGlzLmdldE1pbmltdW1XaWR0aChvdmVybGF5UmVjdC53aWR0aCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHlPZmZzZXQgPSBNYXRoLm1heCgwLCB0aGlzLmdldE1pbmltdW1IZWlnaHQob3ZlcmxheVJlY3QuaGVpZ2h0KSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9wID0gY2xhbXAoeSAtIG9mZnNldC55LCAteU9mZnNldCwgTWF0aC5tYXgoMCwgY29udGFpbmVyUmVjdC5oZWlnaHQgLSBvdmVybGF5UmVjdC5oZWlnaHQgKyB5T2Zmc2V0KSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYm90dG9tID0gY2xhbXAob2Zmc2V0LnkgLVxuICAgICAgICAgICAgICAgICAgICB5ICtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyUmVjdC5oZWlnaHQgLVxuICAgICAgICAgICAgICAgICAgICBvdmVybGF5UmVjdC5oZWlnaHQsIC15T2Zmc2V0LCBNYXRoLm1heCgwLCBjb250YWluZXJSZWN0LmhlaWdodCAtIG92ZXJsYXlSZWN0LmhlaWdodCArIHlPZmZzZXQpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0ID0gY2xhbXAoeCAtIG9mZnNldC54LCAteE9mZnNldCwgTWF0aC5tYXgoMCwgY29udGFpbmVyUmVjdC53aWR0aCAtIG92ZXJsYXlSZWN0LndpZHRoICsgeE9mZnNldCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gY2xhbXAob2Zmc2V0LnggLSB4ICsgY29udGFpbmVyUmVjdC53aWR0aCAtIG92ZXJsYXlSZWN0LndpZHRoLCAteE9mZnNldCwgTWF0aC5tYXgoMCwgY29udGFpbmVyUmVjdC53aWR0aCAtIG92ZXJsYXlSZWN0LndpZHRoICsgeE9mZnNldCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IHt9O1xuICAgICAgICAgICAgICAgIC8vIEFuY2hvciB0byB0b3Agb3IgdG8gYm90dG9tIGRlcGVuZGluZyBvbiB3aGljaCBvbmUgaXMgY2xvc2VyXG4gICAgICAgICAgICAgICAgaWYgKHRvcCA8PSBib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLnRvcCA9IHRvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5ib3R0b20gPSBib3R0b207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFuY2hvciB0byBsZWZ0IG9yIHRvIHJpZ2h0IGRlcGVuZGluZyBvbiB3aGljaCBvbmUgaXMgY2xvc2VyXG4gICAgICAgICAgICAgICAgaWYgKGxlZnQgPD0gcmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLmxlZnQgPSBsZWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Qm91bmRzKGJvdW5kcyk7XG4gICAgICAgICAgICB9KSwgYWRkRGlzcG9zYWJsZUxpc3RlbmVyKHdpbmRvdywgJ3BvaW50ZXJ1cCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLl9lbGVtZW50LCAnZHYtcmVzaXplLWNvbnRhaW5lci1kcmFnZ2luZycsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBtb3ZlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUVuZC5maXJlKCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXMobW92ZSwgYWRkRGlzcG9zYWJsZUxpc3RlbmVyKGRyYWdUYXJnZXQsICdwb2ludGVyZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHNvbWVib2R5IGhhcyBtYXJrZWQgdGhpcyBldmVudCB0aGVuIHRyZWF0IGFzIGEgZGVmYXVsdFByZXZlbnRlZFxuICAgICAgICAgICAgLy8gd2l0aG91dCBhY3R1YWxseSBjYWxsaW5nIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIGlmIChxdWFzaURlZmF1bHRQcmV2ZW50ZWQoZXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2soKTtcbiAgICAgICAgfSksIGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLm9wdGlvbnMuY29udGVudCwgJ3BvaW50ZXJkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIHNvbWVib2R5IGhhcyBtYXJrZWQgdGhpcyBldmVudCB0aGVuIHRyZWF0IGFzIGEgZGVmYXVsdFByZXZlbnRlZFxuICAgICAgICAgICAgLy8gd2l0aG91dCBhY3R1YWxseSBjYWxsaW5nIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgIGlmIChxdWFzaURlZmF1bHRQcmV2ZW50ZWQoZXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgdHJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLm9wdGlvbnMuY29udGVudCwgJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgYXJpYWxMZXZlbFRyYWNrZXIucHVzaCh0aGlzLl9lbGVtZW50KTtcbiAgICAgICAgfSwgdHJ1ZSkpO1xuICAgICAgICBpZiAob3B0aW9ucy5pbkRyYWdNb2RlKSB7XG4gICAgICAgICAgICB0cmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldHVwUmVzaXplKGRpcmVjdGlvbikge1xuICAgICAgICBjb25zdCByZXNpemVIYW5kbGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHJlc2l6ZUhhbmRsZUVsZW1lbnQuY2xhc3NOYW1lID0gYGR2LXJlc2l6ZS1oYW5kbGUtJHtkaXJlY3Rpb259YDtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZChyZXNpemVIYW5kbGVFbGVtZW50KTtcbiAgICAgICAgY29uc3QgbW92ZSA9IG5ldyBNdXRhYmxlRGlzcG9zYWJsZSgpO1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKG1vdmUsIGFkZERpc3Bvc2FibGVMaXN0ZW5lcihyZXNpemVIYW5kbGVFbGVtZW50LCAncG9pbnRlcmRvd24nLCAoZSkgPT4ge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbGV0IHN0YXJ0UG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgaWZyYW1lcyA9IGRpc2FibGVJZnJhbWVQb2ludEV2ZW50cygpO1xuICAgICAgICAgICAgbW92ZS52YWx1ZSA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKGFkZERpc3Bvc2FibGVMaXN0ZW5lcih3aW5kb3csICdwb2ludGVybW92ZScsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyUmVjdCA9IHRoaXMub3B0aW9ucy5jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcmxheVJlY3QgPSB0aGlzLl9lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBlLmNsaWVudFkgLSBjb250YWluZXJSZWN0LnRvcDtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gZS5jbGllbnRYIC0gY29udGFpbmVyUmVjdC5sZWZ0O1xuICAgICAgICAgICAgICAgIGlmIChzdGFydFBvc2l0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY29yZCB0aGUgaW5pdGlhbCBkaW1lbnNpb25zIHNpbmNlIGFzIGFsbCBzdWJzZXF1ZW5jZSBtb3ZlcyBhcmUgcmVsYXRpdmUgdG8gdGhpc1xuICAgICAgICAgICAgICAgICAgICBzdGFydFBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxZOiB5LFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxIZWlnaHQ6IG92ZXJsYXlSZWN0LmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsWDogeCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsV2lkdGg6IG92ZXJsYXlSZWN0LndpZHRoLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgdG9wID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxldCBib3R0b20gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbGV0IGhlaWdodCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBsZXQgbGVmdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBsZXQgcmlnaHQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbGV0IHdpZHRoID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdmVUb3AgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IGNsYW1wKHksIC1OdW1iZXIuTUFYX1ZBTFVFLCBzdGFydFBvc2l0aW9uLm9yaWdpbmFsWSArXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFBvc2l0aW9uLm9yaWdpbmFsSGVpZ2h0ID5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclJlY3QuaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZ2V0TWluaW11bUhlaWdodChjb250YWluZXJSZWN0LmhlaWdodClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogTWF0aC5tYXgoMCwgc3RhcnRQb3NpdGlvbi5vcmlnaW5hbFkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9zaXRpb24ub3JpZ2luYWxIZWlnaHQgLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE92ZXJsYXkuTUlOSU1VTV9IRUlHSFQpKTtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9zaXRpb24ub3JpZ2luYWxZICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFBvc2l0aW9uLm9yaWdpbmFsSGVpZ2h0IC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A7XG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbSA9IGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gdG9wIC0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbW92ZUJvdHRvbSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9wID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9zaXRpb24ub3JpZ2luYWxZIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFBvc2l0aW9uLm9yaWdpbmFsSGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBjbGFtcCh5IC0gdG9wLCB0b3AgPCAwICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcy5vcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1pbmltdW1JblZpZXdwb3J0SGVpZ2h0ID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAtdG9wICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMubWluaW11bUluVmlld3BvcnRIZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIDogT3ZlcmxheS5NSU5JTVVNX0hFSUdIVCwgTnVtYmVyLk1BWF9WQUxVRSk7XG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbSA9IGNvbnRhaW5lclJlY3QuaGVpZ2h0IC0gdG9wIC0gaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgbW92ZUxlZnQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBjbGFtcCh4LCAtTnVtYmVyLk1BWF9WQUxVRSwgc3RhcnRQb3NpdGlvbi5vcmlnaW5hbFggK1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3NpdGlvbi5vcmlnaW5hbFdpZHRoID5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclJlY3Qud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5nZXRNaW5pbXVtV2lkdGgoY29udGFpbmVyUmVjdC53aWR0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogTWF0aC5tYXgoMCwgc3RhcnRQb3NpdGlvbi5vcmlnaW5hbFggK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9zaXRpb24ub3JpZ2luYWxXaWR0aCAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT3ZlcmxheS5NSU5JTVVNX1dJRFRIKSk7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UG9zaXRpb24ub3JpZ2luYWxYICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydFBvc2l0aW9uLm9yaWdpbmFsV2lkdGggLVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gY29udGFpbmVyUmVjdC53aWR0aCAtIGxlZnQgLSB3aWR0aDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vdmVSaWdodCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFBvc2l0aW9uLm9yaWdpbmFsWCAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3NpdGlvbi5vcmlnaW5hbFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IGNsYW1wKHggLSBsZWZ0LCBsZWZ0IDwgMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHRoaXMub3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5taW5pbXVtSW5WaWV3cG9ydFdpZHRoID09PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAtbGVmdCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLm1pbmltdW1JblZpZXdwb3J0V2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICAgIDogT3ZlcmxheS5NSU5JTVVNX1dJRFRILCBOdW1iZXIuTUFYX1ZBTFVFKTtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSBjb250YWluZXJSZWN0LndpZHRoIC0gbGVmdCAtIHdpZHRoO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVUb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZUJvdHRvbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZUxlZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlUmlnaHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0b3BsZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVUb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVMZWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9wcmlnaHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVRvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW92ZVJpZ2h0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tbGVmdCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlQm90dG9tKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZlTGVmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbXJpZ2h0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVCb3R0b20oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmVSaWdodCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGJvdW5kcyA9IHt9O1xuICAgICAgICAgICAgICAgIC8vIEFuY2hvciB0byB0b3Agb3IgdG8gYm90dG9tIGRlcGVuZGluZyBvbiB3aGljaCBvbmUgaXMgY2xvc2VyXG4gICAgICAgICAgICAgICAgaWYgKHRvcCA8PSBib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLnRvcCA9IHRvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5ib3R0b20gPSBib3R0b207XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEFuY2hvciB0byBsZWZ0IG9yIHRvIHJpZ2h0IGRlcGVuZGluZyBvbiB3aGljaCBvbmUgaXMgY2xvc2VyXG4gICAgICAgICAgICAgICAgaWYgKGxlZnQgPD0gcmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLmxlZnQgPSBsZWZ0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLnJpZ2h0ID0gcmlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJvdW5kcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgYm91bmRzLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRCb3VuZHMoYm91bmRzKTtcbiAgICAgICAgICAgIH0pLCB7XG4gICAgICAgICAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZnJhbWVzLnJlbGVhc2UoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSwgYWRkRGlzcG9zYWJsZUxpc3RlbmVyKHdpbmRvdywgJ3BvaW50ZXJ1cCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBtb3ZlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZUVuZC5maXJlKCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0TWluaW11bVdpZHRoKHdpZHRoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLm1pbmltdW1JblZpZXdwb3J0V2lkdGggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gd2lkdGggLSB0aGlzLm9wdGlvbnMubWluaW11bUluVmlld3BvcnRXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZ2V0TWluaW11bUhlaWdodChoZWlnaHQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMubWluaW11bUluVmlld3BvcnRIZWlnaHQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gaGVpZ2h0IC0gdGhpcy5vcHRpb25zLm1pbmltdW1JblZpZXdwb3J0SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBhcmlhbExldmVsVHJhY2tlci5kZXN0cm95KHRoaXMuX2VsZW1lbnQpO1xuICAgICAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgfVxufVxuT3ZlcmxheS5NSU5JTVVNX0hFSUdIVCA9IDIwO1xuT3ZlcmxheS5NSU5JTVVNX1dJRFRIID0gMjA7XG4iLCJpbXBvcnQgeyBEcmFnQW5kRHJvcE9ic2VydmVyIH0gZnJvbSAnLi4vZG5kL2RuZCc7XG5pbXBvcnQgeyBnZXREb21Ob2RlUGFnZVBvc2l0aW9uLCB0b2dnbGVDbGFzcyB9IGZyb20gJy4uL2RvbSc7XG5pbXBvcnQgeyBDb21wb3NpdGVEaXNwb3NhYmxlLCBEaXNwb3NhYmxlLCBNdXRhYmxlRGlzcG9zYWJsZSwgfSBmcm9tICcuLi9saWZlY3ljbGUnO1xuY2xhc3MgUG9zaXRpb25DYWNoZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuY3VycmVudEZyYW1lSWQgPSAwO1xuICAgICAgICB0aGlzLnJhZklkID0gbnVsbDtcbiAgICB9XG4gICAgZ2V0UG9zaXRpb24oZWxlbWVudCkge1xuICAgICAgICBjb25zdCBjYWNoZWQgPSB0aGlzLmNhY2hlLmdldChlbGVtZW50KTtcbiAgICAgICAgaWYgKGNhY2hlZCAmJiBjYWNoZWQuZnJhbWVJZCA9PT0gdGhpcy5jdXJyZW50RnJhbWVJZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZC5yZWN0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NoZWR1bGVGcmFtZVVwZGF0ZSgpO1xuICAgICAgICBjb25zdCByZWN0ID0gZ2V0RG9tTm9kZVBhZ2VQb3NpdGlvbihlbGVtZW50KTtcbiAgICAgICAgdGhpcy5jYWNoZS5zZXQoZWxlbWVudCwgeyByZWN0LCBmcmFtZUlkOiB0aGlzLmN1cnJlbnRGcmFtZUlkIH0pO1xuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICB9XG4gICAgaW52YWxpZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50RnJhbWVJZCsrO1xuICAgIH1cbiAgICBzY2hlZHVsZUZyYW1lVXBkYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5yYWZJZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5yYWZJZCA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRGcmFtZUlkKys7XG4gICAgICAgICAgICB0aGlzLnJhZklkID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRm9jdXNhYmxlRWxlbWVudCgpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWxlbWVudC50YWJJbmRleCA9IC0xO1xuICAgIHJldHVybiBlbGVtZW50O1xufVxuZXhwb3J0IGNsYXNzIE92ZXJsYXlSZW5kZXJDb250YWluZXIgZXh0ZW5kcyBDb21wb3NpdGVEaXNwb3NhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBhY2Nlc3Nvcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmFjY2Vzc29yID0gYWNjZXNzb3I7XG4gICAgICAgIHRoaXMubWFwID0ge307XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucG9zaXRpb25DYWNoZSA9IG5ldyBQb3NpdGlvbkNhY2hlKCk7XG4gICAgICAgIHRoaXMucGVuZGluZ1VwZGF0ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXMoRGlzcG9zYWJsZS5mcm9tKCgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLm1hcCkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB2YWx1ZS5kZXN0cm95LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB1cGRhdGVBbGxQb3NpdGlvbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kaXNwb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEludmFsaWRhdGUgcG9zaXRpb24gY2FjaGUgdG8gZm9yY2UgcmVjYWxjdWxhdGlvblxuICAgICAgICB0aGlzLnBvc2l0aW9uQ2FjaGUuaW52YWxpZGF0ZSgpO1xuICAgICAgICAvLyBDYWxsIHJlc2l6ZSBmdW5jdGlvbiBkaXJlY3RseSBmb3IgYWxsIHZpc2libGUgcGFuZWxzXG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLm1hcCkpIHtcbiAgICAgICAgICAgIGlmIChlbnRyeS5wYW5lbC5hcGkuaXNWaXNpYmxlICYmIGVudHJ5LnJlc2l6ZSkge1xuICAgICAgICAgICAgICAgIGVudHJ5LnJlc2l6ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGRldGF0Y2gocGFuZWwpIHtcbiAgICAgICAgaWYgKHRoaXMubWFwW3BhbmVsLmFwaS5pZF0pIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZGlzcG9zYWJsZSwgZGVzdHJveSB9ID0gdGhpcy5tYXBbcGFuZWwuYXBpLmlkXTtcbiAgICAgICAgICAgIGRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgZGVzdHJveS5kaXNwb3NlKCk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5tYXBbcGFuZWwuYXBpLmlkXTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYXR0YWNoKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBwYW5lbCwgcmVmZXJlbmNlQ29udGFpbmVyIH0gPSBvcHRpb25zO1xuICAgICAgICBpZiAoIXRoaXMubWFwW3BhbmVsLmFwaS5pZF0pIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjcmVhdGVGb2N1c2FibGVFbGVtZW50KCk7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9ICdkdi1yZW5kZXItb3ZlcmxheSc7XG4gICAgICAgICAgICB0aGlzLm1hcFtwYW5lbC5hcGkuaWRdID0ge1xuICAgICAgICAgICAgICAgIHBhbmVsLFxuICAgICAgICAgICAgICAgIGRpc3Bvc2FibGU6IERpc3Bvc2FibGUuTk9ORSxcbiAgICAgICAgICAgICAgICBkZXN0cm95OiBEaXNwb3NhYmxlLk5PTkUsXG4gICAgICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZm9jdXNDb250YWluZXIgPSB0aGlzLm1hcFtwYW5lbC5hcGkuaWRdLmVsZW1lbnQ7XG4gICAgICAgIGlmIChwYW5lbC52aWV3LmNvbnRlbnQuZWxlbWVudC5wYXJlbnRFbGVtZW50ICE9PSBmb2N1c0NvbnRhaW5lcikge1xuICAgICAgICAgICAgZm9jdXNDb250YWluZXIuYXBwZW5kQ2hpbGQocGFuZWwudmlldy5jb250ZW50LmVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb2N1c0NvbnRhaW5lci5wYXJlbnRFbGVtZW50ICE9PSB0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChmb2N1c0NvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzaXplID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFuZWxJZCA9IHBhbmVsLmFwaS5pZDtcbiAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdVcGRhdGVzLmhhcyhwYW5lbElkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gVXBkYXRlIGFscmVhZHkgc2NoZWR1bGVkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdVcGRhdGVzLmFkZChwYW5lbElkKTtcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nVXBkYXRlcy5kZWxldGUocGFuZWxJZCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCB8fCAhdGhpcy5tYXBbcGFuZWxJZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBib3ggPSB0aGlzLnBvc2l0aW9uQ2FjaGUuZ2V0UG9zaXRpb24ocmVmZXJlbmNlQ29udGFpbmVyLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJveDIgPSB0aGlzLnBvc2l0aW9uQ2FjaGUuZ2V0UG9zaXRpb24odGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgICAgICAvLyBVc2UgdHJhZGl0aW9uYWwgcG9zaXRpb25pbmcgZm9yIG92ZXJsYXkgY29udGFpbmVyc1xuICAgICAgICAgICAgICAgIGNvbnN0IGxlZnQgPSBib3gubGVmdCAtIGJveDIubGVmdDtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3AgPSBib3gudG9wIC0gYm94Mi50b3A7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSBib3gud2lkdGg7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVpZ2h0ID0gYm94LmhlaWdodDtcbiAgICAgICAgICAgICAgICBmb2N1c0NvbnRhaW5lci5zdHlsZS5sZWZ0ID0gYCR7bGVmdH1weGA7XG4gICAgICAgICAgICAgICAgZm9jdXNDb250YWluZXIuc3R5bGUudG9wID0gYCR7dG9wfXB4YDtcbiAgICAgICAgICAgICAgICBmb2N1c0NvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcbiAgICAgICAgICAgICAgICBmb2N1c0NvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUNsYXNzKGZvY3VzQ29udGFpbmVyLCAnZHYtcmVuZGVyLW92ZXJsYXktZmxvYXQnLCBwYW5lbC5ncm91cC5hcGkubG9jYXRpb24udHlwZSA9PT0gJ2Zsb2F0aW5nJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdmlzaWJpbGl0eUNoYW5nZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFuZWwuYXBpLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb25DYWNoZS5pbnZhbGlkYXRlKCk7XG4gICAgICAgICAgICAgICAgcmVzaXplKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb2N1c0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gcGFuZWwuYXBpLmlzVmlzaWJsZSA/ICcnIDogJ25vbmUnO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvYnNlcnZlckRpc3Bvc2FibGUgPSBuZXcgTXV0YWJsZURpc3Bvc2FibGUoKTtcbiAgICAgICAgY29uc3QgY29ycmVjdExheWVyUG9zaXRpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFuZWwuYXBpLmxvY2F0aW9uLnR5cGUgPT09ICdmbG9hdGluZycpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZsb2F0aW5nR3JvdXAgPSB0aGlzLmFjY2Vzc29yLmZsb2F0aW5nR3JvdXBzLmZpbmQoKGdyb3VwKSA9PiBncm91cC5ncm91cCA9PT0gcGFuZWwuYXBpLmdyb3VwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmbG9hdGluZ0dyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGZsb2F0aW5nR3JvdXAub3ZlcmxheS5lbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXZlbCA9IE51bWJlcihlbGVtZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1sZXZlbCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzQ29udGFpbmVyLnN0eWxlLnpJbmRleCA9IGBjYWxjKHZhcigtLWR2LW92ZXJsYXktei1pbmRleCwgOTk5KSArICR7bGV2ZWwgKiAyICsgMX0pYDtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyRGlzcG9zYWJsZS52YWx1ZSA9IERpc3Bvc2FibGUuZnJvbSgoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCkpO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZUZpbHRlcjogWydhcmlhLWxldmVsJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb2N1c0NvbnRhaW5lci5zdHlsZS56SW5kZXggPSAnJzsgLy8gcmVzZXQgdGhlIHotaW5kZXgsIHBlcmhhcHMgQ1NTIHdpbGwgdGFrZSBvdmVyIGhlcmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZGlzcG9zYWJsZSA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKG9ic2VydmVyRGlzcG9zYWJsZSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzaW5jZSBjb250YWluZXIgaXMgcG9zaXRpb25lZCBhYnNvdXRlbHkgd2UgbXVzdCBleHBsaWNpdGx5IGZvcndhcmRcbiAgICAgICAgICogdGhlIGRuZCBldmVudHMgZm9yIHRoZSBleHBlY3QgYmVoYXZpb3VycyB0byBjb250aW51ZSB0byBvY2N1ciBpbiB0ZXJtcyBvZiBkbmRcbiAgICAgICAgICpcbiAgICAgICAgICogdGhlIGRuZCBvYnNlcnZlciBkb2VzIG5vdCBuZWVkIHRvIGJlIGNvbmRpdGlvbmFsIG9uIHdoZXRoZXIgdGhlIHBhbmVsIGlzIHZpc2libGUgc2luY2VcbiAgICAgICAgICogbm9uLXZpc2libGUgcGFuZWxzIGFyZSAnZGlzcGxheTogbm9uZScgYW5kIGluIHN1Y2ggY2FzZSB0aGUgZG5kIG9ic2VydmVyIHdpbGwgbm90IGZpcmUuXG4gICAgICAgICAqL1xuICAgICAgICBuZXcgRHJhZ0FuZERyb3BPYnNlcnZlcihmb2N1c0NvbnRhaW5lciwge1xuICAgICAgICAgICAgb25EcmFnRW5kOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlZmVyZW5jZUNvbnRhaW5lci5kcm9wVGFyZ2V0LmRuZC5vbkRyYWdFbmQoZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25EcmFnRW50ZXI6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlQ29udGFpbmVyLmRyb3BUYXJnZXQuZG5kLm9uRHJhZ0VudGVyKGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRHJhZ0xlYXZlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlZmVyZW5jZUNvbnRhaW5lci5kcm9wVGFyZ2V0LmRuZC5vbkRyYWdMZWF2ZShlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRyb3A6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlQ29udGFpbmVyLmRyb3BUYXJnZXQuZG5kLm9uRHJvcChlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkRyYWdPdmVyOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlZmVyZW5jZUNvbnRhaW5lci5kcm9wVGFyZ2V0LmRuZC5vbkRyYWdPdmVyKGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksIHBhbmVsLmFwaS5vbkRpZFZpc2liaWxpdHlDaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDb250cm9sIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBjb250ZW50LCBob3dldmVyIGV2ZW4gd2hlbiBub3QgdmlzaWJsZSAoZGlzcGxheTogbm9uZSlcbiAgICAgICAgICAgICAqIHRoZSBjb250ZW50IGlzIHN0aWxsIG1haW50YWluZWQgd2l0aGluIHRoZSBET00gaGVuY2UgRE9NIHNwZWNpZmljIGF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAqIHN1Y2ggYXMgc2Nyb2xsIHBvc2l0aW9uIGFyZSBtYWludGFpbmVkIHdoZW4gbmV4dCBtYWRlIHZpc2libGUuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZpc2liaWxpdHlDaGFuZ2VkKCk7XG4gICAgICAgIH0pLCBwYW5lbC5hcGkub25EaWREaW1lbnNpb25zQ2hhbmdlKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghcGFuZWwuYXBpLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc2l6ZSgpO1xuICAgICAgICB9KSwgcGFuZWwuYXBpLm9uRGlkTG9jYXRpb25DaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgY29ycmVjdExheWVyUG9zaXRpb24oKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLm1hcFtwYW5lbC5hcGkuaWRdLmRlc3Ryb3kgPSBEaXNwb3NhYmxlLmZyb20oKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKHBhbmVsLnZpZXcuY29udGVudC5lbGVtZW50LnBhcmVudEVsZW1lbnQgPT09IGZvY3VzQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgZm9jdXNDb250YWluZXIucmVtb3ZlQ2hpbGQocGFuZWwudmlldy5jb250ZW50LmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKF9hID0gZm9jdXNDb250YWluZXIucGFyZW50RWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZUNoaWxkKGZvY3VzQ29udGFpbmVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvcnJlY3RMYXllclBvc2l0aW9uKCk7XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIHdhaXQgdW50aWwgZXZlcnl0aGluZyBoYXMgZmluaXNoZWQgaW4gdGhlIGN1cnJlbnQgc3RhY2stZnJhbWUgY2FsbCBiZWZvcmVcbiAgICAgICAgICAgICAqIGNhbGxpbmcgdGhlIGZpcnN0IHJlc2l6ZSBhcyBvdGhlciBzaXplLWFsdGVyaW5nIGV2ZW50cyBtYXkgc3RpbGwgb2NjdXIgYmVmb3JlXG4gICAgICAgICAgICAgKiB0aGUgZW5kIG9mIHRoZSBzdGFjay1mcmFtZS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmlzaWJpbGl0eUNoYW5nZWQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGRpc3Bvc2Ugb2YgbG9naWMgYXNvY2NjaWF0ZWQgd2l0aCBwcmV2aW91cyByZWZlcmVuY2UtY29udGFpbmVyXG4gICAgICAgIHRoaXMubWFwW3BhbmVsLmFwaS5pZF0uZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgIC8vIGFuZCByZXNldCB0aGUgZGlzcG9zYWJsZSB0byB0aGUgYWN0aXZlIHJlZmVyZW5jZS1jb250YWluZXJcbiAgICAgICAgdGhpcy5tYXBbcGFuZWwuYXBpLmlkXS5kaXNwb3NhYmxlID0gZGlzcG9zYWJsZTtcbiAgICAgICAgLy8gc3RvcmUgdGhlIHJlc2l6ZSBmdW5jdGlvbiBmb3IgZGlyZWN0IGFjY2Vzc1xuICAgICAgICB0aGlzLm1hcFtwYW5lbC5hcGkuaWRdLnJlc2l6ZSA9IHJlc2l6ZTtcbiAgICAgICAgcmV0dXJuIGZvY3VzQ29udGFpbmVyO1xuICAgIH1cbn1cbiIsImV4cG9ydCB7fTtcbiIsImltcG9ydCB7IGFkZERpc3Bvc2FibGVMaXN0ZW5lciB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBDb21wb3NpdGVEaXNwb3NhYmxlLCBNdXRhYmxlRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5pbXBvcnQgeyB0b2dnbGVDbGFzcyB9IGZyb20gJy4uL2RvbSc7XG5pbXBvcnQgeyBjcmVhdGVDaGV2cm9uUmlnaHRCdXR0b24sIGNyZWF0ZUV4cGFuZE1vcmVCdXR0b24gfSBmcm9tICcuLi9zdmcnO1xuZXhwb3J0IGNsYXNzIERlZmF1bHRIZWFkZXIgZXh0ZW5kcyBDb21wb3NpdGVEaXNwb3NhYmxlIHtcbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9leHBhbmRlZEljb24gPSBjcmVhdGVFeHBhbmRNb3JlQnV0dG9uKCk7XG4gICAgICAgIHRoaXMuX2NvbGxhcHNlZEljb24gPSBjcmVhdGVDaGV2cm9uUmlnaHRCdXR0b24oKTtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlID0gbmV3IE11dGFibGVEaXNwb3NhYmxlKCk7XG4gICAgICAgIHRoaXMuYXBpUmVmID0ge1xuICAgICAgICAgICAgYXBpOiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc05hbWUgPSAnZHYtZGVmYXVsdC1oZWFkZXInO1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICB0aGlzLl9leHBhbmRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLl9leHBhbmRlci5jbGFzc05hbWUgPSAnZHYtcGFuZS1oZWFkZXItaWNvbic7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9leHBhbmRlcik7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLl9jb250ZW50KTtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyhhZGREaXNwb3NhYmxlTGlzdGVuZXIodGhpcy5fZWxlbWVudCwgJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5hcGlSZWYuYXBpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0RXhwYW5kZWQoIXRoaXMuYXBpUmVmLmFwaS5pc0V4cGFuZGVkKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBpbml0KHBhcmFtcykge1xuICAgICAgICB0aGlzLmFwaVJlZi5hcGkgPSBwYXJhbXMuYXBpO1xuICAgICAgICB0aGlzLl9jb250ZW50LnRleHRDb250ZW50ID0gcGFyYW1zLnRpdGxlO1xuICAgICAgICB0aGlzLnVwZGF0ZUljb24oKTtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlLnZhbHVlID0gcGFyYW1zLmFwaS5vbkRpZEV4cGFuc2lvbkNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUljb24oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVwZGF0ZUljb24oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgaXNFeHBhbmRlZCA9ICEhKChfYSA9IHRoaXMuYXBpUmVmLmFwaSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlzRXhwYW5kZWQpO1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLl9leHBhbmRlciwgJ2NvbGxhcHNlZCcsICFpc0V4cGFuZGVkKTtcbiAgICAgICAgaWYgKGlzRXhwYW5kZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9leHBhbmRlci5jb250YWlucyh0aGlzLl9jb2xsYXBzZWRJY29uKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbGxhcHNlZEljb24ucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2V4cGFuZGVyLmNvbnRhaW5zKHRoaXMuX2V4cGFuZGVkSWNvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRlci5hcHBlbmRDaGlsZCh0aGlzLl9leHBhbmRlZEljb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2V4cGFuZGVyLmNvbnRhaW5zKHRoaXMuX2V4cGFuZGVkSWNvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRlZEljb24ucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2V4cGFuZGVyLmNvbnRhaW5zKHRoaXMuX2NvbGxhcHNlZEljb24pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kZXIuYXBwZW5kQ2hpbGQodGhpcy5fY29sbGFwc2VkSWNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlKF9wYXJhbXMpIHtcbiAgICAgICAgLy9cbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFBhbmV2aWV3QXBpIH0gZnJvbSAnLi4vYXBpL2NvbXBvbmVudC5hcGknO1xuaW1wb3J0IHsgRHJhZ0hhbmRsZXIgfSBmcm9tICcuLi9kbmQvYWJzdHJhY3REcmFnSGFuZGxlcic7XG5pbXBvcnQgeyBnZXRQYW5lRGF0YSwgTG9jYWxTZWxlY3Rpb25UcmFuc2ZlciwgUGFuZVRyYW5zZmVyLCB9IGZyb20gJy4uL2RuZC9kYXRhVHJhbnNmZXInO1xuaW1wb3J0IHsgRHJvcHRhcmdldCB9IGZyb20gJy4uL2RuZC9kcm9wdGFyZ2V0JztcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgUGFuZXZpZXdVbmhhbmRsZWREcmFnT3ZlckV2ZW50LCB9IGZyb20gJy4vb3B0aW9ucyc7XG5pbXBvcnQgeyBQYW5ldmlld1BhbmVsLCB9IGZyb20gJy4vcGFuZXZpZXdQYW5lbCc7XG5leHBvcnQgY2xhc3MgRHJhZ2dhYmxlUGFuZXZpZXdQYW5lbCBleHRlbmRzIFBhbmV2aWV3UGFuZWwge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgaWQ6IG9wdGlvbnMuaWQsXG4gICAgICAgICAgICBjb21wb25lbnQ6IG9wdGlvbnMuY29tcG9uZW50LFxuICAgICAgICAgICAgaGVhZGVyQ29tcG9uZW50OiBvcHRpb25zLmhlYWRlckNvbXBvbmVudCxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBvcHRpb25zLm9yaWVudGF0aW9uLFxuICAgICAgICAgICAgaXNFeHBhbmRlZDogb3B0aW9ucy5pc0V4cGFuZGVkLFxuICAgICAgICAgICAgaXNIZWFkZXJWaXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgaGVhZGVyU2l6ZTogb3B0aW9ucy5oZWFkZXJTaXplLFxuICAgICAgICAgICAgbWluaW11bUJvZHlTaXplOiBvcHRpb25zLm1pbmltdW1Cb2R5U2l6ZSxcbiAgICAgICAgICAgIG1heGltdW1Cb2R5U2l6ZTogb3B0aW9ucy5tYXhpbXVtQm9keVNpemUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9vbkRpZERyb3AgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkRHJvcCA9IHRoaXMuX29uRGlkRHJvcC5ldmVudDtcbiAgICAgICAgdGhpcy5fb25VbmhhbmRsZWREcmFnT3ZlckV2ZW50ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vblVuaGFuZGxlZERyYWdPdmVyRXZlbnQgPSB0aGlzLl9vblVuaGFuZGxlZERyYWdPdmVyRXZlbnQuZXZlbnQ7XG4gICAgICAgIHRoaXMuYWNjZXNzb3IgPSBvcHRpb25zLmFjY2Vzc29yO1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKHRoaXMuX29uRGlkRHJvcCwgdGhpcy5fb25VbmhhbmRsZWREcmFnT3ZlckV2ZW50KTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmRpc2FibGVEbmQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdERyYWdGZWF0dXJlcygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluaXREcmFnRmVhdHVyZXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5oZWFkZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIGNvbnN0IGFjY2Vzc29ySWQgPSB0aGlzLmFjY2Vzc29yLmlkO1xuICAgICAgICB0aGlzLmhlYWRlci5kcmFnZ2FibGUgPSB0cnVlO1xuICAgICAgICB0aGlzLmhhbmRsZXIgPSBuZXcgKGNsYXNzIFBhbmVEcmFnSGFuZGxlciBleHRlbmRzIERyYWdIYW5kbGVyIHtcbiAgICAgICAgICAgIGdldERhdGEoKSB7XG4gICAgICAgICAgICAgICAgTG9jYWxTZWxlY3Rpb25UcmFuc2Zlci5nZXRJbnN0YW5jZSgpLnNldERhdGEoW25ldyBQYW5lVHJhbnNmZXIoYWNjZXNzb3JJZCwgaWQpXSwgUGFuZVRyYW5zZmVyLnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgTG9jYWxTZWxlY3Rpb25UcmFuc2Zlci5nZXRJbnN0YW5jZSgpLmNsZWFyRGF0YShQYW5lVHJhbnNmZXIucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSh0aGlzLmhlYWRlcik7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gbmV3IERyb3B0YXJnZXQodGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBhY2NlcHRlZFRhcmdldFpvbmVzOiBbJ3RvcCcsICdib3R0b20nXSxcbiAgICAgICAgICAgIG92ZXJsYXlNb2RlbDoge1xuICAgICAgICAgICAgICAgIGFjdGl2YXRpb25TaXplOiB7IHR5cGU6ICdwZXJjZW50YWdlJywgdmFsdWU6IDUwIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuRGlzcGxheU92ZXJsYXk6IChldmVudCwgcG9zaXRpb24pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZ2V0UGFuZURhdGEoKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5wYW5lSWQgIT09IHRoaXMuaWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudmlld0lkID09PSB0aGlzLmFjY2Vzc29yLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBmaXJlZEV2ZW50ID0gbmV3IFBhbmV2aWV3VW5oYW5kbGVkRHJhZ092ZXJFdmVudChldmVudCwgcG9zaXRpb24sIGdldFBhbmVEYXRhLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblVuaGFuZGxlZERyYWdPdmVyRXZlbnQuZmlyZShmaXJlZEV2ZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlyZWRFdmVudC5pc0FjY2VwdGVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fb25EaWREcm9wLCB0aGlzLmhhbmRsZXIsIHRoaXMudGFyZ2V0LCB0aGlzLnRhcmdldC5vbkRyb3AoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm9uRHJvcChldmVudCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgb25Ecm9wKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBnZXRQYW5lRGF0YSgpO1xuICAgICAgICBpZiAoIWRhdGEgfHwgZGF0YS52aWV3SWQgIT09IHRoaXMuYWNjZXNzb3IuaWQpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGxvY2FsIGRyYWcgZXZlbnQgZm9yIHRoaXMgcGFuZWxcbiAgICAgICAgICAgIC8vIG9yIGlmIHRoZSBkcmFnIGV2ZW50IHdhcyBjcmVhdGluZyBieSBhbm90aGVyIFBhbmV2aWV3IGluc3RhbmNlXG4gICAgICAgICAgICB0aGlzLl9vbkRpZERyb3AuZmlyZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGV2ZW50KSwgeyBwYW5lbDogdGhpcywgYXBpOiBuZXcgUGFuZXZpZXdBcGkodGhpcy5hY2Nlc3NvciksIGdldERhdGE6IGdldFBhbmVEYXRhIH0pKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250YWluZXJBcGkgPSB0aGlzLl9wYXJhbXNcbiAgICAgICAgICAgIC5jb250YWluZXJBcGk7XG4gICAgICAgIGNvbnN0IHBhbmVsSWQgPSBkYXRhLnBhbmVJZDtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdQYW5lbCA9IGNvbnRhaW5lckFwaS5nZXRQYW5lbChwYW5lbElkKTtcbiAgICAgICAgaWYgKCFleGlzdGluZ1BhbmVsKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgcGFuZWwgZG9lc24ndCBleGlzdFxuICAgICAgICAgICAgdGhpcy5fb25EaWREcm9wLmZpcmUoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBldmVudCksIHsgcGFuZWw6IHRoaXMsIGdldERhdGE6IGdldFBhbmVEYXRhLCBhcGk6IG5ldyBQYW5ldmlld0FwaSh0aGlzLmFjY2Vzc29yKSB9KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWxsUGFuZWxzID0gY29udGFpbmVyQXBpLnBhbmVscztcbiAgICAgICAgY29uc3QgZnJvbUluZGV4ID0gYWxsUGFuZWxzLmluZGV4T2YoZXhpc3RpbmdQYW5lbCk7XG4gICAgICAgIGxldCB0b0luZGV4ID0gY29udGFpbmVyQXBpLnBhbmVscy5pbmRleE9mKHRoaXMpO1xuICAgICAgICBpZiAoZXZlbnQucG9zaXRpb24gPT09ICdsZWZ0JyB8fCBldmVudC5wb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgIHRvSW5kZXggPSBNYXRoLm1heCgwLCB0b0luZGV4IC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LnBvc2l0aW9uID09PSAncmlnaHQnIHx8IGV2ZW50LnBvc2l0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgaWYgKGZyb21JbmRleCA+IHRvSW5kZXgpIHtcbiAgICAgICAgICAgICAgICB0b0luZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b0luZGV4ID0gTWF0aC5taW4oYWxsUGFuZWxzLmxlbmd0aCAtIDEsIHRvSW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lckFwaS5tb3ZlUGFuZWwoZnJvbUluZGV4LCB0b0luZGV4KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBY2NlcHRhYmxlRXZlbnQgfSBmcm9tICcuLi9ldmVudHMnO1xuZXhwb3J0IGNvbnN0IFBST1BFUlRZX0tFWVNfUEFORVZJRVcgPSAoKCkgPT4ge1xuICAgIC8qKlxuICAgICAqIGJ5IHJlYWRvbmcgdGhlIGtleXMgZnJvbSBhbiBlbXB0eSB2YWx1ZSBvYmplY3QgVHlwZVNjcmlwdCB3aWxsIGVycm9yXG4gICAgICogd2hlbiB3ZSBhZGQgb3IgcmVtb3ZlIG5ldyBwcm9wZXJ0aWVzIHRvIGBEb2Nrdmlld09wdGlvbnNgXG4gICAgICovXG4gICAgY29uc3QgcHJvcGVydGllcyA9IHtcbiAgICAgICAgZGlzYWJsZUF1dG9SZXNpemluZzogdW5kZWZpbmVkLFxuICAgICAgICBkaXNhYmxlRG5kOiB1bmRlZmluZWQsXG4gICAgICAgIGNsYXNzTmFtZTogdW5kZWZpbmVkLFxuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BlcnRpZXMpO1xufSkoKTtcbmV4cG9ydCBjbGFzcyBQYW5ldmlld1VuaGFuZGxlZERyYWdPdmVyRXZlbnQgZXh0ZW5kcyBBY2NlcHRhYmxlRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKG5hdGl2ZUV2ZW50LCBwb3NpdGlvbiwgZ2V0RGF0YSwgcGFuZWwpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHRoaXMuZ2V0RGF0YSA9IGdldERhdGE7XG4gICAgICAgIHRoaXMucGFuZWwgPSBwYW5lbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBTcGxpdHZpZXcsIE9yaWVudGF0aW9uLCB9IGZyb20gJy4uL3NwbGl0dmlldy9zcGxpdHZpZXcnO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IGFkZENsYXNzZXMsIHJlbW92ZUNsYXNzZXMgfSBmcm9tICcuLi9kb20nO1xuZXhwb3J0IGNsYXNzIFBhbmV2aWV3IGV4dGVuZHMgQ29tcG9zaXRlRGlzcG9zYWJsZSB7XG4gICAgZ2V0IG9uRGlkQWRkVmlldygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BsaXR2aWV3Lm9uRGlkQWRkVmlldztcbiAgICB9XG4gICAgZ2V0IG9uRGlkUmVtb3ZlVmlldygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BsaXR2aWV3Lm9uRGlkUmVtb3ZlVmlldztcbiAgICB9XG4gICAgZ2V0IG1pbmltdW1TaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGxpdHZpZXcubWluaW11bVNpemU7XG4gICAgfVxuICAgIGdldCBtYXhpbXVtU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BsaXR2aWV3Lm1heGltdW1TaXplO1xuICAgIH1cbiAgICBnZXQgb3JpZW50YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwbGl0dmlldy5vcmllbnRhdGlvbjtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwbGl0dmlldy5zaXplO1xuICAgIH1cbiAgICBnZXQgb3J0aG9nb25hbFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwbGl0dmlldy5vcnRob2dvbmFsU2l6ZTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5wYW5lSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5za2lwQW5pbWF0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZENoYW5nZSA9IHRoaXMuX29uRGlkQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9vcmllbnRhdGlvbiA9IChfYSA9IG9wdGlvbnMub3JpZW50YXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IE9yaWVudGF0aW9uLlZFUlRJQ0FMO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTmFtZSA9ICdkdi1wYW5lLWNvbnRhaW5lcic7XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLnNwbGl0dmlldyA9IG5ldyBTcGxpdHZpZXcodGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBvcmllbnRhdGlvbjogdGhpcy5fb3JpZW50YXRpb24sXG4gICAgICAgICAgICBwcm9wb3J0aW9uYWxMYXlvdXQ6IGZhbHNlLFxuICAgICAgICAgICAgZGVzY3JpcHRvcjogb3B0aW9ucy5kZXNjcmlwdG9yLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gaWYgd2UndmUgYWRkZWQgdmlld3MgZnJvbSB0aGUgZGVzY3JpcHRvciB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIGFkZCB0aGUgcGFuZXMgdG8gb3VyIFBhbmUgYXJyYXkgYW5kIHNldHVwIGFuaW1hdGlvblxuICAgICAgICB0aGlzLmdldFBhbmVzKCkuZm9yRWFjaCgocGFuZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGlzcG9zYWJsZSA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKHBhbmUub25EaWRDaGFuZ2VFeHBhbnNpb25TdGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlLmZpcmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVJdGVtID0ge1xuICAgICAgICAgICAgICAgIHBhbmUsXG4gICAgICAgICAgICAgICAgZGlzcG9zYWJsZToge1xuICAgICAgICAgICAgICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMucGFuZUl0ZW1zLnB1c2gocGFuZUl0ZW0pO1xuICAgICAgICAgICAgcGFuZS5vcnRob2dvbmFsU2l6ZSA9IHRoaXMuc3BsaXR2aWV3Lm9ydGhvZ29uYWxTaXplO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyh0aGlzLl9vbkRpZENoYW5nZSwgdGhpcy5zcGxpdHZpZXcub25EaWRTYXNoRW5kKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlLmZpcmUodW5kZWZpbmVkKTtcbiAgICAgICAgfSksIHRoaXMuc3BsaXR2aWV3Lm9uRGlkQWRkVmlldygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZS5maXJlKCk7XG4gICAgICAgIH0pLCB0aGlzLnNwbGl0dmlldy5vbkRpZFJlbW92ZVZpZXcoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UuZmlyZSgpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHNldFZpZXdWaXNpYmxlKGluZGV4LCB2aXNpYmxlKSB7XG4gICAgICAgIHRoaXMuc3BsaXR2aWV3LnNldFZpZXdWaXNpYmxlKGluZGV4LCB2aXNpYmxlKTtcbiAgICB9XG4gICAgYWRkUGFuZShwYW5lLCBzaXplLCBpbmRleCA9IHRoaXMuc3BsaXR2aWV3Lmxlbmd0aCwgc2tpcExheW91dCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGRpc3Bvc2FibGUgPSBwYW5lLm9uRGlkQ2hhbmdlRXhwYW5zaW9uU3RhdGUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXR1cEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UuZmlyZSh1bmRlZmluZWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcGFuZUl0ZW0gPSB7XG4gICAgICAgICAgICBwYW5lLFxuICAgICAgICAgICAgZGlzcG9zYWJsZToge1xuICAgICAgICAgICAgICAgIGRpc3Bvc2U6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucGFuZUl0ZW1zLnNwbGljZShpbmRleCwgMCwgcGFuZUl0ZW0pO1xuICAgICAgICBwYW5lLm9ydGhvZ29uYWxTaXplID0gdGhpcy5zcGxpdHZpZXcub3J0aG9nb25hbFNpemU7XG4gICAgICAgIHRoaXMuc3BsaXR2aWV3LmFkZFZpZXcocGFuZSwgc2l6ZSwgaW5kZXgsIHNraXBMYXlvdXQpO1xuICAgIH1cbiAgICBnZXRWaWV3U2l6ZShpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGxpdHZpZXcuZ2V0Vmlld1NpemUoaW5kZXgpO1xuICAgIH1cbiAgICBnZXRQYW5lcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BsaXR2aWV3LmdldFZpZXdzKCk7XG4gICAgfVxuICAgIHJlbW92ZVBhbmUoaW5kZXgsIG9wdGlvbnMgPSB7IHNraXBEaXNwb3NlOiBmYWxzZSB9KSB7XG4gICAgICAgIGNvbnN0IHBhbmVJdGVtID0gdGhpcy5wYW5lSXRlbXMuc3BsaWNlKGluZGV4LCAxKVswXTtcbiAgICAgICAgdGhpcy5zcGxpdHZpZXcucmVtb3ZlVmlldyhpbmRleCk7XG4gICAgICAgIGlmICghb3B0aW9ucy5za2lwRGlzcG9zZSkge1xuICAgICAgICAgICAgcGFuZUl0ZW0uZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgICAgICBwYW5lSXRlbS5wYW5lLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFuZUl0ZW07XG4gICAgfVxuICAgIG1vdmVWaWV3KGZyb20sIHRvKSB7XG4gICAgICAgIGlmIChmcm9tID09PSB0bykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLnJlbW92ZVBhbmUoZnJvbSwgeyBza2lwRGlzcG9zZTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5za2lwQW5pbWF0aW9uID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuYWRkUGFuZSh2aWV3LnBhbmUsIHZpZXcucGFuZS5zaXplLCB0bywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5za2lwQW5pbWF0aW9uID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGF5b3V0KHNpemUsIG9ydGhvZ29uYWxTaXplKSB7XG4gICAgICAgIHRoaXMuc3BsaXR2aWV3LmxheW91dChzaXplLCBvcnRob2dvbmFsU2l6ZSk7XG4gICAgfVxuICAgIHNldHVwQW5pbWF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5za2lwQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmFuaW1hdGlvblRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmVsZW1lbnQsICdkdi1hbmltYXRlZCcpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3Nlcyh0aGlzLmVsZW1lbnQsICdkdi1hbmltYXRlZCcpO1xuICAgICAgICB9LCAyMDApO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICBzdXBlci5kaXNwb3NlKCk7XG4gICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5hbmltYXRpb25UaW1lcik7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFuZUl0ZW1zLmZvckVhY2goKHBhbmVJdGVtKSA9PiB7XG4gICAgICAgICAgICBwYW5lSXRlbS5kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHBhbmVJdGVtLnBhbmUuZGlzcG9zZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wYW5lSXRlbXMgPSBbXTtcbiAgICAgICAgdGhpcy5zcGxpdHZpZXcuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUGFuZXZpZXdBcGkgfSBmcm9tICcuLi9hcGkvY29tcG9uZW50LmFwaSc7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IENvbXBvc2l0ZURpc3Bvc2FibGUsIE11dGFibGVEaXNwb3NhYmxlLCB9IGZyb20gJy4uL2xpZmVjeWNsZSc7XG5pbXBvcnQgeyBPcmllbnRhdGlvbiwgU2l6aW5nIH0gZnJvbSAnLi4vc3BsaXR2aWV3L3NwbGl0dmlldyc7XG5pbXBvcnQgeyBQYW5ldmlldyB9IGZyb20gJy4vcGFuZXZpZXcnO1xuaW1wb3J0IHsgRHJhZ2dhYmxlUGFuZXZpZXdQYW5lbCwgfSBmcm9tICcuL2RyYWdnYWJsZVBhbmV2aWV3UGFuZWwnO1xuaW1wb3J0IHsgRGVmYXVsdEhlYWRlciB9IGZyb20gJy4vZGVmYXVsdFBhbmV2aWV3SGVhZGVyJztcbmltcG9ydCB7IHNlcXVlbnRpYWxOdW1iZXJHZW5lcmF0b3IgfSBmcm9tICcuLi9tYXRoJztcbmltcG9ydCB7IFJlc2l6YWJsZSB9IGZyb20gJy4uL3Jlc2l6YWJsZSc7XG5pbXBvcnQgeyBDbGFzc25hbWVzIH0gZnJvbSAnLi4vZG9tJztcbmNvbnN0IG5leHRMYXlvdXRJZCA9IHNlcXVlbnRpYWxOdW1iZXJHZW5lcmF0b3IoKTtcbmNvbnN0IEhFQURFUl9TSVpFID0gMjI7XG5jb25zdCBNSU5JTVVNX0JPRFlfU0laRSA9IDA7XG5jb25zdCBNQVhJTVVNX0JPRFlfU0laRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuZXhwb3J0IGNsYXNzIFBhbmVGcmFtZXdvcmsgZXh0ZW5kcyBEcmFnZ2FibGVQYW5ldmlld1BhbmVsIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGFjY2Vzc29yOiBvcHRpb25zLmFjY2Vzc29yLFxuICAgICAgICAgICAgaWQ6IG9wdGlvbnMuaWQsXG4gICAgICAgICAgICBjb21wb25lbnQ6IG9wdGlvbnMuY29tcG9uZW50LFxuICAgICAgICAgICAgaGVhZGVyQ29tcG9uZW50OiBvcHRpb25zLmhlYWRlckNvbXBvbmVudCxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBvcHRpb25zLm9yaWVudGF0aW9uLFxuICAgICAgICAgICAgaXNFeHBhbmRlZDogb3B0aW9ucy5pc0V4cGFuZGVkLFxuICAgICAgICAgICAgZGlzYWJsZURuZDogb3B0aW9ucy5kaXNhYmxlRG5kLFxuICAgICAgICAgICAgaGVhZGVyU2l6ZTogb3B0aW9ucy5oZWFkZXJTaXplLFxuICAgICAgICAgICAgbWluaW11bUJvZHlTaXplOiBvcHRpb25zLm1pbmltdW1Cb2R5U2l6ZSxcbiAgICAgICAgICAgIG1heGltdW1Cb2R5U2l6ZTogb3B0aW9ucy5tYXhpbXVtQm9keVNpemUsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICBnZXRCb2R5Q29tcG9uZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLmJvZHk7XG4gICAgfVxuICAgIGdldEhlYWRlckNvbXBvbmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5oZWFkZXI7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFBhbmV2aWV3Q29tcG9uZW50IGV4dGVuZHMgUmVzaXphYmxlIHtcbiAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9XG4gICAgZ2V0IHBhbmVscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFuZXZpZXcuZ2V0UGFuZXMoKTtcbiAgICB9XG4gICAgc2V0IHBhbmV2aWV3KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3BhbmV2aWV3ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2Rpc3Bvc2FibGUudmFsdWUgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZSh0aGlzLl9wYW5ldmlldy5vbkRpZENoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkRpZExheW91dENoYW5nZS5maXJlKHVuZGVmaW5lZCk7XG4gICAgICAgIH0pLCB0aGlzLl9wYW5ldmlldy5vbkRpZEFkZFZpZXcoKGUpID0+IHRoaXMuX29uRGlkQWRkVmlldy5maXJlKGUpKSwgdGhpcy5fcGFuZXZpZXcub25EaWRSZW1vdmVWaWV3KChlKSA9PiB0aGlzLl9vbkRpZFJlbW92ZVZpZXcuZmlyZShlKSkpO1xuICAgIH1cbiAgICBnZXQgcGFuZXZpZXcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYW5ldmlldztcbiAgICB9XG4gICAgZ2V0IG1pbmltdW1TaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYW5ldmlldy5taW5pbXVtU2l6ZTtcbiAgICB9XG4gICAgZ2V0IG1heGltdW1TaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYW5ldmlldy5tYXhpbXVtU2l6ZTtcbiAgICB9XG4gICAgZ2V0IGhlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFuZXZpZXcub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICAgICAgICAgID8gdGhpcy5wYW5ldmlldy5vcnRob2dvbmFsU2l6ZVxuICAgICAgICAgICAgOiB0aGlzLnBhbmV2aWV3LnNpemU7XG4gICAgfVxuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFuZXZpZXcub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICAgICAgICAgID8gdGhpcy5wYW5ldmlldy5zaXplXG4gICAgICAgICAgICA6IHRoaXMucGFuZXZpZXcub3J0aG9nb25hbFNpemU7XG4gICAgfVxuICAgIGdldCBvcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucztcbiAgICB9XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgc3VwZXIoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIG9wdGlvbnMuZGlzYWJsZUF1dG9SZXNpemluZyk7XG4gICAgICAgIHRoaXMuX2lkID0gbmV4dExheW91dElkLm5leHQoKTtcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZSA9IG5ldyBNdXRhYmxlRGlzcG9zYWJsZSgpO1xuICAgICAgICB0aGlzLl92aWV3RGlzcG9zYWJsZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX29uRGlkTGF5b3V0ZnJvbUpTT04gPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkTGF5b3V0RnJvbUpTT04gPSB0aGlzLl9vbkRpZExheW91dGZyb21KU09OLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZExheW91dENoYW5nZSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRMYXlvdXRDaGFuZ2UgPSB0aGlzLl9vbkRpZExheW91dENoYW5nZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWREcm9wID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZERyb3AgPSB0aGlzLl9vbkRpZERyb3AuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkQWRkVmlldyA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRBZGRWaWV3ID0gdGhpcy5fb25EaWRBZGRWaWV3LmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZFJlbW92ZVZpZXcgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkUmVtb3ZlVmlldyA9IHRoaXMuX29uRGlkUmVtb3ZlVmlldy5ldmVudDtcbiAgICAgICAgdGhpcy5fb25VbmhhbmRsZWREcmFnT3ZlckV2ZW50ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vblVuaGFuZGxlZERyYWdPdmVyRXZlbnQgPSB0aGlzLl9vblVuaGFuZGxlZERyYWdPdmVyRXZlbnQuZXZlbnQ7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyh0aGlzLl9vbkRpZExheW91dENoYW5nZSwgdGhpcy5fb25EaWRMYXlvdXRmcm9tSlNPTiwgdGhpcy5fb25EaWREcm9wLCB0aGlzLl9vbkRpZEFkZFZpZXcsIHRoaXMuX29uRGlkUmVtb3ZlVmlldywgdGhpcy5fb25VbmhhbmRsZWREcmFnT3ZlckV2ZW50KTtcbiAgICAgICAgdGhpcy5fY2xhc3NOYW1lcyA9IG5ldyBDbGFzc25hbWVzKHRoaXMuZWxlbWVudCk7XG4gICAgICAgIHRoaXMuX2NsYXNzTmFtZXMuc2V0Q2xhc3NOYW1lcygoX2EgPSBvcHRpb25zLmNsYXNzTmFtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycpO1xuICAgICAgICAvLyB0aGUgY29udGFpbmVyIGlzIG93bmVkIGJ5IHRoZSB0aGlyZC1wYXJ0eSwgZG8gbm90IG1vZGlmeS9kZWxldGUgaXRcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnBhbmV2aWV3ID0gbmV3IFBhbmV2aWV3KHRoaXMuZWxlbWVudCwge1xuICAgICAgICAgICAgLy8gb25seSBhbGxvdyBwYW5ldmlldyBpbiB0aGUgdmVydGljYWwgb3JpZW50YXRpb24gZm9yIG5vd1xuICAgICAgICAgICAgb3JpZW50YXRpb246IE9yaWVudGF0aW9uLlZFUlRJQ0FMLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hZGREaXNwb3NhYmxlcyh0aGlzLl9kaXNwb3NhYmxlKTtcbiAgICB9XG4gICAgc2V0VmlzaWJsZShwYW5lbCwgdmlzaWJsZSkge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMucGFuZWxzLmluZGV4T2YocGFuZWwpO1xuICAgICAgICB0aGlzLnBhbmV2aWV3LnNldFZpZXdWaXNpYmxlKGluZGV4LCB2aXNpYmxlKTtcbiAgICB9XG4gICAgZm9jdXMoKSB7XG4gICAgICAgIC8vbm9vcFxuICAgIH1cbiAgICB1cGRhdGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCdjbGFzc05hbWUnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuX2NsYXNzTmFtZXMuc2V0Q2xhc3NOYW1lcygoX2EgPSBvcHRpb25zLmNsYXNzTmFtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZGlzYWJsZVJlc2l6aW5nJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVSZXNpemluZyA9IChfYiA9IG9wdGlvbnMuZGlzYWJsZUF1dG9SZXNpemluZykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFkZFBhbmVsKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMub3B0aW9ucy5jcmVhdGVDb21wb25lbnQoe1xuICAgICAgICAgICAgaWQ6IG9wdGlvbnMuaWQsXG4gICAgICAgICAgICBuYW1lOiBvcHRpb25zLmNvbXBvbmVudCxcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBoZWFkZXI7XG4gICAgICAgIGlmIChvcHRpb25zLmhlYWRlckNvbXBvbmVudCAmJiB0aGlzLm9wdGlvbnMuY3JlYXRlSGVhZGVyQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBoZWFkZXIgPSB0aGlzLm9wdGlvbnMuY3JlYXRlSGVhZGVyQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICBpZDogb3B0aW9ucy5pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBvcHRpb25zLmhlYWRlckNvbXBvbmVudCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgICAgICBoZWFkZXIgPSBuZXcgRGVmYXVsdEhlYWRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgUGFuZUZyYW1ld29yayh7XG4gICAgICAgICAgICBpZDogb3B0aW9ucy5pZCxcbiAgICAgICAgICAgIGNvbXBvbmVudDogb3B0aW9ucy5jb21wb25lbnQsXG4gICAgICAgICAgICBoZWFkZXJDb21wb25lbnQ6IG9wdGlvbnMuaGVhZGVyQ29tcG9uZW50LFxuICAgICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBPcmllbnRhdGlvbi5WRVJUSUNBTCxcbiAgICAgICAgICAgIGlzRXhwYW5kZWQ6ICEhb3B0aW9ucy5pc0V4cGFuZGVkLFxuICAgICAgICAgICAgZGlzYWJsZURuZDogISF0aGlzLm9wdGlvbnMuZGlzYWJsZURuZCxcbiAgICAgICAgICAgIGFjY2Vzc29yOiB0aGlzLFxuICAgICAgICAgICAgaGVhZGVyU2l6ZTogKF9hID0gb3B0aW9ucy5oZWFkZXJTaXplKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBIRUFERVJfU0laRSxcbiAgICAgICAgICAgIG1pbmltdW1Cb2R5U2l6ZTogTUlOSU1VTV9CT0RZX1NJWkUsXG4gICAgICAgICAgICBtYXhpbXVtQm9keVNpemU6IE1BWElNVU1fQk9EWV9TSVpFLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kb0FkZFBhbmVsKHZpZXcpO1xuICAgICAgICBjb25zdCBzaXplID0gdHlwZW9mIG9wdGlvbnMuc2l6ZSA9PT0gJ251bWJlcicgPyBvcHRpb25zLnNpemUgOiBTaXppbmcuRGlzdHJpYnV0ZTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0eXBlb2Ygb3B0aW9ucy5pbmRleCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmluZGV4IDogdW5kZWZpbmVkO1xuICAgICAgICB2aWV3LmluaXQoe1xuICAgICAgICAgICAgcGFyYW1zOiAoX2IgPSBvcHRpb25zLnBhcmFtcykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDoge30sXG4gICAgICAgICAgICBtaW5pbXVtQm9keVNpemU6IG9wdGlvbnMubWluaW11bUJvZHlTaXplLFxuICAgICAgICAgICAgbWF4aW11bUJvZHlTaXplOiBvcHRpb25zLm1heGltdW1Cb2R5U2l6ZSxcbiAgICAgICAgICAgIGlzRXhwYW5kZWQ6IG9wdGlvbnMuaXNFeHBhbmRlZCxcbiAgICAgICAgICAgIHRpdGxlOiBvcHRpb25zLnRpdGxlLFxuICAgICAgICAgICAgY29udGFpbmVyQXBpOiBuZXcgUGFuZXZpZXdBcGkodGhpcyksXG4gICAgICAgICAgICBhY2Nlc3NvcjogdGhpcyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGFuZXZpZXcuYWRkUGFuZSh2aWV3LCBzaXplLCBpbmRleCk7XG4gICAgICAgIHZpZXcub3JpZW50YXRpb24gPSB0aGlzLnBhbmV2aWV3Lm9yaWVudGF0aW9uO1xuICAgICAgICByZXR1cm4gdmlldztcbiAgICB9XG4gICAgcmVtb3ZlUGFuZWwocGFuZWwpIHtcbiAgICAgICAgY29uc3Qgdmlld3MgPSB0aGlzLnBhbmVscztcbiAgICAgICAgY29uc3QgaW5kZXggPSB2aWV3cy5maW5kSW5kZXgoKF8pID0+IF8gPT09IHBhbmVsKTtcbiAgICAgICAgdGhpcy5wYW5ldmlldy5yZW1vdmVQYW5lKGluZGV4KTtcbiAgICAgICAgdGhpcy5kb1JlbW92ZVBhbmVsKHBhbmVsKTtcbiAgICB9XG4gICAgbW92ZVBhbmVsKGZyb20sIHRvKSB7XG4gICAgICAgIHRoaXMucGFuZXZpZXcubW92ZVZpZXcoZnJvbSwgdG8pO1xuICAgIH1cbiAgICBnZXRQYW5lbChpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYW5lbHMuZmluZCgodmlldykgPT4gdmlldy5pZCA9PT0gaWQpO1xuICAgIH1cbiAgICBsYXlvdXQod2lkdGgsIGhlaWdodCkge1xuICAgICAgICBjb25zdCBbc2l6ZSwgb3J0aG9nb25hbFNpemVdID0gdGhpcy5wYW5ldmlldy5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uSE9SSVpPTlRBTFxuICAgICAgICAgICAgPyBbd2lkdGgsIGhlaWdodF1cbiAgICAgICAgICAgIDogW2hlaWdodCwgd2lkdGhdO1xuICAgICAgICB0aGlzLnBhbmV2aWV3LmxheW91dChzaXplLCBvcnRob2dvbmFsU2l6ZSk7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3QgbWF4aW11bSA9ICh2YWx1ZSkgPT4gdmFsdWUgPT09IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8XG4gICAgICAgICAgICB2YWx1ZSA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXG4gICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiB2YWx1ZTtcbiAgICAgICAgY29uc3QgbWluaW11bSA9ICh2YWx1ZSkgPT4gKHZhbHVlIDw9IDAgPyB1bmRlZmluZWQgOiB2YWx1ZSk7XG4gICAgICAgIGNvbnN0IHZpZXdzID0gdGhpcy5wYW5ldmlld1xuICAgICAgICAgICAgLmdldFBhbmVzKClcbiAgICAgICAgICAgIC5tYXAoKHZpZXcsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnBhbmV2aWV3LmdldFZpZXdTaXplKGkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgICAgIGRhdGE6IHZpZXcudG9KU09OKCksXG4gICAgICAgICAgICAgICAgbWluaW11bVNpemU6IG1pbmltdW0odmlldy5taW5pbXVtQm9keVNpemUpLFxuICAgICAgICAgICAgICAgIG1heGltdW1TaXplOiBtYXhpbXVtKHZpZXcubWF4aW11bUJvZHlTaXplKSxcbiAgICAgICAgICAgICAgICBoZWFkZXJTaXplOiB2aWV3LmhlYWRlclNpemUsXG4gICAgICAgICAgICAgICAgZXhwYW5kZWQ6IHZpZXcuaXNFeHBhbmRlZCgpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2aWV3cyxcbiAgICAgICAgICAgIHNpemU6IHRoaXMucGFuZXZpZXcuc2l6ZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnJvbUpTT04oc2VyaWFsaXplZFBhbmV2aWV3KSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgY29uc3QgeyB2aWV3cywgc2l6ZSB9ID0gc2VyaWFsaXplZFBhbmV2aWV3O1xuICAgICAgICBjb25zdCBxdWV1ZSA9IFtdO1xuICAgICAgICAvLyB0YWtlIG5vdGUgb2YgdGhlIGV4aXN0aW5nIGRpbWVuc2lvbnNcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLndpZHRoO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgICAgdGhpcy5wYW5ldmlldyA9IG5ldyBQYW5ldmlldyh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBPcmllbnRhdGlvbi5WRVJUSUNBTCxcbiAgICAgICAgICAgIGRlc2NyaXB0b3I6IHtcbiAgICAgICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgICAgIHZpZXdzOiB2aWV3cy5tYXAoKHZpZXcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB2aWV3LmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLm9wdGlvbnMuY3JlYXRlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YS5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaGVhZGVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5oZWFkZXJDb21wb25lbnQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5jcmVhdGVIZWFkZXJDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IHRoaXMub3B0aW9ucy5jcmVhdGVIZWFkZXJDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEuaGVhZGVyQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IG5ldyBEZWZhdWx0SGVhZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFuZWwgPSBuZXcgUGFuZUZyYW1ld29yayh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZGF0YS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudDogZGF0YS5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJDb21wb25lbnQ6IGRhdGEuaGVhZGVyQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiBPcmllbnRhdGlvbi5WRVJUSUNBTCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRXhwYW5kZWQ6ICEhdmlldy5leHBhbmRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVEbmQ6ICEhdGhpcy5vcHRpb25zLmRpc2FibGVEbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NvcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlclNpemU6IChfYSA9IHZpZXcuaGVhZGVyU2l6ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogSEVBREVSX1NJWkUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtQm9keVNpemU6IChfYiA9IHZpZXcubWluaW11bVNpemUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IE1JTklNVU1fQk9EWV9TSVpFLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bUJvZHlTaXplOiAoX2MgPSB2aWV3Lm1heGltdW1TaXplKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBNQVhJTVVNX0JPRFlfU0laRSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9BZGRQYW5lbChwYW5lbCk7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFuZWwuaW5pdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiAoX2EgPSBkYXRhLnBhcmFtcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bUJvZHlTaXplOiB2aWV3Lm1pbmltdW1TaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1Cb2R5U2l6ZTogdmlldy5tYXhpbXVtU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZGF0YS50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0V4cGFuZGVkOiAhIXZpZXcuZXhwYW5kZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyQXBpOiBuZXcgUGFuZXZpZXdBcGkodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzb3I6IHRoaXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsLm9yaWVudGF0aW9uID0gdGhpcy5wYW5ldmlldy5vcmllbnRhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG9uRGlkQWRkVmlldyBldmVudHMgYXJlIG1pc3NlZCBzaW5jZSB0aGV5IGFyZSBmaXJlZCBiZWZvcmUgd2UgY2FuIHN1YmNyaWJlIHRvIHRoZW1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRGlkQWRkVmlldy5maXJlKHBhbmVsKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHNpemU6IHZpZXcuc2l6ZSwgdmlldzogcGFuZWwgfTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxheW91dCh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgcXVldWUuZm9yRWFjaCgoZikgPT4gZigpKTtcbiAgICAgICAgdGhpcy5fb25EaWRMYXlvdXRmcm9tSlNPTi5maXJlKCk7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBmb3IgKGNvbnN0IFtfLCB2YWx1ZV0gb2YgdGhpcy5fdmlld0Rpc3Bvc2FibGVzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgdmFsdWUuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZpZXdEaXNwb3NhYmxlcy5jbGVhcigpO1xuICAgICAgICB0aGlzLnBhbmV2aWV3LmRpc3Bvc2UoKTtcbiAgICB9XG4gICAgZG9BZGRQYW5lbChwYW5lbCkge1xuICAgICAgICBjb25zdCBkaXNwb3NhYmxlID0gbmV3IENvbXBvc2l0ZURpc3Bvc2FibGUocGFuZWwub25EaWREcm9wKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25EaWREcm9wLmZpcmUoZXZlbnQpO1xuICAgICAgICB9KSwgcGFuZWwub25VbmhhbmRsZWREcmFnT3ZlckV2ZW50KChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25VbmhhbmRsZWREcmFnT3ZlckV2ZW50LmZpcmUoZXZlbnQpO1xuICAgICAgICB9KSk7XG4gICAgICAgIHRoaXMuX3ZpZXdEaXNwb3NhYmxlcy5zZXQocGFuZWwuaWQsIGRpc3Bvc2FibGUpO1xuICAgIH1cbiAgICBkb1JlbW92ZVBhbmVsKHBhbmVsKSB7XG4gICAgICAgIGNvbnN0IGRpc3Bvc2FibGUgPSB0aGlzLl92aWV3RGlzcG9zYWJsZXMuZ2V0KHBhbmVsLmlkKTtcbiAgICAgICAgaWYgKGRpc3Bvc2FibGUpIHtcbiAgICAgICAgICAgIGRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fdmlld0Rpc3Bvc2FibGVzLmRlbGV0ZShwYW5lbC5pZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgICAgICBmb3IgKGNvbnN0IFtfLCB2YWx1ZV0gb2YgdGhpcy5fdmlld0Rpc3Bvc2FibGVzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgdmFsdWUuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZpZXdEaXNwb3NhYmxlcy5jbGVhcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIHRoaXMucGFuZXZpZXcuZGlzcG9zZSgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFBhbmV2aWV3UGFuZWxBcGlJbXBsIH0gZnJvbSAnLi4vYXBpL3BhbmV2aWV3UGFuZWxBcGknO1xuaW1wb3J0IHsgYWRkQ2xhc3NlcywgcmVtb3ZlQ2xhc3NlcyB9IGZyb20gJy4uL2RvbSc7XG5pbXBvcnQgeyBhZGREaXNwb3NhYmxlTGlzdGVuZXIsIEVtaXR0ZXIgfSBmcm9tICcuLi9ldmVudHMnO1xuaW1wb3J0IHsgQmFzZVBhbmVsVmlldywgfSBmcm9tICcuLi9ncmlkdmlldy9iYXNlUGFuZWxWaWV3JztcbmltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSAnLi4vc3BsaXR2aWV3L3NwbGl0dmlldyc7XG5leHBvcnQgY2xhc3MgUGFuZXZpZXdQYW5lbCBleHRlbmRzIEJhc2VQYW5lbFZpZXcge1xuICAgIHNldCBvcmllbnRhdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLl9vcmllbnRhdGlvbiA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgb3JpZW50YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vcmllbnRhdGlvbjtcbiAgICB9XG4gICAgZ2V0IG1pbmltdW1TaXplKCkge1xuICAgICAgICBjb25zdCBoZWFkZXJTaXplID0gdGhpcy5oZWFkZXJTaXplO1xuICAgICAgICBjb25zdCBleHBhbmRlZCA9IHRoaXMuaXNFeHBhbmRlZCgpO1xuICAgICAgICBjb25zdCBtaW5pbXVtQm9keVNpemUgPSBleHBhbmRlZCA/IHRoaXMuX21pbmltdW1Cb2R5U2l6ZSA6IDA7XG4gICAgICAgIHJldHVybiBoZWFkZXJTaXplICsgbWluaW11bUJvZHlTaXplO1xuICAgIH1cbiAgICBnZXQgbWF4aW11bVNpemUoKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlclNpemUgPSB0aGlzLmhlYWRlclNpemU7XG4gICAgICAgIGNvbnN0IGV4cGFuZGVkID0gdGhpcy5pc0V4cGFuZGVkKCk7XG4gICAgICAgIGNvbnN0IG1heGltdW1Cb2R5U2l6ZSA9IGV4cGFuZGVkID8gdGhpcy5fbWF4aW11bUJvZHlTaXplIDogMDtcbiAgICAgICAgcmV0dXJuIGhlYWRlclNpemUgKyBtYXhpbXVtQm9keVNpemU7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICB9XG4gICAgZ2V0IG9ydGhvZ29uYWxTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3J0aG9nb25hbFNpemU7XG4gICAgfVxuICAgIHNldCBvcnRob2dvbmFsU2l6ZShzaXplKSB7XG4gICAgICAgIHRoaXMuX29ydGhvZ29uYWxTaXplID0gc2l6ZTtcbiAgICB9XG4gICAgZ2V0IG1pbmltdW1Cb2R5U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21pbmltdW1Cb2R5U2l6ZTtcbiAgICB9XG4gICAgc2V0IG1pbmltdW1Cb2R5U2l6ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9taW5pbXVtQm9keVNpemUgPSB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInID8gdmFsdWUgOiAwO1xuICAgIH1cbiAgICBnZXQgbWF4aW11bUJvZHlTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWF4aW11bUJvZHlTaXplO1xuICAgIH1cbiAgICBzZXQgbWF4aW11bUJvZHlTaXplKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX21heGltdW1Cb2R5U2l6ZSA9XG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInID8gdmFsdWUgOiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgfVxuICAgIGdldCBoZWFkZXJWaXNpYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVhZGVyVmlzaWJsZTtcbiAgICB9XG4gICAgc2V0IGhlYWRlclZpc2libGUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5faGVhZGVyVmlzaWJsZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmhlYWRlci5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyAnJyA6ICdub25lJztcbiAgICB9XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zLmlkLCBvcHRpb25zLmNvbXBvbmVudCwgbmV3IFBhbmV2aWV3UGFuZWxBcGlJbXBsKG9wdGlvbnMuaWQsIG9wdGlvbnMuY29tcG9uZW50KSk7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRXhwYW5zaW9uU3RhdGUgPSBuZXcgRW1pdHRlcih7IHJlcGxheTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5vbkRpZENoYW5nZUV4cGFuc2lvblN0YXRlID0gdGhpcy5fb25EaWRDaGFuZ2VFeHBhbnNpb25TdGF0ZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQ2hhbmdlID0gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29ydGhvZ29uYWxTaXplID0gMDtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX2lzRXhwYW5kZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hcGkucGFuZSA9IHRoaXM7IC8vIFRPRE8gY2Fubm90IHVzZSAndGhpcycgYmVmb3JlICdzdXBlcidcbiAgICAgICAgdGhpcy5hcGkuaW5pdGlhbGl6ZSh0aGlzKTtcbiAgICAgICAgdGhpcy5oZWFkZXJTaXplID0gb3B0aW9ucy5oZWFkZXJTaXplO1xuICAgICAgICB0aGlzLmhlYWRlckNvbXBvbmVudCA9IG9wdGlvbnMuaGVhZGVyQ29tcG9uZW50O1xuICAgICAgICB0aGlzLl9taW5pbXVtQm9keVNpemUgPSBvcHRpb25zLm1pbmltdW1Cb2R5U2l6ZTtcbiAgICAgICAgdGhpcy5fbWF4aW11bUJvZHlTaXplID0gb3B0aW9ucy5tYXhpbXVtQm9keVNpemU7XG4gICAgICAgIHRoaXMuX2lzRXhwYW5kZWQgPSBvcHRpb25zLmlzRXhwYW5kZWQ7XG4gICAgICAgIHRoaXMuX2hlYWRlclZpc2libGUgPSBvcHRpb25zLmlzSGVhZGVyVmlzaWJsZTtcbiAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2VFeHBhbnNpb25TdGF0ZS5maXJlKHRoaXMuaXNFeHBhbmRlZCgpKTsgLy8gaW5pdGlhbGl6ZSB2YWx1ZVxuICAgICAgICB0aGlzLl9vcmllbnRhdGlvbiA9IG9wdGlvbnMub3JpZW50YXRpb247XG4gICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkdi1wYW5lJyk7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5hcGkub25XaWxsVmlzaWJpbGl0eUNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgaXNWaXNpYmxlIH0gPSBldmVudDtcbiAgICAgICAgICAgIGNvbnN0IHsgYWNjZXNzb3IgfSA9IHRoaXMuX3BhcmFtcztcbiAgICAgICAgICAgIGFjY2Vzc29yLnNldFZpc2libGUodGhpcywgaXNWaXNpYmxlKTtcbiAgICAgICAgfSksIHRoaXMuYXBpLm9uRGlkU2l6ZUNoYW5nZSgoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlLmZpcmUoeyBzaXplOiBldmVudC5zaXplIH0pO1xuICAgICAgICB9KSwgYWRkRGlzcG9zYWJsZUxpc3RlbmVyKHRoaXMuZWxlbWVudCwgJ21vdXNlZW50ZXInLCAoZXYpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYXBpLl9vbk1vdXNlRW50ZXIuZmlyZShldik7XG4gICAgICAgIH0pLCBhZGREaXNwb3NhYmxlTGlzdGVuZXIodGhpcy5lbGVtZW50LCAnbW91c2VsZWF2ZScsIChldikgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcGkuX29uTW91c2VMZWF2ZS5maXJlKGV2KTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKHRoaXMuX29uRGlkQ2hhbmdlRXhwYW5zaW9uU3RhdGUsIHRoaXMub25EaWRDaGFuZ2VFeHBhbnNpb25TdGF0ZSgoaXNQYW5lbEV4cGFuZGVkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwaS5fb25EaWRFeHBhbnNpb25DaGFuZ2UuZmlyZSh7XG4gICAgICAgICAgICAgICAgaXNFeHBhbmRlZDogaXNQYW5lbEV4cGFuZGVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pLCB0aGlzLmFwaS5vbkRpZEZvY3VzQ2hhbmdlKChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGUuaXNGb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmhlYWRlciwgJ2ZvY3VzZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzZXModGhpcy5oZWFkZXIsICdmb2N1c2VkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5yZW5kZXJPbmNlKCk7XG4gICAgfVxuICAgIHNldFZpc2libGUoaXNWaXNpYmxlKSB7XG4gICAgICAgIHRoaXMuYXBpLl9vbkRpZFZpc2liaWxpdHlDaGFuZ2UuZmlyZSh7IGlzVmlzaWJsZSB9KTtcbiAgICB9XG4gICAgc2V0QWN0aXZlKGlzQWN0aXZlKSB7XG4gICAgICAgIHRoaXMuYXBpLl9vbkRpZEFjdGl2ZUNoYW5nZS5maXJlKHsgaXNBY3RpdmUgfSk7XG4gICAgfVxuICAgIGlzRXhwYW5kZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0V4cGFuZGVkO1xuICAgIH1cbiAgICBzZXRFeHBhbmRlZChleHBhbmRlZCkge1xuICAgICAgICBpZiAodGhpcy5faXNFeHBhbmRlZCA9PT0gZXhwYW5kZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc0V4cGFuZGVkID0gZXhwYW5kZWQ7XG4gICAgICAgIGlmIChleHBhbmRlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYW5pbWF0aW9uVGltZXIpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5hbmltYXRpb25UaW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5ib2R5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuYm9keSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvblRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMuYm9keSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZS5maXJlKGV4cGFuZGVkID8geyBzaXplOiB0aGlzLndpZHRoIH0gOiB7fSk7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlRXhwYW5zaW9uU3RhdGUuZmlyZShleHBhbmRlZCk7XG4gICAgfVxuICAgIGxheW91dChzaXplLCBvcnRob2dvbmFsU2l6ZSkge1xuICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5fb3J0aG9nb25hbFNpemUgPSBvcnRob2dvbmFsU2l6ZTtcbiAgICAgICAgY29uc3QgW3dpZHRoLCBoZWlnaHRdID0gdGhpcy5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uSE9SSVpPTlRBTFxuICAgICAgICAgICAgPyBbc2l6ZSwgb3J0aG9nb25hbFNpemVdXG4gICAgICAgICAgICA6IFtvcnRob2dvbmFsU2l6ZSwgc2l6ZV07XG4gICAgICAgIHN1cGVyLmxheW91dCh3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG4gICAgaW5pdChwYXJhbWV0ZXJzKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHN1cGVyLmluaXQocGFyYW1ldGVycyk7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1ldGVycy5taW5pbXVtQm9keVNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLm1pbmltdW1Cb2R5U2l6ZSA9IHBhcmFtZXRlcnMubWluaW11bUJvZHlTaXplO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1ldGVycy5tYXhpbXVtQm9keVNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLm1heGltdW1Cb2R5U2l6ZSA9IHBhcmFtZXRlcnMubWF4aW11bUJvZHlTaXplO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYm9keVBhcnQgPSB0aGlzLmdldEJvZHlDb21wb25lbnQoKTtcbiAgICAgICAgdGhpcy5oZWFkZXJQYXJ0ID0gdGhpcy5nZXRIZWFkZXJDb21wb25lbnQoKTtcbiAgICAgICAgdGhpcy5ib2R5UGFydC5pbml0KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1ldGVycyksIHsgYXBpOiB0aGlzLmFwaSB9KSk7XG4gICAgICAgIHRoaXMuaGVhZGVyUGFydC5pbml0KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyYW1ldGVycyksIHsgYXBpOiB0aGlzLmFwaSB9KSk7XG4gICAgICAgIChfYSA9IHRoaXMuYm9keSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFwcGVuZCh0aGlzLmJvZHlQYXJ0LmVsZW1lbnQpO1xuICAgICAgICAoX2IgPSB0aGlzLmhlYWRlcikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmFwcGVuZCh0aGlzLmhlYWRlclBhcnQuZWxlbWVudCk7XG4gICAgICAgIGlmICh0eXBlb2YgcGFyYW1ldGVycy5pc0V4cGFuZGVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RXhwYW5kZWQocGFyYW1ldGVycy5pc0V4cGFuZGVkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHRoaXMuX3BhcmFtcztcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3VwZXIudG9KU09OKCkpLCB7IGhlYWRlckNvbXBvbmVudDogdGhpcy5oZWFkZXJDb21wb25lbnQsIHRpdGxlOiBwYXJhbXMudGl0bGUgfSk7XG4gICAgfVxuICAgIHJlbmRlck9uY2UoKSB7XG4gICAgICAgIHRoaXMuaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuaGVhZGVyLnRhYkluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5oZWFkZXIuY2xhc3NOYW1lID0gJ2R2LXBhbmUtaGVhZGVyJztcbiAgICAgICAgdGhpcy5oZWFkZXIuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5oZWFkZXJTaXplfXB4YDtcbiAgICAgICAgdGhpcy5oZWFkZXIuc3R5bGUubGluZUhlaWdodCA9IGAke3RoaXMuaGVhZGVyU2l6ZX1weGA7XG4gICAgICAgIHRoaXMuaGVhZGVyLnN0eWxlLm1pbkhlaWdodCA9IGAke3RoaXMuaGVhZGVyU2l6ZX1weGA7XG4gICAgICAgIHRoaXMuaGVhZGVyLnN0eWxlLm1heEhlaWdodCA9IGAke3RoaXMuaGVhZGVyU2l6ZX1weGA7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmhlYWRlcik7XG4gICAgICAgIHRoaXMuYm9keSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmJvZHkuY2xhc3NOYW1lID0gJ2R2LXBhbmUtYm9keSc7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmJvZHkpO1xuICAgIH1cbiAgICAvLyBUT0RPIHNsaWdodGx5IGhhY2t5IGJ5LXBhc3Mgb2YgdGhlIGNvbXBvbmVudCB0byBjcmVhdGUgYSBib2R5IGFuZCBoZWFkZXIgY29tcG9uZW50XG4gICAgZ2V0Q29tcG9uZW50KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdXBkYXRlOiAocGFyYW1zKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLmJvZHlQYXJ0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudXBkYXRlKHsgcGFyYW1zIH0pO1xuICAgICAgICAgICAgICAgIChfYiA9IHRoaXMuaGVhZGVyUGFydCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnVwZGF0ZSh7IHBhcmFtcyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICAoX2EgPSB0aGlzLmJvZHlQYXJ0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIChfYiA9IHRoaXMuaGVhZGVyUGFydCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBhZGRTdHlsZXMgfSBmcm9tICcuL2RvbSc7XG5pbXBvcnQgeyBFbWl0dGVyLCBhZGREaXNwb3NhYmxlTGlzdGVuZXIgfSBmcm9tICcuL2V2ZW50cyc7XG5pbXBvcnQgeyBDb21wb3NpdGVEaXNwb3NhYmxlLCBEaXNwb3NhYmxlIH0gZnJvbSAnLi9saWZlY3ljbGUnO1xuZXhwb3J0IGNsYXNzIFBvcG91dFdpbmRvdyBleHRlbmRzIENvbXBvc2l0ZURpc3Bvc2FibGUge1xuICAgIGdldCB3aW5kb3coKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLl93aW5kb3cpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS52YWx1ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl9vbldpbGxDbG9zZSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25XaWxsQ2xvc2UgPSB0aGlzLl9vbldpbGxDbG9zZS5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRDbG9zZSA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRDbG9zZSA9IHRoaXMuX29uRGlkQ2xvc2UuZXZlbnQ7XG4gICAgICAgIHRoaXMuX3dpbmRvdyA9IG51bGw7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fb25XaWxsQ2xvc2UsIHRoaXMuX29uRGlkQ2xvc2UsIHtcbiAgICAgICAgICAgIGRpc3Bvc2U6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGltZW5zaW9ucygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl93aW5kb3cpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlZnQgPSB0aGlzLl93aW5kb3cudmFsdWUuc2NyZWVuWDtcbiAgICAgICAgY29uc3QgdG9wID0gdGhpcy5fd2luZG93LnZhbHVlLnNjcmVlblk7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5fd2luZG93LnZhbHVlLmlubmVyV2lkdGg7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuX3dpbmRvdy52YWx1ZS5pbm5lckhlaWdodDtcbiAgICAgICAgcmV0dXJuIHsgdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0IH07XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5fd2luZG93KSB7XG4gICAgICAgICAgICB0aGlzLl9vbldpbGxDbG9zZS5maXJlKCk7XG4gICAgICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpLm9uV2lsbENsb3NlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwge1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLnRhcmdldCxcbiAgICAgICAgICAgICAgICB3aW5kb3c6IHRoaXMuX3dpbmRvdy52YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fd2luZG93LmRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5fd2luZG93ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2xvc2UuZmlyZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9wZW4oKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fd2luZG93KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnN0YW5jZSBvZiBwb3BvdXQgd2luZG93IGlzIGFscmVhZHkgb3BlbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXJsID0gYCR7dGhpcy5vcHRpb25zLnVybH1gO1xuICAgICAgICAgICAgY29uc3QgZmVhdHVyZXMgPSBPYmplY3QuZW50cmllcyh7XG4gICAgICAgICAgICAgICAgdG9wOiB0aGlzLm9wdGlvbnMudG9wLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHRoaXMub3B0aW9ucy5sZWZ0LFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLm9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLm9wdGlvbnMuaGVpZ2h0LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX09JHt2YWx1ZX1gKVxuICAgICAgICAgICAgICAgIC5qb2luKCcsJyk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9vcGVuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IGV4dGVybmFsV2luZG93ID0gd2luZG93Lm9wZW4odXJsLCB0aGlzLnRhcmdldCwgZmVhdHVyZXMpO1xuICAgICAgICAgICAgaWYgKCFleHRlcm5hbFdpbmRvdykge1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFBvcHVwIGJsb2NrZWRcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRpc3Bvc2FibGUgPSBuZXcgQ29tcG9zaXRlRGlzcG9zYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5fd2luZG93ID0geyB2YWx1ZTogZXh0ZXJuYWxXaW5kb3csIGRpc3Bvc2FibGUgfTtcbiAgICAgICAgICAgIGRpc3Bvc2FibGUuYWRkRGlzcG9zYWJsZXMoRGlzcG9zYWJsZS5mcm9tKCgpID0+IHtcbiAgICAgICAgICAgICAgICBleHRlcm5hbFdpbmRvdy5jbG9zZSgpO1xuICAgICAgICAgICAgfSksIGFkZERpc3Bvc2FibGVMaXN0ZW5lcih3aW5kb3csICdiZWZvcmV1bmxvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogYmVmb3JlIHRoZSBtYWluIHdpbmRvdyBjbG9zZXMgd2Ugc2hvdWxkIGNsb3NlIHRoaXMgcG9wdXAgdG9vXG4gICAgICAgICAgICAgICAgICogdG8gYmUgZ29vZCBjaXRpemVuc1xuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L2JlZm9yZXVubG9hZF9ldmVudFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHRoaXMuY3JlYXRlUG9wb3V0V2luZG93Q29udGFpbmVyKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLm9wdGlvbnMpLm9uRGlkT3BlbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsIHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy50YXJnZXQsXG4gICAgICAgICAgICAgICAgd2luZG93OiBleHRlcm5hbFdpbmRvdyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBleHRlcm5hbFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBwYWdlIGZhaWxzIHRvIGxvYWQgYmVmb3JlIHVubG9hZGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9sb2FkX2V2ZW50XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXh0ZXJuYWxEb2N1bWVudCA9IGV4dGVybmFsV2luZG93LmRvY3VtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZXJuYWxEb2N1bWVudC50aXRsZSA9IGRvY3VtZW50LnRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZXJuYWxEb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRTdHlsZXMoZXh0ZXJuYWxEb2N1bWVudCwgd2luZG93LmRvY3VtZW50LnN0eWxlU2hlZXRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgICAgICogYmVmb3JldW5sb2FkIG11c3QgYmUgcmVnaXN0ZXJlZCBhZnRlciBsb2FkIGZvciByZWFzb25zIEkgY291bGQgbm90IGRldGVybWluZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogb3RoZXJ3aXNlIHRoZSBiZWZvcmV1bmxvYWQgZXZlbnQgd2lsbCBub3QgZmlyZSB3aGVuIHRoZSB3aW5kb3cgaXMgY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZERpc3Bvc2FibGVMaXN0ZW5lcihleHRlcm5hbFdpbmRvdywgJ2JlZm9yZXVubG9hZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvYmVmb3JldW5sb2FkX2V2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBleGNlcHQgdGhpcyBpcyB0aGUgRE9NIGlzbid0IHNldHVwLiBlLmcuIGluIGEgaW4gY29ycmVjdGx5IGNvbmZpZ3VyZWQgdGVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY3JlYXRlUG9wb3V0V2luZG93Q29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdkdi1wb3BvdXQtd2luZG93Jyk7XG4gICAgICAgIGVsLmlkID0gJ2R2LXBvcG91dC13aW5kb3cnO1xuICAgICAgICBlbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGVsLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIGVsLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgICAgICBlbC5zdHlsZS5sZWZ0ID0gJzBweCc7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBpc0luRG9jdW1lbnQsIHdhdGNoRWxlbWVudFJlc2l6ZSB9IGZyb20gJy4vZG9tJztcbmltcG9ydCB7IENvbXBvc2l0ZURpc3Bvc2FibGUgfSBmcm9tICcuL2xpZmVjeWNsZSc7XG5leHBvcnQgY2xhc3MgUmVzaXphYmxlIGV4dGVuZHMgQ29tcG9zaXRlRGlzcG9zYWJsZSB7XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgIH1cbiAgICBnZXQgZGlzYWJsZVJlc2l6aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlzYWJsZVJlc2l6aW5nO1xuICAgIH1cbiAgICBzZXQgZGlzYWJsZVJlc2l6aW5nKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2Rpc2FibGVSZXNpemluZyA9IHZhbHVlO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRFbGVtZW50LCBkaXNhYmxlUmVzaXppbmcgPSBmYWxzZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl9kaXNhYmxlUmVzaXppbmcgPSBkaXNhYmxlUmVzaXppbmc7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBwYXJlbnRFbGVtZW50O1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKHdhdGNoRWxlbWVudFJlc2l6ZSh0aGlzLl9lbGVtZW50LCAoZW50cnkpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiByZXNpemUgaXMgZGVsYXllZCB0aHJvdWdoIHJlcXVlc3RBbmltYXRpb25GcmFtZSBzbyB0aGVyZSBpcyBhIHNtYWxsIGNoYW5jZVxuICAgICAgICAgICAgICAgICAqIHRoZSBjb21wb25lbnQgaGFzIGFscmVhZHkgYmVlbiBkaXNwb3NlZCBvZlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmRpc2FibGVSZXNpemluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5fZWxlbWVudC5vZmZzZXRQYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBvZmZzZXRQYXJlbnQgPT09IG51bGwgaXMgZXF1aXZhbGVudCB0byBkaXNwbGF5OiBub25lIGJlaW5nIHNldCBvbiB0aGUgZWxlbWVudCBvciBvbmVcbiAgICAgICAgICAgICAgICAgKiBvZiBpdCdzIHBhcmVudHMuIEluIHRoZSBkaXNwbGF5OiBub25lIGNhc2UgdGhlIHNpemUgd2lsbCBiZWNvbWUgKDAsIDApIHdoaWNoIHdlIGRvXG4gICAgICAgICAgICAgICAgICogbm90IHdhbnQgdG8gcHJvcGFnYXRlLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEVsZW1lbnQvb2Zmc2V0UGFyZW50XG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBZb3UgY291bGQgdXNlIGNoZWNrVmlzaWJpbGl0eSgpIGJ1dCBhdCB0aGUgdGltZSBvZiB3cml0aW5nIGl0J3Mgbm90IHN1cHBvcnRlZCBhY3Jvc3NcbiAgICAgICAgICAgICAgICAgKiBhbGwgQnJvd3NlcnNcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvY2hlY2tWaXNpYmlsaXR5XG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc0luRG9jdW1lbnQodGhpcy5fZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBzaW5jZSB0aGUgZXZlbnQgaXMgZGlzcGF0Y2hlZCB0aHJvdWdoIHJlcXVlc3RBbmltYXRpb25GcmFtZSB0aGVyZSBpcyBhIHNtYWxsIGNoYW5jZVxuICAgICAgICAgICAgICAgICAqIHRoZSBjb21wb25lbnQgaXMgbm8gbG9uZ2VyIGF0dGFjaGVkIHRvIHRoZSBET00sIGlmIHRoYXQgaXMgdGhlIGNhc2UgdGhlIGRpbWVuc2lvbnNcbiAgICAgICAgICAgICAgICAgKiBhcmUgbW9zdGx5IGxpa2VseSBhbGwgemVybyBhbmQgbWVhbmluZ2xlc3MuIHdlIHNob3VsZCBza2lwIHRoaXMgY2FzZS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGVudHJ5LmNvbnRlbnRSZWN0O1xuICAgICAgICAgICAgdGhpcy5sYXlvdXQod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyB0b2dnbGVDbGFzcywgd2F0Y2hFbGVtZW50UmVzaXplIH0gZnJvbSAnLi9kb20nO1xuaW1wb3J0IHsgYWRkRGlzcG9zYWJsZUxpc3RlbmVyIH0gZnJvbSAnLi9ldmVudHMnO1xuaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSB9IGZyb20gJy4vbGlmZWN5Y2xlJztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi9tYXRoJztcbmV4cG9ydCBjbGFzcyBTY3JvbGxiYXIgZXh0ZW5kcyBDb21wb3NpdGVEaXNwb3NhYmxlIHtcbiAgICBnZXQgZWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHNjcm9sbGFibGVFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsYWJsZUVsZW1lbnQgPSBzY3JvbGxhYmxlRWxlbWVudDtcbiAgICAgICAgdGhpcy5fc2Nyb2xsTGVmdCA9IDA7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc05hbWUgPSAnZHYtc2Nyb2xsYWJsZSc7XG4gICAgICAgIHRoaXMuX2hvcml6b250YWxTY3JvbGxiYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGhpcy5faG9yaXpvbnRhbFNjcm9sbGJhci5jbGFzc05hbWUgPSAnZHYtc2Nyb2xsYmFyLWhvcml6b250YWwnO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQoc2Nyb2xsYWJsZUVsZW1lbnQpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5faG9yaXpvbnRhbFNjcm9sbGJhcik7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXMoYWRkRGlzcG9zYWJsZUxpc3RlbmVyKHRoaXMuZWxlbWVudCwgJ3doZWVsJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxMZWZ0ICs9IGV2ZW50LmRlbHRhWSAqIFNjcm9sbGJhci5Nb3VzZVdoZWVsU3BlZWQ7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVNjcm9sbGJhclN0eWxlcygpO1xuICAgICAgICB9KSwgYWRkRGlzcG9zYWJsZUxpc3RlbmVyKHRoaXMuX2hvcml6b250YWxTY3JvbGxiYXIsICdwb2ludGVyZG93bicsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudCwgJ2R2LXNjcm9sbGFibGUtc2Nyb2xsaW5nJywgdHJ1ZSk7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbENsaWVudFggPSBldmVudC5jbGllbnRYO1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTY3JvbGxMZWZ0ID0gdGhpcy5fc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgIGNvbnN0IG9uUG9pbnRlck1vdmUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWx0YVggPSBldmVudC5jbGllbnRYIC0gb3JpZ2luYWxDbGllbnRYO1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY2xpZW50V2lkdGggfSA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNjcm9sbFdpZHRoIH0gPSB0aGlzLnNjcm9sbGFibGVFbGVtZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBjbGllbnRXaWR0aCAvIHNjcm9sbFdpZHRoO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbExlZnQgPSBvcmlnaW5hbFNjcm9sbExlZnQgKyBkZWx0YVggLyBwO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlU2Nyb2xsYmFyU3R5bGVzKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgb25FbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQ2xhc3ModGhpcy5lbGVtZW50LCAnZHYtc2Nyb2xsYWJsZS1zY3JvbGxpbmcnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBvblBvaW50ZXJNb3ZlKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBvbkVuZCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIG9uRW5kKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIG9uUG9pbnRlck1vdmUpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgb25FbmQpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIG9uRW5kKTtcbiAgICAgICAgfSksIGFkZERpc3Bvc2FibGVMaXN0ZW5lcih0aGlzLmVsZW1lbnQsICdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVNjcm9sbGJhclN0eWxlcygpO1xuICAgICAgICB9KSwgYWRkRGlzcG9zYWJsZUxpc3RlbmVyKHRoaXMuc2Nyb2xsYWJsZUVsZW1lbnQsICdzY3JvbGwnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxMZWZ0ID0gdGhpcy5zY3JvbGxhYmxlRWxlbWVudC5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVTY3JvbGxiYXJTdHlsZXMoKTtcbiAgICAgICAgfSksIHdhdGNoRWxlbWVudFJlc2l6ZSh0aGlzLmVsZW1lbnQsICgpID0+IHtcbiAgICAgICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudCwgJ2R2LXNjcm9sbGFibGUtcmVzaXppbmcnLCB0cnVlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbmltYXRpb25UaW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9hbmltYXRpb25UaW1lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9hbmltYXRpb25UaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9hbmltYXRpb25UaW1lcik7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQ2xhc3ModGhpcy5lbGVtZW50LCAnZHYtc2Nyb2xsYWJsZS1yZXNpemluZycsIGZhbHNlKTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVNjcm9sbGJhclN0eWxlcygpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZVNjcm9sbGJhclN0eWxlcygpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnRXaWR0aCB9ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBjb25zdCB7IHNjcm9sbFdpZHRoIH0gPSB0aGlzLnNjcm9sbGFibGVFbGVtZW50O1xuICAgICAgICBjb25zdCBoYXNTY3JvbGxiYXIgPSBzY3JvbGxXaWR0aCA+IGNsaWVudFdpZHRoO1xuICAgICAgICBpZiAoaGFzU2Nyb2xsYmFyKSB7XG4gICAgICAgICAgICBjb25zdCBweCA9IGNsaWVudFdpZHRoICogKGNsaWVudFdpZHRoIC8gc2Nyb2xsV2lkdGgpO1xuICAgICAgICAgICAgdGhpcy5faG9yaXpvbnRhbFNjcm9sbGJhci5zdHlsZS53aWR0aCA9IGAke3B4fXB4YDtcbiAgICAgICAgICAgIHRoaXMuX3Njcm9sbExlZnQgPSBjbGFtcCh0aGlzLl9zY3JvbGxMZWZ0LCAwLCB0aGlzLnNjcm9sbGFibGVFbGVtZW50LnNjcm9sbFdpZHRoIC0gY2xpZW50V2lkdGgpO1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxhYmxlRWxlbWVudC5zY3JvbGxMZWZ0ID0gdGhpcy5fc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgIGNvbnN0IHBlcmNlbnRhZ2VDb21wbGV0ZSA9IHRoaXMuX3Njcm9sbExlZnQgLyAoc2Nyb2xsV2lkdGggLSBjbGllbnRXaWR0aCk7XG4gICAgICAgICAgICB0aGlzLl9ob3Jpem9udGFsU2Nyb2xsYmFyLnN0eWxlLmxlZnQgPSBgJHsoY2xpZW50V2lkdGggLSBweCkgKiBwZXJjZW50YWdlQ29tcGxldGV9cHhgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faG9yaXpvbnRhbFNjcm9sbGJhci5zdHlsZS53aWR0aCA9IGAwcHhgO1xuICAgICAgICAgICAgdGhpcy5faG9yaXpvbnRhbFNjcm9sbGJhci5zdHlsZS5sZWZ0ID0gYDBweGA7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxMZWZ0ID0gMDtcbiAgICAgICAgfVxuICAgIH1cbn1cblNjcm9sbGJhci5Nb3VzZVdoZWVsU3BlZWQgPSAxO1xuIiwiZXhwb3J0IGNvbnN0IFBST1BFUlRZX0tFWVNfU1BMSVRWSUVXID0gKCgpID0+IHtcbiAgICAvKipcbiAgICAgKiBieSByZWFkb25nIHRoZSBrZXlzIGZyb20gYW4gZW1wdHkgdmFsdWUgb2JqZWN0IFR5cGVTY3JpcHQgd2lsbCBlcnJvclxuICAgICAqIHdoZW4gd2UgYWRkIG9yIHJlbW92ZSBuZXcgcHJvcGVydGllcyB0byBgRG9ja3ZpZXdPcHRpb25zYFxuICAgICAqL1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7XG4gICAgICAgIG9yaWVudGF0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgIGRlc2NyaXB0b3I6IHVuZGVmaW5lZCxcbiAgICAgICAgcHJvcG9ydGlvbmFsTGF5b3V0OiB1bmRlZmluZWQsXG4gICAgICAgIHN0eWxlczogdW5kZWZpbmVkLFxuICAgICAgICBtYXJnaW46IHVuZGVmaW5lZCxcbiAgICAgICAgZGlzYWJsZUF1dG9SZXNpemluZzogdW5kZWZpbmVkLFxuICAgICAgICBjbGFzc05hbWU6IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKTtcbn0pKCk7XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQWNjcmVkaXRhdGlvbjogVGhpcyBmaWxlIGlzIGxhcmdseSBiYXNlZCB1cG9uIHRoZSBNSVQgbGljZW5jZWQgVlNDb2RlIHNvdXJjZWNvZGUgZm91bmQgYXQ6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L3ZzY29kZS90cmVlL21haW4vc3JjL3ZzL2Jhc2UvYnJvd3Nlci91aS9zcGxpdHZpZXdcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgcmVtb3ZlQ2xhc3NlcywgYWRkQ2xhc3NlcywgdG9nZ2xlQ2xhc3MsIGRpc2FibGVJZnJhbWVQb2ludEV2ZW50cywgfSBmcm9tICcuLi9kb20nO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBwdXNoVG9TdGFydCwgcHVzaFRvRW5kLCBmaXJzdEluZGV4IH0gZnJvbSAnLi4vYXJyYXknO1xuaW1wb3J0IHsgcmFuZ2UsIGNsYW1wIH0gZnJvbSAnLi4vbWF0aCc7XG5pbXBvcnQgeyBWaWV3SXRlbSB9IGZyb20gJy4vdmlld0l0ZW0nO1xuZXhwb3J0IHZhciBPcmllbnRhdGlvbjtcbihmdW5jdGlvbiAoT3JpZW50YXRpb24pIHtcbiAgICBPcmllbnRhdGlvbltcIkhPUklaT05UQUxcIl0gPSBcIkhPUklaT05UQUxcIjtcbiAgICBPcmllbnRhdGlvbltcIlZFUlRJQ0FMXCJdID0gXCJWRVJUSUNBTFwiO1xufSkoT3JpZW50YXRpb24gfHwgKE9yaWVudGF0aW9uID0ge30pKTtcbmV4cG9ydCB2YXIgU2FzaFN0YXRlO1xuKGZ1bmN0aW9uIChTYXNoU3RhdGUpIHtcbiAgICBTYXNoU3RhdGVbU2FzaFN0YXRlW1wiTUFYSU1VTVwiXSA9IDBdID0gXCJNQVhJTVVNXCI7XG4gICAgU2FzaFN0YXRlW1Nhc2hTdGF0ZVtcIk1JTklNVU1cIl0gPSAxXSA9IFwiTUlOSU1VTVwiO1xuICAgIFNhc2hTdGF0ZVtTYXNoU3RhdGVbXCJESVNBQkxFRFwiXSA9IDJdID0gXCJESVNBQkxFRFwiO1xuICAgIFNhc2hTdGF0ZVtTYXNoU3RhdGVbXCJFTkFCTEVEXCJdID0gM10gPSBcIkVOQUJMRURcIjtcbn0pKFNhc2hTdGF0ZSB8fCAoU2FzaFN0YXRlID0ge30pKTtcbmV4cG9ydCB2YXIgTGF5b3V0UHJpb3JpdHk7XG4oZnVuY3Rpb24gKExheW91dFByaW9yaXR5KSB7XG4gICAgTGF5b3V0UHJpb3JpdHlbXCJMb3dcIl0gPSBcImxvd1wiO1xuICAgIExheW91dFByaW9yaXR5W1wiSGlnaFwiXSA9IFwiaGlnaFwiO1xuICAgIExheW91dFByaW9yaXR5W1wiTm9ybWFsXCJdID0gXCJub3JtYWxcIjtcbn0pKExheW91dFByaW9yaXR5IHx8IChMYXlvdXRQcmlvcml0eSA9IHt9KSk7XG5leHBvcnQgdmFyIFNpemluZztcbihmdW5jdGlvbiAoU2l6aW5nKSB7XG4gICAgU2l6aW5nLkRpc3RyaWJ1dGUgPSB7IHR5cGU6ICdkaXN0cmlidXRlJyB9O1xuICAgIGZ1bmN0aW9uIFNwbGl0KGluZGV4KSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6ICdzcGxpdCcsIGluZGV4IH07XG4gICAgfVxuICAgIFNpemluZy5TcGxpdCA9IFNwbGl0O1xuICAgIGZ1bmN0aW9uIEludmlzaWJsZShjYWNoZWRWaXNpYmxlU2l6ZSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiAnaW52aXNpYmxlJywgY2FjaGVkVmlzaWJsZVNpemUgfTtcbiAgICB9XG4gICAgU2l6aW5nLkludmlzaWJsZSA9IEludmlzaWJsZTtcbn0pKFNpemluZyB8fCAoU2l6aW5nID0ge30pKTtcbmV4cG9ydCBjbGFzcyBTcGxpdHZpZXcge1xuICAgIGdldCBjb250ZW50U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnRTaXplO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgfVxuICAgIHNldCBzaXplKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3NpemUgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0IG9ydGhvZ29uYWxTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3J0aG9nb25hbFNpemU7XG4gICAgfVxuICAgIHNldCBvcnRob2dvbmFsU2l6ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9vcnRob2dvbmFsU2l6ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3SXRlbXMubGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgcHJvcG9ydGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9wb3J0aW9ucyA/IFsuLi50aGlzLl9wcm9wb3J0aW9uc10gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGdldCBvcmllbnRhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uO1xuICAgIH1cbiAgICBzZXQgb3JpZW50YXRpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5fb3JpZW50YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgdG1wID0gdGhpcy5zaXplO1xuICAgICAgICB0aGlzLnNpemUgPSB0aGlzLm9ydGhvZ29uYWxTaXplO1xuICAgICAgICB0aGlzLm9ydGhvZ29uYWxTaXplID0gdG1wO1xuICAgICAgICByZW1vdmVDbGFzc2VzKHRoaXMuZWxlbWVudCwgJ2R2LWhvcml6b250YWwnLCAnZHYtdmVydGljYWwnKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5vcmllbnRhdGlvbiA9PSBPcmllbnRhdGlvbi5IT1JJWk9OVEFMXG4gICAgICAgICAgICA/ICdkdi1ob3Jpem9udGFsJ1xuICAgICAgICAgICAgOiAnZHYtdmVydGljYWwnKTtcbiAgICB9XG4gICAgZ2V0IG1pbmltdW1TaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3SXRlbXMucmVkdWNlKChyLCBpdGVtKSA9PiByICsgaXRlbS5taW5pbXVtU2l6ZSwgMCk7XG4gICAgfVxuICAgIGdldCBtYXhpbXVtU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWVxuICAgICAgICAgICAgOiB0aGlzLnZpZXdJdGVtcy5yZWR1Y2UoKHIsIGl0ZW0pID0+IHIgKyBpdGVtLm1heGltdW1TaXplLCAwKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0U25hcHBpbmdFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRTbmFwcGluZ0VuYWJsZWQ7XG4gICAgfVxuICAgIHNldCBzdGFydFNuYXBwaW5nRW5hYmxlZChzdGFydFNuYXBwaW5nRW5hYmxlZCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhcnRTbmFwcGluZ0VuYWJsZWQgPT09IHN0YXJ0U25hcHBpbmdFbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhcnRTbmFwcGluZ0VuYWJsZWQgPSBzdGFydFNuYXBwaW5nRW5hYmxlZDtcbiAgICAgICAgdGhpcy51cGRhdGVTYXNoRW5hYmxlbWVudCgpO1xuICAgIH1cbiAgICBnZXQgZW5kU25hcHBpbmdFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5kU25hcHBpbmdFbmFibGVkO1xuICAgIH1cbiAgICBzZXQgZW5kU25hcHBpbmdFbmFibGVkKGVuZFNuYXBwaW5nRW5hYmxlZCkge1xuICAgICAgICBpZiAodGhpcy5fZW5kU25hcHBpbmdFbmFibGVkID09PSBlbmRTbmFwcGluZ0VuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbmRTbmFwcGluZ0VuYWJsZWQgPSBlbmRTbmFwcGluZ0VuYWJsZWQ7XG4gICAgICAgIHRoaXMudXBkYXRlU2FzaEVuYWJsZW1lbnQoKTtcbiAgICB9XG4gICAgZ2V0IGRpc2FibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlzYWJsZWQ7XG4gICAgfVxuICAgIHNldCBkaXNhYmxlZCh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9kaXNhYmxlZCA9IHZhbHVlO1xuICAgICAgICB0b2dnbGVDbGFzcyh0aGlzLmVsZW1lbnQsICdkdi1zcGxpdHZpZXctZGlzYWJsZWQnLCB2YWx1ZSk7XG4gICAgfVxuICAgIGdldCBtYXJnaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXJnaW47XG4gICAgfVxuICAgIHNldCBtYXJnaW4odmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbWFyZ2luID0gdmFsdWU7XG4gICAgICAgIHRvZ2dsZUNsYXNzKHRoaXMuZWxlbWVudCwgJ2R2LXNwbGl0dmlldy1oYXMtbWFyZ2luJywgdmFsdWUgIT09IDApO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMudmlld0l0ZW1zID0gW107XG4gICAgICAgIHRoaXMuc2FzaGVzID0gW107XG4gICAgICAgIHRoaXMuX3NpemUgPSAwO1xuICAgICAgICB0aGlzLl9vcnRob2dvbmFsU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX2NvbnRlbnRTaXplID0gMDtcbiAgICAgICAgdGhpcy5fcHJvcG9ydGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3N0YXJ0U25hcHBpbmdFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZW5kU25hcHBpbmdFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fbWFyZ2luID0gMDtcbiAgICAgICAgdGhpcy5fb25EaWRTYXNoRW5kID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZFNhc2hFbmQgPSB0aGlzLl9vbkRpZFNhc2hFbmQuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkQWRkVmlldyA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMub25EaWRBZGRWaWV3ID0gdGhpcy5fb25EaWRBZGRWaWV3LmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZFJlbW92ZVZpZXcgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkUmVtb3ZlVmlldyA9IHRoaXMuX29uRGlkUmVtb3ZlVmlldy5ldmVudDtcbiAgICAgICAgdGhpcy5yZXNpemUgPSAoaW5kZXgsIGRlbHRhLCBzaXplcyA9IHRoaXMudmlld0l0ZW1zLm1hcCgoeCkgPT4geC5zaXplKSwgbG93UHJpb3JpdHlJbmRleGVzLCBoaWdoUHJpb3JpdHlJbmRleGVzLCBvdmVybG9hZE1pbkRlbHRhID0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBvdmVybG9hZE1heERlbHRhID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBzbmFwQmVmb3JlLCBzbmFwQWZ0ZXIpID0+IHtcbiAgICAgICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLnZpZXdJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVwSW5kZXhlcyA9IHJhbmdlKGluZGV4LCAtMSk7XG4gICAgICAgICAgICBjb25zdCBkb3duSW5kZXhlcyA9IHJhbmdlKGluZGV4ICsgMSwgdGhpcy52aWV3SXRlbXMubGVuZ3RoKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBpZiAoaGlnaFByaW9yaXR5SW5kZXhlcykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiBoaWdoUHJpb3JpdHlJbmRleGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hUb1N0YXJ0KHVwSW5kZXhlcywgaSk7XG4gICAgICAgICAgICAgICAgICAgIHB1c2hUb1N0YXJ0KGRvd25JbmRleGVzLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobG93UHJpb3JpdHlJbmRleGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIGxvd1ByaW9yaXR5SW5kZXhlcykge1xuICAgICAgICAgICAgICAgICAgICBwdXNoVG9FbmQodXBJbmRleGVzLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgcHVzaFRvRW5kKGRvd25JbmRleGVzLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3QgdXBJdGVtcyA9IHVwSW5kZXhlcy5tYXAoKGkpID0+IHRoaXMudmlld0l0ZW1zW2ldKTtcbiAgICAgICAgICAgIGNvbnN0IHVwU2l6ZXMgPSB1cEluZGV4ZXMubWFwKChpKSA9PiBzaXplc1tpXSk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3QgZG93bkl0ZW1zID0gZG93bkluZGV4ZXMubWFwKChpKSA9PiB0aGlzLnZpZXdJdGVtc1tpXSk7XG4gICAgICAgICAgICBjb25zdCBkb3duU2l6ZXMgPSBkb3duSW5kZXhlcy5tYXAoKGkpID0+IHNpemVzW2ldKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBjb25zdCBtaW5EZWx0YVVwID0gdXBJbmRleGVzLnJlZHVjZSgoXywgaSkgPT4gXyArIHRoaXMudmlld0l0ZW1zW2ldLm1pbmltdW1TaXplIC0gc2l6ZXNbaV0sIDApO1xuICAgICAgICAgICAgY29uc3QgbWF4RGVsdGFVcCA9IHVwSW5kZXhlcy5yZWR1Y2UoKF8sIGkpID0+IF8gKyB0aGlzLnZpZXdJdGVtc1tpXS5tYXhpbXVtU2l6ZSAtIHNpemVzW2ldLCAwKTtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBjb25zdCBtYXhEZWx0YURvd24gPSBkb3duSW5kZXhlcy5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWVxuICAgICAgICAgICAgICAgIDogZG93bkluZGV4ZXMucmVkdWNlKChfLCBpKSA9PiBfICsgc2l6ZXNbaV0gLSB0aGlzLnZpZXdJdGVtc1tpXS5taW5pbXVtU2l6ZSwgMCk7XG4gICAgICAgICAgICBjb25zdCBtaW5EZWx0YURvd24gPSBkb3duSW5kZXhlcy5sZW5ndGggPT09IDBcbiAgICAgICAgICAgICAgICA/IE51bWJlci5ORUdBVElWRV9JTkZJTklUWVxuICAgICAgICAgICAgICAgIDogZG93bkluZGV4ZXMucmVkdWNlKChfLCBpKSA9PiBfICsgc2l6ZXNbaV0gLSB0aGlzLnZpZXdJdGVtc1tpXS5tYXhpbXVtU2l6ZSwgMCk7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3QgbWluRGVsdGEgPSBNYXRoLm1heChtaW5EZWx0YVVwLCBtaW5EZWx0YURvd24pO1xuICAgICAgICAgICAgY29uc3QgbWF4RGVsdGEgPSBNYXRoLm1pbihtYXhEZWx0YURvd24sIG1heERlbHRhVXApO1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGxldCBzbmFwcGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoc25hcEJlZm9yZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBWaWV3ID0gdGhpcy52aWV3SXRlbXNbc25hcEJlZm9yZS5pbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgdmlzaWJsZSA9IGRlbHRhID49IHNuYXBCZWZvcmUubGltaXREZWx0YTtcbiAgICAgICAgICAgICAgICBzbmFwcGVkID0gdmlzaWJsZSAhPT0gc25hcFZpZXcudmlzaWJsZTtcbiAgICAgICAgICAgICAgICBzbmFwVmlldy5zZXRWaXNpYmxlKHZpc2libGUsIHNuYXBCZWZvcmUuc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXNuYXBwZWQgJiYgc25hcEFmdGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc25hcFZpZXcgPSB0aGlzLnZpZXdJdGVtc1tzbmFwQWZ0ZXIuaW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpc2libGUgPSBkZWx0YSA8IHNuYXBBZnRlci5saW1pdERlbHRhO1xuICAgICAgICAgICAgICAgIHNuYXBwZWQgPSB2aXNpYmxlICE9PSBzbmFwVmlldy52aXNpYmxlO1xuICAgICAgICAgICAgICAgIHNuYXBWaWV3LnNldFZpc2libGUodmlzaWJsZSwgc25hcEFmdGVyLnNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNuYXBwZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNpemUoaW5kZXgsIGRlbHRhLCBzaXplcywgbG93UHJpb3JpdHlJbmRleGVzLCBoaWdoUHJpb3JpdHlJbmRleGVzLCBvdmVybG9hZE1pbkRlbHRhLCBvdmVybG9hZE1heERlbHRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBjb25zdCB0ZW50YXRpdmVEZWx0YSA9IGNsYW1wKGRlbHRhLCBtaW5EZWx0YSwgbWF4RGVsdGEpO1xuICAgICAgICAgICAgbGV0IGFjdHVhbERlbHRhID0gMDtcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBsZXQgZGVsdGFVcCA9IHRlbnRhdGl2ZURlbHRhO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1cEl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHVwSXRlbXNbaV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IGNsYW1wKHVwU2l6ZXNbaV0gKyBkZWx0YVVwLCBpdGVtLm1pbmltdW1TaXplLCBpdGVtLm1heGltdW1TaXplKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3RGVsdGEgPSBzaXplIC0gdXBTaXplc1tpXTtcbiAgICAgICAgICAgICAgICBhY3R1YWxEZWx0YSArPSB2aWV3RGVsdGE7XG4gICAgICAgICAgICAgICAgZGVsdGFVcCAtPSB2aWV3RGVsdGE7XG4gICAgICAgICAgICAgICAgaXRlbS5zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBsZXQgZGVsdGFEb3duID0gYWN0dWFsRGVsdGE7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvd25JdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBkb3duSXRlbXNbaV07XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IGNsYW1wKGRvd25TaXplc1tpXSAtIGRlbHRhRG93biwgaXRlbS5taW5pbXVtU2l6ZSwgaXRlbS5tYXhpbXVtU2l6ZSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgdmlld0RlbHRhID0gc2l6ZSAtIGRvd25TaXplc1tpXTtcbiAgICAgICAgICAgICAgICBkZWx0YURvd24gKz0gdmlld0RlbHRhO1xuICAgICAgICAgICAgICAgIGl0ZW0uc2l6ZSA9IHNpemU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgcmV0dXJuIGRlbHRhO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9vcmllbnRhdGlvbiA9IChfYSA9IG9wdGlvbnMub3JpZW50YXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IE9yaWVudGF0aW9uLlZFUlRJQ0FMO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSB0aGlzLmNyZWF0ZUNvbnRhaW5lcigpO1xuICAgICAgICB0aGlzLm1hcmdpbiA9IChfYiA9IG9wdGlvbnMubWFyZ2luKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgICAgICB0aGlzLnByb3BvcnRpb25hbExheW91dCA9XG4gICAgICAgICAgICBvcHRpb25zLnByb3BvcnRpb25hbExheW91dCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgICAgOiAhIW9wdGlvbnMucHJvcG9ydGlvbmFsTGF5b3V0O1xuICAgICAgICB0aGlzLnZpZXdDb250YWluZXIgPSB0aGlzLmNyZWF0ZVZpZXdDb250YWluZXIoKTtcbiAgICAgICAgdGhpcy5zYXNoQ29udGFpbmVyID0gdGhpcy5jcmVhdGVTYXNoQ29udGFpbmVyKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLnNhc2hDb250YWluZXIpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy52aWV3Q29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICAgICAgdGhpcy5zdHlsZShvcHRpb25zLnN0eWxlcyk7XG4gICAgICAgIC8vIFdlIGhhdmUgYW4gZXhpc3Rpbmcgc2V0IG9mIHZpZXcsIGFkZCB0aGVtIG5vd1xuICAgICAgICBpZiAob3B0aW9ucy5kZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICB0aGlzLl9zaXplID0gb3B0aW9ucy5kZXNjcmlwdG9yLnNpemU7XG4gICAgICAgICAgICBvcHRpb25zLmRlc2NyaXB0b3Iudmlld3MuZm9yRWFjaCgodmlld0Rlc2NyaXB0b3IsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2l6aW5nID0gdmlld0Rlc2NyaXB0b3IudmlzaWJsZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgIHZpZXdEZXNjcmlwdG9yLnZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgPyB2aWV3RGVzY3JpcHRvci5zaXplXG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ludmlzaWJsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZWRWaXNpYmxlU2l6ZTogdmlld0Rlc2NyaXB0b3Iuc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gdmlld0Rlc2NyaXB0b3IudmlldztcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFZpZXcodmlldywgc2l6aW5nLCBpbmRleCwgdHJ1ZVxuICAgICAgICAgICAgICAgIC8vIHRydWUgc2tpcCBsYXlvdXRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGNvbnRlbnQgc2l6ZSBhbmQgcHJvcG9ydGlvbnMgZm9yIGZpcnN0IGxheW91dFxuICAgICAgICAgICAgdGhpcy5fY29udGVudFNpemUgPSB0aGlzLnZpZXdJdGVtcy5yZWR1Y2UoKHIsIGkpID0+IHIgKyBpLnNpemUsIDApO1xuICAgICAgICAgICAgdGhpcy5zYXZlUHJvcG9ydGlvbnMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdHlsZShzdHlsZXMpIHtcbiAgICAgICAgaWYgKChzdHlsZXMgPT09IG51bGwgfHwgc3R5bGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdHlsZXMuc2VwYXJhdG9yQm9yZGVyKSA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3Nlcyh0aGlzLmVsZW1lbnQsICdkdi1zZXBhcmF0b3ItYm9yZGVyJyk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkoJy0tZHYtc2VwYXJhdG9yLWJvcmRlcicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWRkQ2xhc3Nlcyh0aGlzLmVsZW1lbnQsICdkdi1zZXBhcmF0b3ItYm9yZGVyJyk7XG4gICAgICAgICAgICBpZiAoc3R5bGVzID09PSBudWxsIHx8IHN0eWxlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3R5bGVzLnNlcGFyYXRvckJvcmRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1kdi1zZXBhcmF0b3ItYm9yZGVyJywgc3R5bGVzLnNlcGFyYXRvckJvcmRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNWaWV3VmlzaWJsZShpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMudmlld0l0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmRleCBvdXQgb2YgYm91bmRzJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgdmlld0l0ZW0gPSB0aGlzLnZpZXdJdGVtc1tpbmRleF07XG4gICAgICAgIHJldHVybiB2aWV3SXRlbS52aXNpYmxlO1xuICAgIH1cbiAgICBzZXRWaWV3VmlzaWJsZShpbmRleCwgdmlzaWJsZSkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMudmlld0l0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmRleCBvdXQgb2YgYm91bmRzJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgdmlld0l0ZW0gPSB0aGlzLnZpZXdJdGVtc1tpbmRleF07XG4gICAgICAgIHZpZXdJdGVtLnNldFZpc2libGUodmlzaWJsZSwgdmlld0l0ZW0uc2l6ZSk7XG4gICAgICAgIHRoaXMuZGlzdHJpYnV0ZUVtcHR5U3BhY2UoaW5kZXgpO1xuICAgICAgICB0aGlzLmxheW91dFZpZXdzKCk7XG4gICAgICAgIHRoaXMuc2F2ZVByb3BvcnRpb25zKCk7XG4gICAgfVxuICAgIGdldFZpZXdTaXplKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy52aWV3SXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudmlld0l0ZW1zW2luZGV4XS5zaXplO1xuICAgIH1cbiAgICByZXNpemVWaWV3KGluZGV4LCBzaXplKSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gdGhpcy52aWV3SXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXhlcyA9IHJhbmdlKHRoaXMudmlld0l0ZW1zLmxlbmd0aCkuZmlsdGVyKChpKSA9PiBpICE9PSBpbmRleCk7XG4gICAgICAgIGNvbnN0IGxvd1ByaW9yaXR5SW5kZXhlcyA9IFtcbiAgICAgICAgICAgIC4uLmluZGV4ZXMuZmlsdGVyKChpKSA9PiB0aGlzLnZpZXdJdGVtc1tpXS5wcmlvcml0eSA9PT0gTGF5b3V0UHJpb3JpdHkuTG93KSxcbiAgICAgICAgICAgIGluZGV4LFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBoaWdoUHJpb3JpdHlJbmRleGVzID0gaW5kZXhlcy5maWx0ZXIoKGkpID0+IHRoaXMudmlld0l0ZW1zW2ldLnByaW9yaXR5ID09PSBMYXlvdXRQcmlvcml0eS5IaWdoKTtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMudmlld0l0ZW1zW2luZGV4XTtcbiAgICAgICAgc2l6ZSA9IE1hdGgucm91bmQoc2l6ZSk7XG4gICAgICAgIHNpemUgPSBjbGFtcChzaXplLCBpdGVtLm1pbmltdW1TaXplLCBNYXRoLm1pbihpdGVtLm1heGltdW1TaXplLCB0aGlzLl9zaXplKSk7XG4gICAgICAgIGl0ZW0uc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMucmVsYXlvdXQobG93UHJpb3JpdHlJbmRleGVzLCBoaWdoUHJpb3JpdHlJbmRleGVzKTtcbiAgICB9XG4gICAgZ2V0Vmlld3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdJdGVtcy5tYXAoKHgpID0+IHgudmlldyk7XG4gICAgfVxuICAgIG9uRGlkQ2hhbmdlKGl0ZW0sIHNpemUpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnZpZXdJdGVtcy5pbmRleE9mKGl0ZW0pO1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMudmlld0l0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNpemUgPSB0eXBlb2Ygc2l6ZSA9PT0gJ251bWJlcicgPyBzaXplIDogaXRlbS5zaXplO1xuICAgICAgICBzaXplID0gY2xhbXAoc2l6ZSwgaXRlbS5taW5pbXVtU2l6ZSwgaXRlbS5tYXhpbXVtU2l6ZSk7XG4gICAgICAgIGl0ZW0uc2l6ZSA9IHNpemU7XG4gICAgICAgIGNvbnN0IGluZGV4ZXMgPSByYW5nZSh0aGlzLnZpZXdJdGVtcy5sZW5ndGgpLmZpbHRlcigoaSkgPT4gaSAhPT0gaW5kZXgpO1xuICAgICAgICBjb25zdCBsb3dQcmlvcml0eUluZGV4ZXMgPSBbXG4gICAgICAgICAgICAuLi5pbmRleGVzLmZpbHRlcigoaSkgPT4gdGhpcy52aWV3SXRlbXNbaV0ucHJpb3JpdHkgPT09IExheW91dFByaW9yaXR5LkxvdyksXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3QgaGlnaFByaW9yaXR5SW5kZXhlcyA9IGluZGV4ZXMuZmlsdGVyKChpKSA9PiB0aGlzLnZpZXdJdGVtc1tpXS5wcmlvcml0eSA9PT0gTGF5b3V0UHJpb3JpdHkuSGlnaCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhZGQgdGhpcyB2aWV3IHdlIGFyZSBjaGFuZ2luZyB0byB0aGUgbG93LWluZGV4IGxpc3Qgc2luY2Ugd2UgaGF2ZSBkZXRlcm1pbmVkIHRoZSBzaXplXG4gICAgICAgICAqIGhlcmUgYW5kIGRvbid0IHdhbnQgaXQgY2hhbmdlZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWxheW91dChbLi4ubG93UHJpb3JpdHlJbmRleGVzLCBpbmRleF0sIGhpZ2hQcmlvcml0eUluZGV4ZXMpO1xuICAgIH1cbiAgICBhZGRWaWV3KHZpZXcsIHNpemUgPSB7IHR5cGU6ICdkaXN0cmlidXRlJyB9LCBpbmRleCA9IHRoaXMudmlld0l0ZW1zLmxlbmd0aCwgc2tpcExheW91dCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdkdi12aWV3JztcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHZpZXcuZWxlbWVudCk7XG4gICAgICAgIGxldCB2aWV3U2l6ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBzaXplID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdmlld1NpemUgPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNpemUudHlwZSA9PT0gJ3NwbGl0Jykge1xuICAgICAgICAgICAgdmlld1NpemUgPSB0aGlzLmdldFZpZXdTaXplKHNpemUuaW5kZXgpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaXplLnR5cGUgPT09ICdpbnZpc2libGUnKSB7XG4gICAgICAgICAgICB2aWV3U2l6ZSA9IHsgY2FjaGVkVmlzaWJsZVNpemU6IHNpemUuY2FjaGVkVmlzaWJsZVNpemUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZpZXdTaXplID0gdmlldy5taW5pbXVtU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXNwb3NhYmxlID0gdmlldy5vbkRpZENoYW5nZSgobmV3U2l6ZSkgPT4gdGhpcy5vbkRpZENoYW5nZSh2aWV3SXRlbSwgbmV3U2l6ZS5zaXplKSk7XG4gICAgICAgIGNvbnN0IHZpZXdJdGVtID0gbmV3IFZpZXdJdGVtKGNvbnRhaW5lciwgdmlldywgdmlld1NpemUsIHtcbiAgICAgICAgICAgIGRpc3Bvc2U6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdDb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaW5kZXggPT09IHRoaXMudmlld0l0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy52aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdDb250YWluZXIuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lciwgdGhpcy52aWV3Q29udGFpbmVyLmNoaWxkcmVuLml0ZW0oaW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdJdGVtcy5zcGxpY2UoaW5kZXgsIDAsIHZpZXdJdGVtKTtcbiAgICAgICAgaWYgKHRoaXMudmlld0l0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vYWRkIHNhc2hcbiAgICAgICAgICAgIGNvbnN0IHNhc2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHNhc2guY2xhc3NOYW1lID0gJ2R2LXNhc2gnO1xuICAgICAgICAgICAgY29uc3Qgb25Qb2ludGVyU3RhcnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy52aWV3SXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGlmcmFtZXMgPSBkaXNhYmxlSWZyYW1lUG9pbnRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuX29yaWVudGF0aW9uID09PSBPcmllbnRhdGlvbi5IT1JJWk9OVEFMXG4gICAgICAgICAgICAgICAgICAgID8gZXZlbnQuY2xpZW50WFxuICAgICAgICAgICAgICAgICAgICA6IGV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2FzaEluZGV4ID0gZmlyc3RJbmRleCh0aGlzLnNhc2hlcywgKHMpID0+IHMuY29udGFpbmVyID09PSBzYXNoKTtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemVzID0gdGhpcy52aWV3SXRlbXMubWFwKCh4KSA9PiB4LnNpemUpO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgbGV0IHNuYXBCZWZvcmU7XG4gICAgICAgICAgICAgICAgbGV0IHNuYXBBZnRlcjtcbiAgICAgICAgICAgICAgICBjb25zdCB1cEluZGV4ZXMgPSByYW5nZShzYXNoSW5kZXgsIC0xKTtcbiAgICAgICAgICAgICAgICBjb25zdCBkb3duSW5kZXhlcyA9IHJhbmdlKHNhc2hJbmRleCArIDEsIHRoaXMudmlld0l0ZW1zLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWluRGVsdGFVcCA9IHVwSW5kZXhlcy5yZWR1Y2UoKHIsIGkpID0+IHIgKyAodGhpcy52aWV3SXRlbXNbaV0ubWluaW11bVNpemUgLSBzaXplc1tpXSksIDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heERlbHRhVXAgPSB1cEluZGV4ZXMucmVkdWNlKChyLCBpKSA9PiByICsgKHRoaXMudmlld0l0ZW1zW2ldLnZpZXdNYXhpbXVtU2l6ZSAtIHNpemVzW2ldKSwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4RGVsdGFEb3duID0gZG93bkluZGV4ZXMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXG4gICAgICAgICAgICAgICAgICAgIDogZG93bkluZGV4ZXMucmVkdWNlKChyLCBpKSA9PiByICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChzaXplc1tpXSAtIHRoaXMudmlld0l0ZW1zW2ldLm1pbmltdW1TaXplKSwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWluRGVsdGFEb3duID0gZG93bkluZGV4ZXMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgID8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZXG4gICAgICAgICAgICAgICAgICAgIDogZG93bkluZGV4ZXMucmVkdWNlKChyLCBpKSA9PiByICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChzaXplc1tpXSAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3SXRlbXNbaV0udmlld01heGltdW1TaXplKSwgMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWluRGVsdGEgPSBNYXRoLm1heChtaW5EZWx0YVVwLCBtaW5EZWx0YURvd24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1heERlbHRhID0gTWF0aC5taW4obWF4RGVsdGFEb3duLCBtYXhEZWx0YVVwKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzbmFwQmVmb3JlSW5kZXggPSB0aGlzLmZpbmRGaXJzdFNuYXBJbmRleCh1cEluZGV4ZXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBBZnRlckluZGV4ID0gdGhpcy5maW5kRmlyc3RTbmFwSW5kZXgoZG93bkluZGV4ZXMpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc25hcEJlZm9yZUluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzbmFwcGVkVmlld0l0ZW0gPSB0aGlzLnZpZXdJdGVtc1tzbmFwQmVmb3JlSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYWxmU2l6ZSA9IE1hdGguZmxvb3Ioc25hcHBlZFZpZXdJdGVtLnZpZXdNaW5pbXVtU2l6ZSAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBzbmFwQmVmb3JlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHNuYXBCZWZvcmVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0RGVsdGE6IHNuYXBwZWRWaWV3SXRlbS52aXNpYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBtaW5EZWx0YSAtIGhhbGZTaXplXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtaW5EZWx0YSArIGhhbGZTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogc25hcHBlZFZpZXdJdGVtLnNpemUsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc25hcEFmdGVySW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNuYXBwZWRWaWV3SXRlbSA9IHRoaXMudmlld0l0ZW1zW3NuYXBBZnRlckluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFsZlNpemUgPSBNYXRoLmZsb29yKHNuYXBwZWRWaWV3SXRlbS52aWV3TWluaW11bVNpemUgLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgc25hcEFmdGVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHNuYXBBZnRlckluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXREZWx0YTogc25hcHBlZFZpZXdJdGVtLnZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1heERlbHRhICsgaGFsZlNpemVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG1heERlbHRhIC0gaGFsZlNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBzbmFwcGVkVmlld0l0ZW0uc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgb25Qb2ludGVyTW92ZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gdGhpcy5fb3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZXZlbnQuY2xpZW50WFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBldmVudC5jbGllbnRZO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IGN1cnJlbnQgLSBzdGFydDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNpemUoc2FzaEluZGV4LCBkZWx0YSwgc2l6ZXMsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBtaW5EZWx0YSwgbWF4RGVsdGEsIHNuYXBCZWZvcmUsIHNuYXBBZnRlcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzdHJpYnV0ZUVtcHR5U3BhY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXlvdXRWaWV3cygpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy52aWV3SXRlbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lcy5yZWxlYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVByb3BvcnRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgb25Qb2ludGVyTW92ZSk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGVuZCk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCBlbmQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZFNhc2hFbmQuZmlyZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBvblBvaW50ZXJNb3ZlKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBlbmQpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCBlbmQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNhc2guYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvblBvaW50ZXJTdGFydCk7XG4gICAgICAgICAgICBjb25zdCBzYXNoSXRlbSA9IHtcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHNhc2gsXG4gICAgICAgICAgICAgICAgZGlzcG9zYWJsZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzYXNoLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25Qb2ludGVyU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhc2hDb250YWluZXIucmVtb3ZlQ2hpbGQoc2FzaCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNhc2hDb250YWluZXIuYXBwZW5kQ2hpbGQoc2FzaCk7XG4gICAgICAgICAgICB0aGlzLnNhc2hlcy5wdXNoKHNhc2hJdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNraXBMYXlvdXQpIHtcbiAgICAgICAgICAgIHRoaXMucmVsYXlvdXQoW2luZGV4XSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFza2lwTGF5b3V0ICYmXG4gICAgICAgICAgICB0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgIHNpemUudHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3RyaWJ1dGVWaWV3U2l6ZXMoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vbkRpZEFkZFZpZXcuZmlyZSh2aWV3KTtcbiAgICB9XG4gICAgZGlzdHJpYnV0ZVZpZXdTaXplcygpIHtcbiAgICAgICAgY29uc3QgZmxleGlibGVWaWV3SXRlbXMgPSBbXTtcbiAgICAgICAgbGV0IGZsZXhpYmxlU2l6ZSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLnZpZXdJdGVtcykge1xuICAgICAgICAgICAgaWYgKGl0ZW0ubWF4aW11bVNpemUgLSBpdGVtLm1pbmltdW1TaXplID4gMCkge1xuICAgICAgICAgICAgICAgIGZsZXhpYmxlVmlld0l0ZW1zLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgZmxleGlibGVTaXplICs9IGl0ZW0uc2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaXplID0gTWF0aC5mbG9vcihmbGV4aWJsZVNpemUgLyBmbGV4aWJsZVZpZXdJdGVtcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZmxleGlibGVWaWV3SXRlbXMpIHtcbiAgICAgICAgICAgIGl0ZW0uc2l6ZSA9IGNsYW1wKHNpemUsIGl0ZW0ubWluaW11bVNpemUsIGl0ZW0ubWF4aW11bVNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGluZGV4ZXMgPSByYW5nZSh0aGlzLnZpZXdJdGVtcy5sZW5ndGgpO1xuICAgICAgICBjb25zdCBsb3dQcmlvcml0eUluZGV4ZXMgPSBpbmRleGVzLmZpbHRlcigoaSkgPT4gdGhpcy52aWV3SXRlbXNbaV0ucHJpb3JpdHkgPT09IExheW91dFByaW9yaXR5Lkxvdyk7XG4gICAgICAgIGNvbnN0IGhpZ2hQcmlvcml0eUluZGV4ZXMgPSBpbmRleGVzLmZpbHRlcigoaSkgPT4gdGhpcy52aWV3SXRlbXNbaV0ucHJpb3JpdHkgPT09IExheW91dFByaW9yaXR5LkhpZ2gpO1xuICAgICAgICB0aGlzLnJlbGF5b3V0KGxvd1ByaW9yaXR5SW5kZXhlcywgaGlnaFByaW9yaXR5SW5kZXhlcyk7XG4gICAgfVxuICAgIHJlbW92ZVZpZXcoaW5kZXgsIHNpemluZywgc2tpcExheW91dCA9IGZhbHNlKSB7XG4gICAgICAgIC8vIFJlbW92ZSB2aWV3XG4gICAgICAgIGNvbnN0IHZpZXdJdGVtID0gdGhpcy52aWV3SXRlbXMuc3BsaWNlKGluZGV4LCAxKVswXTtcbiAgICAgICAgdmlld0l0ZW0uZGlzcG9zZSgpO1xuICAgICAgICAvLyBSZW1vdmUgc2FzaFxuICAgICAgICBpZiAodGhpcy52aWV3SXRlbXMubGVuZ3RoID49IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHNhc2hJbmRleCA9IE1hdGgubWF4KGluZGV4IC0gMSwgMCk7XG4gICAgICAgICAgICBjb25zdCBzYXNoSXRlbSA9IHRoaXMuc2FzaGVzLnNwbGljZShzYXNoSW5kZXgsIDEpWzBdO1xuICAgICAgICAgICAgc2FzaEl0ZW0uZGlzcG9zYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2tpcExheW91dCkge1xuICAgICAgICAgICAgdGhpcy5yZWxheW91dCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaXppbmcgJiYgc2l6aW5nLnR5cGUgPT09ICdkaXN0cmlidXRlJykge1xuICAgICAgICAgICAgdGhpcy5kaXN0cmlidXRlVmlld1NpemVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fb25EaWRSZW1vdmVWaWV3LmZpcmUodmlld0l0ZW0udmlldyk7XG4gICAgICAgIHJldHVybiB2aWV3SXRlbS52aWV3O1xuICAgIH1cbiAgICBnZXRWaWV3Q2FjaGVkVmlzaWJsZVNpemUoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLnZpZXdJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5kZXggb3V0IG9mIGJvdW5kcycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZpZXdJdGVtID0gdGhpcy52aWV3SXRlbXNbaW5kZXhdO1xuICAgICAgICByZXR1cm4gdmlld0l0ZW0uY2FjaGVkVmlzaWJsZVNpemU7XG4gICAgfVxuICAgIG1vdmVWaWV3KGZyb20sIHRvKSB7XG4gICAgICAgIGNvbnN0IGNhY2hlZFZpc2libGVTaXplID0gdGhpcy5nZXRWaWV3Q2FjaGVkVmlzaWJsZVNpemUoZnJvbSk7XG4gICAgICAgIGNvbnN0IHNpemluZyA9IHR5cGVvZiBjYWNoZWRWaXNpYmxlU2l6ZSA9PT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgID8gdGhpcy5nZXRWaWV3U2l6ZShmcm9tKVxuICAgICAgICAgICAgOiBTaXppbmcuSW52aXNpYmxlKGNhY2hlZFZpc2libGVTaXplKTtcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMucmVtb3ZlVmlldyhmcm9tLCB1bmRlZmluZWQsIHRydWUpO1xuICAgICAgICB0aGlzLmFkZFZpZXcodmlldywgc2l6aW5nLCB0byk7XG4gICAgfVxuICAgIGxheW91dChzaXplLCBvcnRob2dvbmFsU2l6ZSkge1xuICAgICAgICBjb25zdCBwcmV2aW91c1NpemUgPSBNYXRoLm1heCh0aGlzLnNpemUsIHRoaXMuX2NvbnRlbnRTaXplKTtcbiAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICAgICAgdGhpcy5vcnRob2dvbmFsU2l6ZSA9IG9ydGhvZ29uYWxTaXplO1xuICAgICAgICBpZiAoIXRoaXMucHJvcG9ydGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ZXMgPSByYW5nZSh0aGlzLnZpZXdJdGVtcy5sZW5ndGgpO1xuICAgICAgICAgICAgY29uc3QgbG93UHJpb3JpdHlJbmRleGVzID0gaW5kZXhlcy5maWx0ZXIoKGkpID0+IHRoaXMudmlld0l0ZW1zW2ldLnByaW9yaXR5ID09PSBMYXlvdXRQcmlvcml0eS5Mb3cpO1xuICAgICAgICAgICAgY29uc3QgaGlnaFByaW9yaXR5SW5kZXhlcyA9IGluZGV4ZXMuZmlsdGVyKChpKSA9PiB0aGlzLnZpZXdJdGVtc1tpXS5wcmlvcml0eSA9PT0gTGF5b3V0UHJpb3JpdHkuSGlnaCk7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSh0aGlzLnZpZXdJdGVtcy5sZW5ndGggLSAxLCBzaXplIC0gcHJldmlvdXNTaXplLCB1bmRlZmluZWQsIGxvd1ByaW9yaXR5SW5kZXhlcywgaGlnaFByaW9yaXR5SW5kZXhlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgdG90YWwgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnZpZXdJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnZpZXdJdGVtc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wb3J0aW9uID0gdGhpcy5wcm9wb3J0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BvcnRpb24gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IHByb3BvcnRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaXplIC09IGl0ZW0uc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmlld0l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMudmlld0l0ZW1zW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3BvcnRpb24gPSB0aGlzLnByb3BvcnRpb25zW2ldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcG9ydGlvbiA9PT0gJ251bWJlcicgJiYgdG90YWwgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc2l6ZSA9IGNsYW1wKE1hdGgucm91bmQoKHByb3BvcnRpb24gKiBzaXplKSAvIHRvdGFsKSwgaXRlbS5taW5pbXVtU2l6ZSwgaXRlbS5tYXhpbXVtU2l6ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzdHJpYnV0ZUVtcHR5U3BhY2UoKTtcbiAgICAgICAgdGhpcy5sYXlvdXRWaWV3cygpO1xuICAgIH1cbiAgICByZWxheW91dChsb3dQcmlvcml0eUluZGV4ZXMsIGhpZ2hQcmlvcml0eUluZGV4ZXMpIHtcbiAgICAgICAgY29uc3QgY29udGVudFNpemUgPSB0aGlzLnZpZXdJdGVtcy5yZWR1Y2UoKHIsIGkpID0+IHIgKyBpLnNpemUsIDApO1xuICAgICAgICB0aGlzLnJlc2l6ZSh0aGlzLnZpZXdJdGVtcy5sZW5ndGggLSAxLCB0aGlzLl9zaXplIC0gY29udGVudFNpemUsIHVuZGVmaW5lZCwgbG93UHJpb3JpdHlJbmRleGVzLCBoaWdoUHJpb3JpdHlJbmRleGVzKTtcbiAgICAgICAgdGhpcy5kaXN0cmlidXRlRW1wdHlTcGFjZSgpO1xuICAgICAgICB0aGlzLmxheW91dFZpZXdzKCk7XG4gICAgICAgIHRoaXMuc2F2ZVByb3BvcnRpb25zKCk7XG4gICAgfVxuICAgIGRpc3RyaWJ1dGVFbXB0eVNwYWNlKGxvd1ByaW9yaXR5SW5kZXgpIHtcbiAgICAgICAgY29uc3QgY29udGVudFNpemUgPSB0aGlzLnZpZXdJdGVtcy5yZWR1Y2UoKHIsIGkpID0+IHIgKyBpLnNpemUsIDApO1xuICAgICAgICBsZXQgZW1wdHlEZWx0YSA9IHRoaXMuc2l6ZSAtIGNvbnRlbnRTaXplO1xuICAgICAgICBjb25zdCBpbmRleGVzID0gcmFuZ2UodGhpcy52aWV3SXRlbXMubGVuZ3RoIC0gMSwgLTEpO1xuICAgICAgICBjb25zdCBsb3dQcmlvcml0eUluZGV4ZXMgPSBpbmRleGVzLmZpbHRlcigoaSkgPT4gdGhpcy52aWV3SXRlbXNbaV0ucHJpb3JpdHkgPT09IExheW91dFByaW9yaXR5Lkxvdyk7XG4gICAgICAgIGNvbnN0IGhpZ2hQcmlvcml0eUluZGV4ZXMgPSBpbmRleGVzLmZpbHRlcigoaSkgPT4gdGhpcy52aWV3SXRlbXNbaV0ucHJpb3JpdHkgPT09IExheW91dFByaW9yaXR5LkhpZ2gpO1xuICAgICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIGhpZ2hQcmlvcml0eUluZGV4ZXMpIHtcbiAgICAgICAgICAgIHB1c2hUb1N0YXJ0KGluZGV4ZXMsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIGxvd1ByaW9yaXR5SW5kZXhlcykge1xuICAgICAgICAgICAgcHVzaFRvRW5kKGluZGV4ZXMsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGxvd1ByaW9yaXR5SW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBwdXNoVG9FbmQoaW5kZXhlcywgbG93UHJpb3JpdHlJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGVtcHR5RGVsdGEgIT09IDAgJiYgaSA8IGluZGV4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnZpZXdJdGVtc1tpbmRleGVzW2ldXTtcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSBjbGFtcChpdGVtLnNpemUgKyBlbXB0eURlbHRhLCBpdGVtLm1pbmltdW1TaXplLCBpdGVtLm1heGltdW1TaXplKTtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdEZWx0YSA9IHNpemUgLSBpdGVtLnNpemU7XG4gICAgICAgICAgICBlbXB0eURlbHRhIC09IHZpZXdEZWx0YTtcbiAgICAgICAgICAgIGl0ZW0uc2l6ZSA9IHNpemU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2F2ZVByb3BvcnRpb25zKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wb3J0aW9uYWxMYXlvdXQgJiYgdGhpcy5fY29udGVudFNpemUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9wb3J0aW9ucyA9IHRoaXMudmlld0l0ZW1zLm1hcCgoaSkgPT4gaS52aXNpYmxlID8gaS5zaXplIC8gdGhpcy5fY29udGVudFNpemUgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcmdpbiBleHBsYWluOlxuICAgICAqXG4gICAgICogRm9yIGBuYCB2aWV3cyBpbiBhIHNwbGl0dmlldyB0aGVyZSB3aWxsIGJlIGBuLTFgIG1hcmdpbnMgYG1gLlxuICAgICAqXG4gICAgICogVG8gZml0IHRoZSBtYXJnaW5zIGVhY2ggdmlldyBtdXN0IHJlZHVjZSBpbiBzaXplIGJ5IGAobSAqIChuIC0gMSkpIC8gbmAuXG4gICAgICpcbiAgICAgKiBGb3IgZWFjaCB2aWV3IGBpYCB0aGUgb2ZmZXQgbXVzdCBiZSBhZGp1c3RlZCBieSBgbSAqIGkvKG4gLSAxKWAuXG4gICAgICovXG4gICAgbGF5b3V0Vmlld3MoKSB7XG4gICAgICAgIHRoaXMuX2NvbnRlbnRTaXplID0gdGhpcy52aWV3SXRlbXMucmVkdWNlKChyLCBpKSA9PiByICsgaS5zaXplLCAwKTtcbiAgICAgICAgdGhpcy51cGRhdGVTYXNoRW5hYmxlbWVudCgpO1xuICAgICAgICBpZiAodGhpcy52aWV3SXRlbXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmlzaWJsZVZpZXdJdGVtcyA9IHRoaXMudmlld0l0ZW1zLmZpbHRlcigoaSkgPT4gaS52aXNpYmxlKTtcbiAgICAgICAgY29uc3Qgc2FzaENvdW50ID0gTWF0aC5tYXgoMCwgdmlzaWJsZVZpZXdJdGVtcy5sZW5ndGggLSAxKTtcbiAgICAgICAgY29uc3QgbWFyZ2luUmVkdWNlZFNpemUgPSAodGhpcy5tYXJnaW4gKiBzYXNoQ291bnQpIC8gTWF0aC5tYXgoMSwgdmlzaWJsZVZpZXdJdGVtcy5sZW5ndGgpO1xuICAgICAgICBsZXQgdG90YWxMZWZ0T2Zmc2V0ID0gMDtcbiAgICAgICAgY29uc3Qgdmlld0xlZnRPZmZzZXRzID0gW107XG4gICAgICAgIGNvbnN0IHNhc2hXaWR0aCA9IDQ7IC8vIGhhcmRjb2RlZCBpbiBjc3NcbiAgICAgICAgY29uc3QgcnVubmluZ1Zpc2libGVQYW5lbENvdW50ID0gdGhpcy52aWV3SXRlbXMucmVkdWNlKChhcnIsIHZpZXdJdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmbGFnID0gdmlld0l0ZW0udmlzaWJsZSA/IDEgOiAwO1xuICAgICAgICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChmbGFnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKGFycltpIC0gMV0gKyBmbGFnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgLy8gY2FsY3VsYXRlIGJvdGggdmlldyBhbmQgY2FzaCBwb3NpdGlvbnNcbiAgICAgICAgdGhpcy52aWV3SXRlbXMuZm9yRWFjaCgodmlldywgaSkgPT4ge1xuICAgICAgICAgICAgdG90YWxMZWZ0T2Zmc2V0ICs9IHRoaXMudmlld0l0ZW1zW2ldLnNpemU7XG4gICAgICAgICAgICB2aWV3TGVmdE9mZnNldHMucHVzaCh0b3RhbExlZnRPZmZzZXQpO1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHZpZXcudmlzaWJsZSA/IHZpZXcuc2l6ZSAtIG1hcmdpblJlZHVjZWRTaXplIDogMDtcbiAgICAgICAgICAgIGNvbnN0IHZpc2libGVQYW5lbHNCZWZvcmVUaGlzVmlldyA9IE1hdGgubWF4KDAsIHJ1bm5pbmdWaXNpYmxlUGFuZWxDb3VudFtpXSAtIDEpO1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaSA9PT0gMCB8fCB2aXNpYmxlUGFuZWxzQmVmb3JlVGhpc1ZpZXcgPT09IDBcbiAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICA6IHZpZXdMZWZ0T2Zmc2V0c1tpIC0gMV0gK1xuICAgICAgICAgICAgICAgICAgICAodmlzaWJsZVBhbmVsc0JlZm9yZVRoaXNWaWV3IC8gc2FzaENvdW50KSAqXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5SZWR1Y2VkU2l6ZTtcbiAgICAgICAgICAgIGlmIChpIDwgdGhpcy52aWV3SXRlbXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBzYXNoIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U2l6ZSA9IHZpZXcudmlzaWJsZVxuICAgICAgICAgICAgICAgICAgICA/IG9mZnNldCArIHNpemUgLSBzYXNoV2lkdGggLyAyICsgdGhpcy5tYXJnaW4gLyAyXG4gICAgICAgICAgICAgICAgICAgIDogb2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhc2hlc1tpXS5jb250YWluZXIuc3R5bGUubGVmdCA9IGAke25ld1NpemV9cHhgO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNhc2hlc1tpXS5jb250YWluZXIuc3R5bGUudG9wID0gYDBweGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uVkVSVElDQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXNoZXNbaV0uY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgMHB4YDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXNoZXNbaV0uY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke25ld1NpemV9cHhgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSB2aWV3IHBvc2l0aW9uXG4gICAgICAgICAgICBpZiAodGhpcy5fb3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUwpIHtcbiAgICAgICAgICAgICAgICB2aWV3LmNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke3NpemV9cHhgO1xuICAgICAgICAgICAgICAgIHZpZXcuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBgJHtvZmZzZXR9cHhgO1xuICAgICAgICAgICAgICAgIHZpZXcuY29udGFpbmVyLnN0eWxlLnRvcCA9ICcnO1xuICAgICAgICAgICAgICAgIHZpZXcuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX29yaWVudGF0aW9uID09PSBPcmllbnRhdGlvbi5WRVJUSUNBTCkge1xuICAgICAgICAgICAgICAgIHZpZXcuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke3NpemV9cHhgO1xuICAgICAgICAgICAgICAgIHZpZXcuY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke29mZnNldH1weGA7XG4gICAgICAgICAgICAgICAgdmlldy5jb250YWluZXIuc3R5bGUud2lkdGggPSAnJztcbiAgICAgICAgICAgICAgICB2aWV3LmNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2aWV3LnZpZXcubGF5b3V0KHZpZXcuc2l6ZSAtIG1hcmdpblJlZHVjZWRTaXplLCB0aGlzLl9vcnRob2dvbmFsU2l6ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmaW5kRmlyc3RTbmFwSW5kZXgoaW5kZXhlcykge1xuICAgICAgICAvLyB2aXNpYmxlIHZpZXdzIGZpcnN0XG4gICAgICAgIGZvciAoY29uc3QgaW5kZXggb2YgaW5kZXhlcykge1xuICAgICAgICAgICAgY29uc3Qgdmlld0l0ZW0gPSB0aGlzLnZpZXdJdGVtc1tpbmRleF07XG4gICAgICAgICAgICBpZiAoIXZpZXdJdGVtLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2aWV3SXRlbS5zbmFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHRoZW4sIGhpZGRlbiB2aWV3c1xuICAgICAgICBmb3IgKGNvbnN0IGluZGV4IG9mIGluZGV4ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdJdGVtID0gdGhpcy52aWV3SXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKHZpZXdJdGVtLnZpc2libGUgJiZcbiAgICAgICAgICAgICAgICB2aWV3SXRlbS5tYXhpbXVtU2l6ZSAtIHZpZXdJdGVtLm1pbmltdW1TaXplID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXZpZXdJdGVtLnZpc2libGUgJiYgdmlld0l0ZW0uc25hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB1cGRhdGVTYXNoRW5hYmxlbWVudCgpIHtcbiAgICAgICAgbGV0IHByZXZpb3VzID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNvbGxhcHNlc0Rvd24gPSB0aGlzLnZpZXdJdGVtcy5tYXAoKGkpID0+IChwcmV2aW91cyA9IGkuc2l6ZSAtIGkubWluaW11bVNpemUgPiAwIHx8IHByZXZpb3VzKSk7XG4gICAgICAgIHByZXZpb3VzID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGV4cGFuZHNEb3duID0gdGhpcy52aWV3SXRlbXMubWFwKChpKSA9PiAocHJldmlvdXMgPSBpLm1heGltdW1TaXplIC0gaS5zaXplID4gMCB8fCBwcmV2aW91cykpO1xuICAgICAgICBjb25zdCByZXZlcnNlVmlld3MgPSBbLi4udGhpcy52aWV3SXRlbXNdLnJldmVyc2UoKTtcbiAgICAgICAgcHJldmlvdXMgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY29sbGFwc2VzVXAgPSByZXZlcnNlVmlld3NcbiAgICAgICAgICAgIC5tYXAoKGkpID0+IChwcmV2aW91cyA9IGkuc2l6ZSAtIGkubWluaW11bVNpemUgPiAwIHx8IHByZXZpb3VzKSlcbiAgICAgICAgICAgIC5yZXZlcnNlKCk7XG4gICAgICAgIHByZXZpb3VzID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGV4cGFuZHNVcCA9IHJldmVyc2VWaWV3c1xuICAgICAgICAgICAgLm1hcCgoaSkgPT4gKHByZXZpb3VzID0gaS5tYXhpbXVtU2l6ZSAtIGkuc2l6ZSA+IDAgfHwgcHJldmlvdXMpKVxuICAgICAgICAgICAgLnJldmVyc2UoKTtcbiAgICAgICAgbGV0IHBvc2l0aW9uID0gMDtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuc2FzaGVzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3Qgc2FzaCA9IHRoaXMuc2FzaGVzW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHZpZXdJdGVtID0gdGhpcy52aWV3SXRlbXNbaW5kZXhdO1xuICAgICAgICAgICAgcG9zaXRpb24gKz0gdmlld0l0ZW0uc2l6ZTtcbiAgICAgICAgICAgIGNvbnN0IG1pbiA9ICEoY29sbGFwc2VzRG93bltpbmRleF0gJiYgZXhwYW5kc1VwW2luZGV4ICsgMV0pO1xuICAgICAgICAgICAgY29uc3QgbWF4ID0gIShleHBhbmRzRG93bltpbmRleF0gJiYgY29sbGFwc2VzVXBbaW5kZXggKyAxXSk7XG4gICAgICAgICAgICBpZiAobWluICYmIG1heCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwSW5kZXhlcyA9IHJhbmdlKGluZGV4LCAtMSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZG93bkluZGV4ZXMgPSByYW5nZShpbmRleCArIDEsIHRoaXMudmlld0l0ZW1zLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc25hcEJlZm9yZUluZGV4ID0gdGhpcy5maW5kRmlyc3RTbmFwSW5kZXgodXBJbmRleGVzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzbmFwQWZ0ZXJJbmRleCA9IHRoaXMuZmluZEZpcnN0U25hcEluZGV4KGRvd25JbmRleGVzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzbmFwcGVkQmVmb3JlID0gdHlwZW9mIHNuYXBCZWZvcmVJbmRleCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMudmlld0l0ZW1zW3NuYXBCZWZvcmVJbmRleF0udmlzaWJsZTtcbiAgICAgICAgICAgICAgICBjb25zdCBzbmFwcGVkQWZ0ZXIgPSB0eXBlb2Ygc25hcEFmdGVySW5kZXggPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgICF0aGlzLnZpZXdJdGVtc1tzbmFwQWZ0ZXJJbmRleF0udmlzaWJsZTtcbiAgICAgICAgICAgICAgICBpZiAoc25hcHBlZEJlZm9yZSAmJlxuICAgICAgICAgICAgICAgICAgICBjb2xsYXBzZXNVcFtpbmRleF0gJiZcbiAgICAgICAgICAgICAgICAgICAgKHBvc2l0aW9uID4gMCB8fCB0aGlzLnN0YXJ0U25hcHBpbmdFbmFibGVkKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNhc2goc2FzaCwgU2FzaFN0YXRlLk1JTklNVU0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzbmFwcGVkQWZ0ZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgY29sbGFwc2VzRG93bltpbmRleF0gJiZcbiAgICAgICAgICAgICAgICAgICAgKHBvc2l0aW9uIDwgdGhpcy5fY29udGVudFNpemUgfHwgdGhpcy5lbmRTbmFwcGluZ0VuYWJsZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2FzaChzYXNoLCBTYXNoU3RhdGUuTUFYSU1VTSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNhc2goc2FzaCwgU2FzaFN0YXRlLkRJU0FCTEVEKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtaW4gJiYgIW1heCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2FzaChzYXNoLCBTYXNoU3RhdGUuTUlOSU1VTSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghbWluICYmIG1heCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2FzaChzYXNoLCBTYXNoU3RhdGUuTUFYSU1VTSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNhc2goc2FzaCwgU2FzaFN0YXRlLkVOQUJMRUQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZVNhc2goc2FzaCwgc3RhdGUpIHtcbiAgICAgICAgdG9nZ2xlQ2xhc3Moc2FzaC5jb250YWluZXIsICdkdi1kaXNhYmxlZCcsIHN0YXRlID09PSBTYXNoU3RhdGUuRElTQUJMRUQpO1xuICAgICAgICB0b2dnbGVDbGFzcyhzYXNoLmNvbnRhaW5lciwgJ2R2LWVuYWJsZWQnLCBzdGF0ZSA9PT0gU2FzaFN0YXRlLkVOQUJMRUQpO1xuICAgICAgICB0b2dnbGVDbGFzcyhzYXNoLmNvbnRhaW5lciwgJ2R2LW1heGltdW0nLCBzdGF0ZSA9PT0gU2FzaFN0YXRlLk1BWElNVU0pO1xuICAgICAgICB0b2dnbGVDbGFzcyhzYXNoLmNvbnRhaW5lciwgJ2R2LW1pbmltdW0nLCBzdGF0ZSA9PT0gU2FzaFN0YXRlLk1JTklNVU0pO1xuICAgIH1cbiAgICBjcmVhdGVWaWV3Q29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gJ2R2LXZpZXctY29udGFpbmVyJztcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIGNyZWF0ZVNhc2hDb250YWluZXIoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSAnZHYtc2FzaC1jb250YWluZXInO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG4gICAgY3JlYXRlQ29udGFpbmVyKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNvbnN0IG9yaWVudGF0aW9uQ2xhc3NuYW1lID0gdGhpcy5fb3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICAgICAgICAgID8gJ2R2LWhvcml6b250YWwnXG4gICAgICAgICAgICA6ICdkdi12ZXJ0aWNhbCc7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gYGR2LXNwbGl0LXZpZXctY29udGFpbmVyICR7b3JpZW50YXRpb25DbGFzc25hbWV9YDtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuX29uRGlkU2FzaEVuZC5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX29uRGlkQWRkVmlldy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX29uRGlkUmVtb3ZlVmlldy5kaXNwb3NlKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbGVtZW50LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50LmNoaWxkcmVuLml0ZW0oaSkgPT09IHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3Qgdmlld0l0ZW0gb2YgdGhpcy52aWV3SXRlbXMpIHtcbiAgICAgICAgICAgIHZpZXdJdGVtLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9zaXRlRGlzcG9zYWJsZSwgTXV0YWJsZURpc3Bvc2FibGUsIH0gZnJvbSAnLi4vbGlmZWN5Y2xlJztcbmltcG9ydCB7IE9yaWVudGF0aW9uLCBTaXppbmcsIFNwbGl0dmlldywgfSBmcm9tICcuL3NwbGl0dmlldyc7XG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7IFJlc2l6YWJsZSB9IGZyb20gJy4uL3Jlc2l6YWJsZSc7XG5pbXBvcnQgeyBDbGFzc25hbWVzIH0gZnJvbSAnLi4vZG9tJztcbi8qKlxuICogQSBoaWdoLWxldmVsIGltcGxlbWVudGF0aW9uIG9mIHNwbGl0dmlldyB0aGF0IHdvcmtzIHVzaW5nICdwYW5lbHMnXG4gKi9cbmV4cG9ydCBjbGFzcyBTcGxpdHZpZXdDb21wb25lbnQgZXh0ZW5kcyBSZXNpemFibGUge1xuICAgIGdldCBwYW5lbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwbGl0dmlldy5nZXRWaWV3cygpO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYW5lbHMuc2l6ZTtcbiAgICB9XG4gICAgZ2V0IG9yaWVudGF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGxpdHZpZXcub3JpZW50YXRpb247XG4gICAgfVxuICAgIGdldCBzcGxpdHZpZXcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGxpdHZpZXc7XG4gICAgfVxuICAgIHNldCBzcGxpdHZpZXcodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NwbGl0dmlldykge1xuICAgICAgICAgICAgdGhpcy5fc3BsaXR2aWV3LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zcGxpdHZpZXcgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fc3BsaXR2aWV3Q2hhbmdlRGlzcG9zYWJsZS52YWx1ZSA9IG5ldyBDb21wb3NpdGVEaXNwb3NhYmxlKHRoaXMuX3NwbGl0dmlldy5vbkRpZFNhc2hFbmQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25EaWRMYXlvdXRDaGFuZ2UuZmlyZSh1bmRlZmluZWQpO1xuICAgICAgICB9KSwgdGhpcy5fc3BsaXR2aWV3Lm9uRGlkQWRkVmlldygoZSkgPT4gdGhpcy5fb25EaWRBZGRWaWV3LmZpcmUoZSkpLCB0aGlzLl9zcGxpdHZpZXcub25EaWRSZW1vdmVWaWV3KChlKSA9PiB0aGlzLl9vbkRpZFJlbW92ZVZpZXcuZmlyZShlKSkpO1xuICAgIH1cbiAgICBnZXQgbWluaW11bVNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwbGl0dmlldy5taW5pbXVtU2l6ZTtcbiAgICB9XG4gICAgZ2V0IG1heGltdW1TaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGxpdHZpZXcubWF4aW11bVNpemU7XG4gICAgfVxuICAgIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwbGl0dmlldy5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uSE9SSVpPTlRBTFxuICAgICAgICAgICAgPyB0aGlzLnNwbGl0dmlldy5vcnRob2dvbmFsU2l6ZVxuICAgICAgICAgICAgOiB0aGlzLnNwbGl0dmlldy5zaXplO1xuICAgIH1cbiAgICBnZXQgd2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwbGl0dmlldy5vcmllbnRhdGlvbiA9PT0gT3JpZW50YXRpb24uSE9SSVpPTlRBTFxuICAgICAgICAgICAgPyB0aGlzLnNwbGl0dmlldy5zaXplXG4gICAgICAgICAgICA6IHRoaXMuc3BsaXR2aWV3Lm9ydGhvZ29uYWxTaXplO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwgb3B0aW9ucy5kaXNhYmxlQXV0b1Jlc2l6aW5nKTtcbiAgICAgICAgdGhpcy5fc3BsaXR2aWV3Q2hhbmdlRGlzcG9zYWJsZSA9IG5ldyBNdXRhYmxlRGlzcG9zYWJsZSgpO1xuICAgICAgICB0aGlzLl9wYW5lbHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX29uRGlkTGF5b3V0ZnJvbUpTT04gPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkTGF5b3V0RnJvbUpTT04gPSB0aGlzLl9vbkRpZExheW91dGZyb21KU09OLmV2ZW50O1xuICAgICAgICB0aGlzLl9vbkRpZEFkZFZpZXcgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICB0aGlzLm9uRGlkQWRkVmlldyA9IHRoaXMuX29uRGlkQWRkVmlldy5ldmVudDtcbiAgICAgICAgdGhpcy5fb25EaWRSZW1vdmVWaWV3ID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZFJlbW92ZVZpZXcgPSB0aGlzLl9vbkRpZFJlbW92ZVZpZXcuZXZlbnQ7XG4gICAgICAgIHRoaXMuX29uRGlkTGF5b3V0Q2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZExheW91dENoYW5nZSA9IHRoaXMuX29uRGlkTGF5b3V0Q2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgICAgIHRoaXMuX2NsYXNzTmFtZXMgPSBuZXcgQ2xhc3NuYW1lcyh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9jbGFzc05hbWVzLnNldENsYXNzTmFtZXMoKF9hID0gb3B0aW9ucy5jbGFzc05hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnKTtcbiAgICAgICAgLy8gdGhlIGNvbnRhaW5lciBpcyBvd25lZCBieSB0aGUgdGhpcmQtcGFydHksIGRvIG5vdCBtb2RpZnkvZGVsZXRlIGl0XG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5zcGxpdHZpZXcgPSBuZXcgU3BsaXR2aWV3KHRoaXMuZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYWRkRGlzcG9zYWJsZXModGhpcy5fb25EaWRBZGRWaWV3LCB0aGlzLl9vbkRpZExheW91dGZyb21KU09OLCB0aGlzLl9vbkRpZFJlbW92ZVZpZXcsIHRoaXMuX29uRGlkTGF5b3V0Q2hhbmdlKTtcbiAgICB9XG4gICAgdXBkYXRlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICgnY2xhc3NOYW1lJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLl9jbGFzc05hbWVzLnNldENsYXNzTmFtZXMoKF9hID0gb3B0aW9ucy5jbGFzc05hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2Rpc2FibGVSZXNpemluZycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlUmVzaXppbmcgPSAoX2IgPSBvcHRpb25zLmRpc2FibGVBdXRvUmVzaXppbmcpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5vcmllbnRhdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuc3BsaXR2aWV3Lm9yaWVudGF0aW9uID0gb3B0aW9ucy5vcmllbnRhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdGlvbnMpLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5zcGxpdHZpZXcubGF5b3V0KHRoaXMuc3BsaXR2aWV3LnNpemUsIHRoaXMuc3BsaXR2aWV3Lm9ydGhvZ29uYWxTaXplKTtcbiAgICB9XG4gICAgZm9jdXMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5fYWN0aXZlUGFuZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb2N1cygpO1xuICAgIH1cbiAgICBtb3ZlUGFuZWwoZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5zcGxpdHZpZXcubW92ZVZpZXcoZnJvbSwgdG8pO1xuICAgIH1cbiAgICBzZXRWaXNpYmxlKHBhbmVsLCB2aXNpYmxlKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5wYW5lbHMuaW5kZXhPZihwYW5lbCk7XG4gICAgICAgIHRoaXMuc3BsaXR2aWV3LnNldFZpZXdWaXNpYmxlKGluZGV4LCB2aXNpYmxlKTtcbiAgICB9XG4gICAgc2V0QWN0aXZlKHBhbmVsLCBza2lwRm9jdXMpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlUGFuZWwgPSBwYW5lbDtcbiAgICAgICAgdGhpcy5wYW5lbHNcbiAgICAgICAgICAgIC5maWx0ZXIoKHYpID0+IHYgIT09IHBhbmVsKVxuICAgICAgICAgICAgLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgICAgIHYuYXBpLl9vbkRpZEFjdGl2ZUNoYW5nZS5maXJlKHsgaXNBY3RpdmU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgaWYgKCFza2lwRm9jdXMpIHtcbiAgICAgICAgICAgICAgICB2LmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwYW5lbC5hcGkuX29uRGlkQWN0aXZlQ2hhbmdlLmZpcmUoeyBpc0FjdGl2ZTogdHJ1ZSB9KTtcbiAgICAgICAgaWYgKCFza2lwRm9jdXMpIHtcbiAgICAgICAgICAgIHBhbmVsLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlUGFuZWwocGFuZWwsIHNpemluZykge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5fcGFuZWxzLmdldChwYW5lbC5pZCk7XG4gICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIHNwbGl0dmlldyBwYW5lbCAke3BhbmVsLmlkfWApO1xuICAgICAgICB9XG4gICAgICAgIGl0ZW0uZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9wYW5lbHMuZGVsZXRlKHBhbmVsLmlkKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnBhbmVscy5maW5kSW5kZXgoKF8pID0+IF8gPT09IHBhbmVsKTtcbiAgICAgICAgY29uc3QgcmVtb3ZlZFZpZXcgPSB0aGlzLnNwbGl0dmlldy5yZW1vdmVWaWV3KGluZGV4LCBzaXppbmcpO1xuICAgICAgICByZW1vdmVkVmlldy5kaXNwb3NlKCk7XG4gICAgICAgIGNvbnN0IHBhbmVscyA9IHRoaXMucGFuZWxzO1xuICAgICAgICBpZiAocGFuZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlKHBhbmVsc1twYW5lbHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBhbmVsKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhbmVscy5maW5kKCh2aWV3KSA9PiB2aWV3LmlkID09PSBpZCk7XG4gICAgfVxuICAgIGFkZFBhbmVsKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5fcGFuZWxzLmhhcyhvcHRpb25zLmlkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBwYW5lbCAke29wdGlvbnMuaWR9IGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMub3B0aW9ucy5jcmVhdGVDb21wb25lbnQoe1xuICAgICAgICAgICAgaWQ6IG9wdGlvbnMuaWQsXG4gICAgICAgICAgICBuYW1lOiBvcHRpb25zLmNvbXBvbmVudCxcbiAgICAgICAgfSk7XG4gICAgICAgIHZpZXcub3JpZW50YXRpb24gPSB0aGlzLnNwbGl0dmlldy5vcmllbnRhdGlvbjtcbiAgICAgICAgdmlldy5pbml0KHtcbiAgICAgICAgICAgIHBhcmFtczogKF9hID0gb3B0aW9ucy5wYXJhbXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9LFxuICAgICAgICAgICAgbWluaW11bVNpemU6IG9wdGlvbnMubWluaW11bVNpemUsXG4gICAgICAgICAgICBtYXhpbXVtU2l6ZTogb3B0aW9ucy5tYXhpbXVtU2l6ZSxcbiAgICAgICAgICAgIHNuYXA6IG9wdGlvbnMuc25hcCxcbiAgICAgICAgICAgIHByaW9yaXR5OiBvcHRpb25zLnByaW9yaXR5LFxuICAgICAgICAgICAgYWNjZXNzb3I6IHRoaXMsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzaXplID0gdHlwZW9mIG9wdGlvbnMuc2l6ZSA9PT0gJ251bWJlcicgPyBvcHRpb25zLnNpemUgOiBTaXppbmcuRGlzdHJpYnV0ZTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0eXBlb2Ygb3B0aW9ucy5pbmRleCA9PT0gJ251bWJlcicgPyBvcHRpb25zLmluZGV4IDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNwbGl0dmlldy5hZGRWaWV3KHZpZXcsIHNpemUsIGluZGV4KTtcbiAgICAgICAgdGhpcy5kb0FkZFZpZXcodmlldyk7XG4gICAgICAgIHRoaXMuc2V0QWN0aXZlKHZpZXcpO1xuICAgICAgICByZXR1cm4gdmlldztcbiAgICB9XG4gICAgbGF5b3V0KHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgY29uc3QgW3NpemUsIG9ydGhvZ29uYWxTaXplXSA9IHRoaXMuc3BsaXR2aWV3Lm9yaWVudGF0aW9uID09PSBPcmllbnRhdGlvbi5IT1JJWk9OVEFMXG4gICAgICAgICAgICA/IFt3aWR0aCwgaGVpZ2h0XVxuICAgICAgICAgICAgOiBbaGVpZ2h0LCB3aWR0aF07XG4gICAgICAgIHRoaXMuc3BsaXR2aWV3LmxheW91dChzaXplLCBvcnRob2dvbmFsU2l6ZSk7XG4gICAgfVxuICAgIGRvQWRkVmlldyh2aWV3KSB7XG4gICAgICAgIGNvbnN0IGRpc3Bvc2FibGUgPSB2aWV3LmFwaS5vbkRpZEZvY3VzQ2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFldmVudC5pc0ZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldEFjdGl2ZSh2aWV3LCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3BhbmVscy5zZXQodmlldy5pZCwgZGlzcG9zYWJsZSk7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCB2aWV3cyA9IHRoaXMuc3BsaXR2aWV3XG4gICAgICAgICAgICAuZ2V0Vmlld3MoKVxuICAgICAgICAgICAgLm1hcCgodmlldywgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuc3BsaXR2aWV3LmdldFZpZXdTaXplKGkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzaXplLFxuICAgICAgICAgICAgICAgIGRhdGE6IHZpZXcudG9KU09OKCksXG4gICAgICAgICAgICAgICAgc25hcDogISF2aWV3LnNuYXAsXG4gICAgICAgICAgICAgICAgcHJpb3JpdHk6IHZpZXcucHJpb3JpdHksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZpZXdzLFxuICAgICAgICAgICAgYWN0aXZlVmlldzogKF9hID0gdGhpcy5fYWN0aXZlUGFuZWwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5pZCxcbiAgICAgICAgICAgIHNpemU6IHRoaXMuc3BsaXR2aWV3LnNpemUsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogdGhpcy5zcGxpdHZpZXcub3JpZW50YXRpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZyb21KU09OKHNlcmlhbGl6ZWRTcGxpdHZpZXcpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgICBjb25zdCB7IHZpZXdzLCBvcmllbnRhdGlvbiwgc2l6ZSwgYWN0aXZlVmlldyB9ID0gc2VyaWFsaXplZFNwbGl0dmlldztcbiAgICAgICAgY29uc3QgcXVldWUgPSBbXTtcbiAgICAgICAgLy8gdGFrZSBub3RlIG9mIHRoZSBleGlzdGluZyBkaW1lbnNpb25zXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuc3BsaXR2aWV3ID0gbmV3IFNwbGl0dmlldyh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgcHJvcG9ydGlvbmFsTGF5b3V0OiB0aGlzLm9wdGlvbnMucHJvcG9ydGlvbmFsTGF5b3V0LFxuICAgICAgICAgICAgZGVzY3JpcHRvcjoge1xuICAgICAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICAgICAgdmlld3M6IHZpZXdzLm1hcCgodmlldykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gdmlldy5kYXRhO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcGFuZWxzLmhhcyhkYXRhLmlkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBwYW5lbCAke2RhdGEuaWR9IGFscmVhZHkgZXhpc3RzYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFuZWwgPSB0aGlzLm9wdGlvbnMuY3JlYXRlQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YS5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbmVsLmluaXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogKF9hID0gZGF0YS5wYXJhbXMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW1TaXplOiBkYXRhLm1pbmltdW1TaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1TaXplOiBkYXRhLm1heGltdW1TaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNuYXA6IHZpZXcuc25hcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogdmlldy5wcmlvcml0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NvcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcGFuZWwub3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb0FkZFZpZXcocGFuZWwpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBvcmlnaW5hbCBvbkRpZEFkZFZpZXcgZXZlbnRzIGFyZSBtaXNzZWQgc2luY2UgdGhleSBhcmUgZmlyZWQgYmVmb3JlIHdlIGNhbiBzdWJjcmliZSB0byB0aGVtXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRpZEFkZFZpZXcuZmlyZShwYW5lbCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBzaXplOiB2aWV3LnNpemUsIHZpZXc6IHBhbmVsIH07XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sYXlvdXQod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIHF1ZXVlLmZvckVhY2goKGYpID0+IGYoKSk7XG4gICAgICAgIGlmICh0eXBlb2YgYWN0aXZlVmlldyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhbmVsID0gdGhpcy5nZXRQYW5lbChhY3RpdmVWaWV3KTtcbiAgICAgICAgICAgIGlmIChwYW5lbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlKHBhbmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vbkRpZExheW91dGZyb21KU09OLmZpcmUoKTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZGlzcG9zYWJsZSBvZiB0aGlzLl9wYW5lbHMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BhbmVscy5jbGVhcigpO1xuICAgICAgICB3aGlsZSAodGhpcy5zcGxpdHZpZXcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMuc3BsaXR2aWV3LnJlbW92ZVZpZXcoMCwgU2l6aW5nLkRpc3RyaWJ1dGUsIHRydWUpO1xuICAgICAgICAgICAgdmlldy5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBkaXNwb3NhYmxlIG9mIHRoaXMuX3BhbmVscy52YWx1ZXMoKSkge1xuICAgICAgICAgICAgZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGFuZWxzLmNsZWFyKCk7XG4gICAgICAgIGNvbnN0IHZpZXdzID0gdGhpcy5zcGxpdHZpZXcuZ2V0Vmlld3MoKTtcbiAgICAgICAgdGhpcy5fc3BsaXR2aWV3Q2hhbmdlRGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuc3BsaXR2aWV3LmRpc3Bvc2UoKTtcbiAgICAgICAgZm9yIChjb25zdCB2aWV3IG9mIHZpZXdzKSB7XG4gICAgICAgICAgICB2aWV3LmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgIHN1cGVyLmRpc3Bvc2UoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlUGFuZWxWaWV3LCB9IGZyb20gJy4uL2dyaWR2aWV3L2Jhc2VQYW5lbFZpZXcnO1xuaW1wb3J0IHsgU3BsaXR2aWV3UGFuZWxBcGlJbXBsIH0gZnJvbSAnLi4vYXBpL3NwbGl0dmlld1BhbmVsQXBpJztcbmltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSAnLi9zcGxpdHZpZXcnO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uL2V2ZW50cyc7XG5leHBvcnQgY2xhc3MgU3BsaXR2aWV3UGFuZWwgZXh0ZW5kcyBCYXNlUGFuZWxWaWV3IHtcbiAgICBnZXQgcHJpb3JpdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmlvcml0eTtcbiAgICB9XG4gICAgc2V0IG9yaWVudGF0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX29yaWVudGF0aW9uID0gdmFsdWU7XG4gICAgfVxuICAgIGdldCBvcmllbnRhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uO1xuICAgIH1cbiAgICBnZXQgbWluaW11bVNpemUoKSB7XG4gICAgICAgIGNvbnN0IHNpemUgPSB0eXBlb2YgdGhpcy5fbWluaW11bVNpemUgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gdGhpcy5fbWluaW11bVNpemUoKVxuICAgICAgICAgICAgOiB0aGlzLl9taW5pbXVtU2l6ZTtcbiAgICAgICAgaWYgKHNpemUgIT09IHRoaXMuX2V2YWx1YXRlZE1pbmltdW1TaXplKSB7XG4gICAgICAgICAgICB0aGlzLl9ldmFsdWF0ZWRNaW5pbXVtU2l6ZSA9IHNpemU7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbnN0cmFpbnRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuICAgIGdldCBtYXhpbXVtU2l6ZSgpIHtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHR5cGVvZiB0aGlzLl9tYXhpbXVtU2l6ZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyB0aGlzLl9tYXhpbXVtU2l6ZSgpXG4gICAgICAgICAgICA6IHRoaXMuX21heGltdW1TaXplO1xuICAgICAgICBpZiAoc2l6ZSAhPT0gdGhpcy5fZXZhbHVhdGVkTWF4aW11bVNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuX2V2YWx1YXRlZE1heGltdW1TaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ29uc3RyYWludHMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG4gICAgZ2V0IHNuYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zbmFwO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihpZCwgY29tcG9uZW50TmFtZSkge1xuICAgICAgICBzdXBlcihpZCwgY29tcG9uZW50TmFtZSwgbmV3IFNwbGl0dmlld1BhbmVsQXBpSW1wbChpZCwgY29tcG9uZW50TmFtZSkpO1xuICAgICAgICB0aGlzLl9ldmFsdWF0ZWRNaW5pbXVtU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX2V2YWx1YXRlZE1heGltdW1TaXplID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB0aGlzLl9taW5pbXVtU2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX21heGltdW1TaXplID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB0aGlzLl9zbmFwID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZENoYW5nZSA9IHRoaXMuX29uRGlkQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLmFwaS5pbml0aWFsaXplKHRoaXMpO1xuICAgICAgICB0aGlzLmFkZERpc3Bvc2FibGVzKHRoaXMuX29uRGlkQ2hhbmdlLCB0aGlzLmFwaS5vbldpbGxWaXNpYmlsaXR5Q2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBpc1Zpc2libGUgfSA9IGV2ZW50O1xuICAgICAgICAgICAgY29uc3QgeyBhY2Nlc3NvciB9ID0gdGhpcy5fcGFyYW1zO1xuICAgICAgICAgICAgYWNjZXNzb3Iuc2V0VmlzaWJsZSh0aGlzLCBpc1Zpc2libGUpO1xuICAgICAgICB9KSwgdGhpcy5hcGkub25BY3RpdmVDaGFuZ2UoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBhY2Nlc3NvciB9ID0gdGhpcy5fcGFyYW1zO1xuICAgICAgICAgICAgYWNjZXNzb3Iuc2V0QWN0aXZlKHRoaXMpO1xuICAgICAgICB9KSwgdGhpcy5hcGkub25EaWRDb25zdHJhaW50c0NoYW5nZUludGVybmFsKChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5taW5pbXVtU2l6ZSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQubWluaW11bVNpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9taW5pbXVtU2l6ZSA9IGV2ZW50Lm1pbmltdW1TaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5tYXhpbXVtU2l6ZSA9PT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZXZlbnQubWF4aW11bVNpemUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXhpbXVtU2l6ZSA9IGV2ZW50Lm1heGltdW1TaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVDb25zdHJhaW50cygpO1xuICAgICAgICB9KSwgdGhpcy5hcGkub25EaWRTaXplQ2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25EaWRDaGFuZ2UuZmlyZSh7IHNpemU6IGV2ZW50LnNpemUgfSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc2V0VmlzaWJsZShpc1Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5hcGkuX29uRGlkVmlzaWJpbGl0eUNoYW5nZS5maXJlKHsgaXNWaXNpYmxlIH0pO1xuICAgIH1cbiAgICBzZXRBY3RpdmUoaXNBY3RpdmUpIHtcbiAgICAgICAgdGhpcy5hcGkuX29uRGlkQWN0aXZlQ2hhbmdlLmZpcmUoeyBpc0FjdGl2ZSB9KTtcbiAgICB9XG4gICAgbGF5b3V0KHNpemUsIG9ydGhvZ29uYWxTaXplKSB7XG4gICAgICAgIGNvbnN0IFt3aWR0aCwgaGVpZ2h0XSA9IHRoaXMub3JpZW50YXRpb24gPT09IE9yaWVudGF0aW9uLkhPUklaT05UQUxcbiAgICAgICAgICAgID8gW3NpemUsIG9ydGhvZ29uYWxTaXplXVxuICAgICAgICAgICAgOiBbb3J0aG9nb25hbFNpemUsIHNpemVdO1xuICAgICAgICBzdXBlci5sYXlvdXQod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuICAgIGluaXQocGFyYW1ldGVycykge1xuICAgICAgICBzdXBlci5pbml0KHBhcmFtZXRlcnMpO1xuICAgICAgICB0aGlzLl9wcmlvcml0eSA9IHBhcmFtZXRlcnMucHJpb3JpdHk7XG4gICAgICAgIGlmIChwYXJhbWV0ZXJzLm1pbmltdW1TaXplKSB7XG4gICAgICAgICAgICB0aGlzLl9taW5pbXVtU2l6ZSA9IHBhcmFtZXRlcnMubWluaW11bVNpemU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtZXRlcnMubWF4aW11bVNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuX21heGltdW1TaXplID0gcGFyYW1ldGVycy5tYXhpbXVtU2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1ldGVycy5zbmFwKSB7XG4gICAgICAgICAgICB0aGlzLl9zbmFwID0gcGFyYW1ldGVycy5zbmFwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3QgbWF4aW11bSA9ICh2YWx1ZSkgPT4gdmFsdWUgPT09IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8XG4gICAgICAgICAgICB2YWx1ZSA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXG4gICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiB2YWx1ZTtcbiAgICAgICAgY29uc3QgbWluaW11bSA9ICh2YWx1ZSkgPT4gKHZhbHVlIDw9IDAgPyB1bmRlZmluZWQgOiB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN1cGVyLnRvSlNPTigpKSwgeyBtaW5pbXVtU2l6ZTogbWluaW11bSh0aGlzLm1pbmltdW1TaXplKSwgbWF4aW11bVNpemU6IG1heGltdW0odGhpcy5tYXhpbXVtU2l6ZSkgfSk7XG4gICAgfVxuICAgIHVwZGF0ZUNvbnN0cmFpbnRzKCkge1xuICAgICAgICB0aGlzLmFwaS5fb25EaWRDb25zdHJhaW50c0NoYW5nZS5maXJlKHtcbiAgICAgICAgICAgIG1heGltdW1TaXplOiB0aGlzLl9ldmFsdWF0ZWRNYXhpbXVtU2l6ZSxcbiAgICAgICAgICAgIG1pbmltdW1TaXplOiB0aGlzLl9ldmFsdWF0ZWRNaW5pbXVtU2l6ZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuLi9tYXRoJztcbmV4cG9ydCBjbGFzcyBWaWV3SXRlbSB7XG4gICAgc2V0IHNpemUoc2l6ZSkge1xuICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xuICAgIH1cbiAgICBnZXQgY2FjaGVkVmlzaWJsZVNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRWaXNpYmxlU2l6ZTtcbiAgICB9XG4gICAgZ2V0IHZpc2libGUoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5fY2FjaGVkVmlzaWJsZVNpemUgPT09ICd1bmRlZmluZWQnO1xuICAgIH1cbiAgICBnZXQgbWluaW11bVNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpc2libGUgPyB0aGlzLnZpZXcubWluaW11bVNpemUgOiAwO1xuICAgIH1cbiAgICBnZXQgdmlld01pbmltdW1TaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Lm1pbmltdW1TaXplO1xuICAgIH1cbiAgICBnZXQgbWF4aW11bVNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpc2libGUgPyB0aGlzLnZpZXcubWF4aW11bVNpemUgOiAwO1xuICAgIH1cbiAgICBnZXQgdmlld01heGltdW1TaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3Lm1heGltdW1TaXplO1xuICAgIH1cbiAgICBnZXQgcHJpb3JpdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcucHJpb3JpdHk7XG4gICAgfVxuICAgIGdldCBzbmFwKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLnZpZXcuc25hcDtcbiAgICB9XG4gICAgc2V0IGVuYWJsZWQoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5wb2ludGVyRXZlbnRzID0gZW5hYmxlZCA/ICcnIDogJ25vbmUnO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihjb250YWluZXIsIHZpZXcsIHNpemUsIGRpc3Bvc2FibGUpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZSA9IGRpc3Bvc2FibGU7XG4gICAgICAgIHRoaXMuX2NhY2hlZFZpc2libGVTaXplID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodHlwZW9mIHNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZFZpc2libGVTaXplID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSAwO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVkVmlzaWJsZVNpemUgPSBzaXplLmNhY2hlZFZpc2libGVTaXplO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldFZpc2libGUodmlzaWJsZSwgc2l6ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2aXNpYmxlID09PSB0aGlzLnZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy5zaXplID0gY2xhbXAoKF9hID0gdGhpcy5fY2FjaGVkVmlzaWJsZVNpemUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDAsIHRoaXMudmlld01pbmltdW1TaXplLCB0aGlzLnZpZXdNYXhpbXVtU2l6ZSk7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZWRWaXNpYmxlU2l6ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZFZpc2libGVTaXplID1cbiAgICAgICAgICAgICAgICB0eXBlb2Ygc2l6ZSA9PT0gJ251bWJlcicgPyBzaXplIDogdGhpcy5zaXplO1xuICAgICAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmxlJywgdmlzaWJsZSk7XG4gICAgICAgIGlmICh0aGlzLnZpZXcuc2V0VmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LnNldFZpc2libGUodmlzaWJsZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldztcbiAgICB9XG59XG4iLCJjb25zdCBjcmVhdGVTdmdFbGVtZW50RnJvbVBhdGggPSAocGFyYW1zKSA9PiB7XG4gICAgY29uc3Qgc3ZnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2hlaWdodCcsIHBhcmFtcy5oZWlnaHQpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnd2lkdGgnLCBwYXJhbXMud2lkdGgpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGVOUyhudWxsLCAndmlld0JveCcsIHBhcmFtcy52aWV3Ym94KTtcbiAgICBzdmcuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgc3ZnLnNldEF0dHJpYnV0ZU5TKG51bGwsICdmb2N1c2FibGUnLCAnZmFsc2UnKTtcbiAgICBzdmcuY2xhc3NMaXN0LmFkZCgnZHYtc3ZnJyk7XG4gICAgY29uc3QgcGF0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAncGF0aCcpO1xuICAgIHBhdGguc2V0QXR0cmlidXRlTlMobnVsbCwgJ2QnLCBwYXJhbXMucGF0aCk7XG4gICAgc3ZnLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgIHJldHVybiBzdmc7XG59O1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNsb3NlQnV0dG9uID0gKCkgPT4gY3JlYXRlU3ZnRWxlbWVudEZyb21QYXRoKHtcbiAgICB3aWR0aDogJzExJyxcbiAgICBoZWlnaHQ6ICcxMScsXG4gICAgdmlld2JveDogJzAgMCAyOCAyOCcsXG4gICAgcGF0aDogJ00yLjEgMjcuM0wwIDI1LjJMMTEuNTUgMTMuNjVMMCAyLjFMMi4xIDBMMTMuNjUgMTEuNTVMMjUuMiAwTDI3LjMgMi4xTDE1Ljc1IDEzLjY1TDI3LjMgMjUuMkwyNS4yIDI3LjNMMTMuNjUgMTUuNzVMMi4xIDI3LjNaJyxcbn0pO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUV4cGFuZE1vcmVCdXR0b24gPSAoKSA9PiBjcmVhdGVTdmdFbGVtZW50RnJvbVBhdGgoe1xuICAgIHdpZHRoOiAnMTEnLFxuICAgIGhlaWdodDogJzExJyxcbiAgICB2aWV3Ym94OiAnMCAwIDI0IDE1JyxcbiAgICBwYXRoOiAnTTEyIDE0LjE1TDAgMi4xNUwyLjE1IDBMMTIgOS45TDIxLjg1IDAuMDQ5OTk5MkwyNCAyLjJMMTIgMTQuMTVaJyxcbn0pO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNoZXZyb25SaWdodEJ1dHRvbiA9ICgpID0+IGNyZWF0ZVN2Z0VsZW1lbnRGcm9tUGF0aCh7XG4gICAgd2lkdGg6ICcxMScsXG4gICAgaGVpZ2h0OiAnMTEnLFxuICAgIHZpZXdib3g6ICcwIDAgMTUgMjUnLFxuICAgIHBhdGg6ICdNMi4xNSAyNC4xTDAgMjEuOTVMOS45IDEyLjA1TDAgMi4xNUwyLjE1IDBMMTQuMiAxMi4wNUwyLjE1IDI0LjFaJyxcbn0pO1xuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vLi4vc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzBdLnVzZVsxXSEuL2RvY2t2aWV3LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xub3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi8uLi9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzBdLnVzZVsxXSEuL2RvY2t2aWV3LmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiaW1wb3J0IHsgYWRkUGFuZWwsIGRlZmF1bHRQYW5lbCB9IGZyb20gJy4vdXRpbHMnO1xuY2xhc3MgUGFuZWwge1xuICBnZXQgZWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudFxuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIH1cblxuICBpbml0KGNvbmZpZykge1xuICAgIGxldCBkb2NrSWQgPSBjb25maWcuY29udGFpbmVyQXBpLmNvbXBvbmVudC5ncmlkdmlldy5lbGVtZW50LmNsb3Nlc3QoJy5kb2NrdmlldycpLmF0dHJpYnV0ZXMuaWQudGV4dENvbnRlbnQ7XG4gICAgdGhpcy5fZWxlbWVudC5pZCA9IGRvY2tJZCArICctJyArIGNvbmZpZy5hcGkuaWQ7XG4gICAgdGhpcy5fZWxlbWVudC5pbm5lckhUTUwgPSBjb25maWcucGFyYW1zLmNvbnRlbnQuaHRtbFxuICAgIHRoaXMuX2VsZW1lbnQuY2xhc3NOYW1lID0gJ2RvY2t2aWV3LXBhbmVsJ1xuICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUgPSBjb25maWcucGFyYW1zLnN0eWxlXG4gIH1cbn1cblxuLy8gVGFiIHdpdGggY3VzdG9tIHJlbW92ZSBidXR0b25cbmNsYXNzIERlZmF1bHRUYWIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5fZWxlbWVudC5jbGFzc05hbWUgPSAnZHYtZGVmYXVsdC10YWInO1xuXG4gICAgdGhpcy5fY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRoaXMuX2NvbnRlbnQuY2xhc3NOYW1lID0gJ2R2LWRlZmF1bHQtdGFiLWNvbnRlbnQnO1xuXG4gICAgdGhpcy5hY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0aGlzLmFjdGlvbi5jbGFzc05hbWUgPSAnZHYtZGVmYXVsdC10YWItYWN0aW9uJztcbiAgICB0aGlzLmFjdGlvbi5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYXMgZmEteG1hcmtcIiByb2xlPVwicHJlc2VudGF0aW9uXCIgYXJpYS1sYWJlbD1cImNsb3NlIGljb25cIj48L2k+JztcblxuICAgIHRoaXMuX2VsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fY29udGVudCk7XG4gICAgdGhpcy5fZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmFjdGlvbik7XG4gIH1cblxuICBnZXQgZWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxuXG4gIGluaXQoY29uZmlnKSB7XG4gICAgbGV0IGRvY2tJZCA9IGNvbmZpZy5jb250YWluZXJBcGkuY29tcG9uZW50LmdyaWR2aWV3LmVsZW1lbnQuY2xvc2VzdCgnLmRvY2t2aWV3JykuYXR0cmlidXRlcy5pZC50ZXh0Q29udGVudDtcbiAgICB0aGlzLl9lbGVtZW50LmlkID0gZG9ja0lkICsgJy10YWItJyArIGNvbmZpZy5hcGkuaWQ7XG4gICAgdGhpcy5fY29udGVudC50ZXh0Q29udGVudCA9IGNvbmZpZy50aXRsZTtcbiAgICB0aGlzLmFjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAvLyBTZW5kIGNhbGxiYWNrIHRvIFNoaW55IGZvciBjb250cm9sIGZyb20gdGhlIHNlcnZlciBzaWRlXG4gICAgICBTaGlueS5zZXRJbnB1dFZhbHVlKGAke2RvY2tJZH1fcGFuZWwtdG8tcmVtb3ZlYCwgY29uZmlnLmFwaS5pZCwgeyBwcmlvcml0eTogJ2V2ZW50JyB9KTtcbiAgICB9KVxuICB9XG59XG5cbi8vIFRhYiB3aXRob3V0IHJlbW92ZSBidXR0b25cbmNsYXNzIEN1c3RvbVRhYiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgfVxuXG4gIGdldCBlbGVtZW50KCkge1xuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG5cbiAgaW5pdChjb25maWcpIHtcbiAgICBsZXQgZG9ja0lkID0gY29uZmlnLmNvbnRhaW5lckFwaS5jb21wb25lbnQuZ3JpZHZpZXcuZWxlbWVudC5jbG9zZXN0KCcuZG9ja3ZpZXcnKS5hdHRyaWJ1dGVzLmlkLnRleHRDb250ZW50O1xuICAgIHRoaXMuX2VsZW1lbnQuaWQgPSBkb2NrSWQgKyAnLXRhYi0nICsgY29uZmlnLmFwaS5pZDtcbiAgICB0aGlzLmUxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy5lMS50ZXh0Q29udGVudCA9IGNvbmZpZy50aXRsZTtcbiAgICB0aGlzLmUyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG4gICAgdGhpcy5fZWxlbWVudC5hcHBlbmQodGhpcy5lMSwgdGhpcy5lMik7XG4gIH1cbn1cblxuY2xhc3MgUmlnaHRIZWFkZXIge1xuICBnZXQgZWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudFxuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIH1cblxuICBpbml0KGNvbmZpZykge1xuICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUgPSAnaGVpZ2h0OiAxMDAlOyBwYWRkaW5nOiA4cHgnXG4gICAgdGhpcy5fZWxlbWVudC5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYXMgZmEtZXhwYW5kXCIgcm9sZT1cInByZXNlbnRhdGlvblwiIGFyaWEtbGFiZWw9XCJleHBhbmQgaWNvblwiPjwvaT4nXG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBpZiAoIWNvbmZpZy5hcGkuaXNNYXhpbWl6ZWQoKSkge1xuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdmYS1leHBhbmQnKTtcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnZmEtY29tcHJlc3MnKTtcbiAgICAgICAgY29uZmlnLmFwaS5tYXhpbWl6ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uZmlnLmFwaS5leGl0TWF4aW1pemVkKCk7XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2ZhLWNvbXByZXNzJyk7XG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2ZhLWV4cGFuZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGRpc3Bvc2UoKSB7XG4gICAgLy8gTmVjZXNzYXJ5IHRvIGF2b2lkIGEgSlMgZXJyb3Igd2hlbiBtb3ZpbmcgYSBwYW5lbFxuICAgIC8vIGluc2lkZSBhbm90aGVyIG9uZSB0byBnZXQgbmVzdGVkIHRhYnNcbiAgfVxufVxuXG5jbGFzcyBMZWZ0SGVhZGVyIHtcbiAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICB9XG5cbiAgaW5pdChjb25maWcpIHtcbiAgICAvLyBJZiBhZGRUYWIgaXMgZmFsc2UsIHdlIGRvIG5vdCBuZWVkIHRvIHJlbmRlciB0aGlzIGNvbXBvbmVudFxuICAgIGlmICghY29uZmlnLmdyb3VwLl9wYXJhbXMucGFyYW1zLmFkZFRhYi5lbmFibGUpIHJldHVybiBudWxsO1xuICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUgPSAnaGVpZ2h0OiAxMDAlOyBwYWRkaW5nOiA4cHgnXG4gICAgdGhpcy5fZWxlbWVudC5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJmYXMgZmEtcGx1c1wiIHJvbGU9XCJwcmVzZW50YXRpb25cIiBhcmlhLWxhYmVsPVwicGx1cyBpY29uXCI+PC9pPidcbiAgICB0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbmZpZy5ncm91cC5fcGFyYW1zLmFkZFRhYi5jYWxsYmFjayhjb25maWcpO1xuICAgIH0pO1xuICB9XG4gIGRpc3Bvc2UoKSB7XG4gICAgLy8gTmVjZXNzYXJ5IHRvIGF2b2lkIGEgSlMgZXJyb3Igd2hlbiBtb3ZpbmcgYSBwYW5lbFxuICAgIC8vIGluc2lkZSBhbm90aGVyIG9uZSB0byBnZXQgbmVzdGVkIHRhYnNcbiAgfVxufVxuXG5leHBvcnQgeyBSaWdodEhlYWRlciwgTGVmdEhlYWRlciwgUGFuZWwsIEN1c3RvbVRhYiwgRGVmYXVsdFRhYiB9OyIsImltcG9ydCB7XG4gIHRoZW1lQWJ5c3MsXG4gIHRoZW1lRGFyayxcbiAgdGhlbWVMaWdodCxcbiAgdGhlbWVWaXN1YWxTdHVkaW8sXG4gIHRoZW1lRHJhY3VsYSxcbiAgdGhlbWVSZXBsaXQsXG4gIHRoZW1lQWJ5c3NTcGFjZWQsXG4gIHRoZW1lTGlnaHRTcGFjZWRcbn0gZnJvbSBcImRvY2t2aWV3LWNvcmVcIjtcblxuY29uc3QgbWF0Y2hUaGVtZSA9ICh0aGVtZSkgPT4ge1xuICBsZXQgcmVzO1xuICBzd2l0Y2ggKHRoZW1lKSB7XG4gICAgY2FzZSAnbGlnaHQnOlxuICAgICAgcmVzID0gdGhlbWVMaWdodFxuICAgICAgYnJlYWtcbiAgICBjYXNlICdsaWdodC1zcGFjZWQnOlxuICAgICAgcmVzID0gdGhlbWVMaWdodFNwYWNlZFxuICAgICAgYnJlYWtcbiAgICBjYXNlICdhYnlzcyc6XG4gICAgICByZXMgPSB0aGVtZUFieXNzXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2FieXNzLXNwYWNlZCc6XG4gICAgICByZXMgPSB0aGVtZUFieXNzU3BhY2VkXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3ZzJzpcbiAgICAgIHJlcyA9IHRoZW1lVmlzdWFsU3R1ZGlvXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2RhcmsnOlxuICAgICAgcmVzID0gdGhlbWVEYXJrXG4gICAgICBicmVha1xuICAgIGNhc2UgJ2RyYWN1bGEnOlxuICAgICAgcmVzID0gdGhlbWVEcmFjdWxhXG4gICAgICBicmVha1xuICAgIGNhc2UgJ3JlcGxpdCc6XG4gICAgICByZXMgPSB0aGVtZVJlcGxpdFxuICAgICAgYnJlYWtcbiAgICBkZWZhdWx0OlxuICAgICAgcmVzID0gdGhlbWVMaWdodFNwYWNlZFxuICB9XG4gIHJldHVybiAocmVzKVxufVxuXG5jb25zdCBzZW5kTm90aWZpY2F0aW9uID0gKG1lc3NhZ2UsIHR5cGUgPSBcImVycm9yXCIsIGR1cmF0aW9uID0gbnVsbCkgPT4ge1xuICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7XG4gICAgU2hpbnkubm90aWZpY2F0aW9ucy5zaG93KHtcbiAgICAgIGh0bWw6IG1lc3NhZ2UsXG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgZHVyYXRpb246IGR1cmF0aW9uXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgYWxlcnQobWVzc2FnZSk7XG4gIH1cbn1cblxuLy8gQ3VzdG9tIGV2YWwgZGVwZW5kaW5nIG9uIGRvY2tWaWV3UiBtb2RlXG5jb25zdCBldmFsRG9ja1ZpZXcgPSAoY2FsbGJhY2ssIG1vZGUpID0+IHtcbiAgc3dpdGNoIChtb2RlKSB7XG4gICAgY2FzZSAnZGV2JzpcbiAgICAgIHRyeSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBHZXQgdGhlIGNhbGxlciBmdW5jdGlvbiBuYW1lIGZyb20gc3RhY2sgdHJhY2VcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcbiAgICAgICAgY29uc3QgY2FsbGVyTWF0Y2ggPSBzdGFjay5zcGxpdCgnXFxuJylbMl0/Lm1hdGNoKC9hdCAoXFx3KykvKTtcbiAgICAgICAgY29uc3QgY2FsbGVyTmFtZSA9IGNhbGxlck1hdGNoID8gY2FsbGVyTWF0Y2hbMV0gOiAndW5rbm93bic7XG5cbiAgICAgICAgc2VuZE5vdGlmaWNhdGlvbihgRXJyb3IgaW4gJHtjYWxsZXJOYW1lfTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncHJvZCc6XG4gICAgICBjYWxsYmFjaygpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG59XG5cbmNvbnN0IHZhbGlkYXRlZERvY2tFbGVtZW50ID0gKGFwaSwgaWQsIHR5cGUsIGNvbnRleHQgPSAnJykgPT4ge1xuICBsZXQgZnVuO1xuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdwYW5lbCc6XG4gICAgICBmdW4gPSAoaWQpID0+IGFwaS5nZXRQYW5lbChpZCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdncm91cCc6XG4gICAgICBmdW4gPSAoaWQpID0+IGFwaS5nZXRHcm91cChpZCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIGJyZWFrO1xuICB9XG4gIGNvbnN0IHJlcyA9IGZ1bihpZCk7XG4gIGlmICghcmVzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke2NvbnRleHR9JHt0eXBlfSB3aXRoIElEICcke2lkfScgbm90IGZvdW5kYCk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbmNvbnN0IGFkZFBhbmVsID0gKHBhbmVsLCBtb2RlLCBhcGkpID0+IHtcbiAgbGV0IGludGVybmFscyA9IHtcbiAgICBjb21wb25lbnQ6ICdkZWZhdWx0JyxcbiAgICBwYXJhbXM6IHtcbiAgICAgIGNvbnRlbnQ6IHBhbmVsLmNvbnRlbnQsXG4gICAgICBzdHlsZTogcGFuZWwuc3R5bGVcbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgcmVtb3ZhYmxlIG9wdGlvbi4gSWYgbm8sXG4gIC8vIHVzZSB0aGUgZGVmYXVsdCB0YWIgY29tcG9uZW50IHdpdGhvdXQgdGhlIGNsb3NlIHBhbmVsIGJ1dHRvbi5cbiAgaWYgKCFwYW5lbC5yZW1vdmUuZW5hYmxlKSB7XG4gICAgaW50ZXJuYWxzLnRhYkNvbXBvbmVudCA9ICdjdXN0b20nO1xuICB9IGVsc2Uge1xuICAgIGlmIChwYW5lbC5yZW1vdmUubW9kZSA9PT0gJ21hbnVhbCcpIHtcbiAgICAgIGludGVybmFscy50YWJDb21wb25lbnQgPSAnbWFudWFsJztcbiAgICB9XG4gIH1cbiAgbGV0IHByb3BzID0geyAuLi5wYW5lbCwgLi4uaW50ZXJuYWxzIH07XG4gIGV2YWxEb2NrVmlldygoKSA9PiBhcGkuYWRkUGFuZWwocHJvcHMpLCBtb2RlKVxufVxuXG5jb25zdCByZW1vdmVQYW5lbCA9IChpZCwgbW9kZSwgYXBpKSA9PiB7XG4gIGV2YWxEb2NrVmlldygoKSA9PiB7XG4gICAgbGV0IHBhbmVsID0gdmFsaWRhdGVkRG9ja0VsZW1lbnQoYXBpLCBpZCwgJ3BhbmVsJyk7XG4gICAgYXBpLnJlbW92ZVBhbmVsKHBhbmVsKTtcbiAgfSwgbW9kZSlcbn1cblxuY29uc3Qgc2VsZWN0UGFuZWwgPSAoaWQsIG1vZGUsIGFwaSkgPT4ge1xuICBldmFsRG9ja1ZpZXcoKCkgPT4ge1xuICAgIGxldCBwYW5lbCA9IHZhbGlkYXRlZERvY2tFbGVtZW50KGFwaSwgaWQsICdwYW5lbCcpO1xuICAgIHBhbmVsLmFwaS5zZXRBY3RpdmUoKTtcbiAgfSwgbW9kZSk7XG59XG5cbmNvbnN0IG1vdmVQYW5lbCA9IChtLCBtb2RlLCBhcGkpID0+IHtcbiAgZXZhbERvY2tWaWV3KCgpID0+IHtcbiAgICBsZXQgcGFuZWwgPSB2YWxpZGF0ZWREb2NrRWxlbWVudChhcGksIG0uaWQsICdwYW5lbCcpO1xuICAgIC8vIE1vdmUgcmVsYXRpdmUgdG8gYW5vdGhlciBncm91cFxuICAgIGlmIChtLm9wdGlvbnMuZ3JvdXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgbGV0IGdyb3VwVGFyZ2V0ID0gdmFsaWRhdGVkRG9ja0VsZW1lbnQoXG4gICAgICAgIGFwaSxcbiAgICAgICAgbS5vcHRpb25zLmdyb3VwLFxuICAgICAgICAncGFuZWwnLFxuICAgICAgICAnVGFyZ2V0IGdyb3VwICdcbiAgICAgICk7XG4gICAgICBwYW5lbC5hcGkubW92ZVRvKHtcbiAgICAgICAgZ3JvdXA6IGdyb3VwVGFyZ2V0LmFwaS5ncm91cCxcbiAgICAgICAgcG9zaXRpb246IG0ub3B0aW9ucy5wb3NpdGlvbixcbiAgICAgIH0pXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gTW92ZSBwYW5lbCBpbnNpZGUgdGhlIHNhbWUgZ3JvdXAgdXNpbmcgJ2luZGV4JyBvbmx5XG4gICAgcGFuZWwuYXBpLm1vdmVUbyhtLm9wdGlvbnMpO1xuICB9LCBtb2RlKTtcbn1cblxuY29uc3QgbW92ZUdyb3VwID0gKG0sIG1vZGUsIGFwaSkgPT4ge1xuICBldmFsRG9ja1ZpZXcoKCkgPT4ge1xuICAgIGxldCBmcm9tID0gdmFsaWRhdGVkRG9ja0VsZW1lbnQoYXBpLCBtLmlkLCAnZ3JvdXAnKTtcbiAgICAvLyBNb3ZlIHJlbGF0aXZlIHRvIGFub3RoZXIgZ3JvdXBcbiAgICBsZXQgdGFyZ2V0ID0gdmFsaWRhdGVkRG9ja0VsZW1lbnQoYXBpLCBtLm9wdGlvbnMudG8sICdncm91cCcpO1xuICAgIGZyb20uYXBpLm1vdmVUbyh7XG4gICAgICBncm91cDogdGFyZ2V0LFxuICAgICAgcG9zaXRpb246IG0ub3B0aW9ucy5wb3NpdGlvblxuICAgIH0pO1xuICB9LCBtb2RlKVxufVxuXG5jb25zdCBtb3ZlR3JvdXAyID0gKG0sIG1vZGUsIGFwaSkgPT4ge1xuICBldmFsRG9ja1ZpZXcoKCkgPT4ge1xuICAgIGxldCBwYW5lbCA9IHZhbGlkYXRlZERvY2tFbGVtZW50KGFwaSwgbS5pZCwgJ3BhbmVsJyk7XG4gICAgLy8gTW92ZSByZWxhdGl2ZSB0byBhbm90aGVyIGdyb3VwXG4gICAgbGV0IGdyb3VwVGFyZ2V0ID0gdmFsaWRhdGVkRG9ja0VsZW1lbnQoXG4gICAgICBhcGksXG4gICAgICBtLm9wdGlvbnMudG8sXG4gICAgICAncGFuZWwnLFxuICAgICAgJ1RhcmdldCBncm91cCdcbiAgICApO1xuICAgIHBhbmVsLmdyb3VwLmFwaS5tb3ZlVG8oe1xuICAgICAgZ3JvdXA6IGdyb3VwVGFyZ2V0LmFwaS5ncm91cCxcbiAgICAgIHBvc2l0aW9uOiBtLm9wdGlvbnMucG9zaXRpb25cbiAgICB9KTtcbiAgfSwgbW9kZSlcbn1cblxuY29uc3QgZGVmYXVsdFBhbmVsID0gKHBuSWQpID0+IHtcbiAgcmV0dXJuIChgXG4gICAgPHA+RXhjaGFuZ2UgbWUgYnkgcnVubmluZzo8L3A+XG4gICAgPHA+cmVtb3ZlVUkoPGJyPlxuICAgICAgJm5ic3A7Jm5ic3A7c2VsZWN0b3IgPSBcIiMke3BuSWR9ID4gKlwiLDxicj5cbiAgICAgICZuYnNwOyZuYnNwO211bHRpcGxlID0gVFJVRTxicj5cbiAgICApPC9wPlxuICAgIDxwPnNoaW55OjppbnNlcnRVSSg8YnI+XG4gICAgICAgICAgJm5ic3A7Jm5ic3A7c2VsZWN0b3IgPSBcIiMke3BuSWR9XCIsPGJyPlxuICAgICAgICAgICZuYnNwOyZuYnNwO3doZXJlID0gXCJiZWZvcmVFbmRcIiw8YnI+XG4gICAgICAgICAgJm5ic3A7Jm5ic3A7dWkgPSBcInlvdXIgdWkgY29kZSBoZXJlXCI8YnI+XG4gICAgKTwvcD5cbiAgYClcbn1cblxuY29uc3QgY2xlYW5fZG9ja19zdGF0ZSA9IChzdGF0ZSkgPT4ge1xuICAvLyBTdHJpcCBvdXQgdW5lY2Vzc2FyeSBpbmZvcm1hdGlvbiAoZGVwcywgaGVhZCwgc2luZ2xldG9ucyBhcyB0aGV5IHNob3VsZCBiZSBhbHJlYWR5IGluc2VydGVkXG4gIC8vIGluIHRoZSBET00gd2hlbiB0aGUgd2lkZ2V0IGlzIGNyZWF0ZWQsIHNvIG5vIG5lZWQgdG8ga2VlcCB0aGVtIGZvcmV2ZXIpXG4gIHN0YXRlLnBhbmVscyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyhzdGF0ZS5wYW5lbHMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBbXG4gICAgICBrZXksXG4gICAgICB7XG4gICAgICAgIC4uLnZhbHVlLFxuICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAuLi52YWx1ZS5wYXJhbXMsXG4gICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgaHRtbDogdmFsdWUucGFyYW1zLmNvbnRlbnQuaHRtbCAvLyBvbmx5IG5lZWQgdGhlIEhUTUwgY29udGVudFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIF0pXG4gICk7XG4gIHJldHVybiAoc3RhdGUpXG59XG5cbmNvbnN0IHNhdmVEb2NrID0gKGlkLCBhcGkpID0+IHtcbiAgY29uc3Qgc3RhdGUgPSBjbGVhbl9kb2NrX3N0YXRlKGFwaS50b0pTT04oKSlcbiAgU2hpbnkuc2V0SW5wdXRWYWx1ZShpZCArIFwiX3N0YXRlXCIsIHN0YXRlLCB7IHByaW9yaXR5OiAnZXZlbnQnIH0pO1xufVxuXG5leHBvcnQgeyBtYXRjaFRoZW1lLCBhZGRQYW5lbCwgcmVtb3ZlUGFuZWwsIHNlbGVjdFBhbmVsLCBtb3ZlUGFuZWwsIGRlZmF1bHRQYW5lbCwgc2F2ZURvY2ssIG1vdmVHcm91cCwgbW92ZUdyb3VwMiB9OyIsIm1vZHVsZS5leHBvcnRzID0gSFRNTFdpZGdldHM7IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiaW1wb3J0ICd3aWRnZXRzJztcbmltcG9ydCAnZG9ja3ZpZXctY29yZS9kaXN0L3N0eWxlcy9kb2Nrdmlldy5jc3MnXG5pbXBvcnQgeyBjcmVhdGVEb2NrdmlldyB9IGZyb20gXCJkb2Nrdmlldy1jb3JlXCI7XG5cbmltcG9ydCB7IFBhbmVsLCBSaWdodEhlYWRlciwgTGVmdEhlYWRlciwgQ3VzdG9tVGFiLCBEZWZhdWx0VGFiIH0gZnJvbSAnLi4vbW9kdWxlcy9jb21wb25lbnRzJ1xuaW1wb3J0IHsgbWF0Y2hUaGVtZSwgYWRkUGFuZWwsIHJlbW92ZVBhbmVsLCBzZWxlY3RQYW5lbCwgbW92ZVBhbmVsLCBzYXZlRG9jaywgbW92ZUdyb3VwLCBtb3ZlR3JvdXAyIH0gZnJvbSAnLi4vbW9kdWxlcy91dGlscyc7XG5cbkhUTUxXaWRnZXRzLndpZGdldCh7XG5cbiAgbmFtZTogJ2RvY2t2aWV3JyxcblxuICB0eXBlOiAnb3V0cHV0JyxcblxuICBmYWN0b3J5OiBmdW5jdGlvbiAoZWwsIHdpZHRoLCBoZWlnaHQpIHtcblxuICAgIGxldCBhcGk7XG5cbiAgICByZXR1cm4ge1xuXG4gICAgICByZW5kZXJWYWx1ZTogZnVuY3Rpb24gKHgsIGlkID0gZWwuaWQpIHtcblxuICAgICAgICAvLyBJbnN0YW50aWF0ZSBkb2NrVmlld1xuICAgICAgICBhcGkgPSBjcmVhdGVEb2Nrdmlldyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCksIHtcbiAgICAgICAgICB0aGVtZTogbWF0Y2hUaGVtZSh4LnRoZW1lKSxcbiAgICAgICAgICBjcmVhdGVSaWdodEhlYWRlckFjdGlvbkNvbXBvbmVudDogKG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmlnaHRIZWFkZXIob3B0aW9ucylcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNyZWF0ZUxlZnRIZWFkZXJBY3Rpb25Db21wb25lbnQ6IChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBvcHRpb25zLl9wYXJhbXMucGFyYW1zLmFkZFRhYiA9IHguYWRkVGFiO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMZWZ0SGVhZGVyKG9wdGlvbnMpXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjcmVhdGVDb21wb25lbnQ6IChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wdGlvbnMubmFtZSkge1xuICAgICAgICAgICAgICBjYXNlICdkZWZhdWx0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBhbmVsKG9wdGlvbnMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjcmVhdGVUYWJDb21wb25lbnQ6IChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wdGlvbnMubmFtZSkge1xuICAgICAgICAgICAgICBjYXNlICdtYW51YWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGVmYXVsdFRhYigpO1xuICAgICAgICAgICAgICBjYXNlICdjdXN0b20nOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ3VzdG9tVGFiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICAvLyBTcHJlYWQgb3BlcmF0b3IgdG8gaW5jbHVkZSBhbGwgb3RoZXIgb3B0aW9ucyBmcm9tIHhcbiAgICAgICAgICAuLi5PYmplY3Qua2V5cyh4KS5yZWR1Y2UoKGFjYywga2V5KSA9PiB7XG4gICAgICAgICAgICBpZiAoIVsndGhlbWUnLCAnYWRkVGFiJ10uaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICBhY2Nba2V5XSA9IHhba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgfSwge30pXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gUmVzaXplIHBhbmVsIGNvbnRlbnQgb24gbGF5b3V0IGNoYW5nZVxuICAgICAgICAvLyAodXNlZnVsIHNvIHRoYXQgcGxvdHMgb3Igd2lkZ2V0cyByZXNpemUgY29ycmVjdGx5KVxuICAgICAgICAvLyBBbHNvIHVwZGF0ZSB0aGUgZG9jayBzdGF0ZS5cbiAgICAgICAgYXBpLm9uRGlkTGF5b3V0Q2hhbmdlKCgpID0+IHtcbiAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbiAgICAgICAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7XG4gICAgICAgICAgICBzYXZlRG9jayhpZCwgYXBpKVxuICAgICAgICAgICAgYXBpLnBhbmVscy5tYXAoKHBhbmVsKSA9PiB7XG4gICAgICAgICAgICAgIGxldCBwYW5lID0gYCMke2lkfS0ke3BhbmVsLmlkfWA7XG4gICAgICAgICAgICAgIFNoaW55LmluaXRpYWxpemVJbnB1dHMoJChwYW5lKSk7XG4gICAgICAgICAgICAgIFNoaW55LmJpbmRBbGwoJChwYW5lKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBXaGVuIHJlc3RvcmVkLCB3ZSBuZWVkIHRvIHN5bmMgdGhlIG5ldyBzdGF0ZSBmb3IgU2hpbnlcbiAgICAgICAgYXBpLm9uRGlkTGF5b3V0RnJvbUpTT04oKCkgPT4ge1xuICAgICAgICAgIHNhdmVEb2NrKGlkLCBhcGkpXG4gICAgICAgIH0pXG5cbiAgICAgICAgYXBpLm9uRGlkTWF4aW1pemVkR3JvdXBDaGFuZ2UoKGUpID0+IHtcbiAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZScpKTtcbiAgICAgICAgfSlcblxuICAgICAgICBhcGkub25EaWRBZGRQYW5lbCgoZSkgPT4ge1xuICAgICAgICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHtcbiAgICAgICAgICAgIFNoaW55LnNldElucHV0VmFsdWUoaWQgKyAnX2FkZGVkLXBhbmVsJywgZS5pZCwgeyBwcmlvcml0eTogJ2V2ZW50JyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgYXBpLm9uRGlkUmVtb3ZlUGFuZWwoKGUpID0+IHtcbiAgICAgICAgICBpZiAoSFRNTFdpZGdldHMuc2hpbnlNb2RlKSB7XG4gICAgICAgICAgICBTaGlueS5zZXRJbnB1dFZhbHVlKGlkICsgJ19yZW1vdmVkLXBhbmVsJywgZS5pZCwgeyBwcmlvcml0eTogJ2V2ZW50JyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gSW5pdCBwYW5lbHNcbiAgICAgICAgeC5wYW5lbHMubWFwKChwYW5lbCkgPT4ge1xuICAgICAgICAgIGFkZFBhbmVsKHBhbmVsLCB4Lm1vZGUsIGFwaSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChIVE1MV2lkZ2V0cy5zaGlueU1vZGUpIHtcbiAgICAgICAgICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcihlbC5pZCArICdfYWRkLXBhbmVsJywgKHBhbmVsKSA9PiB7XG4gICAgICAgICAgICBhZGRQYW5lbChwYW5lbCwgeC5tb2RlLCBhcGkpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoZWwuaWQgKyAnX3JtLXBhbmVsJywgKGlkKSA9PiB7XG4gICAgICAgICAgICByZW1vdmVQYW5lbChpZCwgeC5tb2RlLCBhcGkpO1xuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcihlbC5pZCArICdfbW92ZS1wYW5lbCcsIChtKSA9PiB7XG4gICAgICAgICAgICBtb3ZlUGFuZWwobSwgeC5tb2RlLCBhcGkpXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKGVsLmlkICsgJ19zZWxlY3QtcGFuZWwnLCAoaWQpID0+IHtcbiAgICAgICAgICAgIHNlbGVjdFBhbmVsKGlkLCB4Lm1vZGUsIGFwaSk7XG4gICAgICAgICAgfSlcblxuICAgICAgICAgIC8vIEZvcmNlIHNhdmUgZG9ja1xuICAgICAgICAgIFNoaW55LmFkZEN1c3RvbU1lc3NhZ2VIYW5kbGVyKGVsLmlkICsgJ19zYXZlLXN0YXRlJywgKG0pID0+IHtcbiAgICAgICAgICAgIHNhdmVEb2NrKGlkLCBhcGkpXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIC8vIFJlc3RvcmUgbGF5b3V0XG4gICAgICAgICAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoZWwuaWQgKyAnX3Jlc3RvcmUtc3RhdGUnLCAobSkgPT4ge1xuICAgICAgICAgICAgLy8gQXZvaWQgZHVwbGljYXRlIGlucHV0L291dHB1dCB3YXJuaW5nIHdoZW4gcmViaW5kaW5nXG4gICAgICAgICAgICBTaGlueS51bmJpbmRBbGwoJChgIyR7aWR9IC5kb2Nrdmlldy1wYW5lbGApKVxuICAgICAgICAgICAgYXBpLmZyb21KU09OKG0pXG4gICAgICAgICAgfSlcbiAgICAgICAgICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcihlbC5pZCArICdfbW92ZS1ncm91cDInLCAobSkgPT4ge1xuICAgICAgICAgICAgbW92ZUdyb3VwMihtLCB4Lm1vZGUsIGFwaSlcbiAgICAgICAgICB9KVxuXG4gICAgICAgICAgU2hpbnkuYWRkQ3VzdG9tTWVzc2FnZUhhbmRsZXIoZWwuaWQgKyAnX21vdmUtZ3JvdXAnLCAobSkgPT4ge1xuICAgICAgICAgICAgbW92ZUdyb3VwKG0sIHgubW9kZSwgYXBpKVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBTaGlueS5hZGRDdXN0b21NZXNzYWdlSGFuZGxlcihlbC5pZCArICdfdXBkYXRlLW9wdGlvbnMnLCAobSkgPT4ge1xuICAgICAgICAgICAgaWYgKG0uaGFzT3duUHJvcGVydHkoJ3RoZW1lJykpIHtcbiAgICAgICAgICAgICAgbS50aGVtZSA9IG1hdGNoVGhlbWUobS50aGVtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcGkudXBkYXRlT3B0aW9ucyhtKTtcbiAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgIH0sXG4gICAgICBnZXRXaWRnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGFwaTtcbiAgICAgIH0sXG4gICAgICByZXNpemU6IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG5cbiAgICAgICAgLy8gVE9ETzogY29kZSB0byByZS1yZW5kZXIgdGhlIHdpZGdldCB3aXRoIGEgbmV3IHNpemVcblxuICAgICAgfVxuXG4gICAgfTtcbiAgfVxufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=